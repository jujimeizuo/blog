<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>jujimeizuo Â· Blog</title>
  
  
  <link href="https://blog.jujimeizuo.cn/atom.xml" rel="self"/>
  
  <link href="https://blog.jujimeizuo.cn/"/>
  <updated>2024-10-15T13:55:55.509Z</updated>
  <id>https://blog.jujimeizuo.cn/</id>
  
  <author>
    <name>jujimeizuo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>python é‡Œçš„ä¸€ä¸ªå¤§å‘ï¼ï¼ï¼</title>
    <link href="https://blog.jujimeizuo.cn/2024/10/15/code-way-in-python/"/>
    <id>https://blog.jujimeizuo.cn/2024/10/15/code-way-in-python/</id>
    <published>2024-10-15T13:53:10.000Z</published>
    <updated>2024-10-15T13:55:55.509Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰¾äº†ä¸€ä¸‹åˆçš„ Bugï¼Œç»“æœæ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wandb.log</span><br><span class="line">(</span><br><span class="line">    &#123;</span><br><span class="line">        key=value,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>python ä¸æ˜¯ C++ï¼Œwandb.log å•ç‹¬æˆä¸ºä¸€è¡Œä»£ç ï¼ï¼ï¼åº”è¯¥å†™æˆ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wandb.log(</span><br><span class="line">    &#123;</span><br><span class="line">        key=value,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/10/15/code-way-in-python/">https://blog.jujimeizuo.cn/2024/10/15/code-way-in-python/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ‰¾äº†ä¸€ä¸‹åˆçš„ Bugï¼Œç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;</summary>
      
    
    
    
    
    <category term="utils" scheme="https://blog.jujimeizuo.cn/tags/utils/"/>
    
  </entry>
  
  <entry>
    <title>Root-Partition Filled</title>
    <link href="https://blog.jujimeizuo.cn/2024/10/07/root-partition-filled/"/>
    <id>https://blog.jujimeizuo.cn/2024/10/07/root-partition-filled/</id>
    <published>2024-10-07T13:30:46.000Z</published>
    <updated>2024-10-07T13:35:17.017Z</updated>
    
    <content type="html"><![CDATA[<blockquote><ul><li>å½“æˆ‘åœ¨ docker å®¹å™¨å†… apt install æ—¶ï¼Œæç¤ºæ ¹åˆ†åŒºå³å°†çˆ†æ»¡ï¼Œæ‰€ä»¥æŸ¥è¯¢ç›¸å…³å†…å®¹è§£å†³é—®é¢˜ã€‚</li><li>ä»¥ä¸‹éƒ½æ˜¯åœ¨ ubuntu20.04 ä¸‹å®éªŒã€‚</li></ul></blockquote><h2 id="æŸ¥æ‰¾åŸå› "><a href="#æŸ¥æ‰¾åŸå› " class="headerlink" title="æŸ¥æ‰¾åŸå› "></a>æŸ¥æ‰¾åŸå› </h2><p>å…³äº linux çš„ç£ç›˜å‘½ä»¤ï¼Œéƒ½ä¼šä½¿ç”¨ <code>dh</code> æˆ– <code>df</code> å‘½ä»¤ï¼Œå¦‚æœè¦æ‰¾å¯¼è‡´ç£ç›˜ç©ºé—´æ»¡çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -sh /path/to/* 2&gt;/dev/null | <span class="built_in">sort</span> -hr | <span class="built_in">head</span> -10</span><br></pre></td></tr></table></figure><ol><li>å‘ç° <code>/var</code> çš„å ç©ºé—´å¤ªå¤§ï¼ŒæŸ¥è¯¢ <code>/var</code> åï¼Œå‘ç°å®ƒæ˜¯<strong>åŠ¨æ€æ•°æ®ä¿å­˜ä½ç½®ã€‚ä¸»è¦ä¿å­˜ç¼“å­˜ã€æ—¥å¿—ä»¥åŠè½¯ä»¶è¿è¡Œæ‰€äº§ç”Ÿçš„æ–‡ä»¶</strong>ï¼Œå†æ¬¡ä½¿ç”¨å‘½ä»¤ï¼ŒæŸ¥è¯¢ <code>var</code> ç›®å½•ä¸‹çš„è¾ƒå¤§ç›®å½•æˆ–æ–‡ä»¶</li><li>å‘ç°æœ‰å‡ ä¸ªç›®å½•å æ¯”éå¸¸å¤§ï¼Œ<code>lib</code>, <code>cache</code>, <code>log</code>, <code>tmp</code> ç­‰ç­‰ï¼Œ<code>cache</code> å¯ä»¥ç›´æ¥åˆ é™¤ï¼Œ<code>log</code> å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>journalctl --vacuum - time=7d</code>ï¼Œåˆ é™¤è¶…è¿‡ 7 å¤©çš„æ—§æ—¥å¿—ï¼Œç°åœ¨å…·ä½“æ¥çœ‹ <code>/var/lib</code> ç›®å½•</li><li>å‘ç° <code>/var/lib/docker</code> å  40 å¤šä¸ª Gï¼ŒåŸæ¥é•œåƒçš„ä½ç½®ä¿å­˜åœ¨è¿™ä¸ªç›®å½•ï¼Œå½“ç„¶å¾ˆå¤§ï¼Œå…·ä½“æŸ¥çœ‹ <code>overlay2</code> çš„æ€§è´¨ã€‚ç°åœ¨é’ˆå¯¹è¿™ä¸ªç›®å½•åšä¸€äº›æ“ä½œã€‚ä¸€èˆ¬ <code>/home</code> ç›®å½•éå¸¸å¤§ï¼Œæ‰€ä»¥å¦‚æœæŠŠ docker é‡Œçš„é•œåƒä½ç½®éƒ½æ”¾åœ¨ <code>/home</code> ç›®å½•ï¼Œé‚£ä¹ˆä¼šå¤§å¤§å‡å°‘æ ¹åˆ†åŒºçš„ç£ç›˜ç©ºé—´ï¼Œé‚£ä¹ˆå¼€å§‹æ“ä½œï¼</li></ol><h2 id="ä¿®æ”¹-Docker-é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®"><a href="#ä¿®æ”¹-Docker-é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®" class="headerlink" title="ä¿®æ”¹ Docker é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®"></a>ä¿®æ”¹ Docker é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®</h2><blockquote><p>ç”±äºç³»ç»Ÿåˆå§‹åˆ†åŒºçš„åŸå› ï¼Œå¯¼è‡´æ“ä½œç³»ç»Ÿä¸­å¯¹åº”æ ¹åˆ†åŒºä¸ä¼šå¤ªå¤§ï¼Œé€šè¿‡ &#x2F;var ç›®å½•ä¸ä¼šå•ç‹¬åˆ†åŒºã€‚è€Œ docker é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®æ˜¯åœ¨ <code>/var/lib/docker</code> ä¸‹ï¼Œæ˜¯ä½¿æ ¹åˆ†åŒºçˆ†ç‚¸ã€‚<br>æŸ¥çœ‹ docker å®¹å™¨å­˜æ”¾ä½ç½®ï¼š<code>sudo docker info | grep &quot;Docker Root Dir&quot;</code></p></blockquote><h3 id="ä½¿ç”¨è½¯é“¾æ¥"><a href="#ä½¿ç”¨è½¯é“¾æ¥" class="headerlink" title="ä½¿ç”¨è½¯é“¾æ¥"></a>ä½¿ç”¨è½¯é“¾æ¥</h3><p>è§£å†³é»˜è®¤å­˜å‚¨å®¹é‡ä¸è¶³çš„æƒ…å†µï¼Œæœ€ç›´æ¥ä¸”æœ€æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯æŒ‚è½½æ–°çš„åˆ†åŒºåˆ°è¯¥ç›®å½•ã€‚ä½†æ˜¯åœ¨åŸæœ‰ç³»ç»Ÿç©ºé—´ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ‰€ä»¥é‡‡ç”¨è½¯é“¾æ¥çš„æ–¹å¼ï¼Œä¿®æ”¹é•œåƒå’Œå®¹å™¨çš„å­˜æ”¾è·¯å¾„è¾¾åˆ°åŒæ ·çš„ç›®çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /var/lib/docker /path/to/docker</span><br><span class="line"><span class="built_in">ln</span> -sf /path/to/docker /var/lib/docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°"><a href="#æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°" class="headerlink" title="æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°"></a>æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°</h3><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå®¹å™¨å¯åŠ¨çš„å‚æ•° â€“graph&#x3D;&#x2F;var&#x2F;lib&#x2F;docker æ¥æŒ‡å®šé•œåƒå’Œå®¹å™¨å­˜æ”¾è·¯å¾„ã€‚</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://cloud.tencent.com/developer/article/1835999">https://cloud.tencent.com/developer/article/1835999</a></li><li><a href="https://blog.csdn.net/BigData_Mining/article/details/104921479">https://blog.csdn.net/BigData_Mining/article/details/104921479</a></li><li><a href="https://blog.csdn.net/wjciayf/article/details/50717773">https://blog.csdn.net/wjciayf/article/details/50717773</a></li><li><a href="https://www.51cto.com/article/707120.html">https://www.51cto.com/article/707120.html</a></li><li><a href="https://cloud.tencent.com/developer/article/1870764">https://cloud.tencent.com/developer/article/1870764</a></li><li><a href="https://www.cnblogs.com/loveer/p/11615627.html">https://www.cnblogs.com/loveer/p/11615627.html</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/10/07/root-partition-filled/">https://blog.jujimeizuo.cn/2024/10/07/root-partition-filled/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å½“æˆ‘åœ¨ docker å®¹å™¨å†… apt install æ—¶ï¼Œæç¤ºæ ¹åˆ†åŒºå³å°†çˆ†æ»¡ï¼Œæ‰€ä»¥æŸ¥è¯¢ç›¸å…³å†…å®¹è§£å†³é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥ä¸‹éƒ½æ˜¯åœ¨ ubuntu20.04 ä¸‹å®éªŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;</summary>
      
    
    
    
    
    <category term="linux" scheme="https://blog.jujimeizuo.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Arc Sync</title>
    <link href="https://blog.jujimeizuo.cn/2024/09/23/Arc-Sync/"/>
    <id>https://blog.jujimeizuo.cn/2024/09/23/Arc-Sync/</id>
    <published>2024-09-23T11:59:56.000Z</published>
    <updated>2024-09-23T12:33:37.317Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä½¿ç”¨ Arc å·²ç»å¿« 1 å¹´ï¼Œæœ€è¿‘æ‰å‘ç°æœ‰ Arc Sync æœ‰åœ¨ MacOSã€PCã€IOS ä¸Šçš„åŒæ­¥é—®é¢˜ï¼ˆç›®å‰ä»…åŒæ­¥ SideBarï¼Œé¥çœ‹æœªæ¥ï¼‰ã€‚<br>æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¦‚æœä½ åœ¨ work çš„æ—¶å€™ï¼Œçªç„¶è¦ç¦»å¼€å·¥ä½ï¼Œå¦‚æœæƒ³è¦åœ¨ iPhone ä¸Šç»§ç»­æŸ¥çœ‹ç”µè„‘ä¸Šçš„ç½‘é¡µï¼Œé‚£ä¹ˆä¸€èˆ¬æƒ…å†µä¸‹ä½ ä¼šé‡æ–°æœç´¢ URLï¼Œä½†æ˜¯ Arc Syncï¼Œå¯ä»¥å°†ç”µè„‘ä¸Šæ‰“å¼€çš„ç½‘é¡µç›´æ¥åŒæ­¥åˆ° iPhone ä¸Šï¼Œå¿«æ·æ–¹ä¾¿ï¼</p></blockquote><h2 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h2><ol><li>ä¸‹è½½ Arc Desktop (MacOS)ã€ClashX Pro</li><li>Clash pro ä¸­å¼€å¯<strong>å¢å¼ºæ¨¡å¼ TUN Mode</strong>ï¼ŒClashX é‡Œæ²¡æœ‰å¢å¼ºæ¨¡å¼</li></ol><center><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-mac-clashpro.jpg" width="20%"></center><ol start="3"><li>åœ¨ Arc Desktop ä¸­ç™»å½•è´¦å·ï¼Œ<code>Preferences</code> -&gt; <code>Sync SideBar</code></li></ol><center><table><tr><td><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-mac.jpg"></td><td><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-mac-sidebar.jpg" width="70%"></td></tr></table></center><h2 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h2><ol><li>ä¸‹è½½ Arc Desktop (Windows)ã€Clash for Windows</li><li>Clash for Windows ä¸­å¼€å¯<strong>å¢å¼ºæ¨¡å¼ TUN Mode</strong><ol><li>Windows æ— æ³•é¡ºåˆ©ç™»é™†ï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œ</li><li>æ—è¾¹æœ‰ä¸€ä¸ªå¹å·â—ï¸ï¼Œæç¤ºå®‰è£… service modeï¼Œ<code>service mode</code> -&gt; <code>Manage</code> -&gt; <code>Install</code></li><li>ç‚¹å‡» TUN Node å³è¾¹çš„é½¿è½® âš™ï¸ï¼Œç‚¹å‡» DNS IPv6ï¼ŒSave</li><li>é‡å¯ Arc</li></ol></li><li>åœ¨ Arc Desktop ä¸­ç™»å½•è´¦å·ï¼Œ<code>Settings</code> -&gt; <code>SideBar Sync</code></li></ol><center><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-windows.jpg" width="70%"></center><h2 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h2><ol><li>ä» App Store ä¸‹è½½ Arc Search</li><li>ç‚¹å‡»å³ä¸‹è§’ Settingsï¼Œé€‰æ‹© <code>Sync with Arc Desktop</code>ï¼Œè¾“å…¥è´¦å·å¯†ç å³å¯</li><li>ç‚¹å‡»å·¦ä¸‹è§’å³å¯çœ‹åˆ°åŒæ­¥çš„ SideBarï¼ŒåŒ…æ‹¬åŒæ—¶æ‰“å¼€çš„æ ‡ç­¾é¡µ</li><li>è®°å¾—å¼€é­”æ³•</li></ol><center><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-ios.png" width="20%"></center><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/09/23/Arc-Sync/">https://blog.jujimeizuo.cn/2024/09/23/Arc-Sync/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨ Arc å·²ç»å¿« 1 å¹´ï¼Œæœ€è¿‘æ‰å‘ç°æœ‰ Arc Sync æœ‰åœ¨ MacOSã€PCã€IOS ä¸Šçš„åŒæ­¥é—®é¢˜ï¼ˆç›®å‰ä»…åŒæ­¥ SideBarï¼Œé¥çœ‹æœªæ¥ï¼‰ã€‚&lt;br&gt;æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¦‚æœä½ åœ¨ work çš„æ—¶å€™ï¼Œçªç„¶è¦ç¦»å¼€å·¥ä½ï¼Œå¦‚æœæƒ³è¦åœ¨ iPhone ä¸Šç»§ç»­æŸ¥çœ‹</summary>
      
    
    
    
    
    <category term="utils" scheme="https://blog.jujimeizuo.cn/tags/utils/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode BitWeek 139</title>
    <link href="https://blog.jujimeizuo.cn/2024/09/15/LeetCode-BitWeek-139/"/>
    <id>https://blog.jujimeizuo.cn/2024/09/15/LeetCode-BitWeek-139/</id>
    <published>2024-09-15T00:17:12.000Z</published>
    <updated>2024-09-15T00:58:52.996Z</updated>
    
    <content type="html"><![CDATA[<h2 id="3285-æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡"><a href="#3285-æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡" class="headerlink" title="3285. æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡"></a>3285. æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">stableMountains</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>], threshold: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        stable = []</span><br><span class="line">        <span class="keyword">for</span> i, x <span class="keyword">in</span> <span class="built_in">enumerate</span>(height):</span><br><span class="line">            <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> height[i - <span class="number">1</span>] &gt; threshold:</span><br><span class="line">                stable.append(i)</span><br><span class="line">        <span class="keyword">return</span> stable</span><br></pre></td></tr></table></figure><h2 id="3286-ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„"><a href="#3286-ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„" class="headerlink" title="3286. ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„"></a>3286. ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„</h2><p>ç»å…¸ BFS + dpï¼Œè®¾ dp[x][y][h] è¡¨ç¤ºåˆ°è¾¾ (x, y) æ—¶å‰©ä½™ h è¡€é‡<strong>æ˜¯å¦è¢«èµ°è¿‡</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">findSafeWalk</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid, <span class="type">int</span> health)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(grid.<span class="built_in">size</span>());</span><br><span class="line">        <span class="type">int</span> m = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(grid[<span class="number">0</span>].<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">        <span class="type">const</span> <span class="type">static</span> std::vector&lt;<span class="type">int</span>&gt; dx &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        <span class="type">const</span> <span class="type">static</span> std::vector&lt;<span class="type">int</span>&gt; dy &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line">        std::vector&lt;std::vector&lt;std::vector&lt;<span class="type">bool</span>&gt;&gt;&gt; <span class="built_in">visited</span>(n, std::vector&lt;std::vector&lt;<span class="type">bool</span>&gt;&gt;(m, std::<span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(health + <span class="number">1</span>)));</span><br><span class="line"></span><br><span class="line">        std::queue&lt;std::array&lt;<span class="type">int</span>, 3&gt;&gt; q;</span><br><span class="line">        q.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">0</span>, health - grid[<span class="number">0</span>][<span class="number">0</span>]&#125;);</span><br><span class="line">        visited[<span class="number">0</span>][<span class="number">0</span>][health] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="keyword">auto</span> [x, y, h] = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span> (h &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x == n - <span class="number">1</span> <span class="keyword">and</span> y == m - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> nx = x + dx[i];</span><br><span class="line">        <span class="type">int</span> ny = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span> (nx &lt; <span class="number">0</span> <span class="keyword">or</span> nx &gt;= n <span class="keyword">or</span> ny &lt; <span class="number">0</span> <span class="keyword">or</span> ny &gt;= m <span class="keyword">or</span> h - grid[nx][ny] &lt;= <span class="number">0</span> <span class="keyword">or</span> visited[nx][ny][h - grid[nx][ny]]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        q.<span class="built_in">push</span>(&#123;nx, ny, h - grid[nx][ny]&#125;);</span><br><span class="line">                visited[nx][ny][h - grid[nx][ny]] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="3287-æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼"><a href="#3287-æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼" class="headerlink" title="3287. æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼"></a>3287. æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼</h2><ul><li>å‰åç¼€åˆ†è§£ + dp</li><li>è®¾ prefix_or[i][j][mask] è¡¨ç¤º 1-i ä¸ªæ•°ä¸­é€‰ j ä¸ªæ•°ï¼Œä½¿å¾—è¿™ j ä¸ªæ•°çš„æˆ–å€¼ä¸º maskã€‚</li><li>è®¾ suffix_or[i][j][mask] è¡¨ç¤º i-n ä¸ªæ•°ä¸­é€‰ j ä¸ªæ•°ï¼Œä½¿å¾—è¿™ j ä¸ªæ•°çš„æˆ–å€¼ä¸º maskã€‚</li><li>if (prefix_or[i][k][mask1] &amp;&amp; suffix_or[i + 1][k][mask2]) ans &#x3D; std::max(ans, mask1 ^ mask2)</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> STATE = <span class="number">1</span> &lt;&lt; <span class="number">7</span>;</span><br><span class="line"><span class="type">bool</span> prefix_or[<span class="number">402</span>][<span class="number">201</span>][STATE];</span><br><span class="line"><span class="type">bool</span> suffix_or[<span class="number">402</span>][<span class="number">201</span>][STATE];</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxValue</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; a, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(a.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n + <span class="number">1</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= k; j += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask = <span class="number">0</span>; mask &lt; STATE; mask += <span class="number">1</span>) &#123;</span><br><span class="line">        prefix_or[i][j][mask] = suffix_or[i][j][mask] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        prefix_or[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        suffix_or[n + <span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n - k; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= std::<span class="built_in">min</span>(i, k); j += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask = <span class="number">0</span>; mask &lt; STATE; mask += <span class="number">1</span>) &#123;</span><br><span class="line">    prefix_or[i][j][mask] = prefix_or[i][j][mask] | prefix_or[i - <span class="number">1</span>][j][mask];</span><br><span class="line">        <span class="keyword">if</span> (j)</span><br><span class="line">        prefix_or[i][j][mask | a[i - <span class="number">1</span>]] = prefix_or[i][j][mask | a[i - <span class="number">1</span>]] | prefix_or[i - <span class="number">1</span>][j - <span class="number">1</span>][mask];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= k + <span class="number">1</span>; i -= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= std::<span class="built_in">min</span>(n - i + <span class="number">1</span>, k); j += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask = <span class="number">0</span>; mask &lt; STATE; mask += <span class="number">1</span>) &#123;</span><br><span class="line">        suffix_or[i][j][mask] = suffix_or[i][j][mask] | suffix_or[i + <span class="number">1</span>][j][mask];</span><br><span class="line">        <span class="keyword">if</span> (j)</span><br><span class="line">        suffix_or[i][j][mask | a[i - <span class="number">1</span>]] = suffix_or[i][j][mask | a[i - <span class="number">1</span>]] | suffix_or[i + <span class="number">1</span>][j - <span class="number">1</span>][mask];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = k; i + k &lt;= n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask1 = <span class="number">0</span>; mask1 &lt; STATE; mask1 += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!prefix_or[i][k][mask1]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask2 = <span class="number">0</span>; mask2 &lt; STATE; mask2 += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!suffix_or[i + <span class="number">1</span>][k][mask2]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    ans = std::<span class="built_in">max</span>(ans, mask1 ^ mask2);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="3288-æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦"><a href="#3288-æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦" class="headerlink" title="3288. æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦"></a>3288. æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦</h2><ul><li>äºŒç»´ LISï¼Œå…ˆæŒ‰ç…§ x ä»å°åˆ°å¤§æ’åºï¼Œå¯¹äº x ç›¸åŒçš„ç‚¹ï¼ŒæŒ‰ç…§ y ä»å¤§åˆ°å°æ’åºï¼Œä¿è¯è®¡ç®— y çš„ LIS æ—¶ï¼Œç›¸åŒçš„ x æœ€å¤šé€‰ä¸€ä¸ª yã€‚</li><li>é€‰æ‹© x &lt; kx &amp;&amp; y &lt; ky æˆ– x &gt; kx &amp;&amp; y &gt; ky çš„ç‚¹ï¼Œè®¡ç®— LISã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxPathLength</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; coordinates, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(coordinates.<span class="built_in">size</span>());</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">order</span><span class="params">(n)</span></span>;</span><br><span class="line">    std::<span class="built_in">iota</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        std::<span class="built_in">sort</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), [&amp;](<span class="type">int</span> i, <span class="type">int</span> j) &#123;</span><br><span class="line">        <span class="keyword">if</span> (coordinates[i][<span class="number">0</span>] == coordinates[j][<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> coordinates[i][<span class="number">1</span>] &gt; coordinates[j][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> coordinates[i][<span class="number">0</span>] &lt; coordinates[j][<span class="number">0</span>];</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        std::vector&lt;<span class="type">int</span>&gt; u;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((coordinates[order[i]][<span class="number">0</span>] &lt; coordinates[k][<span class="number">0</span>] <span class="keyword">and</span> coordinates[order[i]][<span class="number">1</span>] &lt; coordinates[k][<span class="number">1</span>]) </span><br><span class="line">        <span class="built_in">or</span> (coordinates[order[i]][<span class="number">0</span>] &gt; coordinates[k][<span class="number">0</span>] <span class="keyword">and</span> coordinates[order[i]][<span class="number">1</span>] &gt; coordinates[k][<span class="number">1</span>])) &#123;</span><br><span class="line">        <span class="keyword">auto</span> it = std::<span class="built_in">lower_bound</span>(u.<span class="built_in">begin</span>(), u.<span class="built_in">end</span>(), coordinates[order[i]][<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (it == u.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        u.<span class="built_in">push_back</span>(coordinates[order[i]][<span class="number">1</span>]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        *it = coordinates[order[i]][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) u.<span class="built_in">size</span>() + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/09/15/LeetCode-BitWeek-139/">https://blog.jujimeizuo.cn/2024/09/15/LeetCode-BitWeek-139/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;3285-æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡&quot;&gt;&lt;a href=&quot;#3285-æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡&quot; class=&quot;headerlink&quot; title=&quot;3285. æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡&quot;&gt;&lt;/a&gt;3285. æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡&lt;/h2&gt;&lt;figure class=&quot;highlight py</summary>
      
    
    
    
    
    <category term="ACM" scheme="https://blog.jujimeizuo.cn/tags/ACM/"/>
    
  </entry>
  
  <entry>
    <title>Linux æƒé™é—®é¢˜</title>
    <link href="https://blog.jujimeizuo.cn/2024/06/05/Linux-%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/"/>
    <id>https://blog.jujimeizuo.cn/2024/06/05/Linux-%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/</id>
    <published>2024-06-05T07:02:08.000Z</published>
    <updated>2024-06-05T07:15:34.465Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>Linux ç³»ç»Ÿä¸Šå¯¹æ–‡ä»¶çš„æƒé™æœ‰ç€ä¸¥æ ¼çš„æ§åˆ¶ï¼Œå¦‚æœæƒ³å¯¹æŸä¸ªæ–‡ä»¶æ‰§è¡ŒæŸç§æ“ä½œï¼Œå¿…é¡»å…·æœ‰å¯¹åº”çš„æƒé™æ–¹å¯æ‰§è¡ŒæˆåŠŸã€‚</li><li>Linux ä¸‹æ–‡ä»¶çš„æƒé™ç±»å‹ä¸€èˆ¬åŒ…æ‹¬è¯»ï¼Œå†™ï¼Œæ‰§è¡Œã€‚å¯¹åº”å­—æ¯ä¸º rã€wã€xã€‚</li><li>Linux ä¸‹æƒé™çš„ç²’åº¦æœ‰<strong>æ‹¥æœ‰è€…</strong>ã€<strong>ç¾¤ç»„</strong>ã€<strong>å…¶å®ƒç»„</strong>ä¸‰ç§ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½å¯ä»¥é’ˆå¯¹ä¸‰ä¸ªç²’åº¦ï¼Œè®¾ç½®ä¸åŒçš„ rwx (è¯»å†™æ‰§è¡Œ)æƒé™ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ–‡ä»¶åªèƒ½å½’å±äºä¸€ä¸ªç”¨æˆ·å’Œç»„ï¼Œå¦‚æœå…¶å®ƒçš„ç”¨æˆ·æƒ³æœ‰è¿™ä¸ªæ–‡ä»¶çš„æƒé™ï¼Œåˆ™å¯ä»¥å°†è¯¥ç”¨æˆ·åŠ å…¥å…·å¤‡æƒé™çš„ç¾¤ç»„ï¼Œä¸€ä¸ªç”¨æˆ·å¯ä»¥åŒæ—¶å½’å±äºå¤šä¸ªç»„ã€‚</li><li>Linux ä¸Šé€šå¸¸ä½¿ç”¨ chmod å‘½ä»¤å¯¹æ–‡ä»¶çš„æƒé™è¿›è¡Œè®¾ç½®å’Œæ›´æ”¹ã€‚</li></ul><h2 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h2><blockquote><p>æ›´æ”¹æ–‡ä»¶æƒé™ï¼Œ<code>chmod [Option] &lt;mode&gt; &lt;file...&gt;</code></p></blockquote><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">å‚æ•°è¯´æ˜ï¼š</span><br><span class="line"> </span><br><span class="line">[Option]</span><br><span class="line">  -c, --changes          like verbose but report only when a change is made (è‹¥è¯¥æ¡£æ¡ˆæƒé™ç¡®å®å·²ç»æ›´æ”¹ï¼Œæ‰æ˜¾ç¤ºå…¶æ›´æ”¹åŠ¨ä½œ)</span><br><span class="line">  -f, --silent, --quiet  suppress most error messages  ï¼ˆè‹¥è¯¥æ¡£æ¡ˆæƒé™æ— æ³•è¢«æ›´æ”¹ä¹Ÿä¸è¦æ˜¾ç¤ºé”™è¯¯è®¯æ¯ï¼‰</span><br><span class="line">  -v, --verbose          output a diagnostic for every file processedï¼ˆæ˜¾ç¤ºæƒé™å˜æ›´çš„è¯¦ç»†èµ„æ–™ï¼‰</span><br><span class="line">       --no-preserve-root  do not treat &#x27;/&#x27; specially (the default)</span><br><span class="line">       --preserve-root    fail to operate recursively on &#x27;/&#x27;</span><br><span class="line">       --reference=RFILE  use RFILE&#x27;s mode instead of MODE values</span><br><span class="line">  -R, --recursive        change files and directories recursively ï¼ˆä»¥é€’å½’çš„æ–¹å¼å¯¹ç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ¡£æ¡ˆä¸å­ç›®å½•è¿›è¡Œç›¸åŒçš„æƒé™å˜æ›´)</span><br><span class="line">       --helpæ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯</span><br><span class="line">       --versionæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line">[mode] </span><br><span class="line">    æƒé™è®¾å®šå­—ä¸²ï¼Œè¯¦ç»†æ ¼å¼å¦‚ä¸‹ ï¼š</span><br><span class="line">    [ugoa...][[+-=][rwxX]...][,...]ï¼Œ</span><br><span class="line">    å…¶ä¸­</span><br><span class="line">    [ugoa...]</span><br><span class="line">    u è¡¨ç¤ºè¯¥æ¡£æ¡ˆçš„æ‹¥æœ‰è€…ï¼Œg è¡¨ç¤ºä¸è¯¥æ¡£æ¡ˆçš„æ‹¥æœ‰è€…å±äºåŒä¸€ä¸ªç¾¤ä½“(group)è€…ï¼Œo è¡¨ç¤ºå…¶ä»–ä»¥å¤–çš„äººï¼Œa è¡¨ç¤ºæ‰€æœ‰ï¼ˆåŒ…å«ä¸Šé¢ä¸‰è€…ï¼‰ã€‚</span><br><span class="line">    [+-=]</span><br><span class="line">    + è¡¨ç¤ºå¢åŠ æƒé™ï¼Œ- è¡¨ç¤ºå–æ¶ˆæƒé™ï¼Œ= è¡¨ç¤ºå”¯ä¸€è®¾å®šæƒé™ã€‚</span><br><span class="line">    [rwxX]</span><br><span class="line">    r è¡¨ç¤ºå¯è¯»å–ï¼Œw è¡¨ç¤ºå¯å†™å…¥ï¼Œx è¡¨ç¤ºå¯æ‰§è¡Œï¼ŒX è¡¨ç¤ºåªæœ‰å½“è¯¥æ¡£æ¡ˆæ˜¯ä¸ªå­ç›®å½•æˆ–è€…è¯¥æ¡£æ¡ˆå·²ç»è¢«è®¾å®šè¿‡ä¸ºå¯æ‰§è¡Œã€‚</span><br><span class="line"> </span><br><span class="line">[file...]</span><br><span class="line">    æ–‡ä»¶åˆ—è¡¨ï¼ˆå•ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶ã€æ–‡ä»¶å¤¹ï¼‰</span><br></pre></td></tr></table></figure><h3 id="rwx"><a href="#rwx" class="headerlink" title="rwx"></a>rwx</h3><p>æ•°å­—å¯ä»¥è¡¨ç¤ºæƒé™ï¼Œè§„å®šæ•°å­— 4ã€2ã€1 åˆ†åˆ«è¡¨ç¤ºè¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼Œå³ r&#x3D;4ï¼Œw&#x3D;2ï¼Œx&#x3D;1ã€‚ä¾‹å¦‚ç»å¸¸çœ‹åˆ°çš„ 777 å°±æ˜¯ rwxrwxrwxã€‚</p><p>ç”¨æ•°å­—æƒé™æ›´æ”¹æ ¼å¼ï¼š<code>chmod &lt;abc&gt; file...</code></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å…¶ä¸­</span><br><span class="line">a,b,cå„ä¸ºä¸€ä¸ªæ•°å­—ï¼Œåˆ†åˆ«ä»£è¡¨Userã€Groupã€åŠOtherçš„æƒé™ã€‚</span><br><span class="line">ç›¸å½“äºç®€åŒ–ç‰ˆçš„</span><br><span class="line">chmod u=æƒé™,g=æƒé™,o=æƒé™ file...</span><br><span class="line">è€Œæ­¤å¤„çš„æƒé™å°†ç”¨8è¿›åˆ¶çš„æ•°å­—æ¥è¡¨ç¤ºUserã€Groupã€åŠOtherçš„è¯»ã€å†™ã€æ‰§è¡Œæƒé™</span><br></pre></td></tr></table></figure><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-rw------- (600)    åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»å†™æƒé™ã€‚</span><br><span class="line">-rw-r--r-- (644)    åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»å†™æƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»æƒé™ã€‚</span><br><span class="line">-rwx------ (700)    åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚</span><br><span class="line">-rwxr-xr-x (755)    æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»ã€æ‰§è¡Œæƒé™ã€‚</span><br><span class="line">-rwx--x--x (711)    æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰æ‰§è¡Œæƒé™ã€‚</span><br><span class="line">-rw-rw-rw- (666)    æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰æ–‡ä»¶è¯»ã€å†™æƒé™ã€‚</span><br><span class="line">-rwxrwxrwx (777)    æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚</span><br></pre></td></tr></table></figure><h2 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h2><blockquote><p>æ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…ï¼Œ<code>chown [Option] user[:group] file...</code></p></blockquote><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨æƒé™ï¼šroot</span><br><span class="line"> </span><br><span class="line">è¯´æ˜ï¼š</span><br><span class="line">[Option] : åŒä¸Šæ–‡chmod</span><br><span class="line">user : æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€…çš„ä½¿ç”¨è€… </span><br><span class="line">group : æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€…çš„ä½¿ç”¨è€…ç¾¤ä½“(group)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚åœ¨æ™®é€šç”¨æˆ·ä¸‹ä¼šç»å¸¸çœ‹åˆ°æŸäº›æ–‡ä»¶å¤¹&#x2F;æ–‡ä»¶â€œ<strong>ä¸Šé”</strong>â€ã€‚</p><p>å¦‚æœç”¨ <code>sudo chmod -R 777</code>ï¼Œé€’å½’å°†æ‰€æœ‰æ–‡ä»¶æ›´æ”¹æƒé™ï¼Œå½“ç„¶èƒ½è§£é”ï¼Œä½†æ˜¯ä¼šæœ‰å¾ˆå¤§å±é™©ã€‚<br>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨ chownï¼Œå°†æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„æ‹¥æœ‰è€…æ›´æ”¹ä¸ºä»»æ„ç”¨æˆ·ï¼Œå³å¯è§£é”ğŸ”“ã€‚</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://blog.csdn.net/u013197629/article/details/73608613">Linuxæƒé™è¯¦è§£ï¼ˆchmodã€600ã€644ã€700ã€711ã€755ã€777ã€4755ã€6755ã€7755ï¼‰</a></li><li><a href="https://www.cnblogs.com/guojiaxue/p/13084253.html">å»é™¤Ubuntuæ–‡ä»¶å¤¹æœ‰é”æ ‡å¿—çš„æ–¹æ³•ï¼ˆåŒ…å«ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶è§£é”ï¼‰</a></li><li><a href="https://blog.csdn.net/weixin_44260459/article/details/122713532">Ubuntuç³»ç»Ÿä¸‹æ–‡ä»¶å¸¦å°é”å¦‚ä½•è§£å†³</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/06/05/Linux-%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/">https://blog.jujimeizuo.cn/2024/06/05/Linux-æƒé™é—®é¢˜/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Linux ç³»ç»Ÿä¸Šå¯¹æ–‡ä»¶çš„æƒé™æœ‰ç€ä¸¥æ ¼çš„æ§åˆ¶ï¼Œå¦‚</summary>
      
    
    
    
    
    <category term="Linux" scheme="https://blog.jujimeizuo.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Visual SLAM and SfM in Dynamic Environments: A Survey</title>
    <link href="https://blog.jujimeizuo.cn/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/"/>
    <id>https://blog.jujimeizuo.cn/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/</id>
    <published>2024-05-27T01:03:02.000Z</published>
    <updated>2024-05-30T00:23:27.510Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><blockquote><p>æœ¬æ–‡ä»‹ç» <strong>VSLAM</strong> å’Œ <strong>SfM</strong> åœ¨<strong>åŠ¨æ€ç¯å¢ƒ</strong>ä¸‹ç›®å‰æ‰€æœ‰æŠ€æœ¯ç›¸å…³çš„ç»¼è¿°ã€‚</p></blockquote><p>å›é¡¾åŠ¨æ€ç¯å¢ƒä¸­çš„è§†è§‰å®šä½å’Œ 3D é‡å»ºæŠ€æœ¯ï¼š</p><ul><li>æ¶µç›–ä¸‰ä¸ªä¸»è¦é—®é¢˜ï¼š<ol><li>å¦‚ä½•åšå¥½é²æ£’ VSLAM</li><li>å¦‚ä½•åœ¨ 3D ä¸­åˆ†å‰²å’Œè·Ÿè¸ªåŠ¨æ€ç‰©ä½“</li><li>å¦‚ä½•å®ç°è”åˆè¿åŠ¨åˆ†å‰²å’Œé‡å»º</li></ol></li><li>ä»ä¸¤ä¸ªè§’åº¦æ¥çœ‹ï¼š<ol><li>ä½œä¸ºä¸€ä¸ªé²æ£’æ€§é—®é¢˜ï¼šç›¸æœºå‰çš„åŠ¨æ€ç‰©ä½“å¯¼è‡´é”™è¯¯çš„å¯¹åº”å…³ç³»ï¼ˆé®æŒ¡ç­‰ï¼‰ï¼Œå¯ä»¥é€šè¿‡åˆ†å‰²å›¾åƒä¸­é™æ€å’ŒåŠ¨æ€ç‰¹å¾ï¼Œå°†åŠ¨æ€éƒ¨åˆ†è§†ä¸ºå¼‚å¸¸å€¼æ¥å®ç°é²æ£’æ€§ï¼Œåªç”¨é™æ€éƒ¨åˆ†è®¡ç®—å§¿æ€ä¼°è®¡ã€‚</li><li>ä½œä¸ºä¸€ä¸ªæ ‡å‡† VSLAM åœ¨åŠ¨æ€ç¯å¢ƒä¸­çš„æ‰©å±•ï¼šå°†è·Ÿè¸ªçš„ç‰¹å¾åˆ†å‰²æˆä¸åŒçš„ç°‡ï¼Œå¯ä»¥é‡å»ºæ¯ä¸ªç‰©ä½“ç»“æ„ï¼ˆå½¢çŠ¶ï¼‰å¹¶è·Ÿè¸ªè½¨è¿¹ï¼Œç”šè‡³å¯ä»¥å°†åŠ¨æ€ç‰©ä½“æ’å…¥é™æ€åœ°å›¾ä¸­ã€‚</li></ol></li><li>ç°æœ‰å¤§è‡´ä¸‰ç§æ€è·¯ï¼ˆåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªä¸»è¦é—®é¢˜ï¼‰ï¼š<ol><li>æ’é™¤åŠ¨æ€ç‰¹å¾æ¥æ„å»ºé™æ€åœ°å›¾</li><li>æå–åŠ¨æ€ç‰©ä½“è€Œå¿½ç•¥é™æ€èƒŒæ™¯</li><li>è¯•å›¾åŒæ—¶å¤„ç†ä¸–ç•Œä¸­é™æ€å’ŒåŠ¨æ€çš„ç»„æˆæˆåˆ†</li></ol></li></ul><h2 id="ç»¼è¿°ç»“æ„"><a href="#ç»¼è¿°ç»“æ„" class="headerlink" title="ç»¼è¿°ç»“æ„"></a>ç»¼è¿°ç»“æ„</h2><ul><li>é²æ£’ VSLAM<ol><li>è¿åŠ¨åˆ†å‰²<ol><li>èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–</li><li>å‡ ä½•çº¦æŸ</li><li>å…‰æµ</li><li>è‡ªæˆ‘è¿åŠ¨çº¦æŸ</li><li>æ·±åº¦å­¦ä¹ </li></ol></li><li>å®šä½ä¸ 3D é‡å»º<ol><li>åŸºäºç‰¹å¾</li><li>æ·±åº¦å­¦ä¹ </li></ol></li></ol></li><li>åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸ 3D è·Ÿè¸ª<ol><li>åŠ¨æ€ç‰©ä½“åˆ†å‰²<ol><li>ç»Ÿè®¡æ¨¡å‹é€‰æ‹©</li><li>å­ç©ºé—´èšç±»</li><li>å‡ ä½•</li><li>æ·±åº¦å­¦ä¹ </li></ol></li><li>åŠ¨æ€ç‰©ä½“çš„ 3D è·Ÿè¸ª<ol><li>è½¨è¿¹ä¸‰è§’æµ‹é‡</li><li>ç²’å­æ»¤æ³¢</li></ol></li></ol></li><li>è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º<ol><li>å› å­åˆ†è§£<ol><li>å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰</li><li>éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰</li></ol></li></ol></li></ul><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-1.jpg"></center><h2 id="é²æ£’-VSLAM"><a href="#é²æ£’-VSLAM" class="headerlink" title="é²æ£’ VSLAM"></a>é²æ£’ VSLAM</h2><blockquote><p>å¦‚æœä»…åŸºäºé™æ€ç‰¹å¾è®¡ç®—å§¿æ€ä¼°è®¡ï¼Œå°±å¯ä»¥åœ¨åŠ¨æ€ç¯å¢ƒä¸­å®ç° Robust VSLAMã€‚</p></blockquote><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-2.jpg"></center><h3 id="è¿åŠ¨åˆ†å‰²"><a href="#è¿åŠ¨åˆ†å‰²" class="headerlink" title="è¿åŠ¨åˆ†å‰²"></a>è¿åŠ¨åˆ†å‰²</h3><blockquote><p>å°†ç‰¹å¾åˆ†ä¸ºä¸¤ä¸ªä¸åŒçš„ç»„ï¼Œå³é™æ€ç‰¹å¾å’ŒåŠ¨æ€ç‰¹å¾ï¼Œæ¥æ£€æµ‹å›¾åƒä¸­çš„åŠ¨æ€éƒ¨åˆ†ã€‚</p></blockquote><p>æ ‡å‡†çš„ VSLAM ä½¿ç”¨ <strong>è®¡ç®—å‡ ä½•æ¨¡å‹ï¼ˆåŸºç¡€&#x2F;å•åº”çŸ©é˜µï¼‰</strong>ã€<strong>RANSAC</strong>ã€<strong>è¾›æ™®æ£®è·ç¦»</strong> ç­‰å»é™¤åŠ¨æ€ç‰¹å¾ç‚¹ã€‚</p><ul><li>å¦‚æœé™æ€ç‰¹å¾å å¤šæ•°ï¼Œæ•ˆæœä¼šå¾ˆå¥½ã€‚</li><li>å¦‚æœç›¸æœºå‰çš„åŠ¨æ€ç‰©ä½“å æ®è¾ƒå¤§ï¼Œæ•ˆæœä¸å¥½ï¼Œå…¶ä»–æ–¹æ³•å¯ä»¥åˆ©ç”¨ <strong>IMU</strong> ä¼°è®¡ç›¸æœºçš„è‡ªæˆ‘è¿åŠ¨æ¥è§£å†³ã€‚</li></ul><h4 id="èƒŒæ™¯-å‰æ™¯åˆå§‹åŒ–"><a href="#èƒŒæ™¯-å‰æ™¯åˆå§‹åŒ–" class="headerlink" title="èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–"></a>èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–</h4><p>å‡è®¾ç³»ç»Ÿå¯¹ç¯å¢ƒæœ‰<strong>å…ˆéªŒçŸ¥è¯†</strong>ï¼Œå¯ä»¥åˆ©ç”¨è¯¥ä¿¡æ¯æ¥åˆ†å‰²ã€‚è¿™ç§å…ˆéªŒçŸ¥è¯†å¯ä»¥é™„åŠ åˆ°èƒŒæ™¯æˆ–å‰æ™¯å¯¹è±¡ä¸Šã€‚å¦‚æœä¿¡æ¯æ˜¯å…³äºå‰æ™¯å¯¹è±¡çš„ï¼Œåˆ™ç³»ç»ŸçŸ¥é“åœ¨ç›¸æœºå‰ç§»åŠ¨çš„å¯¹è±¡çš„ç±»å‹æˆ–å½¢çŠ¶ã€‚</p><h4 id="å‡ ä½•çº¦æŸ"><a href="#å‡ ä½•çº¦æŸ" class="headerlink" title="å‡ ä½•çº¦æŸ"></a>å‡ ä½•çº¦æŸ</h4><p>åˆ©ç”¨å¯¹æå‡ ä½•ç‰¹æ€§æ¥åˆ†å‰²é™æ€å’ŒåŠ¨æ€ç‰¹å¾ã€‚åŠ¨æ€ç‰¹å¾è¿åé™æ€åœºæ™¯ä¸­åœ¨å¤šè§†å›¾å‡ ä½•ä¸­å®šä¹‰çš„çº¦æŸï¼Œå¯ä»¥ä»<strong>å¯¹ææ–¹ç¨‹</strong>ã€<strong>ä¸‰è§’æµ‹é‡</strong>ã€<strong>åŸºç¡€çŸ©é˜µ</strong>ä¼°è®¡æˆ–<strong>é‡æŠ•å½±è¯¯å·®</strong>ä¸­æ¨å¯¼å‡ºã€‚</p><h4 id="å…‰æµ"><a href="#å…‰æµ" class="headerlink" title="å…‰æµ"></a>å…‰æµ</h4><p>å…‰æµå®šä¹‰äº†ä»ä¸¤ä¸ªè¿ç»­å›¾åƒè®¡ç®—å¾—å‡ºçš„äº®åº¦æ¨¡å¼çš„è¡¨è§‚è¿åŠ¨ï¼Œå¯¹åº”äºå›¾åƒä¸­çš„è¿åŠ¨åœºï¼Œåˆ©ç”¨å›¾å‰²ç®—æ³•åŸºäºè¯¥è¿åŠ¨åº¦é‡æ¥åˆ†å‰²åŠ¨æ€ç‰©ä½“ã€‚è¿˜æœ‰ <strong>3D ç‰ˆæœ¬çš„åœºæ™¯æµ</strong>ã€‚</p><h4 id="è‡ªæˆ‘è¿åŠ¨çº¦æŸ"><a href="#è‡ªæˆ‘è¿åŠ¨çº¦æŸ" class="headerlink" title="è‡ªæˆ‘è¿åŠ¨çº¦æŸ"></a>è‡ªæˆ‘è¿åŠ¨çº¦æŸ</h4><p>æ ‡å‡†çš„ SfM å’Œ VSLAM é€šè¿‡<strong>å…«ç‚¹æ³•</strong>æˆ–<strong>äº”ç‚¹æ³•</strong>æ¥è®¡ç®—ç›¸æœºè¿åŠ¨ã€‚å¦ä¸€ç§æ–¹æ³•å‡è®¾ç›¸æœºæ ¹æ®ç»™å®šçš„å¤–éƒ¨ä¿¡æ¯ï¼ˆe.g. è½¦è½®é‡Œç¨‹è®¡ä¿¡æ¯ï¼‰æŒ‰ç…§ç‰¹å®šçš„å‚æ•°åŒ–è¿›è¡Œç§»åŠ¨ã€‚é€šè¿‡è¿™ç§å¼ºåˆ¶è‡ªæˆ‘è¿åŠ¨çº¦æŸï¼Œå¯ä»¥æ‹Ÿåˆä¸ç›¸æœºè¿åŠ¨çº¦æŸç›¸åŒ¹é…çš„ç‰¹å¾ç‚¹æ¥å¯¹é™æ€ç‰¹å¾è¿›è¡Œåˆ†ç±»ã€‚</p><h4 id="æ·±åº¦å­¦ä¹ "><a href="#æ·±åº¦å­¦ä¹ " class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h4><p>ä»åŸºäºç‰¹å¾çš„è¿åŠ¨åˆ†å‰²ä¸­ï¼Œä¸Šè¿°å¯ä»¥åˆ©ç”¨å…‰æµæ¥åˆ†å‰²åŠ¨æ€ç‰©ä½“ã€‚æ‰€ä»¥å¯ä»¥<strong>é€šè¿‡ç›‘ç£å­¦ä¹ æ¥ä¼°è®¡å…‰æµ</strong>ã€‚</p><ol><li><strong>FlowNetS</strong>ï¼šé€šè¿‡å°†ä¸¤å¼ è¿ç»­å›¾åƒå †å ä½œä¸º CNN çš„è¾“å…¥</li><li><strong>FlowNetC</strong>ï¼šé€šè¿‡å¼•å…¥ä¸€ä¸ªç›¸å…³å±‚æ¥æ¯”è¾ƒç”±ä¸¤ä¸ªç›¸åŒ CNN æµå¾—åˆ°çš„ä¸¤ä¸ªç‰¹å¾å›¾</li><li><strong>FlowNet 2.0</strong>:å°†  <strong>FlowNetS</strong> å’Œ <strong>FlowNetC</strong> å †å æˆä¸€ä¸ªæ›´æ·±çš„ç½‘ç»œï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæ–°çš„å¹¶è¡Œç½‘ç»œæ¥å¤„ç†å°ä½ç§»</li><li>ä½¿ç”¨ç«‹ä½“å›¾åƒè¿›è¡Œåœºæ™¯æµä¼°è®¡çš„æ‰©å±•ï¼Œè¿™ç§å…‰æµå¯ä»¥è¾“å…¥åˆ°ä¸€ä¸ªæ›´æ·±çš„ç½‘ç»œä¸­ä»¥å‘ç°è¿åŠ¨ç‰¹å¾</li><li>åœ¨å›¾åƒç©ºé—´ä¸­æ˜ç¡®åˆ†å‰²åŠ¨æ€ç‰©ä½“ï¼Œé‡‡ç”¨é‡å»ºç‹¬ç«‹æˆåˆ†åˆ†æè‡ªç¼–ç å™¨æ¥å­¦ä¹ æ—¶ç©ºç‰¹å¾ã€‚ç„¶è€Œï¼Œç”±äºæ—¶ç©ºç‰¹å¾æ— æ³•å­¦ä¹ è¿åŠ¨çš„ 3D å‡ ä½•å½¢çŠ¶ï¼Œå› æ­¤ä»ç„¶ä½¿ç”¨å‡ ä½•ç‰¹å¾æ¥å¸®åŠ©åˆ†å‰²è¿åŠ¨ã€‚å‡ ä½•å’Œæ—¶ç©ºç‰¹å¾éƒ½è¢«è¾“å…¥åˆ° RNN ä¸­ï¼Œä»¥è¿›è¡Œæœ€ç»ˆçš„è¿åŠ¨åˆ†å‰²</li><li>é€šè¿‡å›å½’ç»™å®šçš„ RGB å›¾åƒå’Œå…‰æµçš„ç›®æ ‡æ€§çš„ç²‰æ¥åˆ†å‰²åŠ¨æ€ç‰©ä½“ã€‚æ„å»ºä¸¤ä¸ªç±»ä¼¼ AlexNet çš„å¹¶è¡Œ CNNï¼Œå¤„ç† RGB å›¾åƒå’Œå…‰æµï¼Œç„¶åè¾“å…¥åˆ°å›å½’ç½‘ç»œå¹¶ç”Ÿæˆè¿åŠ¨</li><li><strong>R-FCN</strong>ï¼šä»åœ¨çº¿å›¾åƒåºåˆ—ä¸­åˆ†å‰²å‰æ™¯è¿åŠ¨æ—¶ç»“åˆå®è·µæ•°æ®ï¼Œ<strong>FCN</strong> ç”¨äºå­¦ä¹ ç©ºé—´ç‰¹å¾å¹¶ç”Ÿæˆåƒç´ ç¨ å¯†é¢„æµ‹ï¼Œä½†åœ¨åº”ç”¨åå·ç§¯ä¹‹å‰ï¼Œä½¿ç”¨ <strong>GRU</strong> æ¥å»ºæ¨¡æ—¶é—´ç‰¹å¾ã€‚</li></ol><h3 id="å®šä½ä¸-3D-é‡å»º"><a href="#å®šä½ä¸-3D-é‡å»º" class="headerlink" title="å®šä½ä¸ 3D é‡å»º"></a>å®šä½ä¸ 3D é‡å»º</h3><blockquote><p>ä»å¤šå¼ å›¾åƒä¸­ä¼°è®¡ç›¸å¯¹ç›¸æœºå§¿æ€ï¼ˆå¹³ç§»å’Œæ—‹è½¬ï¼‰ä»¥åŠæ‰€è§‚å¯Ÿç¯å¢ƒçš„ 3D ç»“æ„ã€‚</p></blockquote><ul><li>åŸºäºç‰¹å¾</li><li>åŸºäºæ·±åº¦å­¦ä¹ </li></ul><h4 id="åŸºäºç‰¹å¾"><a href="#åŸºäºç‰¹å¾" class="headerlink" title="åŸºäºç‰¹å¾"></a>åŸºäºç‰¹å¾</h4><p>åœ¨åŸºäºç‰¹å¾çš„ VSLAM ä¸­ï¼Œæå–æ˜¾è‘—ç‰¹å¾æ¥è§£å†³å›¾åƒå¯¹åº”é—®é¢˜ã€‚ç°æœ‰çš„ç‰¹å¾æå–æŠ€æœ¯ï¼š</p><ol><li>Harris</li><li>SIFT</li><li>SURF</li><li>FAST</li></ol><p>ä¸ºæ‰¾åˆ°å¯¹åº”å…³ç³»ï¼Œä½¿ç”¨ç‰¹å¾åŒ¹é…ã€‚æ ¹æ®ä¸¤ä¸ªç›¸æœºçš„å…‰å¿ƒä¹‹é—´çš„è·ç¦»ï¼ˆåŸºçº¿&#x2F;è§†å·®ï¼‰åˆ†å¼€çš„ç¨‹åº¦æ¥åˆ’åˆ†ã€‚</p><ul><li>åŸºäºçŸ­åŸºçº¿ï¼šå¯ä»¥ç”¨åŸºäºå…‰æµçš„æŠ€æœ¯è¿›è¡ŒåŒ¹é…</li><li>å¯¹äºé•¿åŸºçº¿ï¼šéœ€è¦æœ‰é«˜åº¦åŒºåˆ†åº¦çš„ç‰¹å¾æè¿°å­ï¼Œä¾‹å¦‚ <strong>SIFT</strong>ã€<strong>SURF</strong>ã€<strong>BRIEF</strong>ã€<strong>BRISK</strong> ç­‰ï¼Œé€šè¿‡è®¡ç®—è¿™äº›æè¿°å­ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§æ¥æ‰¾åˆ°å¯¹åº”å…³ç³»ï¼Œå½“æ•°æ®åŒ…å«å¼‚å¸¸å€¼æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <strong>RANSAC</strong>ã€<strong>PROSAC</strong>ã€<strong>MLESAC</strong> ç­‰æ’é™¤å¼‚å¸¸å€¼ã€‚</li></ul><p>å½“å›¾åƒå¯¹åº”å…³ç³»å·²çŸ¥ï¼Œ2-3 å¼ å›¾åƒä¹‹é—´çš„ç›¸å¯¹ä½å§¿å¯ä»¥æ¢å¤åˆ°ä¸€ä¸ªæ¯”ä¾‹å› å­ã€‚é€šè¿‡å¯¹æçº¦æŸï¼Œ</p><ol><li>ä¸¤ä¸ªè§†å›¾ç”¨å…«ç‚¹æ³•æˆ–äº”ç‚¹æ³•</li><li>ä¸‰ä¸ªè§†å›¾ç”¨ä¸‰äº¤ç‚¹å¼ é‡</li><li>å¦‚æœå·²ç»é‡å»ºäº†åœºæ™¯çš„ä¸€äº› 3D ç‚¹ï¼Œå¯ä»¥ç”¨ P3P</li></ol><p>å½“ç›¸æœºä½å§¿è¢«æ¢å¤æ—¶ï¼Œé€šè¿‡<strong>ä¸‰è§’æµ‹é‡</strong>å¯¹ä¸¤æ¡æŠ•å½±å°„çº¿è¿›è¡Œç›¸äº¤ï¼Œå¾—åˆ°é‡å»ºåœºæ™¯çš„ 3D ç‚¹ï¼Œä½†æ˜¯ç”±äºé”™è¯¯çš„å¯¹åº”å…³ç³»å°„çº¿å¹¶ä¸æ€»æ˜¯ç›¸äº¤ï¼Œå¯ä»¥ç”¨<strong>ä¸­ç‚¹æ³•</strong>æˆ–<strong>æœ€å°äºŒä¹˜æ³•</strong>ä¼°è®¡äº¤ç‚¹ã€‚ä¸ºäº†é¿å…æ¼‚ç§»é—®é¢˜ï¼Œç”¨ <strong>BA</strong> é€šè¿‡æœ€å°åŒ–é‡æŠ•å½±è¯¯å·®æ¥åŒæ—¶ç›¸æœºä½å§¿å’Œ 3D ç‚¹ã€‚å¦ä¸€ç§é«˜æ–¯-ç‰›é¡¿æ–¹æ³•çš„å˜ä½“ <strong>LM</strong> ä¼˜åŒ–ã€‚æ˜¯è”åˆä¼˜åŒ–åœºæ™¯ç»“æ„å’Œç›¸æœºè¿åŠ¨çš„ä¸»æµæ–¹æ³•ã€‚</p><p>å®é™…ä¸Šï¼Œæœ‰äººé‡‡ç”¨<strong>å±€éƒ¨ BA</strong> ä¼˜åŒ–æœ€åå‡ å¼ å›¾åƒï¼Œæ¯”å¦‚ ORB-SLAM ä¸­å°±ç”¨åˆ°äº†ã€‚</p><h4 id="åŸºäºæ·±åº¦å­¦ä¹ "><a href="#åŸºäºæ·±åº¦å­¦ä¹ " class="headerlink" title="åŸºäºæ·±åº¦å­¦ä¹ "></a>åŸºäºæ·±åº¦å­¦ä¹ </h4><p>ä¸¤ç§ä¸»æµçš„æ–¹æ³•ï¼š</p><ol><li>æœ‰ç›‘ç£å­¦ä¹ </li></ol><p>ç›‘ç£å­¦ä¹ é€šè¿‡æœ€å°åŒ–ä¸çœŸå®å§¿æ€ç›¸æ¯”åœ¨é¢„æµ‹è‡ªæˆ‘è¿åŠ¨æ—¶çš„è¯¯å·®æ¥è®­ç»ƒ CNNã€‚åœ¨æ—©æœŸå·¥ä½œä¸­ï¼Œå§¿æ€ä¼°è®¡è¢«è§†ä¸ºåœ¨ç›¸æœºå¹³ç§»å’Œæ—‹è½¬çš„ç¦»æ•£ç©ºé—´ä¸Šçš„<strong>åˆ†ç±»é—®é¢˜</strong>ã€‚ä½†è¿‘æœŸå§¿æ€ä¼°è®¡æŠ€æœ¯éƒ½é‡‡ç”¨åŸºäº<strong>å›å½’</strong>çš„ CNNã€‚ç”±äºé¢„æµ‹çš„è¿ç»­æ€§ï¼Œå›å½’æ¯”åˆ†ç±»æ›´å‡†ç¡®ã€‚</p><p>åœ¨å›å½’è§†è§‰é‡Œç¨‹è®¡é—®é¢˜ä¸­ï¼Œç›®æ ‡æ£€æµ‹å’Œåˆ†ç±»çš„é¢„è®­ç»ƒå·æœºæ›¾ä¸é€‚ç”¨ï¼Œåç»­è½¬å‘åŸºäºå…‰æµçš„ç½‘ç»œä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­æ³›åŒ–å­¦ä¹ åˆ°çš„å‚æ•°ã€‚</p><ul><li><strong>Flowdometry</strong>ï¼šç”±ä¸¤ä¸ªè¿ç»­çš„ CNN ç»„æˆï¼Œç¬¬ä¸€ä¸ªç”¨äºé¢„æµ‹å…‰æµï¼Œç¬¬äºŒä¸ªä¼°è®¡ç›¸æœºè¿åŠ¨</li><li>è®¡ç®—ä¸¤ä¸ªè§†å›¾ä¹‹é—´è‡ªæˆ‘è¿åŠ¨çš„ç«¯åˆ°ç«¯ CNNï¼Œå †å ä¸¤ä¸ªå…·æœ‰å…·æœ‰æƒé‡å…±äº«çš„å¹¶è¡Œ CNNï¼Œéšåæ˜¯ä¸€ä¸ªç©ºé—´é‡‘å­—å¡”æ± åŒ– SPP å±‚ï¼Œä»¥å¤„ç†ä»»æ„è¾“å…¥å›¾åƒï¼ŒåŒæ—¶åœ¨ç‰¹å¾å›¾ä¸­ä¿æŒç©ºé—´ä¿¡æ¯ã€‚å›å½’å±‚ç”±ä¸¤ä¸ªå…¨è¿æ¥å±‚ç»„æˆï¼Œç”¨äºé¢„æµ‹ç›¸æœºå¹³ç§»å’Œæ—‹è½¬</li><li><strong>DeepVO</strong>ï¼šé€šè¿‡ <strong>RCNN</strong>ï¼Œä»å›¾åƒåºåˆ—ä¸­å­¦ä¹ é¡ºåºè¿åŠ¨åŠ¨åŠ›å­¦çš„ç«¯åˆ°ç«¯å­¦ä¹ æ¡†æ¶ã€‚åœ¨è¾“å‡ºé‡Œç¨‹è®¡æ–¹é¢æ•ˆæœè¾ƒå¥½ã€‚</li></ul><ol start="2"><li>æ— ç›‘ç£å­¦ä¹ </li></ol><p>åœ¨æ— ç›‘ç£çš„æƒ…å†µä¸‹ï¼ŒCNN æ²¡æœ‰çœŸå®æ•°æ®è¿›è¡Œè®­ç»ƒã€‚ç›¸åï¼Œè¯¥ç½‘ç»œé€šè¿‡æœ€å°åŒ–ç±»ä¼¼äº <strong>LSD-SLAM</strong> çš„å…‰åº¦è¯¯å·®æ¥å­¦ä¹ é¢„æµ‹ç›¸æœºä½å§¿ã€‚</p><ul><li>åˆ©ç”¨æ–°é¢–è§†å›¾åˆæˆåŸåˆ™ï¼ˆç»™å®šä¸€ä¸ªæºå›¾åƒåˆæˆå…·æœ‰ä¸åŒä½å§¿çš„ç›®æ ‡å›¾åƒçš„é—®é¢˜ï¼‰ã€‚æ„å»ºä¸¤ä¸ªå¹¶è¡Œçš„ CNN ç”¨äºé¢„æµ‹æ·±åº¦å’Œä¼°è®¡ç›¸æœºä½å§¿ã€‚æ¥è‡ªæºå›¾åƒçš„é¢„æµ‹æ·±åº¦ç”¨äºåœ¨ç»™å®šç›¸æœºå˜æ¢çŸ©é˜µå’Œæºå›¾åƒçš„æƒ…å†µä¸‹åˆæˆç›®æ ‡å›¾åƒã€‚é€šè¿‡æœ€å°åŒ–å…‰åº¦è¯¯å·®ï¼Œå…±åŒè®­ç»ƒæ·±åº¦å’Œç›¸æœºä½å§¿ã€‚è€Œä¸æ˜¯ä»æ·±åº¦é¢„æµ‹ç”Ÿæˆç›®æ ‡å›¾åƒã€‚</li><li>åŸºäºæ·±åº¦é¢„æµ‹ã€ç›¸æœºè¿åŠ¨ä»¥åŠå·ç§¯&#x2F;åå·ç§¯ç½‘ç»œäº§ç”Ÿçš„åŠ¨æ€å¯¹è±¡åˆ†å‰²æ„å»ºäº†ä¸€ä¸ª 3D åœºæ™¯æµã€‚åœºæ™¯æµé€šè¿‡ç›¸æœºè¿åŠ¨è¿›è¡Œå˜æ¢ï¼Œç„¶ååæŠ•å½±åˆ°å½“å‰å¸§ä»¥è¯„ä¼°å…‰åº¦è¯¯å·®ã€‚</li></ul><h2 id="åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸-3D-è·Ÿè¸ª"><a href="#åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸-3D-è·Ÿè¸ª" class="headerlink" title="åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸ 3D è·Ÿè¸ª"></a>åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸ 3D è·Ÿè¸ª</h2><blockquote><p>åŠ¨æ€å¯¹è±¡åˆ†å‰²å’Œ 3D è·Ÿè¸ªå°†ç‰¹å¾å¯¹åº”å…³ç³»åŸºäºå…¶è¿åŠ¨èšç±»åˆ°ä¸åŒç»„ä¸­ï¼Œå¹¶åœ¨ 3D ä¸­è·Ÿè¸ªå®ƒä»¬çš„è½¨è¿¹ã€‚</p></blockquote><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-3.jpg"></center><h3 id="åŠ¨æ€ç‰©ä½“åˆ†å‰²"><a href="#åŠ¨æ€ç‰©ä½“åˆ†å‰²" class="headerlink" title="åŠ¨æ€ç‰©ä½“åˆ†å‰²"></a>åŠ¨æ€ç‰©ä½“åˆ†å‰²</h3><blockquote><p>åŠ¨æ€ç‰©ä½“åˆ†å‰²å°†æ‰€æœ‰ç‰¹å¾å¯¹åº”å…³ç³»èšç±»ä¸º n ä¸ªä¸åŒå¯¹è±¡è¿åŠ¨ã€‚å¦ä¸€ä¸ªæŒ‘æˆ˜æ˜¯å¤„ç†<strong>é€€åŒ–è¿åŠ¨</strong>ï¼ˆå½“ä¸€ä¸ªç‰©ä½“ä¸ç›¸æœºè¿åŠ¨åœ¨åŒä¸€å¹³é¢ä¸Šä¸”å…·æœ‰ç›¸åŒçš„æ–¹å‘å’Œé€Ÿåº¦æ—¶ï¼‰æˆ–<strong>ç›¸å…³è¿åŠ¨</strong>ï¼ˆä¸¤ä¸ªäººä¸€èµ·ç§»åŠ¨ï¼Œå…³èŠ‚è¿åŠ¨ï¼‰ã€‚</p></blockquote><h4 id="ç»Ÿè®¡æ¨¡å‹é€‰æ‹©"><a href="#ç»Ÿè®¡æ¨¡å‹é€‰æ‹©" class="headerlink" title="ç»Ÿè®¡æ¨¡å‹é€‰æ‹©"></a>ç»Ÿè®¡æ¨¡å‹é€‰æ‹©</h4><p>ç”¨ <strong>RANSAC</strong> æˆ–<strong>è’™ç‰¹å¡ç½—é‡‡æ ·è¿­ä»£</strong>ä¸‹å¯¹æ•°æ®çš„å­é›†è¿›è¡Œé‡‡æ ·ï¼Œå¹¶å°†è¿åŠ¨æ¨¡å‹æ‹Ÿåˆåˆ°é‡‡æ ·æ•°æ®ä¸­ã€‚æ”¹è¿åŠ¨æ¨¡å‹ç”¨äºæ„å»ºå†…ç‚¹é›†ï¼Œå¹¶å°†å‰©ä½™æ•°æ®æ’é™¤ä¸ºè¯¥æ¨¡å‹çš„å¼‚å¸¸å€¼ã€‚ç„¶åï¼Œå¯¹å‰©ä½™æ•°æ®ï¼ˆå‰ä¸€ä¸ªæ¨¡å‹çš„å¼‚å¸¸å€¼ï¼‰åœ¨æ­¤è¿›è¡Œé‡‡æ ·ï¼Œä»¥æ‰¾åˆ°å¹¶æ‹Ÿåˆæœ€èƒ½æè¿°å‰©ä½™æ•°æ®çš„å¦ä¸€ä¸ªæ¨¡å‹ã€‚</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-4.jpg"></center><h4 id="å­ç©ºé—´èšç±»"><a href="#å­ç©ºé—´èšç±»" class="headerlink" title="å­ç©ºé—´èšç±»"></a>å­ç©ºé—´èšç±»</h4><p>è®¸å¤šé«˜ç»´æ•°æ®å¯ä»¥ç”¨ä½ç»´å­ç©ºé—´çš„å¹¶é›†æ¥è¡¨ç¤ºã€‚æ•°æ®ç‚¹çš„ä¸€ä¸ªå­ç©ºé—´å¯ä»¥ç”±åŸºå‘é‡å’Œä½ç»´æ•°æ®æ¥è¡¨ç¤ºã€‚åœ¨å­ç©ºé—´èšç±»æ¡†æ¶ä¸‹çš„ 3D è¿åŠ¨åˆ†å‰²é—®é¢˜åŸºæœ¬ä¸Šæ˜¯æ‰¾åˆ°ä¸æ¯ä¸ªåˆšä½“è¿åŠ¨ç›¸å…³è”çš„æ¯ä¸ªå•ç‹¬å­ç©ºé—´ï¼Œå¹¶å°†æ•°æ®æ‹Ÿåˆåˆ°è¿™äº›å­ç©ºé—´ä¸­ã€‚</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-5.jpg"></center><h4 id="å‡ ä½•"><a href="#å‡ ä½•" class="headerlink" title="å‡ ä½•"></a>å‡ ä½•</h4><p>å‡ ä½•æ–¹æ³•å°†å¤šè§†å›¾å‡ ä½•çš„æ ‡å‡†å…¬å¼ä»é™æ€åœºæ™¯æ‰©å±•åˆ°åŒ…å«ç‹¬ç«‹è¿åŠ¨ç‰©ä½“çš„åŠ¨æ€åœºæ™¯ã€‚è™½ç„¶æœ‰ä¸€ä¸ªåŸºæœ¬çŸ©é˜µæè¿°ç›¸æœºç›¸å¯¹äºé™æ€åœºæ™¯çš„ä¸€èˆ¬è¿åŠ¨ï¼Œä½†åœ¨åŠ¨æ€ç¯å¢ƒä¸­ï¼Œå°†ä¼šæœ‰ n ä¸ªåŸºæœ¬çŸ©é˜µæ¥æè¿° n ä¸ªç‰©ä½“çš„è¿åŠ¨ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ä¸ªç”¨äºé™æ€ç‰¹å¾ã€‚</p><ul><li>é€šè¿‡å¼•å…¥å¤šä½“ä¸‰çº¿æ€§çº¦æŸå’Œå¤šä½“ä¸‰ç„¦ç‚¹å¼ é‡ï¼Œå°†å¤šä½“è¿åŠ¨æ¢å¤ä»ä¸¤ä¸ªè§†å›¾æ‰©å±•åˆ°ä¸‰ä¸ªè§†å›¾ã€‚å°†é™æ€åœºæ™¯ä¸­çš„ä¸‰çº¿æ€§çº¦æŸå’Œä¸‰ç„¦ç‚¹å¼ é‡æ¨å¹¿åˆ°åŒ…å«å¤šä¸ªç‰©ä½“çš„åŠ¨æ€åœºæ™¯ã€‚</li></ul><h4 id="æ·±åº¦å­¦ä¹ -1"><a href="#æ·±åº¦å­¦ä¹ -1" class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h4><p>å½“å‰ç”¨äºè§£å†³åŠ¨æ€ç‰©ä½“åˆ†å‰²é—®é¢˜çš„ DNN ä¾èµ–äºé¢„å®šä¹‰æ•°é‡çš„åˆšä½“è¿åŠ¨ã€‚ç”¨äºç”Ÿæˆç¨ å¯†å¯¹è±¡æ©ç çš„ç½‘ç»œåŠå…¶ç›¸å…³æŸå¤±å‡½æ•°å¯èƒ½æºè‡ª 3D ç‚¹äº‘æ•°æ®æˆ–å…‰æµã€‚</p><ul><li><strong>SE3-Net</strong>ï¼šä¸€ç§èƒ½å¤Ÿä» 3D ç‚¹äº‘ä¸­åˆ†å‰²å‡ºé¢„å®šä¹‰çš„ n ä¸ªåŠ¨æ€å¯¹è±¡çš„ DNNï¼Œåœ¨ SE(3) å˜æ¢ä¸­è¡¨ç¤ºã€‚</li><li><strong>SfM-Net</strong>ï¼šåˆ©ç”¨å…‰æµæ¥åˆ†å‰²åŠ¨æ€å¯¹è±¡ã€‚è¿™æ˜¯ä¸€ä¸ªèƒ½å¤Ÿé¢„æµ‹æ·±åº¦ã€ç›¸æœºè¿åŠ¨å’ŒåŠ¨æ€å¯¹è±¡åˆ†å‰²çš„å…·æœ‰å‡ ä½•æ„ŸçŸ¥èƒ½åŠ›çš„ç½‘ç»œã€‚</li></ul><h3 id="åŠ¨æ€ç‰©ä½“çš„-3D-è·Ÿè¸ª"><a href="#åŠ¨æ€ç‰©ä½“çš„-3D-è·Ÿè¸ª" class="headerlink" title="åŠ¨æ€ç‰©ä½“çš„ 3D è·Ÿè¸ª"></a>åŠ¨æ€ç‰©ä½“çš„ 3D è·Ÿè¸ª</h3><blockquote><p>åœ¨ 3D ä¸­è·Ÿè¸ªåŠ¨æ€ç‰©ä½“ï¼Œéœ€è¦çŸ¥é“åŠ¨æ€ç‰©ä½“åœ¨ä¸‰ç»´çš„åæ ‡ä½ç½®ï¼ˆåŒ…æ‹¬æ·±åº¦ä¿¡æ¯ï¼‰ã€‚</p></blockquote><h4 id="è½¨è¿¹ä¸‰è§’æµ‹é‡"><a href="#è½¨è¿¹ä¸‰è§’æµ‹é‡" class="headerlink" title="è½¨è¿¹ä¸‰è§’æµ‹é‡"></a>è½¨è¿¹ä¸‰è§’æµ‹é‡</h4><p>æ ‡å‡†ä¸‰è§’æµ‹é‡ï¼Œå¯¹åŠ¨æ€ç‰©ä½“å¹¶ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºä»ç›¸åº”ç‰¹å¾ç‚¹åå‘æŠ•å½±çš„å…‰çº¿å¹¶ä¸ç›¸äº¤ã€‚<br><strong>è½¨è¿¹ä¸‰è§’æµ‹é‡</strong>ï¼Œä½œä¸ºä¸€ç§å½“ç‰©ä½“è½¨è¿¹å·²çŸ¥æˆ–æ»¡è¶³ä¸€ä¸ªå‚æ•°å½¢å¼æ—¶é‡å»ºè¿åŠ¨ç‰©ä½“ä¸‰ç»´ç‚¹çš„æŠ€æœ¯ã€‚</p><ul><li>å‡è®¾ä¸‰ç»´ç‚¹æ²¿ç€ä¸€æ¡æœªçŸ¥çš„ä¸‰ç»´ç›´çº¿ç§»åŠ¨ã€‚ç„¶åé‡å»ºé—®é¢˜å°±ä¼šå˜æˆå¯»æ‰¾ä¸€æ¡ä¸æ¥è‡ª t ä¸ªè§†å›¾çš„æŠ•å½±å…‰çº¿ç›¸äº¤çš„ä¸‰ç»´ç›´çº¿çš„é—®é¢˜ã€‚t è‡³å°‘æ˜¯ 5ã€‚å› ä¸ºæ¥è‡ªä¸‰ä¸ªè§†å›¾çš„ç›¸äº¤ç›´çº¿é›†ä¼šå½¢æˆä¸€ä¸ªäºŒæ¬¡æ›²é¢ï¼Œä½¿å¾—æ¥è‡ªç¬¬å››ä¸ªè§†å›¾çš„å…‰çº¿åœ¨ä¸¤ä¸ªç‚¹ç›¸äº¤ï¼Œæ­¤æ—¶ç¬¬äº”ä¸ªè§†å›¾ä¼šå¾—å‡ºå”¯ä¸€è§£ã€‚</li><li>å‡è®¾ç‰©ä½“ä¸æ˜¯æ²¿ä¸€æ¡ç›´çº¿è¿åŠ¨ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ªåœ†é”¥æ›²é¢ä¸Šè¿åŠ¨ï¼Œåˆ™éœ€è¦ 9 ä¸ªè§†å›¾å¾—åˆ°å”¯ä¸€è§£ã€‚å¦‚æœåœ†é”¥ç±»å‹å·²çŸ¥ï¼Œåˆ™åªéœ€è¦ 7 ä¸ªè§†å›¾ã€‚</li></ul><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-6.jpg"></center><h4 id="ç²’å­æ»¤æ³¢"><a href="#ç²’å­æ»¤æ³¢" class="headerlink" title="ç²’å­æ»¤æ³¢"></a>ç²’å­æ»¤æ³¢</h4><p>ç”±äºå¯è§‚æµ‹æ€§é—®é¢˜ï¼ˆè§‚æµ‹è€…ä¸ç›®æ ‡ä¹‹é—´çš„è·ç¦»æ— æ³•è¢«è§‚æµ‹åˆ°ï¼‰ï¼Œä½¿ç”¨å•ç›®ç›¸æœºåœ¨ä¸‰ç»´ä¸­è·Ÿè¸ªè¿åŠ¨ç‰©ä½“çš„é—®é¢˜å¯ä»¥è¢«è§†ä¸ºä»…æ–¹ä½è·Ÿè¸ªï¼ˆBOTï¼‰é—®é¢˜ã€‚å•ç›®ç›¸æœºå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªä»…æ–¹ä½è·Ÿè¸ªä¼ æ„Ÿå™¨ï¼Œå› ä¸ºå®ƒåªèƒ½æä¾›å…³äºè¿åŠ¨ç‰©ä½“ä¸Šè¢«è·Ÿè¸ªç‰¹å¾ç‚¹çš„æ–¹ä½ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œå‰ä¸€å¸§å’Œå½“å‰å¸§ä¸­è§‚æµ‹åˆ°çš„ç‰¹å¾ç›¸å¯¹äºç›¸æœºä¸­å¿ƒçš„è§’åº¦ï¼‰ã€‚å¯¹äºä»…æ–¹ä½è·Ÿè¸ªé—®é¢˜ï¼ŒåŸºäºæ»¤æ³¢å™¨çš„æ–¹æ³•æ˜¯æ›´å¯å–çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥å¯¹è§‚æµ‹è€…å’Œç›®æ ‡çš„ä½ç½®å’Œé€Ÿåº¦çš„ä¸ç¡®å®šæ€§è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶ä¸”ä½œä¸ºç›®æ ‡è¿åŠ¨åˆ†æé—®é¢˜ã€‚</p><h2 id="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º"><a href="#è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º" class="headerlink" title="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º"></a>è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º</h2><blockquote><p>ä¸æ˜¯å°†å¤šåˆšä½“è¿åŠ¨åˆ†å‰²å’ŒåŠ¨æ€ç‰©ä½“çš„ä¸‰ç»´ç»“æ„é‡å»ºä½œä¸ºå•ç‹¬ä¸”é¡ºåºçš„ä»»åŠ¡æ¥æ‰§è¡Œï¼Œå› å¼åˆ†è§£å¯ä»¥åŒæ—¶å®Œæˆã€‚ç»™å®šç‰¹å¾å¯¹åº”å…³ç³»ï¼ŒåŠ¨æ€ç‰©ä½“åˆ†å‰²å’Œé‡å»ºä¼šäº§ç”Ÿåˆ†å‰²ç‰¹å¾çš„è¿åŠ¨ä»¥åŠå®ƒä»¬çš„ä¸‰ç»´ç»“æ„ã€‚</p></blockquote><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-7.jpg"></center><h3 id="å› å¼åˆ†è§£"><a href="#å› å¼åˆ†è§£" class="headerlink" title="å› å¼åˆ†è§£"></a>å› å¼åˆ†è§£</h3><blockquote><p>å› å¼åˆ†è§£æ˜¯ SfM æœ€çªå‡ºçš„æŠ€æœ¯ä¹‹ä¸€ï¼Œå¯ä»¥åŒæ—¶è§£å†³åˆ†å‰²å’Œé‡å»ºé—®é¢˜ã€‚å®šç†ï¼š<strong>åœ¨é™æ€åœºæ™¯çš„çŸ­åºåˆ—ä¸­ï¼Œä¸€ä¸ªæµ‹é‡çŸ©é˜µï¼Œå³åŒ…å«æ‰€æœ‰é€šè¿‡æ‰€æœ‰å¸§è·Ÿè¸ªçš„ç‰¹å¾ç‚¹çš„çŸ©é˜µï¼Œæœ€å¤šä¸ºå››é˜¶ï¼ˆå¦‚æœåœ¨æ¬§å¼ç©ºé—´ä½¿ç”¨æ­£äº¤æŠ•å½±æ¨¡å‹åˆ™ä¸ºä¸‰é˜¶ï¼‰ã€‚</strong></p></blockquote><h4 id="å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰"><a href="#å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰" class="headerlink" title="å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰"></a>å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰</h4><p>å°†åˆšä½“ç›¸æœºè¿åŠ¨çš„ SfM æ¨å¹¿åˆ° n ä¸ªåˆšä½“è¿åŠ¨ã€‚</p><h4 id="éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰"><a href="#éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰" class="headerlink" title="éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰"></a>éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰</h4><p>åŸºäºå› å¼åˆ†è§£åœ¨ç¼©æ”¾æ­£æŠ•å½±ç›¸æœºæ¨¡å‹ä¸‹çš„éåˆšæ€§è¿åŠ¨ã€‚</p><h2 id="ä¼˜ç‚¹å’Œç¼ºç‚¹"><a href="#ä¼˜ç‚¹å’Œç¼ºç‚¹" class="headerlink" title="ä¼˜ç‚¹å’Œç¼ºç‚¹"></a>ä¼˜ç‚¹å’Œç¼ºç‚¹</h2><h3 id="è¿åŠ¨åˆ†å‰²-1"><a href="#è¿åŠ¨åˆ†å‰²-1" class="headerlink" title="è¿åŠ¨åˆ†å‰²"></a>è¿åŠ¨åˆ†å‰²</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–</td><td>å½“ç§»åŠ¨å¯¹è±¡æš‚æ—¶é™æ­¢æ—¶èƒ½å¤Ÿè·Ÿè¸ªå®ƒä»¬ï¼Œæ— éœ€è¿›è¡Œæ–°çš„åˆ†å‰²ã€‚è¿˜å¯ä»¥å¤„ç†é€€åŒ–è¿åŠ¨ã€‚</td><td>1. ä¸èƒŒæ™¯æˆ–ç‰©ä½“ç›¸å…³çš„ä¿¡æ¯éœ€è¦äº‹å…ˆå®šä¹‰<br>2. åŸºäºæ£€æµ‹çš„è·Ÿè¸ªæ–¹æ¡ˆå¯èƒ½ä¼šé˜»ç¢å®æ—¶èƒ½åŠ›</td></tr><tr><td>å‡ ä½•çº¦æŸ</td><td>ä¸éœ€è¦å…³äºèƒŒæ™¯æˆ–åŠ¨æ€å¯¹è±¡çš„å…ˆéªŒçŸ¥è¯†ã€‚</td><td>1. ä¸å…·å¤‡å¤„ç†æš‚æ—¶åœæ­¢çš„èƒ½åŠ›<br>2. æ— æ³•åŒºåˆ†ç”±åŠ¨æ€å¯¹è±¡å¼•èµ·çš„å‰©ä½™è¯¯å·®è¿˜æ˜¯ç”±é”™è¯¯å¯¹åº”ï¼ˆå¼‚å¸¸å€¼ï¼‰å¼•èµ·çš„ï¼Œæ— æ³•å¤„ç†é€€åŒ–è¿åŠ¨</td></tr><tr><td>å…‰æµ</td><td>ä¸éœ€è¦å…³äºç¯å¢ƒçš„å…ˆéªŒçŸ¥è¯†ï¼Œå¯ä»¥å®æ—¶ã€‚</td><td>1. åŸºäºäº®åº¦æ’å®šå‡è®¾ï¼Œå¯¹ç…§æ˜æ¡ä»¶å˜åŒ–å¾ˆæ•æ„Ÿ<br>2. å¤„ç†é€€åŒ–è¿åŠ¨å›°éš¾ï¼Œå½“ç‰©ä½“åœ¨åœæ­¢åå¼€å§‹ç§»åŠ¨æ—¶éœ€è¦æ–°çš„åˆ†å‰²</td></tr><tr><td>è‡ªæˆ‘è¿åŠ¨çº¦æŸ</td><td>é€šè¿‡æ‹Ÿåˆç¬¦åˆå®šä¹‰çš„è‡ªæˆ‘è¿åŠ¨çš„ç‰¹å¾ï¼Œè½»æ¾åœ°å°†é™æ€ç‰¹å¾ä¸åŠ¨æ€ç‰¹å¾åˆ†å‰²å¼€æ¥ï¼Œå¯ä»¥å®æ—¶ï¼Œèƒ½å¤„ç†é€€åŒ–è¿åŠ¨</td><td>éœ€è¦ç›¸æœºè¿åŠ¨çš„å…ˆéªŒçŸ¥è¯†ï¼Œå½“ç‰©ä½“æš‚æ—¶é™æ­¢æ—¶ï¼Œè¢«è§†ä¸ºé™æ€åœºæ™¯çš„ä¸€éƒ¨åˆ†</td></tr></tbody></table><h3 id="åŠ¨æ€ç‰©ä½“åˆ†å‰²-1"><a href="#åŠ¨æ€ç‰©ä½“åˆ†å‰²-1" class="headerlink" title="åŠ¨æ€ç‰©ä½“åˆ†å‰²"></a>åŠ¨æ€ç‰©ä½“åˆ†å‰²</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>ç»Ÿè®¡æ¨¡å‹é€‰æ‹©</td><td>1. åªè¦ç³»ç»Ÿå…è®¸è®¡ç®—ä½ç»´æˆ–ä½è‡ªç”±åº¦è¿åŠ¨ï¼Œå°±å¯ä»¥å¤„ç†é€€åŒ–è¿åŠ¨<br>2. ä¸éœ€è¦å…³äºç¯å¢ƒçš„å…ˆéªŒçŸ¥è¯†<br>3. åŸºäºç»Ÿè®¡çš„æ–¹æ³•æ ¹æ®å†…ç‚¹é›†çš„åŸºæ•°æ¥æ‹Ÿåˆæ¨¡å‹ï¼Œå™ªå£°å’Œå¼‚å¸¸å€¼ä¼šè‡ªåŠ¨å¾—åˆ°å¤„ç†</td><td>ä»éšæœºé‡‡æ ·æ•°æ®ä¸­æ‹Ÿåˆè¿åŠ¨æ¨¡å‹åœ¨è®¡ç®—ä¸Šå¤æ‚åº¦å¤§ã€‚ï¼ˆRANSAC çš„è¿­ä»£æ¬¡æ•°å¤ªå¤§ï¼‰</td></tr><tr><td>å­ç©ºé—´èšç±»</td><td>æ—¶é—´å¤æ‚åº¦ä½ï¼Œä¸»è¦åŸºäºä»£æ•°æ–¹æ³•</td><td>1. ä¸èƒ½é¡ºåº&#x2F;å®æ—¶è¿è¡Œ<br>2. éœ€è¦åœºæ™¯ä¸­è¿åŠ¨æ•°é‡æˆ–å­ç©ºé—´æ‰€åœ¨ç»´åº¦çš„ä¿¡æ¯<br>3. å¤§å¤šæ•°æ–¹æ³•ä½¿ç”¨ä»¿å°„ç›¸æœºæ¨¡å‹ï¼Œå¦‚æœåœºæ™¯åŒ…å«ä¸»è¦çš„é€è§†æ•ˆæœï¼Œè¯¥æ¨¡å‹ä¼šå¤±è´¥<br>4. å¯¹é•¿åºåˆ—çš„å®æ–½å¾ˆå›°éš¾</td></tr><tr><td>å‡ ä½•</td><td>å¯ä»¥å¤„ç†éçº¿æ€§æµå½¢ä¸­çš„æ•°æ®</td><td>1. ä»…æ”¯æŒåŸºæœ¬çŸ©é˜µä½œä¸ºè¿åŠ¨æ¨¡å‹ï¼Œæ— æ³•å¤„ç†é€€åŒ–è¿åŠ¨<br>2. è®¡ç®—åŸºæœ¬çŸ©é˜µæ‰€éœ€çš„å›¾åƒç›¸å¯¹äºè¿åŠ¨æ•°é‡å‘ˆæŒ‡æ•°å¢é•¿</td></tr></tbody></table><h3 id="åŠ¨æ€ç‰©ä½“-3D-è·Ÿè¸ª"><a href="#åŠ¨æ€ç‰©ä½“-3D-è·Ÿè¸ª" class="headerlink" title="åŠ¨æ€ç‰©ä½“ 3D è·Ÿè¸ª"></a>åŠ¨æ€ç‰©ä½“ 3D è·Ÿè¸ª</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>è½¨è¿¹ä¸‰è§’æµ‹é‡</td><td>å¯ä»¥é€æ­¥è¿›è¡Œå·¥ä½œï¼Œå°½ç®¡æ¯æ¬¡è¿­ä»£éœ€è¦å‡ å¸§ï¼Œä¸éœ€è¦ç›¸æœºè¿åŠ¨çš„å…ˆéªŒçŸ¥è¯†</td><td>1. é™åˆ¶æ˜¯ç‰©ä½“è½¨è¿¹åº”è¯¥å·²çŸ¥ï¼Œæˆ–åº”è¯¥éµå¾ªç‰¹å®šçš„å‚æ•°å½¢å¼ï¼ˆé™åˆ¶äº†è½¨è¿¹ä¸‰è§’æµ‹é‡åœ¨ä»»æ„ç‰©ä½“è¿åŠ¨ä¸­çš„åº”ç”¨ï¼‰<br>2. å¤„ç†å¼‚å¸¸å’Œç¼ºå¤±æ•°æ®å›°éš¾ï¼Œéœ€è¦å‡ ä¸ªå›¾åƒåºåˆ—æ‰èƒ½æœ‰å”¯ä¸€è§£</td></tr><tr><td>ç²’å­æ»¤æ³¢</td><td>èƒ½å¤Ÿè¿›è¡ŒåŠ¨æ€ç‰©ä½“çš„ 3D é‡å»ºå’Œè·Ÿè¸ªä¸”èƒ½å®æ—¶å·¥ä½œï¼ˆä¸¥æ ¼é™äºå°‘é‡åŠ¨æ€ç‰©ä½“ï¼‰ï¼Œä¸éœ€è¦å…³äºç‰©ä½“è½¨è¿¹çš„çŸ¥è¯†</td><td>å¾ˆéš¾æ‰©å±•åˆ°éåˆšæ€§é‡å»ºï¼Œä¸ç¬¦åˆæ’å®šé€Ÿåº¦è¿åŠ¨æ¨¡å‹</td></tr></tbody></table><h3 id="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º-1"><a href="#è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º-1" class="headerlink" title="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º"></a>è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>å› å¼åˆ†è§£</td><td>1. è¿åŠ¨åˆ†å‰²å’Œé‡å»ºé—®é¢˜å¯ä»¥åŒæ—¶è§£å†³<br>2. ä¸éœ€è¦å…³äºç›¸æœºè¿åŠ¨çš„çŸ¥è¯†<br>3. å¯ä»¥æ‰©å±•åˆ°éåˆšæ€§é‡å»º</td><td>1. å¤§å¤šæ•°æ–¹æ³•åŸºäºæ­£æŠ•å½±æˆ–ä»¿å°„ç›¸æœºæ¨¡å‹å·¥ä½œï¼Œé˜»æ­¢äº†å®ƒåœ¨å…·æœ‰å¤§é€è§†æ•ˆæœæ¡ä»¶ä¸‹çš„å®ç°<br>2. ä¸èƒ½å®æ—¶ï¼Œå› ä¸ºæ‰€æœ‰ç‰¹å¾ç‚¹è½¨è¿¹å¿…é¡»äº‹å…ˆå¯ç”¨ï¼Œå…¶æ¬¡å¤§å¤šæ•°æ–¹æ³•åŸºäº SVDï¼Œå¤æ‚åº¦è¿‡é«˜<br>3. å¯èƒ½éœ€è¦å…ˆéªŒçŸ¥è¯†ï¼ˆåœºæ™¯ä¸­åŠ¨æ€å¯¹è±¡çš„æ•°é‡ã€æµ‹é‡çŸ©é˜µçš„ç§©æˆ–ç‰©ä½“çš„ç»´åº¦ï¼‰<br>4. å¯¹å™ªå£°å’Œå¼‚å¸¸å€¼æ•æ„Ÿ<br>5. ç¼ºå¤±æ•°æ®ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜</td></tr></tbody></table><h3 id="æ·±åº¦å­¦ä¹ -2"><a href="#æ·±åº¦å­¦ä¹ -2" class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h3><table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>1. ä¸éœ€è¦æ‰‹åŠ¨ç‰¹å¾æå–ï¼Œä¼šä½¿å¾—ç‰¹å¾å¯¹åº”é—®é¢˜çš„å‡å°‘ï¼ˆå™ªå£°ã€å¼‚å¸¸å€¼ã€è·Ÿè¸ªä¸¢å¤±ã€é®æŒ¡å¯¼è‡´çš„ç¼ºå¤±æ•°æ®ï¼‰<br>2. ä¸éœ€è¦æŒ‡å®šç›¸æœºæ¨¡å‹<br>3. å­¦ä¹ æ•°æ®éçº¿æ€§è¡¨ç¤ºçš„èƒ½åŠ›æä¾›äº†ä¸åŒç¯å¢ƒä¸­è‰¯å¥½æ³›åŒ–çš„æœºä¼šï¼Œä¸éœ€è¦é’ˆå¯¹ä¸åŒç¯å¢ƒæ‰‹åŠ¨å¾®è°ƒç®—æ³•å‚æ•°çš„æ ‡å‡†åŸºäºç‰¹å¾çš„æ–¹æ³•</td><td>1. åŠ¨æ€ç‰©ä½“åˆ†å‰²å’Œé‡å»ºæŠ€æœ¯æ¶‰åŠå‡ ä½•è®¡ç®—ï¼Œæ„å»ºä¸€ä¸ªèƒ½ç†è§£è¿™ç§å‡ ä½•å¹¶ä¸æ ‡å‡†åŸºäºç‰¹å¾çš„æŠ€æœ¯ç›¸æ¯”æ•ˆæœæ›´å¥½çš„ DNN æ¶æ„æ›´éš¾<br>2. æå–çš„æ—¶ç©ºç‰¹å¾ä¸ç²¾ç¡®ï¼Œå¹¶ä¸”ä¸ç†è§£åŠ¨æ€å¯¹è±¡çš„å‡ ä½•å½¢çŠ¶</td></tr></tbody></table><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://www.cs.ox.ac.uk/files/9926/Visual%20Slam.pdf">cs.ox.ac.uk&#x2F;files&#x2F;9926&#x2F;Visual Slam.pdf</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/">https://blog.jujimeizuo.cn/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä»‹ç» &lt;strong&gt;VSLAM&lt;/strong&gt; å’Œ &lt;strong&gt;SfM&lt;/strong&gt; åœ¨&lt;stro</summary>
      
    
    
    
    
    <category term="3dCV" scheme="https://blog.jujimeizuo.cn/tags/3dCV/"/>
    
  </entry>
  
  <entry>
    <title>volatile å…³é”®å­—</title>
    <link href="https://blog.jujimeizuo.cn/2024/05/25/volatile/"/>
    <id>https://blog.jujimeizuo.cn/2024/05/25/volatile/</id>
    <published>2024-05-25T11:33:34.000Z</published>
    <updated>2024-05-25T12:34:34.216Z</updated>
    
    <content type="html"><![CDATA[<p><strong>volatileå…³é”®å­—çš„ä½œç”¨ååˆ†ç‰¹åˆ«, å®ƒçš„ä½œç”¨æ˜¯é¿å…ç¼–è¯‘å™¨å¯¹ç›¸åº”ä»£ç è¿›è¡Œä¼˜åŒ–.</strong></p><h2 id="e-g"><a href="#e-g" class="headerlink" title="e.g."></a>e.g.</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">extern</span> <span class="type">unsigned</span> <span class="type">char</span> _end;  <span class="comment">// _endæ˜¯ä»€ä¹ˆ?</span></span><br><span class="line">  <span class="keyword">volatile</span> <span class="type">unsigned</span> <span class="type">char</span> *p = &amp;_end;</span><br><span class="line">  *p = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(*p != <span class="number">0xff</span>);</span><br><span class="line">  *p = <span class="number">0x33</span>;</span><br><span class="line">  *p = <span class="number">0x34</span>;</span><br><span class="line">  *p = <span class="number">0x86</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨ <code>-O2</code> ç¼–è¯‘ä»£ç . å°è¯•å»æ‰ä»£ç ä¸­çš„ <code>volatile</code> å…³é”®å­—, é‡æ–°ä½¿ç”¨ <code>-O2</code> ç¼–è¯‘, å¹¶å¯¹æ¯”å»æ‰ <code>volatile</code> å‰ååæ±‡ç¼–ç»“æœçš„ä¸åŒ.</p><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><blockquote><p>å¦‚æœä»£ç ä¸­pæŒ‡å‘çš„åœ°å€æœ€ç»ˆè¢«æ˜ å°„åˆ°ä¸€ä¸ªè®¾å¤‡å¯„å­˜å™¨, å»æ‰volatileå¯èƒ½ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜?</p></blockquote><ol><li><strong>ç¼“å­˜ä¸ä¸€è‡´</strong>ï¼šç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ç¼“å­˜æ¥å­˜å‚¨ç»å¸¸è®¿é—®çš„æ•°æ®ã€‚å¦‚æœæ²¡æœ‰ <code>volatile</code> å…³é”®å­—ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå°†pæ‰€æŒ‡å‘çš„å¯„å­˜å™¨å€¼ç¼“å­˜åˆ° CPU çš„å¯„å­˜å™¨ä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä»å†…å­˜ä¸­è¯»å–ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹æˆ–è®¾å¤‡å¯¹è¯¥å¯„å­˜å™¨çš„ä¿®æ”¹æ— æ³•åŠæ—¶è¢«å½“å‰çº¿ç¨‹å¯Ÿè§‰ï¼Œä»è€Œå¼•å‘é”™è¯¯çš„ç»“æœã€‚</li><li><strong>æŒ‡ä»¤é‡æ’åº</strong>ï¼šç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†æé«˜æ€§èƒ½ï¼Œå¯èƒ½ä¼šå¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºã€‚åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼ŒæŒ‡ä»¤é‡æ’åºé€šå¸¸ä¸ä¼šå½±å“ç¨‹åºçš„æ­£ç¡®æ€§ã€‚ç„¶è€Œï¼Œåœ¨å¤šçº¿ç¨‹æˆ–ä¸è®¾å¤‡äº¤äº’çš„ç¯å¢ƒä¸­ï¼ŒæŒ‡ä»¤é‡æ’åºå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœã€‚å¦‚æœå»æ‰ <code>volatile</code>ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå¯¹ä¸pç›¸å…³çš„æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œä»è€Œç ´åäº†ç¨‹åºçš„é¢„æœŸè¡Œä¸ºã€‚</li><li><strong>è®¾å¤‡åŒæ­¥é—®é¢˜</strong>ï¼šè®¾å¤‡å¯„å­˜å™¨é€šå¸¸ä¸å¤–éƒ¨è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œè¿™äº›è®¾å¤‡å¯èƒ½æœ‰è‡ªå·±çš„æ—¶åº è¦æ±‚ã€‚å¦‚æœæ²¡æœ‰ <code>volatile</code> å…³é”®å­—ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå¯¹ä¸è®¾å¤‡å¯„å­˜å™¨çš„è®¿é—®è¿›è¡Œä¼˜åŒ–ï¼Œå¯¼è‡´æ— æ³•æ»¡è¶³è®¾å¤‡çš„åŒæ­¥è¦æ±‚ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´è®¾å¤‡æ— æ³•æ­£å¸¸å·¥ä½œæˆ–äº§ç”Ÿé”™è¯¯çš„ç»“æœã€‚</li></ol><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><ol><li>ä¸­æ–­æœåŠ¡ç¨‹åºä¸­ä¿®æ”¹çš„ä¾›å…¶å®ƒç¨‹åºæ£€æµ‹çš„å˜é‡éœ€è¦åŠ  <code>volatile</code>ï¼›</li><li>å¤šä»»åŠ¡ç¯å¢ƒä¸‹å„ä»»åŠ¡é—´å…±äº«çš„æ ‡å¿—åº”è¯¥åŠ  <code>volatile</code>ï¼›</li><li>å­˜å‚¨å™¨æ˜ å°„çš„ç¡¬ä»¶å¯„å­˜å™¨é€šå¸¸ä¹Ÿè¦åŠ  <code>volatile</code> è¯´æ˜ï¼Œå› ä¸ºæ¯æ¬¡å¯¹å®ƒçš„è¯»å†™éƒ½å¯èƒ½ç”±ä¸åŒæ„ä¹‰ï¼›</li></ol><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://nju-projectn.github.io/ics-pa-gitbook/ics2023/2.5.html#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA">ics2023&#x2F;2.5</a></li><li><a href="https://www.runoob.com/w3cnote/c-volatile-keyword.html">C&#x2F;C++ ä¸­ volatile å…³é”®å­—è¯¦è§£</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/05/25/volatile/">https://blog.jujimeizuo.cn/2024/05/25/volatile/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;volatileå…³é”®å­—çš„ä½œç”¨ååˆ†ç‰¹åˆ«, å®ƒçš„ä½œç”¨æ˜¯é¿å…ç¼–è¯‘å™¨å¯¹ç›¸åº”ä»£ç è¿›è¡Œä¼˜åŒ–.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;e-g&quot;&gt;&lt;a href=&quot;#e-g&quot; class=&quot;headerlink&quot; title=&quot;e.g.&quot;&gt;&lt;/a&gt;e.g.&lt;/h2&gt;&lt;f</summary>
      
    
    
    
    
    <category term="C++" scheme="https://blog.jujimeizuo.cn/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>nvidia-smi æ— æ³•åŠ è½½é©±åŠ¨</title>
    <link href="https://blog.jujimeizuo.cn/2024/05/17/nvidia-smi-error/"/>
    <id>https://blog.jujimeizuo.cn/2024/05/17/nvidia-smi-error/</id>
    <published>2024-05-17T06:44:50.000Z</published>
    <updated>2024-05-17T07:08:08.844Z</updated>
    
    <content type="html"><![CDATA[<blockquote><ul><li>ä»¥ä¸‹æ–¹æ³•ï¼Œä¸éœ€è¦é‡è£…é©±åŠ¨ï¼Œç®€å•å¿«æ·ã€‚é€‚ç”¨äºUbuntuç³»ç»Ÿä¸‹ï¼Œä¹‹å‰å·²ç»å®‰è£…è¿‡é©±åŠ¨ï¼Œä½†é©±åŠ¨å¤±æ•ˆçš„é—®é¢˜ã€‚</li><li>å¦åˆ™éœ€è¦é‡æ–°å®‰è£…é©±åŠ¨ï¼Œå‚è€ƒ<a href="https://blog.csdn.net/wjinjie/article/details/108512153">Ubuntuä¸‹å®‰è£…nvidiaæ˜¾å¡é©±åŠ¨</a>ã€‚</li></ul></blockquote><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>å½“ä½¿ç”¨ <code>nvidia-smi</code> å‘½ä»¤æ—¶ï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NVIDIA-SMI has failed because it couldn&#x27;t communicate with the NVIDIA driver. </span><br><span class="line">Make sure that the latest NVIDIA driver is installed and running.</span><br></pre></td></tr></table></figure><p>ä¼°è®¡é—®é¢˜å‡ºç°åŸå› æ˜¯ ubuntu ç³»ç»Ÿæ›´æ–°äº†ï¼Œä½†æ˜¯ nvidia é©±åŠ¨æ— æ³•è¿æ¥ã€‚</p><h2 id="æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨"><a href="#æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨" class="headerlink" title="æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨"></a>æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨</h2><ul><li>ä½¿ç”¨ <code>nvcc -V</code> æ£€æŸ¥é©±åŠ¨å’Œ cudaã€‚</li></ul><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-1.jpg" width="50%"></center><p>å‘ç°é©±åŠ¨æ˜¯å­˜åœ¨çš„ã€‚</p><h2 id="æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯"><a href="#æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯"></a>æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /usr/src | grep nvidia</span><br></pre></td></tr></table></figure><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-2.jpg" width="50%"></center><p>æ¯”å¦‚æˆ‘è¿™é‡Œçš„é©±åŠ¨ç‰ˆæœ¬ä¸º nvidia-535.129.03ã€‚</p><h2 id="dkms"><a href="#dkms" class="headerlink" title="dkms"></a>dkms</h2><ul><li><code>dkms</code> æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œç”¨äºæ„å»ºå’Œå®‰è£…å†…æ ¸æ¨¡å—ã€‚å®ƒå…è®¸ä½ åœ¨ç³»ç»Ÿä¸­å®‰è£…å¤šä¸ªå†…æ ¸æ¨¡å—ç‰ˆæœ¬ï¼Œå¹¶åœ¨å†…æ ¸å‡çº§æ—¶è‡ªåŠ¨é‡æ–°ç¼–è¯‘è¿™äº›æ¨¡å—ã€‚</li><li><code>sudo apt-get install dkms</code></li><li><code>dkms install -m nvidia -v 535.129.03</code></li></ul><p>å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-3.jpg" width="50%"></center><p>è¯´æ˜è¿™ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ›´æ–°ã€‚</p><h2 id="æ›´æ–°é©±åŠ¨"><a href="#æ›´æ–°é©±åŠ¨" class="headerlink" title="æ›´æ–°é©±åŠ¨"></a>æ›´æ–°é©±åŠ¨</h2><p>æ‰“å¼€è½¯ä»¶&amp;æ›´æ–°ï¼Œæ ¹æ®ä»¥ä¸‹æ“ä½œé€‰æ‹©å¯¹åº”ç‰ˆæœ¬ï¼ˆ535ï¼‰ã€‚</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-4.jpg" width="50%"></center><h2 id="é‡æ–°-dkms"><a href="#é‡æ–°-dkms" class="headerlink" title="é‡æ–° dkms"></a>é‡æ–° dkms</h2><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-5.jpg" width="50%"></center><p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå†æ¬¡è¾“å…¥ <code>nvidia-smi</code> å°±å¯ä»¥æŸ¥çœ‹ GPU ä½¿ç”¨çŠ¶æ€ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/05/17/nvidia-smi-error/">https://blog.jujimeizuo.cn/2024/05/17/nvidia-smi-error/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥ä¸‹æ–¹æ³•ï¼Œä¸éœ€è¦é‡è£…é©±åŠ¨ï¼Œç®€å•å¿«æ·ã€‚é€‚ç”¨äºUbuntuç³»ç»Ÿä¸‹ï¼Œä¹‹å‰å·²ç»å®‰è£…è¿‡é©±åŠ¨ï¼Œä½†é©±åŠ¨å¤±æ•ˆçš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™éœ€è¦é‡æ–°å®‰è£…é©±åŠ¨ï¼Œå‚è€ƒ&lt;a href=&quot;https://blog.csdn.net/wjinjie/articl</summary>
      
    
    
    
    
    <category term="Linux" scheme="https://blog.jujimeizuo.cn/tags/Linux/"/>
    
    <category term="CUDA" scheme="https://blog.jujimeizuo.cn/tags/CUDA/"/>
    
  </entry>
  
  <entry>
    <title>æ›¼å“ˆé¡¿è·ç¦»ä¸åˆ‡æ¯”é›ªå¤«è·ç¦»</title>
    <link href="https://blog.jujimeizuo.cn/2024/04/01/Manhattan-and-Chebyshev-switch/"/>
    <id>https://blog.jujimeizuo.cn/2024/04/01/Manhattan-and-Chebyshev-switch/</id>
    <published>2024-04-01T13:33:31.000Z</published>
    <updated>2024-04-02T00:41:14.236Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ›¼å“ˆé¡¿è·ç¦»"><a href="#æ›¼å“ˆé¡¿è·ç¦»" class="headerlink" title="æ›¼å“ˆé¡¿è·ç¦»"></a>æ›¼å“ˆé¡¿è·ç¦»</h2><p>å®šä¹‰ä¸¤ä¸ªç‚¹ $A(x_1, y_1), B(x_2, y_2)$ï¼Œåˆ™ $A, B$ ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦»ä¸ºï¼š</p><p>$$<br>d(A, B) &#x3D; |x_1 - x_2| + |y_1 - y_2|<br>$$</p><blockquote><p>æ€§è´¨</p><ol><li>å¯¹ç§°æ€§ï¼š$d(A,B)&#x3D;d(B,A)$</li><li>ä¸‰è§’ä¸ç­‰å¼ï¼š$d(A,C) \le d(A,B)+d(B,C)$</li></ol></blockquote><p><strong>è·ç¦»åŸç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ä¸º 1 ç»„æˆçš„ç‚¹ï¼š</strong></p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/04/manhattan.png" alt="æ›¼å“ˆé¡¿"></center><h2 id="åˆ‡æ¯”é›ªå¤«è·ç¦»"><a href="#åˆ‡æ¯”é›ªå¤«è·ç¦»" class="headerlink" title="åˆ‡æ¯”é›ªå¤«è·ç¦»"></a>åˆ‡æ¯”é›ªå¤«è·ç¦»</h2><p>å®šä¹‰ä¸¤ä¸ªç‚¹ $A(x_1, y_1), B(x_2, y_2)$ï¼Œåˆ™ $A, B$ ä¹‹é—´çš„åˆ‡æ¯”é›ªå¤«è·ç¦»ä¸ºï¼š</p><p>$$<br>d(A, B) &#x3D; \max ( |x_1 - x_2|, |y_1 - y_2| )<br>$$</p><p><strong>è·ç¦»åŸç‚¹çš„åˆ‡æ¯”é›ªå¤«è·ç¦»ä¸º 1 ç»„æˆçš„ç‚¹ï¼š</strong></p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/04/chebyshev.png" alt="åˆ‡æ¯”é›ªå¤«"></center><h2 id="è½¬æ¢"><a href="#è½¬æ¢" class="headerlink" title="è½¬æ¢"></a>è½¬æ¢</h2><h3 id="æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«"><a href="#æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«" class="headerlink" title="æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«"></a>æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«</h3><p>å°†ä»£è¡¨æ›¼å“ˆé¡¿è·ç¦»çš„æ­£æ–¹å½¢ç»•åŸç‚¹é€†æ—¶é’ˆæ—‹è½¬ $\frac{\pi}{4}$ï¼Œå‘ç°ä¸¤ä¸ªæ­£æ–¹å½¢æ˜¯ç›¸ä¼¼çš„ï¼Œåªéœ€è¦æŠŠä»£è¡¨æ›¼å“ˆé¡¿è·ç¦»çš„æ­£æ–¹å½¢æ‰©å¤§ $\sqrt{2}$ å€ã€‚</p><p>å‘ç°åŸæ¥åœ¨ä»£è¡¨æ›¼å“ˆé¡¿è·ç¦»çš„æ­£æ–¹å½¢çš„å››æ¡è¾¹ä¸Šçš„ç‚¹ $A(x,y)$ çš„åæ ‡ç”±æ—‹è½¬ä¹‹åå˜ä¸ºäº†<br>$$(x * \cos{\frac{\pi}{4}}-y * \sin{\frac{\pi}{4}}, y * \cos{\frac{\pi}{4}} + x * \sin{\frac{\pi}{4}})$$<br>ç„¶åæ‰©å¤§åå˜ä¸º<br>$$A^\prime(\sqrt{2}(x * \cos{\frac{\pi}{4}}-y * \sin{\frac{\pi}{4}}), \sqrt{2}(y * \cos{\frac{\pi}{4}} + x * \sin{\frac{\pi}{4}})) \to A^\prime (x-y, x+y)$$<br>è¿™é‡Œçš„æ—‹è½¬äº‹å®ä¸Šå¯ä»¥ç†è§£ä¸ºåæ ‡è½´çš„æ—‹è½¬ã€‚</p><h3 id="åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿"><a href="#åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿" class="headerlink" title="åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿"></a>åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿</h3><p>é€šè¿‡å›¾å½¢æ—‹è½¬ï¼ŒåŸæ¥çš„ç‚¹ $A(x,y) \to A^\prime(\frac{x+y}{2}, \frac{x-y}{2})$ã€‚ï¼ˆç”±ä¸Šè¿°é€†å˜æ¢è¯æ˜ï¼‰</p><h3 id="æ’ç­‰å¼"><a href="#æ’ç­‰å¼" class="headerlink" title="æ’ç­‰å¼"></a>æ’ç­‰å¼</h3><p>$$<br>|x_1 - x_2| + |y_1 - y_2| &#x3D; \max(|x_1^\prime - x_2^\prime|, |y_1^\prime - y_2^\prime|)<br>$$</p><p>å…¶ä¸­ç­‰å¼å·¦ä¾§ä¸º $(x_1,y_1)$ å’Œ $(x_2, y_2)$ çš„<strong>æ›¼å“ˆé¡¿è·ç¦»</strong>ï¼Œç­‰å¼å³ä¾§ $(x^\prime - y^\prime)&#x3D;(x+y,y-x)$ï¼Œè®¡ç®—çš„æ˜¯ $(x_1^\prime - y_1^\prime)$ å’Œ $(x_2^\prime - y_2^\prime)$ ä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»æŠ•å½±åˆ° $x^\prime$ è½´å’Œ $y^\prime$  è½´çš„çº¿æ®µé•¿åº¦çš„æœ€å¤§å€¼ï¼Œå³<strong>åˆ‡æ¯”é›ªå¤«è·ç¦»</strong>ã€‚</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://leetcode.cn/problems/minimize-manhattan-distances/description/">3102. æœ€å°åŒ–æ›¼å“ˆé¡¿è·ç¦»</a></li><li><a href="https://zhuanlan.zhihu.com/p/32878257">æ›¼å“ˆé¡¿è·ç¦»ä¸åˆ‡æ¯”é›ªå¤«è·ç¦»çš„è½¬æ¢ - çŸ¥ä¹</a></li><li><a href="https://tom0727.github.io/post/063-%E6%9B%BC%E5%93%88%E9%A1%BF-%E5%88%87%E6%AF%94%E9%9B%AA%E5%A4%AB%E8%B7%9D%E7%A6%BB/">æ›¼å“ˆé¡¿è·ç¦» å’Œ åˆ‡æ¯”é›ªå¤«è·ç¦» - tom0727â€™s blog</a></li><li><a href="https://www.luogu.com/article/hxr7p6po">å¸¸ç”¨è·ç¦»ç®—æ³•è¯¦è§£ - æ´›è°·ä¸“æ </a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/04/01/Manhattan-and-Chebyshev-switch/">https://blog.jujimeizuo.cn/2024/04/01/Manhattan-and-Chebyshev-switch/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ›¼å“ˆé¡¿è·ç¦»&quot;&gt;&lt;a href=&quot;#æ›¼å“ˆé¡¿è·ç¦»&quot; class=&quot;headerlink&quot; title=&quot;æ›¼å“ˆé¡¿è·ç¦»&quot;&gt;&lt;/a&gt;æ›¼å“ˆé¡¿è·ç¦»&lt;/h2&gt;&lt;p&gt;å®šä¹‰ä¸¤ä¸ªç‚¹ $A(x_1, y_1), B(x_2, y_2)$ï¼Œåˆ™ $A, B$ ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦»ä¸ºï¼š&lt;/p&gt;
&lt;</summary>
      
    
    
    
    
    <category term="ACM" scheme="https://blog.jujimeizuo.cn/tags/ACM/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäº LangChain è‡ªå®šä¹‰ Embeddings</title>
    <link href="https://blog.jujimeizuo.cn/2024/01/29/custom-embeddings-based-on-langchain/"/>
    <id>https://blog.jujimeizuo.cn/2024/01/29/custom-embeddings-based-on-langchain/</id>
    <published>2024-01-29T00:39:02.000Z</published>
    <updated>2024-04-01T11:19:01.830Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸºäº-LangChain-è‡ªå®šä¹‰-Embeddings"><a href="#åŸºäº-LangChain-è‡ªå®šä¹‰-Embeddings" class="headerlink" title="åŸºäº LangChain è‡ªå®šä¹‰ Embeddings"></a>åŸºäº LangChain è‡ªå®šä¹‰ Embeddings</h2><blockquote><p>åœ¨ LangChain ä¸­æ”¯æŒ OpenAIã€LLAMA ç­‰å¤§æ¨¡å‹ Embeddings çš„è°ƒç”¨æ¥å£ï¼Œä¸è¿‡æ²¡æœ‰å†…ç½®æ‰€æœ‰å¤§æ¨¡å‹ï¼Œä½†æ˜¯å…è®¸ç”¨æˆ·è‡ªå®šä¹‰ Embeddings ç±»å‹ã€‚ æ¥ä¸‹æ¥ä»¥ ZhipuAI ä¸ºä¾‹ï¼ŒåŸºäº LangChain è‡ªå®šä¹‰ Embeddingsã€‚</p></blockquote><h3 id="è®¾è®¡æ€è·¯"><a href="#è®¾è®¡æ€è·¯" class="headerlink" title="è®¾è®¡æ€è·¯"></a>è®¾è®¡æ€è·¯</h3><ul><li>è¦å®ç°è‡ªå®šä¹‰ Embeddingsï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»ç»§æ‰¿è‡ª LangChain çš„ Embeddings åŸºç±»ï¼Œç„¶åå®šä¹‰ä¸‰ä¸ªå‡½æ•°<ul><li><code>_embed</code>: æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªå­˜æ”¾ Embeddings çš„ List[float]ï¼Œå³æ¨¡å‹çš„æ ¸å¿ƒè°ƒç”¨</li><li><code>embed_query</code>: ç”¨äºå¯¹å•ä¸ªå­—ç¬¦ä¸² (query) è¿›è¡Œ embedding</li><li><code>embed_documents</code>: ç”¨äºå¯¹å­—ç¬¦ä¸²åˆ—è¡¨ (documents) è¿›è¡Œ embedding</li></ul></li></ul><h3 id="ç¬¬ä¸‰æ–¹åº“"><a href="#ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“"></a>ç¬¬ä¸‰æ–¹åº“</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> annotations</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Any</span>, <span class="type">Dict</span>, <span class="type">List</span>, <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> langchain.embeddings.base <span class="keyword">import</span> Embeddings</span><br><span class="line"><span class="keyword">from</span> langchain.pydantic_v1 <span class="keyword">import</span> BaseModel, root_validator</span><br><span class="line"><span class="keyword">from</span> langchain.utils <span class="keyword">import</span> get_from_dict_or_env</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰-Embedding"><a href="#è‡ªå®šä¹‰-Embedding" class="headerlink" title="è‡ªå®šä¹‰ Embedding"></a>è‡ªå®šä¹‰ Embedding</h3><h3 id="ZhipuAIEmbeddings"><a href="#ZhipuAIEmbeddings" class="headerlink" title="ZhipuAIEmbeddings"></a>ZhipuAIEmbeddings</h3><p>å®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ª Embeddings ç±»çš„è‡ªå®šä¹‰ Embeddings ç±»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ZhipuAIEmbeddings</span>(BaseModel, Embeddings):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;`Zhipuai Embeddings` embedding models.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    zhipuai_api_key: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Zhipuai application apikey&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>root_validator</code> æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°åŒ…å«éœ€è¦æ ¡éªŒçš„é€»è¾‘ã€‚å‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­åŒ…å«ç»è¿‡æ ¡éªŒçš„æ•°æ®ã€‚å¦‚æœæ ¡éªŒå¤±è´¥ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ª <code>ValueError</code> å¼‚å¸¸ã€‚</p><p>è£…é¥°å™¨ <code>root_validator</code> ç¡®ä¿å¯¼å…¥äº†ç›¸å…³çš„åŒ…å’Œå¹¶é…ç½®äº†ç›¸å…³çš„ API_Key è¿™é‡Œå–å·§ï¼Œåœ¨ç¡®ä¿å¯¼å…¥ zhipuai model åç›´æ¥å°† <code>zhipuai.model_api</code> ç»‘å®šåˆ° client ä¸Šï¼Œå‡å°‘å’Œå…¶ä»– Embeddings ç±»çš„å·®å¼‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@root_validator()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validate_environment</span>(<span class="params">cls, values: <span class="type">Dict</span></span>) -&gt; <span class="type">Dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    éªŒè¯ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ä¸­çš„zhipuai_api_keyæ˜¯å¦å¯ç”¨ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        values (Dict): åŒ…å«é…ç½®ä¿¡æ¯çš„å­—å…¸ï¼Œå¿…é¡»åŒ…å« zhipuai_api_key çš„å­—æ®µ</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        values (Dict): åŒ…å«é…ç½®ä¿¡æ¯çš„å­—å…¸ã€‚å¦‚æœç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ä¸­æœªæä¾› zhipuai_api_keyï¼Œåˆ™å°†è¿”å›åŸå§‹å€¼ï¼›å¦åˆ™å°†è¿”å›åŒ…å« zhipuai_api_key çš„å€¼ã€‚</span></span><br><span class="line"><span class="string">    Raises:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        ValueError: zhipuai package not found, please install it with `pip install</span></span><br><span class="line"><span class="string">        zhipuai`</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    values[<span class="string">&quot;zhipuai_api_key&quot;</span>] = get_from_dict_or_env(</span><br><span class="line">        values,</span><br><span class="line">        <span class="string">&quot;zhipuai_api_key&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ZHIPUAI_API_KEY&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">import</span> zhipuai</span><br><span class="line">        zhipuai.api_key = values[<span class="string">&quot;zhipuai_api_key&quot;</span>]</span><br><span class="line">        values[<span class="string">&quot;client&quot;</span>] = zhipuai.model_api</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> ImportError:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(</span><br><span class="line">            <span class="string">&quot;Zhipuai package not found, please install it with &quot;</span></span><br><span class="line">            <span class="string">&quot;`pip install zhipuai`&quot;</span></span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">return</span> values</span><br></pre></td></tr></table></figure><h3 id="Override-embed"><a href="#Override-embed" class="headerlink" title="Override _embed"></a>Override _embed</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">_embed</span>(<span class="params">self, texts: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">float</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”Ÿæˆè¾“å…¥æ–‡æœ¬çš„ embeddingã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        texts (str): è¦ç”Ÿæˆ embedding çš„æ–‡æœ¬ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Return:</span></span><br><span class="line"><span class="string">        embeddings (List[float]): è¾“å…¥æ–‡æœ¬çš„ embeddingï¼Œä¸€ä¸ªæµ®ç‚¹æ•°å€¼åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        resp = self.client.invoke(</span><br><span class="line">            model=<span class="string">&quot;text_embedding&quot;</span>,</span><br><span class="line">            prompt=texts</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">f&quot;Error raised by inference endpoint: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> resp[<span class="string">&quot;code&quot;</span>] != <span class="number">200</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(</span><br><span class="line">            <span class="string">&quot;Error raised by inference API HTTP code: %s, %s&quot;</span></span><br><span class="line">            % (resp[<span class="string">&quot;code&quot;</span>], resp[<span class="string">&quot;msg&quot;</span>])</span><br><span class="line">        )</span><br><span class="line">    embeddings = resp[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;embedding&quot;</span>]</span><br><span class="line">    <span class="keyword">return</span> embeddings</span><br></pre></td></tr></table></figure><h3 id="Override-embed-documents"><a href="#Override-embed-documents" class="headerlink" title="Override embed_documents"></a>Override embed_documents</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">embed_documents</span>(<span class="params">self, texts: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">float</span>]]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”Ÿæˆè¾“å…¥æ–‡æœ¬åˆ—è¡¨çš„ embeddingã€‚</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        texts (List[str]): è¦ç”Ÿæˆ embedding çš„æ–‡æœ¬åˆ—è¡¨.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        List[List[float]]: è¾“å…¥åˆ—è¡¨ä¸­æ¯ä¸ªæ–‡æ¡£çš„ embedding åˆ—è¡¨ã€‚æ¯ä¸ª embedding éƒ½è¡¨ç¤ºä¸ºä¸€ä¸ªæµ®ç‚¹å€¼åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> [self._embed(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]</span><br></pre></td></tr></table></figure><h3 id="Override-embed-query"><a href="#Override-embed-query" class="headerlink" title="Override embed_query"></a>Override embed_query</h3><p><code>embed_query</code> æ˜¯å¯¹å•ä¸ªæ–‡æœ¬è®¡ç®— embedding çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å®šä¹‰å¥½å¯¹æ–‡æ¡£åˆ—è¡¨è®¡ç®— embedding çš„æ–¹æ³• <code>embed_documents</code> äº†ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥å°†å•ä¸ªæ–‡æœ¬ç»„è£…æˆ list çš„å½¢å¼ä¼ ç»™ <code>embed_documents</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">embed_query</span>(<span class="params">self, text: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">float</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”Ÿæˆè¾“å…¥æ–‡æœ¬çš„ embeddingã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        text (str): è¦ç”Ÿæˆ embedding çš„æ–‡æœ¬ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Return:</span></span><br><span class="line"><span class="string">        List [float]: è¾“å…¥æ–‡æœ¬çš„ embeddingï¼Œä¸€ä¸ªæµ®ç‚¹æ•°å€¼åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    resp = self.embed_documents([text])</span><br><span class="line">    <span class="keyword">return</span> resp[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/01/29/custom-embeddings-based-on-langchain/">https://blog.jujimeizuo.cn/2024/01/29/custom-embeddings-based-on-langchain/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;åŸºäº-LangChain-è‡ªå®šä¹‰-Embeddings&quot;&gt;&lt;a href=&quot;#åŸºäº-LangChain-è‡ªå®šä¹‰-Embeddings&quot; class=&quot;headerlink&quot; title=&quot;åŸºäº LangChain è‡ªå®šä¹‰ Embeddings&quot;&gt;&lt;/a&gt;åŸºäº La</summary>
      
    
    
    
    
    <category term="LLM" scheme="https://blog.jujimeizuo.cn/tags/LLM/"/>
    
  </entry>
  
  <entry>
    <title>AcWing 5383. æ”¶é›†é¥°å“</title>
    <link href="https://blog.jujimeizuo.cn/2024/01/06/acwing-5383/"/>
    <id>https://blog.jujimeizuo.cn/2024/01/06/acwing-5383/</id>
    <published>2024-01-06T13:12:49.000Z</published>
    <updated>2024-04-01T11:19:02.092Z</updated>
    
    <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.acwing.com/problem/content/5386/">5383. æ”¶é›†é¥°å“</a></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>èƒŒåŒ…dp + çŠ¶å‹dpï¼Œéå¸¸å·§å¦™çš„åšæ³•</p><p>ç°æŒ‰ç…§ k ä»å°åˆ°è¾¾æ’åºï¼Œå°†æ¯ä¸ªé¥°å“çœ‹æˆä¸€ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ¯ä¸ªå®ç®±å¯ä»¥è®©å‡ ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œç°åœ¨é—®é¢˜å˜æˆï¼Œé€‰æ‹©è‹¥å¹²å®ç®±ï¼Œè®©æ¯ä¸ªäºŒè¿›åˆ¶ä½å˜æˆ 1 çš„æœ€å°èŠ±è´¹ï¼Œè¿™æ˜¯ä¸ªå…¸å‹çš„èƒŒåŒ…ã€‚</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><p>$$ dp[j | mask[i]] &#x3D; std::min(dp[j | mask[i]], dp[j] + x[i]); $$</p><p>å¤æ‚åº¦ï¼š$O(n2^m)$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2024-01-06 20:35:26</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n, m, b;</span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; m &gt;&gt; b;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">x</span><span class="params">(n)</span>, <span class="title">k</span><span class="params">(n)</span>, <span class="title">mask</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> cnt;</span><br><span class="line">        std::cin &gt;&gt; x[i] &gt;&gt; k[i] &gt;&gt; cnt;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; cnt; j += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> id;</span><br><span class="line">            std::cin &gt;&gt; id;</span><br><span class="line">            mask[i] = <span class="number">1</span> &lt;&lt; (id - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">order</span><span class="params">(n)</span></span>;</span><br><span class="line">    std::<span class="built_in">iota</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">    std::<span class="built_in">sort</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), [&amp;](<span class="type">int</span> i, <span class="type">int</span> j) &#123;</span><br><span class="line">        <span class="keyword">return</span> k[i] &lt; k[j];</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constexpr</span> <span class="type">static</span> <span class="type">int64_t</span> inf = std::numeric_limits&lt;<span class="type">int64_t</span>&gt;::<span class="built_in">max</span>() / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int64_t</span> ans = inf;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int64_t</span>&gt; <span class="title">dp</span><span class="params">(<span class="number">1</span> &lt;&lt; m, inf)</span></span>;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">1</span> &lt;&lt; m; j += <span class="number">1</span>) &#123;</span><br><span class="line">            dp[j | mask[order[i]]] = std::<span class="built_in">min</span>(dp[j | mask[order[i]]], dp[j] + x[order[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">        ans = std::<span class="built_in">min</span>(ans, dp[(<span class="number">1</span> &lt;&lt; m) - <span class="number">1</span>] + <span class="built_in">int64_t</span>(<span class="number">1</span>) * k[order[i]] * b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ans == inf) &#123;</span><br><span class="line">        ans = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; ans &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/01/06/acwing-5383/">https://blog.jujimeizuo.cn/2024/01/06/acwing-5383/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¼ é€é—¨ï¼š&lt;a href=&quot;https://www.acwing.com/problem/content/5386/&quot;&gt;5383. æ”¶é›†é¥°å“&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ€è·¯&quot;&gt;&lt;a href=&quot;#æ€è·¯&quot; class=&quot;headerlink&quot; title=&quot;æ€è·¯&quot;&gt;&lt;/a</summary>
      
    
    
    
    
    <category term="ACM" scheme="https://blog.jujimeizuo.cn/tags/ACM/"/>
    
  </entry>
  
  <entry>
    <title>Gosper&#39;s Hack ä¼˜åŒ–</title>
    <link href="https://blog.jujimeizuo.cn/2024/01/04/gospers-hack/"/>
    <id>https://blog.jujimeizuo.cn/2024/01/04/gospers-hack/</id>
    <published>2024-01-04T03:22:47.000Z</published>
    <updated>2024-04-01T11:19:02.090Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å½“æˆ‘ä»¬åœ¨nä¸ªæ•°ä¸­é€‰æ‹©mä¸ªæ•°å­—ï¼Œé€šå¸¸çš„åšæ³•æ˜¯å›æº¯æ³•ã€çŠ¶æ€å‹ç¼©ï¼ˆäºŒè¿›åˆ¶æšä¸¾ï¼‰ç­‰ç­‰ã€‚è¿™æ ·çš„å¤æ‚åº¦æ˜¯ $O(2^n)$ï¼Œè€Œ Gosperâ€™s Hack å¯ä»¥åœ¨O(1)çš„æ—¶é—´å†…æ‰¾åˆ°ä¸‹ä¸€ä¸ªæšä¸¾çŠ¶æ€ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ol><li>ä»åå¾€å‰æ‰¾åˆ°ç¬¬ä¸€ä¸ªé™åºï¼ˆå³â€01â€ï¼‰ï¼Œç„¶åå°†å…¶å˜ä¸ºâ€10â€ï¼Œ</li><li>æœ€åå°†è¯¥â€10â€åé¢çš„åºåˆ—é€†è½¬å³å¯ã€‚</li></ol><p>å‡è®¾å½“å‰çŠ¶æ€ cur ä¸º 0110(01)1000ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªçŠ¶æ€ä¸º 0110(10)0001</p><ol><li>cur + lowbit &#x3D; r, å‰åŠéƒ¨åˆ†ï¼Œ0110(10)xxxx</li><li>r ^ curï¼Œè®°å½•å˜åŒ–çš„ä½æ•°ï¼ˆä¾‹å¦‚ä¸€ä½å°±æ˜¯0001ï¼Œä¸¤ä½å°±æ˜¯0011ï¼‰ï¼Œç§»é™¤â€01â€å˜ä¸ºâ€10â€çš„2æ¬¡ã€‚â€10â€åé¢å°±æ˜¯å˜åŒ–æ¬¡æ•°-2ã€‚xxxxxx(10)0001</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">next_status</span><span class="params">(<span class="type">int</span> cur)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> lowbit = cur &amp; -cur;</span><br><span class="line">    <span class="type">int</span> r = cur + lowbit;</span><br><span class="line">    <span class="keyword">return</span> (((r ^ cur) &gt;&gt; <span class="number">2</span>) / lowbit)  r;</span><br><span class="line">    <span class="comment">// return ((r ^ cur) &gt;&gt; __builtin_ctz(lowbit) + 2)  r;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">next_status</span>(<span class="params">cur: <span class="built_in">int</span></span>):</span><br><span class="line">    lowbit = cur &amp; -cur</span><br><span class="line">    r = cur + lowbit</span><br><span class="line">    <span class="keyword">return</span> (((r ^ cur) &gt;&gt; <span class="number">2</span>) // lowbit)  r</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    def count_trailing_zeros(x):</span></span><br><span class="line"><span class="string">        return (x &amp; -x).bit_length() - 1</span></span><br><span class="line"><span class="string">    return ((r ^ cur) &gt;&gt; count_trailing_zeros(lowbit) + 2)  r</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://programmingforinsomniacs.blogspot.com/2018/03/gospers-hack-explained.html">ProgrammingForInsomniacs</a></li><li><a href="https://leetcode.cn/problems/maximum-rows-covered-by-columns/description/?envType=daily-question&envId=2024-01-04">2397. è¢«åˆ—è¦†ç›–çš„æœ€å¤šè¡Œæ•°</a></li><li><a href="https://leetcode.cn/problems/next-permutation/description/">31. ä¸‹ä¸€ä¸ªæ’åˆ—</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/01/04/gospers-hack/">https://blog.jujimeizuo.cn/2024/01/04/gospers-hack/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¿°&quot;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h2&gt;&lt;p&gt;å½“æˆ‘ä»¬åœ¨nä¸ªæ•°ä¸­é€‰æ‹©mä¸ªæ•°å­—ï¼Œé€šå¸¸çš„åšæ³•æ˜¯å›æº¯æ³•ã€çŠ¶æ€å‹ç¼©ï¼ˆäºŒè¿›åˆ¶æšä¸¾ï¼‰ç­‰ç­‰ã€‚è¿™æ ·çš„å¤æ‚åº¦æ˜¯ $O(2^n)$ï¼Œè€Œ Gosperâ€™s Hac</summary>
      
    
    
    
    
    <category term="ACM" scheme="https://blog.jujimeizuo.cn/tags/ACM/"/>
    
  </entry>
  
  <entry>
    <title>clash for linux</title>
    <link href="https://blog.jujimeizuo.cn/2023/11/24/clash-for-linux/"/>
    <id>https://blog.jujimeizuo.cn/2023/11/24/clash-for-linux/</id>
    <published>2023-11-24T01:36:57.000Z</published>
    <updated>2024-04-01T11:44:47.273Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºä½œè€…å·²ç»è·‘è·¯ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸‹é¢çš„å¤‡ä»½ä»“åº“ï¼š</p><center><div class="github-card" data-github="Elegybackup/clash-for-linux-backup" data-width="400" data-height="" data-theme="default"></div><script src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script></center><h2 id="ä½¿ç”¨é¡»çŸ¥"><a href="#ä½¿ç”¨é¡»çŸ¥" class="headerlink" title="ä½¿ç”¨é¡»çŸ¥"></a>ä½¿ç”¨é¡»çŸ¥</h2><ul><li>è¿è¡Œæœ¬é¡¹ç›®å»ºè®®ä½¿ç”¨rootç”¨æˆ·ï¼Œæˆ–è€…ä½¿ç”¨ sudo ææƒã€‚</li><li>ä½¿ç”¨è¿‡ç¨‹ä¸­å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ä¼˜å…ˆæŸ¥å·²æœ‰çš„ <a href="https://github.com/Elegybackup/clash-for-linux-backup/issues">issues</a>ã€‚</li><li>åœ¨è¿›è¡Œissuesæäº¤å‰ï¼Œè¯·æ›¿æ¢æäº¤å†…å®¹ä¸­æ˜¯æ•æ„Ÿä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼šè®¢é˜…åœ°å€ï¼‰ã€‚</li><li>æœ¬é¡¹ç›®æ˜¯åŸºäº <a href="https://github.com/Dreamacro/clash">clashï¼ˆå·²è·‘è·¯ï¼‰</a> ã€<a href="https://github.com/haishanh/yacd">yacd</a> è¿›è¡Œçš„é…ç½®æ•´åˆï¼Œå…³äºclashã€yacdçš„è¯¦ç»†é…ç½®è¯·å»åŸé¡¹ç›®æŸ¥çœ‹ã€‚</li><li>æ­¤é¡¹ç›®ä¸æä¾›ä»»ä½•è®¢é˜…ä¿¡æ¯ï¼Œè¯·è‡ªè¡Œå‡†å¤‡Clashè®¢é˜…åœ°å€ã€‚</li><li>è¿è¡Œå‰è¯·æ‰‹åŠ¨æ›´æ”¹<code>.env</code>æ–‡ä»¶ä¸­çš„<code>CLASH_URL</code>å˜é‡å€¼ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è¿è¡Œã€‚</li><li>å½“å‰åœ¨RHELç³»åˆ—å’ŒDebian,Kali Linux,ubuntuä»¥åŠLinuxç³»ç»Ÿä¸­æµ‹è¯•è¿‡ï¼Œå…¶ä»–ç³»åˆ—å¯èƒ½éœ€è¦é€‚å½“ä¿®æ”¹è„šæœ¬ã€‚</li><li>æ”¯æŒ x86_64&#x2F;aarch64 å¹³å°</li><li>ã€æ³¨æ„ï¼škali Linuxéœ€è¦åœ¨æµè§ˆå™¨è®¾ç½®ä»£ç†ï¼å¦åˆ™æœ‰å¯èƒ½æ— æ³•ä½¿ç”¨ï¼ã€‘</li></ul><blockquote><p><strong>æ³¨æ„</strong>ï¼šå½“ä½ åœ¨ä½¿ç”¨æ­¤é¡¹ç›®æ—¶ï¼Œé‡åˆ°ä»»ä½•æ— æ³•ç‹¬è‡ªè§£å†³çš„é—®é¢˜è¯·ä¼˜å…ˆå‰å¾€ <a href="https://github.com/wanhebin/clash-for-linux/issues">Issues</a> å¯»æ‰¾è§£å†³æ–¹æ³•ã€‚ç”±äºç©ºé—²æ—¶é—´æœ‰é™ï¼Œåç»­å°†ä¸å†å¯¹Issuesä¸­ â€œå·²ç»è§£ç­”â€ã€â€œå·²æœ‰è§£å†³æ–¹æ¡ˆâ€ çš„é—®é¢˜è¿›è¡Œé‡å¤æ€§çš„å›ç­”ã€‚</p></blockquote><br><h2 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h2><h3 id="ä¸‹è½½é¡¹ç›®"><a href="#ä¸‹è½½é¡¹ç›®" class="headerlink" title="ä¸‹è½½é¡¹ç›®"></a>ä¸‹è½½é¡¹ç›®</h3><p>ä¸‹è½½é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/Elegybackup/clash-for-linux-backup.git</span><br></pre></td></tr></table></figure><p>è¿›å…¥åˆ°é¡¹ç›®ç›®å½•ï¼Œç¼–è¾‘<code>.env</code>æ–‡ä»¶ï¼Œä¿®æ”¹å˜é‡<code>CLASH_URL</code>çš„å€¼ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> clash-for-linux</span><br><span class="line">$ vim .<span class="built_in">env</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„ï¼š</strong> <code>.env</code> æ–‡ä»¶ä¸­çš„å˜é‡ <code>CLASH_SECRET</code> ä¸ºè‡ªå®šä¹‰ Clash Secretï¼Œå€¼ä¸ºç©ºæ—¶ï¼Œè„šæœ¬å°†è‡ªåŠ¨ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ã€‚</p></blockquote><br><h3 id="å¯åŠ¨ç¨‹åº"><a href="#å¯åŠ¨ç¨‹åº" class="headerlink" title="å¯åŠ¨ç¨‹åº"></a>å¯åŠ¨ç¨‹åº</h3><p>ç›´æ¥è¿è¡Œè„šæœ¬æ–‡ä»¶<code>start.sh</code></p><ul><li>è¿›å…¥é¡¹ç›®ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> clash-for-linux</span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œå¯åŠ¨è„šæœ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bash start.sh</span><br><span class="line"></span><br><span class="line">æ­£åœ¨æ£€æµ‹è®¢é˜…åœ°å€...</span><br><span class="line">Clashè®¢é˜…åœ°å€å¯è®¿é—®ï¼                                      [  OK  ]</span><br><span class="line"></span><br><span class="line">æ­£åœ¨ä¸‹è½½Clashé…ç½®æ–‡ä»¶...</span><br><span class="line">é…ç½®æ–‡ä»¶config.yamlä¸‹è½½æˆåŠŸï¼                              [  OK  ]</span><br><span class="line"></span><br><span class="line">æ­£åœ¨å¯åŠ¨ClashæœåŠ¡...</span><br><span class="line">æœåŠ¡å¯åŠ¨æˆåŠŸï¼                                             [  OK  ]</span><br><span class="line"></span><br><span class="line">Clash Dashboard è®¿é—®åœ°å€ï¼šhttp://&lt;ip&gt;:9090/ui</span><br><span class="line">Secretï¼šxxxxxxxxxxxxx</span><br><span class="line"></span><br><span class="line">è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åŠ è½½ç¯å¢ƒå˜é‡: <span class="built_in">source</span> /etc/profile.d/clash.sh</span><br><span class="line"></span><br><span class="line">è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å¯ç³»ç»Ÿä»£ç†: proxy_on</span><br><span class="line"></span><br><span class="line">è‹¥è¦ä¸´æ—¶å…³é—­ç³»ç»Ÿä»£ç†ï¼Œè¯·æ‰§è¡Œ: proxy_off</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> /etc/profile.d/clash.sh</span><br><span class="line">$ proxy_on</span><br></pre></td></tr></table></figure><ul><li>æ£€æŸ¥æœåŠ¡ç«¯å£</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ netstat -tln | grep -E <span class="string">&#x27;9090|789.&#x27;</span></span><br><span class="line">tcp        0      0 127.0.0.1:9090          0.0.0.0:*               LISTEN     </span><br><span class="line">tcp6       0      0 :::7890                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::7891                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::7892                 :::*                    LISTEN</span><br></pre></td></tr></table></figure><ul><li>æ£€æŸ¥ç¯å¢ƒå˜é‡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">env</span> | grep -E <span class="string">&#x27;http_proxy|https_proxy&#x27;</span></span><br><span class="line">http_proxy=http://127.0.0.1:7890</span><br><span class="line">https_proxy=http://127.0.0.1:7890</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ­¥é„¹å¦‚æœæ­£å¸¸ï¼Œè¯´æ˜æœåŠ¡clashç¨‹åºå¯åŠ¨æˆåŠŸï¼Œç°åœ¨å°±å¯ä»¥ä½“éªŒé«˜é€Ÿä¸‹è½½githubèµ„æºäº†ã€‚</p><br><h2 id="é‡å¯ç¨‹åº"><a href="#é‡å¯ç¨‹åº" class="headerlink" title="é‡å¯ç¨‹åº"></a>é‡å¯ç¨‹åº</h2><p>å¦‚æœéœ€è¦å¯¹Clashé…ç½®è¿›è¡Œä¿®æ”¹ï¼Œè¯·ä¿®æ”¹ <code>conf/config.yaml</code> æ–‡ä»¶ã€‚ç„¶åè¿è¡Œ <code>restart.sh</code> è„šæœ¬è¿›è¡Œé‡å¯ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼š</strong><br>é‡å¯è„šæœ¬ <code>restart.sh</code> ä¸ä¼šæ›´æ–°è®¢é˜…ä¿¡æ¯ã€‚</p></blockquote><br><h3 id="åœæ­¢ç¨‹åº"><a href="#åœæ­¢ç¨‹åº" class="headerlink" title="åœæ­¢ç¨‹åº"></a>åœæ­¢ç¨‹åº</h3><ul><li>è¿›å…¥é¡¹ç›®ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> clash-for-linux</span><br></pre></td></tr></table></figure><ul><li>å…³é—­æœåŠ¡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bash shutdown.sh</span><br><span class="line"></span><br><span class="line">æœåŠ¡å…³é—­æˆåŠŸï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…³é—­ç³»ç»Ÿä»£ç†ï¼šproxy_off</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ proxy_off</span><br></pre></td></tr></table></figure><p>ç„¶åæ£€æŸ¥ç¨‹åºç«¯å£ã€è¿›ç¨‹ä»¥åŠç¯å¢ƒå˜é‡<code>http_proxy|https_proxy</code>ï¼Œè‹¥éƒ½æ²¡åˆ™è¯´æ˜æœåŠ¡æ­£å¸¸å…³é—­ã€‚</p><br><h3 id="Clash-Dashboard"><a href="#Clash-Dashboard" class="headerlink" title="Clash Dashboard"></a>Clash Dashboard</h3><ul><li>è®¿é—® Clash Dashboard</li></ul><p>é€šè¿‡æµè§ˆå™¨è®¿é—® <code>start.sh</code> æ‰§è¡ŒæˆåŠŸåè¾“å‡ºçš„åœ°å€ï¼Œä¾‹å¦‚ï¼š<a href="http://192.168.0.1:9090/ui">http://192.168.0.1:9090/ui</a></p><ul><li>ç™»å½•ç®¡ç†ç•Œé¢</li></ul><p>åœ¨<code>API Base URL</code>ä¸€æ ä¸­è¾“å…¥ï¼šhttp:&#x2F;&#x2F;&lt;ip&gt;:9090 ï¼Œåœ¨<code>Secret(optional)</code>ä¸€æ ä¸­è¾“å…¥å¯åŠ¨æˆåŠŸåè¾“å‡ºçš„Secretã€‚</p><p>ç‚¹å‡»Addå¹¶é€‰æ‹©åˆšåˆšè¾“å…¥çš„ç®¡ç†ç•Œé¢åœ°å€ï¼Œä¹‹åä¾¿å¯åœ¨æµè§ˆå™¨ä¸Šè¿›è¡Œä¸€äº›é…ç½®ã€‚</p><ul><li>æ›´å¤šæ•™ç¨‹</li></ul><p>æ­¤ Clash Dashboard ä½¿ç”¨çš„æ˜¯<a href="https://github.com/haishanh/yacd">yacd</a>é¡¹ç›®ï¼Œè¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·ç§»æ­¥åˆ°yacdä¸ŠæŸ¥è¯¢ã€‚</p><br><h3 id="ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹"><a href="#ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹" class="headerlink" title="ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹"></a>ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹</h3><p>éƒ¨åˆ†ç”¨æˆ·æ— æ³•é€šè¿‡æµè§ˆå™¨ä½¿ç”¨ Clash Dashboard è¿›è¡ŒèŠ‚ç‚¹é€‰æ‹©ã€ä»£ç†æ¨¡å¼ä¿®æ”¹ç­‰æ“ä½œï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·å¯ä»¥åœ¨Linuxç»ˆç«¯è¿›è¡Œæ“ä½œï¼Œä¸‹é¢æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ç®€å•çš„è„šæœ¬ä»¥ä¾¿ç”¨æˆ·å¯ä»¥ä¸´æ—¶é€šè¿‡ç»ˆç«¯ç•Œé¢è¿›è¡Œé…ç½®ã€‚</p><p>è„šæœ¬å­˜æ”¾ä½ç½®ï¼š<code>scripts/clash_proxy-selector.sh</code></p><blockquote><p><strong>æ³¨æ„ï¼š</strong></p><p>ä½¿ç”¨è„šæœ¬å‰ï¼Œéœ€è¦ä¿®æ”¹è„šæœ¬ä¸­çš„ <strong>Secret</strong> å˜é‡å€¼ä¸ºä¸Šè¿°å¯åŠ¨è„šæœ¬è¾“å‡ºçš„å€¼ï¼Œæˆ–è€…ä¸ <code>.env</code> æ–‡ä»¶ä¸­å®šä¹‰çš„ <strong>CLASH_SECRET</strong> å˜é‡å€¼ä¿æŒä¸€è‡´ã€‚</p></blockquote><br><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/11/24/clash-for-linux/">https://blog.jujimeizuo.cn/2023/11/24/clash-for-linux/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç”±äºä½œè€…å·²ç»è·‘è·¯ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸‹é¢çš„å¤‡ä»½ä»“åº“ï¼š&lt;/p&gt;
&lt;center&gt;
&lt;div class=&quot;github-card&quot; data-github=&quot;Elegybackup/clash-for-linux-backup&quot; data-width=&quot;400&quot; data-height</summary>
      
    
    
    
    
    <category term="linux" scheme="https://blog.jujimeizuo.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨ iOS çš„å¿«æ·æŒ‡ä»¤é…åˆ GitHub Actions å®ç°è‡ªåŠ¨åŒ–</title>
    <link href="https://blog.jujimeizuo.cn/2023/10/06/shortcut-github-actions-automation/"/>
    <id>https://blog.jujimeizuo.cn/2023/10/06/shortcut-github-actions-automation/</id>
    <published>2023-10-06T15:25:27.000Z</published>
    <updated>2024-04-01T11:19:01.714Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–"><a href="#ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–"></a>ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–</h2><ul><li>æœ€åˆçš„ Github Actions éœ€è¦ crontab æ¥å®šæ—¶è¿›è¡Œè‡ªåŠ¨åŒ–ï¼Œè¿™æ ·åšä¸ä»…æ¶ˆè€—è¿‡å¤šèµ„æºï¼Œè€Œä¸”åœ¨å®ŒæˆæŸä¸ªä»»åŠ¡æ—¶ä¸ä¼šç«‹å³è·å–æ–°ç”Ÿæˆçš„æ•°æ®ã€‚</li><li>å¦‚æœæˆ‘å¯ä»¥å®ŒæˆæŸä¸ªç‰¹å®šåŠ¨ä½œï¼Œä¾‹å¦‚å…³é—­é—¹é’Ÿã€å……ç”µã€å…³é—­ APP æ—¶è‡ªåŠ¨è¿›è¡Œ Actionsæ—¶ï¼Œè¿™æ ·åšéå¸¸é«˜æ•ˆï¼Œæ–¹æ³•æ˜¯å¯ä»¥åˆ©ç”¨å¿«æ·æŒ‡ä»¤è§¦å‘ Actions åŒæ­¥æ•°æ®</li><li>ä¸‹é¢æ‹¿è·‘æ­¥ä¸¾ä¾‹ï¼Œä¸€èˆ¬ä¼šç”¨ appï¼ˆæˆ‘ç”¨çš„æ˜¯ keepï¼‰æ¥è®°å½•è·‘æ­¥æ•°æ®ï¼Œå®ç°çš„æ“ä½œæ˜¯å½“å…³é—­ keep æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œ Actionsï¼Œæ›´æ–°æ•°æ®</li></ul><h2 id="å¦‚ä½•è§¦å‘-Actions"><a href="#å¦‚ä½•è§¦å‘-Actions" class="headerlink" title="å¦‚ä½•è§¦å‘ Actions"></a>å¦‚ä½•è§¦å‘ Actions</h2><ul><li><p>é¦–å…ˆåœ¨ yml æ–‡ä»¶ä¸­å¢åŠ  <code>workflow_dispatch</code>: å¯ä»¥æ‰‹åŠ¨è§¦å‘</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/workflow_dispatch.jpg" alt="srcworkflow_dispatch"></p></li><li><p>å…ˆæ‹¿åˆ°è¿™ä¸ªé¡¹ç›®çš„ actions id (éœ€è¦è‡ªè¡Œç”³è¯· token)</p><ul><li><p>åœ¨ä¸ªäººçš„ settings ä¸­ç”³è¯· é¡¹ç›®çš„tokenï¼Œç„¶ååœ¨é¡¹ç›®é‡Œçš„ Secrets and variables é‡Œçš„ Actions è®¾ç½®å¯†é’¥ï¼Œå†…å®¹ä¸ºåˆšåˆšç”³è¯·çš„ token</p></li><li><p>æ‰§è¡Œä¸‹é¢ä»£ç è·å– actionid</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://api.github.com/repos/jujimeizuo/running_page/actions/workflows -H &quot;Authorization: token d8xxxxxxxxxx&quot; ## change to your config</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/get-action-id.jpg" alt="get-action-id"></p></li><li><p>æ‹¿åˆ° action id å°±å¯ä»¥åˆ©ç”¨ api post è§¦å‘ action å•¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H &quot;Content-Type:application/json&quot; -X POST -d &#x27;&#123;&quot;inputs&quot;: &#123;&#125;, &quot;ref&quot;:&quot;master&quot;&#125;&#x27; https://api.github.com/repos/jujimeizu/running_page/actions/workflows/: $&#123;actionid&#125;/dispatches -H &quot;Authorization: token d8e03d6xxxxxxxxxxxx&quot;  ## change to your config</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç»“åˆå¿«æ·æŒ‡ä»¤"><a href="#ç»“åˆå¿«æ·æŒ‡ä»¤" class="headerlink" title="ç»“åˆå¿«æ·æŒ‡ä»¤"></a>ç»“åˆå¿«æ·æŒ‡ä»¤</h2><h3 id="å¿«æ·æŒ‡ä»¤"><a href="#å¿«æ·æŒ‡ä»¤" class="headerlink" title="å¿«æ·æŒ‡ä»¤"></a>å¿«æ·æŒ‡ä»¤</h3><ul><li>é€šè¿‡ icloud è·å– <a href="https://www.icloud.com/shortcuts/4a5807a98b9a4e359815ff179c62bacb">running-page-template</a></li><li>ä¿®æ”¹ä¸‹é¢å›¾ç‰‡ä¸­å­—å…¸çš„å€¼å³å¯</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/running-page-template.jpg" alt="running-page-template"></p><h3 id="è‡ªåŠ¨åŒ–"><a href="#è‡ªåŠ¨åŒ–" class="headerlink" title="è‡ªåŠ¨åŒ–"></a>è‡ªåŠ¨åŒ–</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/new-automation.png" alt="new-automation"> <img src="https://cdn.jujimeizuo.cn/blog/2023/10/select-close.png" alt="select-close"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/select-shortcut.png" alt="select-shortcut"> <img src="https://cdn.jujimeizuo.cn/blog/2023/10/finish-automation.png" alt="finish-automation"></p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul><li>å¯ä»¥é€šè¿‡å…³é—­é—¹é’Ÿæ¥åŒæ­¥è‡ªå·±çš„èµ·åºŠè®°å½•â€”â€”è¿™ä¹Ÿæ˜¯ yihong å¤§ç¥å†™çš„</li><li>å¯ä»¥åˆ©ç”¨ä¸€ä¸ª action è§¦å‘å¦ä¸€ä¸ªé¡¹ç›®çš„ actionï¼Œå®ç°å¦ä¸€ä¸ª repo çš„æ›´æ–°</li><li>â€¦</li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://github.com/yihong0618/gitblog/issues/198">yihong0618 å¤§ç¥</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/10/06/shortcut-github-actions-automation/">https://blog.jujimeizuo.cn/2023/10/06/shortcut-github-actions-automation/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æœ€åˆçš„ Gith</summary>
      
    
    
    
    
    <category term="utils" scheme="https://blog.jujimeizuo.cn/tags/utils/"/>
    
  </entry>
  
  <entry>
    <title>Macosé€šè¿‡SSHè¿æ¥æ˜¾ç¤ºdockerå®¹å™¨çš„GUIç•Œé¢ï¼ˆROS1å°ä¹Œé¾Ÿä¸ºä¾‹ï¼‰</title>
    <link href="https://blog.jujimeizuo.cn/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/"/>
    <id>https://blog.jujimeizuo.cn/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/</id>
    <published>2023-07-28T14:06:08.000Z</published>
    <updated>2024-04-01T11:17:17.692Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-è½¯ç¡¬ä»¶è®¾ç½®"><a href="#1-è½¯ç¡¬ä»¶è®¾ç½®" class="headerlink" title="1 è½¯ç¡¬ä»¶è®¾ç½®"></a>1 è½¯ç¡¬ä»¶è®¾ç½®</h2><ul><li>Macbook M1 pro</li><li>docker - ubuntu18.04</li></ul><h2 id="2-é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18-04ï¼‰"><a href="#2-é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18-04ï¼‰" class="headerlink" title="2 é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18.04ï¼‰"></a>2 é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18.04ï¼‰</h2><h3 id="2-1-å®‰è£…å·¥å…·åŒ…"><a href="#2-1-å®‰è£…å·¥å…·åŒ…" class="headerlink" title="2.1 å®‰è£…å·¥å…·åŒ…"></a>2.1 å®‰è£…å·¥å…·åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it å®¹å™¨åç§° /bin/sh</span><br><span class="line">apt update</span><br><span class="line">apt install openssh-server</span><br><span class="line">apt install x11-apps</span><br><span class="line">apt install vim</span><br><span class="line">passwd   <span class="comment"># ç»™rootè´¦å·èµ‹äºˆå¯†ç </span></span><br></pre></td></tr></table></figure><h3 id="2-2-é…ç½®SSHæœåŠ¡ç«¯"><a href="#2-2-é…ç½®SSHæœåŠ¡ç«¯" class="headerlink" title="2.2 é…ç½®SSHæœåŠ¡ç«¯"></a>2.2 é…ç½®SSHæœåŠ¡ç«¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line"><span class="comment">## ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼Œç«¯å£å¯ä»¥è‡ªå·±è®¾ç½®ï¼Œé»˜è®¤æ˜¯22ï¼Œå’Œå¯åŠ¨å®¹å™¨çš„æ˜ å°„ç«¯å£å¯¹åº”</span></span><br><span class="line">PermitRootLogin <span class="built_in">yes</span></span><br><span class="line">X11Forwarding <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><h3 id="2-3-é‡å¯æœåŠ¡"><a href="#2-3-é‡å¯æœåŠ¡" class="headerlink" title="2.3 é‡å¯æœåŠ¡"></a>2.3 é‡å¯æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/ssh restart</span><br></pre></td></tr></table></figure><h3 id="2-4-è¿æ¥dockeræµ‹è¯•"><a href="#2-4-è¿æ¥dockeræµ‹è¯•" class="headerlink" title="2.4 è¿æ¥dockeræµ‹è¯•"></a>2.4 è¿æ¥dockeræµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p dockerç«¯å£ root@è¿œç¨‹IP</span><br></pre></td></tr></table></figure><h2 id="3-æœ¬åœ°Macosé…ç½®"><a href="#3-æœ¬åœ°Macosé…ç½®" class="headerlink" title="3 æœ¬åœ°Macosé…ç½®"></a>3 æœ¬åœ°Macosé…ç½®</h2><h3 id="3-1-å®‰è£…Xquartz"><a href="#3-1-å®‰è£…Xquartz" class="headerlink" title="3.1 å®‰è£…Xquartz"></a>3.1 å®‰è£…Xquartz</h3><p><a href="https://www.xquartz.org/">Xquartzå®˜ç½‘</a></p><h3 id="3-2-Xquartzè®¾ç½®"><a href="#3-2-Xquartzè®¾ç½®" class="headerlink" title="3.2 Xquartzè®¾ç½®"></a>3.2 Xquartzè®¾ç½®</h3><ol><li>XQuartz -&gt; åå¥½è®¾ç½® -&gt; å®‰å…¨æ€§ -&gt; å‹¾é€‰â€œå…è®¸ä»ç½‘ç»œå®¢æˆ·ç«¯è¿æ¥â€ -&gt; é€€å‡ºç¨‹åºï¼›</li><li>ç»ˆç«¯é”®å…¥ xhost + ipï¼ˆæ³¨æ„ä¸¤è€…ä¹‹é—´çš„ç©ºæ ¼ï¼‰é‡æ–°å¯åŠ¨ XQuartzï¼›ä¸ºè¿œç¨‹ä¸»æœºæ·»åŠ æƒé™ æˆ–è€…xhost +ä¸ºæ‰€æœ‰IPæ·»åŠ æƒé™</li><li>ssh -XY <a href="mailto:&#114;&#111;&#x6f;&#116;&#64;&#48;&#46;&#48;&#46;&#x30;&#x2e;&#48;">&#114;&#111;&#x6f;&#116;&#64;&#48;&#46;&#48;&#46;&#x30;&#x2e;&#48;</a> -p 6100</li><li>netstat -an grep -F 6100 æŸ¥çœ‹</li></ol><p>xquartzæ“ä½œåéœ€è¦é‡å¯ã€‚</p><h3 id="3-3-dockerè¿›å…¥"><a href="#3-3-dockerè¿›å…¥" class="headerlink" title="3.3 dockerè¿›å…¥"></a>3.3 dockerè¿›å…¥</h3><p>åœ¨ run æˆ– exec å®¹å™¨æ—¶åŠ å…¥-e DISPLAY&#x3D;host.docker.internal:0å‚æ•°ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œé€šè¿‡å¯¹ä¸€ä¸ªç°æœ‰çš„ï¼Œå·²ç»å®‰è£…è¿‡ xarclock æ—¶é’Ÿå°ç¨‹åºçš„å®¹å™¨ toyOS æ‰§è¡Œdocker exec -ite DISPLAY&#x3D;host.docker.internal:0 toyOS &#x2F;usr&#x2F;bin&#x2F;xarclockï¼Œå°±ä¼šåœ¨æˆ‘çš„æœ¬åœ°å‡ºç°ä¸€ä¸ªå°æ—¶é’Ÿçš„GUIç¨‹åºï¼›</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -ite DISPLAY=host.docker.internal:0 ub18.04-orb-slam2 /bin/bash</span><br></pre></td></tr></table></figure><h3 id="3-4-æµ‹è¯•roså°ä¹Œé¾Ÿ"><a href="#3-4-æµ‹è¯•roså°ä¹Œé¾Ÿ" class="headerlink" title="3.4 æµ‹è¯•roså°ä¹Œé¾Ÿ"></a>3.4 æµ‹è¯•roså°ä¹Œé¾Ÿ</h3><p>tmuxè®¾ç½®ä¸‰ä¸ªç»ˆç«¯</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/07/image-1690552905696.png" alt="file"></p><p>ä¹Ÿå¯ä»¥åœ¨dockerå†…éƒ¨æ‰§è¡Œï¼Œè®¾ç½®ç¯å¢ƒå˜é‡æŒ‡å®šæ˜¾ç¤ºç«¯å£ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> DISPLAY=host.docker.internal:0  </span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/">https://blog.jujimeizuo.cn/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-è½¯ç¡¬ä»¶è®¾ç½®&quot;&gt;&lt;a href=&quot;#1-è½¯ç¡¬ä»¶è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;1 è½¯ç¡¬ä»¶è®¾ç½®&quot;&gt;&lt;/a&gt;1 è½¯ç¡¬ä»¶è®¾ç½®&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Macbook M1 pro&lt;/li&gt;
&lt;li&gt;docker - ubuntu18.04</summary>
      
    
    
    
    
    <category term="linux" scheme="https://blog.jujimeizuo.cn/tags/linux/"/>
    
    <category term="Docker" scheme="https://blog.jujimeizuo.cn/tags/Docker/"/>
    
    <category term="ros" scheme="https://blog.jujimeizuo.cn/tags/ros/"/>
    
  </entry>
  
  <entry>
    <title>Titanicæ•°æ®é›†é¢„æµ‹</title>
    <link href="https://blog.jujimeizuo.cn/2023/07/13/dl-titanic/"/>
    <id>https://blog.jujimeizuo.cn/2023/07/13/dl-titanic/</id>
    <published>2023-07-13T09:38:34.000Z</published>
    <updated>2024-04-01T11:20:21.712Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦ä¹ è‡ª@<a href="https://blog.csdn.net/csdn_xmj/article/details/122172552">åŒæœ¨çš„æœ¨</a>ã€‚</p><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨kaggleå®˜ç½‘ä¸Šæœ‰<a href="https://www.kaggle.com/c/titanic/data">Titanic</a>æœ‰å…³çš„æ•°æ®é›†ï¼Œæœ‰ä»¥ä¸‹featuresï¼Œç°è¦æ±‚å¯¹Suvrivedç‰¹å¾è¿›è¡Œé¢„æµ‹ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/07/image-1689229188640.png" alt="file"></p><h2 id="æ•°æ®é›†åˆ†æ"><a href="#æ•°æ®é›†åˆ†æ" class="headerlink" title="æ•°æ®é›†åˆ†æ"></a>æ•°æ®é›†åˆ†æ</h2><p>æ•°æ®é›†è¢«åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼š</p><ul><li>training set (train.csv)</li><li>test set (test.csv)</li></ul><p>è®­ç»ƒé›†åº”è¯¥è¢«ç”¨æ¥å»ºç«‹ä½ çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚å¯¹äºè®­ç»ƒé›†ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªä¹˜å®¢æä¾›ç»“æœ(ä¹Ÿç§°ä¸ºâ€œground truthâ€)ã€‚ä½ çš„æ¨¡å‹å°†åŸºäºä¹˜å®¢çš„æ€§åˆ«å’Œé˜¶çº§ç­‰â€œç‰¹å¾â€ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ç‰¹å¾å·¥ç¨‹æ¥åˆ›å»ºæ–°çš„ç‰¹å¾ã€‚</p><p>æµ‹è¯•é›†åº”è¯¥ç”¨æ¥æŸ¥çœ‹æ‚¨çš„æ¨¡å‹åœ¨ä¸å¯è§æ•°æ®ä¸Šçš„æ€§èƒ½ã€‚å¯¹äºæµ‹è¯•é›†ï¼Œæˆ‘ä»¬ä¸ä¸ºæ¯ä¸ªä¹˜å®¢æä¾›åŸºæœ¬çœŸç›¸ã€‚ä½ çš„å·¥ä½œå°±æ˜¯é¢„æµ‹è¿™äº›ç»“æœã€‚å¯¹äºæµ‹è¯•ä¸­çš„æ¯ä¸€ä½ä¹˜å®¢ï¼Œä½¿ç”¨ä½ è®­ç»ƒçš„æ¨¡å‹æ¥é¢„æµ‹ä»–ä»¬æ˜¯å¦åœ¨æ³°å¦å°¼å…‹å·æ²‰æ²¡æ—¶å¹¸å­˜ä¸‹æ¥ã€‚</p><p>è¿˜åŒ…æ‹¬gender_submit .csvï¼Œè¿™æ˜¯ä¸€ç»„å‡è®¾æ‰€æœ‰ä¸”åªæœ‰å¥³æ€§ä¹˜å®¢èƒ½å¤Ÿå­˜æ´»çš„é¢„æµ‹ï¼Œä½œä¸ºæäº¤æ–‡ä»¶çš„ç¤ºä¾‹ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/07/image-1689229530750.png" alt="file"></p><p>é€‰å–[â€œPclassâ€, â€œSexâ€, â€œSibSpâ€, â€œParchâ€, â€œFareâ€]äº”ä¸ªç‰¹å¾è¿›è¡Œè®­ç»ƒã€‚</p><h2 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h2><h3 id="åŠ è½½æ•°æ®é›†"><a href="#åŠ è½½æ•°æ®é›†" class="headerlink" title="åŠ è½½æ•°æ®é›†"></a>åŠ è½½æ•°æ®é›†</h3><h4 id="TitanicDataset"><a href="#TitanicDataset" class="headerlink" title="TitanicDataset"></a>TitanicDataset</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TitanicDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, filepath</span>):</span><br><span class="line">        features = [<span class="string">&quot;Pclass&quot;</span>, <span class="string">&quot;Sex&quot;</span>, <span class="string">&quot;SibSp&quot;</span>, <span class="string">&quot;Parch&quot;</span>, <span class="string">&quot;Fare&quot;</span>]</span><br><span class="line">        xy = pd.read_csv(filepath)</span><br><span class="line">        self.<span class="built_in">len</span> = xy.shape[<span class="number">0</span>] <span class="comment">## [0]ä»£è¡¨è¡Œæ•°ï¼Œ[1]ä»£è¡¨åˆ—æ•°</span></span><br><span class="line">        <span class="comment">## dummiesç›¸å½“äºone-hotç¼–ç </span></span><br><span class="line">        self.x_data = torch.from_numpy(np.array(pd.get_dummies(xy[features], dtype=np.float32))).<span class="built_in">float</span>()</span><br><span class="line">        <span class="comment">## np.array(data[&#x27;survived&#x27;])æ˜¯å¯¹data[&#x27;survived&#x27;]åˆ›å»ºä¸€ä¸ªçŸ©é˜µ</span></span><br><span class="line">        <span class="comment">## torch.from_numpy()æ˜¯å°†æ‹¬å·å†…çš„çŸ©é˜µå½¢å¼è½¬æ¢ä¸ºå¼ é‡å½¢å¼ï¼Œæ–¹ä¾¿torchå¤„ç†</span></span><br><span class="line">        self.y_data = torch.from_numpy(np.array(xy[<span class="string">&#x27;Survived&#x27;</span>], dtype=np.float32)).<span class="built_in">float</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">        <span class="keyword">return</span> self.x_data[index], self.y_data[index]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">len</span></span><br><span class="line"></span><br><span class="line">titanic_train = TitanicDataset(<span class="string">r&#x27;./titanic/train.csv&#x27;</span>)</span><br><span class="line">train_loader = DataLoader(dataset=titanic_train, batch_size=<span class="number">16</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="æ„é€ æ¨¡å‹"><a href="#æ„é€ æ¨¡å‹" class="headerlink" title="æ„é€ æ¨¡å‹"></a>æ„é€ æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Model</span>(torch.nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">## å¯¹ç»§æ‰¿äºtorch.nnçš„çˆ¶æ¨¡å—ç±»è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">        <span class="built_in">super</span>(Model, self).__init__()</span><br><span class="line">        <span class="comment">## è¿™é‡ŒåŒ…æ‹¬2ä¸ªçº¿æ€§å±‚ï¼Œæ¯ä¸€ä¸ªçº¿æ€§å±‚è¾“å‡ºéƒ½ç”¨æ¿€æ´»å‡½æ•°æ¿€æ´»</span></span><br><span class="line">        self.linear1 = torch.nn.Linear(<span class="number">6</span>, <span class="number">3</span>) <span class="comment">## äº”ä¸ªç‰¹å¾è½¬åŒ–ä¸ºäº†6ç»´ï¼Œå› ä¸ºget_dummieså°†æ€§åˆ«è¿™ä¸€ä¸ªç‰¹å¾ç”¨ä¸¤ä¸ªç»´åº¦æ¥è¡¨ç¤ºï¼Œå³ç”·æ€§[1,0],å¥³æ€§[0ï¼Œ1]</span></span><br><span class="line">        self.linear2 = torch.nn.Linear(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="comment">## æ¿€æ´»å‡½æ•°ä»Sigmoidè¿™ä¸€å¤§ç±»æ¿€æ´»å‡½æ•°ä¸­é€‰å–sigmoidè¿™ä¸€ç§æ¿€æ´»å‡½æ•°</span></span><br><span class="line">        self.sigmoid = torch.nn.Sigmoid()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = self.sigmoid(self.linear1(x))</span><br><span class="line">        x = self.sigmoid(self.linear2(x))</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">verify</span>(<span class="params">self</span>):</span><br><span class="line">        val_correct, total = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader, <span class="number">0</span>):</span><br><span class="line">                inputs, label = data</span><br><span class="line">                predicted = model.predict(inputs)</span><br><span class="line">                total += label.size(<span class="number">0</span>)</span><br><span class="line">                val_correct += (predicted == np.array(label)).<span class="built_in">sum</span>()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Accuracy: %d&#x27;</span> %(val_correct / total * <span class="number">100</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment">## è¯¥å‡½æ•°ç”¨åœ¨æµ‹è¯•é›†è¿‡ç¨‹ï¼Œå› æ­¤åªæœ‰å‰é¦ˆï¼Œæ²¡æœ‰ä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            x = self.sigmoid(self.linear1(x))</span><br><span class="line">            x = self.sigmoid(self.linear2(x))</span><br><span class="line">            y = []</span><br><span class="line">            <span class="keyword">for</span> result <span class="keyword">in</span> x:</span><br><span class="line">                <span class="keyword">if</span> result &gt; <span class="number">0.5</span>:</span><br><span class="line">                    y.append(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    y.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">model = Model()</span><br></pre></td></tr></table></figure><h3 id="æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨"><a href="#æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨" class="headerlink" title="æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨"></a>æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">criterion = torch.nn.BCELoss(reduction=<span class="string">&#x27;mean&#x27;</span>)</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=<span class="number">0.001</span>)</span><br></pre></td></tr></table></figure><h3 id="è®­ç»ƒæ¨¡å‹"><a href="#è®­ç»ƒæ¨¡å‹" class="headerlink" title="è®­ç»ƒæ¨¡å‹"></a>è®­ç»ƒæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader, <span class="number">0</span>):</span><br><span class="line">            inputs, label = data</span><br><span class="line">            y_pred = model(inputs)</span><br><span class="line">            y_pred = y_pred.squeeze(-<span class="number">1</span>) <span class="comment">## å°†ç»´åº¦é™è‡³1ç»´å¹¶è¾“å‡ºå‡ºæ¥</span></span><br><span class="line">            loss = criterion(y_pred, label) <span class="comment">## å°†é¢„æµ‹çš„å€¼ä¸æ ‡ç­¾è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶æ±‚è§£å‡ºè¯¯å·®å€¼</span></span><br><span class="line">            <span class="built_in">print</span>(epoch, i, loss.item())</span><br><span class="line"></span><br><span class="line">            optimizer.zero_grad() <span class="comment">## ä¹‹å‰çš„æ¢¯åº¦è¿›è¡Œæ¸…é›¶ï¼Œå¦åˆ™æ¢¯åº¦ä¼šç´¯åŠ èµ·æ¥</span></span><br><span class="line">            loss.backward() <span class="comment">## åå‘ä¼ æ’­</span></span><br><span class="line">            optimizer.step() <span class="comment">## æ›´æ–°</span></span><br></pre></td></tr></table></figure><h3 id="éªŒè¯æ¨¡å‹"><a href="#éªŒè¯æ¨¡å‹" class="headerlink" title="éªŒè¯æ¨¡å‹"></a>éªŒè¯æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">verify</span>(<span class="params">self</span>):</span><br><span class="line">        val_correct, total = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader, <span class="number">0</span>):</span><br><span class="line">                inputs, label = data</span><br><span class="line">                predicted = model(inputs)</span><br><span class="line">                total += label.size(<span class="number">0</span>)</span><br><span class="line">                val_correct += (predicted == label).<span class="built_in">sum</span>().item()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Accuracy: %d %%&#x27;</span> %(val_correct / total * <span class="number">100</span>))</span><br><span class="line"></span><br><span class="line">model.verify()</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•æ¨¡å‹"><a href="#æµ‹è¯•æ¨¡å‹" class="headerlink" title="æµ‹è¯•æ¨¡å‹"></a>æµ‹è¯•æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment">## è¯¥å‡½æ•°ç”¨åœ¨æµ‹è¯•é›†è¿‡ç¨‹ï¼Œå› æ­¤åªæœ‰å‰é¦ˆï¼Œæ²¡æœ‰ä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            x = self.sigmoid(self.linear1(x))</span><br><span class="line">            x = self.sigmoid(self.linear2(x))</span><br><span class="line">            y = []</span><br><span class="line">            <span class="keyword">for</span> result <span class="keyword">in</span> x:</span><br><span class="line">                <span class="keyword">if</span> result &gt; <span class="number">0.5</span>:</span><br><span class="line">                    y.append(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    y.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">test_data = pd.read_csv(<span class="string">r&#x27;./titanic/test.csv&#x27;</span>)</span><br><span class="line">features = [<span class="string">&quot;Pclass&quot;</span>, <span class="string">&quot;Sex&quot;</span>, <span class="string">&quot;SibSp&quot;</span>, <span class="string">&quot;Parch&quot;</span>, <span class="string">&quot;Fare&quot;</span>]</span><br><span class="line">test = torch.from_numpy(np.array(pd.get_dummies(test_data[features]), dtype=np.float32))</span><br><span class="line"></span><br><span class="line">result = model.predict(test)</span><br><span class="line"></span><br><span class="line">submission = pd.read_csv(<span class="string">r&#x27;./titanic/gender_submission.csv&#x27;</span>)</span><br><span class="line">submission[<span class="string">&#x27;Survived&#x27;</span>] = result</span><br><span class="line">submission.to_csv(<span class="string">r&#x27;./titanic/gender_submission_result_1.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/07/13/dl-titanic/">https://blog.jujimeizuo.cn/2023/07/13/dl-titanic/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å­¦ä¹ è‡ª@&lt;a href=&quot;https://blog.csdn.net/csdn_xmj/article/details/122172552&quot;&gt;åŒæœ¨çš„æœ¨&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜æè¿°&quot;&gt;&lt;a href=&quot;#é—®é¢˜æè¿°&quot; class=&quot;headerlink&quot; tit</summary>
      
    
    
    
    
    <category term="deep-learning" scheme="https://blog.jujimeizuo.cn/tags/deep-learning/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨æ—¶é’Ÿå‘¨æœŸè¯„æµ‹æ€§èƒ½</title>
    <link href="https://blog.jujimeizuo.cn/2023/04/23/rdtsc/"/>
    <id>https://blog.jujimeizuo.cn/2023/04/23/rdtsc/</id>
    <published>2023-04-23T06:53:08.000Z</published>
    <updated>2024-04-01T11:19:02.090Z</updated>
    
    <content type="html"><![CDATA[<h2 id="rdtscæŒ‡ä»¤"><a href="#rdtscæŒ‡ä»¤" class="headerlink" title="rdtscæŒ‡ä»¤"></a>rdtscæŒ‡ä»¤</h2><p>rdtscæŒ‡ä»¤, è¯¥æŒ‡ä»¤è¿”å›CPUè‡ªå¯åŠ¨ä»¥æ¥çš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼›è¯¥æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œå³å¤„ç†å™¨çš„æ—¶é—´æˆ³ã€‚</p><p>åœ¨CPUé€šç”µå¯åŠ¨åï¼Œé¦–å…ˆä¼šé‡ç½®EDXå’ŒEAXï¼Œåœ¨æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸä¸Šå‡æˆ–ä¸‹é™æ²¿åˆ°æ¥æ—¶ï¼Œä¼šè‡ªåŠ¨ç´¯è®¡å‘¨æœŸæ•°ï¼Œå¹¶è¢«è®°å½•åˆ°EDXå’ŒEAXå¯„å­˜å™¨ä¸­ï¼ŒEDXæ˜¯é«˜ä½ï¼ŒEAXæ˜¯ä½ä½ã€‚</p><p>rdtscæŒ‡ä»¤å°±æ˜¯ä»è¯¥å¯„å­˜å™¨ä¸­è¿›è¡Œè·å–çš„ã€‚</p><p>å‘¨æœŸå’Œé¢‘ç‡çš„å…³ç³»å…¬å¼ï¼šTï¼ˆå‘¨æœŸï¼‰&#x3D;1&#x2F;fï¼ˆé¢‘ç‡ï¼‰</p><p>å¦‚CPUé¢‘ç‡fä¸º1GHzï¼Œåˆ™å…¶æ—¶é’Ÿå‘¨æœŸT&#x3D;1&#x2F;1GHzç§’ï¼Œæ„å‘³ç€æ¯éš”Tç§’ï¼ŒCPUå®Œæˆä¸€ä¸ªæœ€åŸºæœ¬çš„åŠ¨ä½œï¼Œå¹¶åœ¨å¯„å­˜å™¨ä¸­ï¼Œå¯¹å‘¨æœŸæ•°åŠ 1ã€‚</p><p>æ•…ï¼Œå‡è®¾å½“å‰æ—¶é’Ÿå‘¨æœŸæ•°ä¸ºmï¼Œåˆ™å¯è®¡ç®—å‡ºCPUè‡ªå¯åŠ¨åï¼Œç´¯è®¡è¿è¡Œæ—¶é—´X&#x3D;m*T.</p><p>$$CPUç´¯è®¡è¿è¡Œæ—¶é—´&#x3D;æ—¶é’Ÿå‘¨æœŸæ•°&#x2F;CPUé¢‘ç‡$$</p><h2 id="å›ºå®šCPUé¢‘ç‡"><a href="#å›ºå®šCPUé¢‘ç‡" class="headerlink" title="å›ºå®šCPUé¢‘ç‡"></a>å›ºå®šCPUé¢‘ç‡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install cpufrequtils</span><br><span class="line"><span class="built_in">cat</span> /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors</span><br><span class="line">sudo cpufreq-set -g performance</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¸èƒ½ä¸€æ¬¡æ€§è®¾ç½®ï¼Œéœ€è¦æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªè®¾ç½®</span></span><br><span class="line">cpufreq-set -c 0 -f 2.4G</span><br><span class="line">cpufreq-set -c 1 -f 2.4G</span><br><span class="line">cpufreq-set -c 2 -f 2.4G</span><br><span class="line">cpufreq-set -c 3 -f 2.4G</span><br><span class="line">cpufreq-set -c 4 -f 2.4G</span><br><span class="line">cpufreq-set -c 5 -f 2.4G</span><br><span class="line">cpufreq-set -c 6 -f 2.4G</span><br><span class="line">cpufreq-set -c 7 -f 2.4G</span><br><span class="line">cpufreq-set -c 8 -f 2.4G</span><br><span class="line">cpufreq-set -c 9 -f 2.4G</span><br><span class="line">cpufreq-set -c 10 -f 2.4G</span><br><span class="line">cpufreq-set -c 11 -f 2.4G</span><br><span class="line">cpufreq-set -c 12 -f 2.4G</span><br><span class="line">cpufreq-set -c 13 -f 2.4G</span><br><span class="line">cpufreq-set -c 14 -f 2.4G</span><br><span class="line">cpufreq-set -c 15 -f 2.4G</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo  grep MHz</span><br></pre></td></tr></table></figure><h2 id="ç»‘å®šCPUæ ¸"><a href="#ç»‘å®šCPUæ ¸" class="headerlink" title="ç»‘å®šCPUæ ¸"></a>ç»‘å®šCPUæ ¸</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">bind_to_core</span><span class="params">(<span class="type">int</span> tid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// return;</span></span><br><span class="line">    <span class="type">cpu_set_t</span> mask;</span><br><span class="line">    <span class="built_in">CPU_ZERO</span>(&amp;mask);</span><br><span class="line">    <span class="built_in">CPU_SET</span>(tid, &amp;mask);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">sched_setaffinity</span>(<span class="number">0</span>, <span class="built_in">sizeof</span>(mask), &amp;mask) != <span class="number">0</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Failed to set affinity (core: &quot;</span> &lt;&lt; tid &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»‘å®šç¬¬15ä¸ªCPUæ ¸ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bind_to_core</span>(<span class="number">15</span>);</span><br></pre></td></tr></table></figure><h2 id="è·å–æ—¶é’Ÿå‘¨æœŸ"><a href="#è·å–æ—¶é’Ÿå‘¨æœŸ" class="headerlink" title="è·å–æ—¶é’Ÿå‘¨æœŸ"></a>è·å–æ—¶é’Ÿå‘¨æœŸ</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> <span class="title">rdtsc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> lo, hi;</span><br><span class="line">    __asm__ __volatile__ (<span class="string">&quot;rdtsc&quot;</span> : <span class="string">&quot;=a&quot;</span> (lo), <span class="string">&quot;=d&quot;</span> (hi));</span><br><span class="line">    <span class="keyword">return</span> ((<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>)hi &lt;&lt; <span class="number">32</span>)  lo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/04/23/rdtsc/">https://blog.jujimeizuo.cn/2023/04/23/rdtsc/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;rdtscæŒ‡ä»¤&quot;&gt;&lt;a href=&quot;#rdtscæŒ‡ä»¤&quot; class=&quot;headerlink&quot; title=&quot;rdtscæŒ‡ä»¤&quot;&gt;&lt;/a&gt;rdtscæŒ‡ä»¤&lt;/h2&gt;&lt;p&gt;rdtscæŒ‡ä»¤, è¯¥æŒ‡ä»¤è¿”å›CPUè‡ªå¯åŠ¨ä»¥æ¥çš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼›è¯¥æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œå³å¤„ç†å™¨çš„æ—¶é—´æˆ³ã€‚&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="hpc" scheme="https://blog.jujimeizuo.cn/tags/hpc/"/>
    
  </entry>
  
  <entry>
    <title>åŸºç¡€ç®—æ³•ç®—å­åº“ - KD-Tree</title>
    <link href="https://blog.jujimeizuo.cn/2023/04/03/kdtree/"/>
    <id>https://blog.jujimeizuo.cn/2023/04/03/kdtree/</id>
    <published>2023-04-03T07:42:30.000Z</published>
    <updated>2024-04-01T11:19:02.710Z</updated>
    
    <content type="html"><![CDATA[<h2 id="libnabo"><a href="#libnabo" class="headerlink" title="libnabo"></a>libnabo</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>libnabo æ˜¯ä¸€ä¸ªç”¨äºä½ç»´ç©ºé—´çš„å¿«é€Ÿ K æœ€è¿‘é‚»åº“ã€‚å¾—ç›Šäº C++ æ¨¡æ¿ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¹²å‡€ã€æ— é—ç•™é—®é¢˜ã€ä¸æ ‡é‡ç±»å‹æ— å…³çš„ APIã€‚å®ƒå½“å‰çš„ CPU å®ç°å—åˆ°ANNçš„å¼ºçƒˆå¯å‘ï¼Œä½†å…·æœ‰æ›´ç´§å‡‘çš„æ•°æ®ç±»å‹ã€‚å¹³å‡è€Œè¨€ï¼Œlibnabo æ¯”ANNå¿« 5% åˆ° 20% ã€‚</p><p>libnabo ä¾èµ–äºEigenï¼Œä¸€ä¸ªç°ä»£ C++ çŸ©é˜µå’Œçº¿æ€§ä»£æ•°åº“ã€‚libnabo é€‚ç”¨äº Eigen çš„ç‰ˆæœ¬ 2 æˆ– 3ã€‚libnabo è¿˜å¯ä»¥é€‰æ‹©ä¾èµ–Boostï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äº Python ç»‘å®šçš„ C++ é€šç”¨åº“ã€‚</p><h3 id="installion"><a href="#installion" class="headerlink" title="installion"></a>installion</h3><h4 id="download"><a href="#download" class="headerlink" title="download"></a>download</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:ethz-asl/libnabo.git</span><br></pre></td></tr></table></figure><h4 id="prerequisites"><a href="#prerequisites" class="headerlink" title="prerequisites"></a>prerequisites</h4><ul><li><a href="http://eigen.tuxfamily.org/index.php?title=Main_Page" title="Eigen">Eigen</a></li><li><a href="https://www.boost.org/users/download/">Boost</a> ï¼ˆOption)</li></ul><h4 id="install"><a href="#install" class="headerlink" title="install"></a>install</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SRC_DIR=<span class="built_in">pwd</span></span><br><span class="line">BUILD_DIR=<span class="variable">$&#123;SRC_DIR&#125;</span>/build</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$&#123;BUILD_DIR&#125;</span> &amp;&amp; <span class="built_in">cd</span> <span class="variable">$&#123;BUILD_DIR&#125;</span></span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo <span class="variable">$&#123;SRC_DIR&#125;</span></span><br><span class="line"><span class="comment"># if Eigen or Boost are not available system-wide, run at that point:</span></span><br><span class="line"><span class="comment">#   cmake-gui .</span></span><br><span class="line"><span class="comment"># cmake-gui allows you to tell the location of Eigen or Boost</span></span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h4 id="CmakeLists-txt"><a href="#CmakeLists-txt" class="headerlink" title="CmakeLists.txt"></a>CmakeLists.txt</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#--------------------</span></span><br><span class="line"><span class="comment"># DEPENDENCY: nabo</span></span><br><span class="line"><span class="comment">#--------------------</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">NOT</span> <span class="keyword">TARGET</span> nabo)</span><br><span class="line">  <span class="comment"># Find libnabo:</span></span><br><span class="line">  <span class="keyword">find_package</span>(libnabo REQUIRED PATHS <span class="variable">$&#123;LIBNABO_INSTALL_DIR&#125;</span>)</span><br><span class="line">  <span class="keyword">message</span>(STATUS <span class="string">&quot;libnabo found, version $&#123;libnabo_VERSION&#125; (include=$&#123;libnabo_INCLUDE_DIRS&#125; libs=$&#123;libnabo_LIBRARIES&#125;)&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>()</span><br><span class="line">  <span class="comment"># libnabo already part of this project (e.g. as a git submodule)</span></span><br><span class="line">  <span class="comment"># (This, plus the use of cmake target properties in libnabo, will also</span></span><br><span class="line">  <span class="comment"># introduce the required include directories, flags, etc.)</span></span><br><span class="line"><span class="keyword">endif</span>()</span><br><span class="line"><span class="comment"># This cmake target alias will be defined by either: </span></span><br><span class="line"><span class="comment"># a) libnabo sources if built as a git submodule in the same project than this library, or</span></span><br><span class="line"><span class="comment"># b) by libnabo-targets.cmake, included by find_package(libnabo) above.</span></span><br><span class="line"><span class="keyword">set</span>(libnabo_LIBRARIES libnabo::nabo)</span><br><span class="line"></span><br><span class="line"><span class="comment"># target_link_libraries THIRD_PARTY_LIBS is ok</span></span><br><span class="line"><span class="keyword">set</span>(THIRD_PARTY_LIBS</span><br><span class="line">        <span class="variable">$&#123;libnabo_LIBRARIES&#125;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="comment"># ####### dependencies ########</span></span><br><span class="line"><span class="keyword">find_package</span>(Eigen3 REQUIRED)</span><br><span class="line"><span class="keyword">include_directories</span>(<span class="variable">$&#123;EIGEN3_INCLUDE_DIR&#125;</span>)</span><br><span class="line"><span class="keyword">include_directories</span>(<span class="variable">$&#123;NABO_INCLUDE_DIR&#125;</span>)</span><br></pre></td></tr></table></figure><h2 id="flann"><a href="#flann" class="headerlink" title="flann"></a>flann</h2><h3 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>FLANNï¼ˆè¿‘ä¼¼è¿‘é‚»å¿«é€Ÿåº“ï¼‰æ˜¯ä¸€ä¸ªç”¨äºæ‰§è¡Œå¿«é€Ÿè¿‘ä¼¼è¿‘é‚»æœç´¢çš„åº“ã€‚FLANNæ˜¯ç”¨C++ç¼–å†™çš„ï¼Œè¯¥åº“æä¾›çš„Cã€MATLABå’ŒPythonæ¥å£ã€‚</p><h3 id="Installion"><a href="#Installion" class="headerlink" title="Installion"></a>Installion</h3><h4 id="download-1"><a href="#download-1" class="headerlink" title="download"></a>download</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/flann-lib/flann.git </span><br></pre></td></tr></table></figure><h4 id="install-1"><a href="#install-1" class="headerlink" title="install"></a>install</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> flann</span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=Release -DBUILD_PYTHON_BINDINGS=OFF -DBUILD_MATLAB_BINDINGS=OFF -DBUILD_EXAMPLES=OFF -DBUILD_TESTS=OFF -DBUILD_D</span><br><span class="line">OC=OFF ..</span><br><span class="line">make -j5</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h4 id="CMakeLists-txt"><a href="#CMakeLists-txt" class="headerlink" title="CMakeLists.txt"></a>CMakeLists.txt</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">find_package</span>(flann REQUIRED)</span><br><span class="line"><span class="keyword">set</span>(THIRD_PARTY_LIBS</span><br><span class="line">        <span class="variable">$&#123;libflann_LIBRARIES&#125;</span></span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/04/03/kdtree/">https://blog.jujimeizuo.cn/2023/04/03/kdtree/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;libnabo&quot;&gt;&lt;a href=&quot;#libnabo&quot; class=&quot;headerlink&quot; title=&quot;libnabo&quot;&gt;&lt;/a&gt;libnabo&lt;/h2&gt;&lt;h3 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€</summary>
      
    
    
    
    
    <category term="åŸºç¡€ç®—æ³•ç®—å­åº“" scheme="https://blog.jujimeizuo.cn/tags/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95%E7%AE%97%E5%AD%90%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³__FILE__ å®ç»å¯¹è·¯å¾„çš„é—®é¢˜(ç›¸å¯¹è·¯å¾„)</title>
    <link href="https://blog.jujimeizuo.cn/2023/02/27/cmake-file/"/>
    <id>https://blog.jujimeizuo.cn/2023/02/27/cmake-file/</id>
    <published>2023-02-27T08:42:26.000Z</published>
    <updated>2024-04-01T11:19:02.090Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜è¡¨ç°"><a href="#é—®é¢˜è¡¨ç°" class="headerlink" title="é—®é¢˜è¡¨ç°"></a>é—®é¢˜è¡¨ç°</h2><p>é€šè¿‡cmakeç¼–è¯‘çš„ä»£ç ï¼Œåœ¨ä»£ç ä¸­è¾“å‡ºFILEå°±ä»£ç æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚åœ¨å¤§å¤šæ•°ä½¿ç”¨FILEè¿™å®çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨äºæ—¥å¿—è¾“å‡ºï¼Œé¦–å…ˆä½¿ç”¨ç»å¯¹è·¯å¾„ä¼šä½¿æ—¥å¿—é‡è†¨èƒ€ï¼Œå…¶æ¬¡æˆ‘ä»¬æœ€ç»ˆçš„ç¨‹åºæ‰§è¡Œçš„ç¯å¢ƒï¼Œå¯èƒ½ä¸ç¼–è¯‘çš„ç¯å¢ƒä¸ä¸€æ ·ï¼Œè¾“å‡ºç»å¯¹è·¯å¾„å¹¶æ²¡æœ‰å¤šå¤§çš„å‚è€ƒæ„ä¹‰</p><p>ä¾‹å¦‚ï¼š&#x2F;home&#x2F;dell&#x2F;workspace&#x2F;â€¦.</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>æ—¢ç„¶FILEå®æ˜¯gccå®šä¹‰çš„ï¼Œé»˜è®¤ç­‰äºgccå‘½ä»¤ä¸­çš„æ–‡ä»¶è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡æ–°å®šä¹‰è¯¥å®æ¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ï¼Œå¦‚ä¸‹æ–¹å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g++ tests/test.cc -D__FILE__=<span class="string">&quot;\&quot;tests/test.cc\&quot;&quot;</span> -o test</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šhello __FILE__=tests/test.cc</span></span><br></pre></td></tr></table></figure><h2 id="åœ¨cmakeé‡Œè§£å†³"><a href="#åœ¨cmakeé‡Œè§£å†³" class="headerlink" title="åœ¨cmakeé‡Œè§£å†³"></a>åœ¨cmakeé‡Œè§£å†³</h2><p>å¦‚æœéœ€è¦åœ¨æ¯ä¸ªæºæ–‡ä»¶çš„ç¼–è¯‘ä¸Šé¢éƒ½å¸¦ä¸Šå¯¹åº”çš„å®šä¹‰(-D<strong>FILE</strong>=â€\â€tests&#x2F;test.cc\â€â€),é‚£ä¹ˆCMakeLists.txté‡Œé¢å°±æ¯”è¾ƒæ··ä¹±äº†ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ç§å®šä¹‰ï¼Œå°è£…åˆ°ä¸€ä¸ªcmakeå‡½æ•°é‡Œé¢ï¼Œå½“éœ€è¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œå°±æ‰§è¡Œä¸€ä¸‹è¿™ä¸ªå‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥ä¼˜é›…çš„è§£å†³FILEç»å¯¹è·¯å¾„çš„é—®é¢˜ï¼Œå°†ç»å¯¹è·¯å¾„å˜æˆç›¸å¯¹è·¯å¾„</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## utils.cmake</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##é‡æ–°å®šä¹‰å½“å‰ç›®æ ‡çš„æºæ–‡ä»¶çš„__FILE__å®</span></span><br><span class="line"><span class="keyword">function</span>(redefine_file_macro targetname)</span><br><span class="line">    <span class="comment">##è·å–å½“å‰ç›®æ ‡çš„æ‰€æœ‰æºæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">get_target_property</span>(source_files <span class="string">&quot;$&#123;targetname&#125;&quot;</span> SOURCES)</span><br><span class="line">    <span class="comment">##éå†æºæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">foreach</span>(sourcefile <span class="variable">$&#123;source_files&#125;</span>)</span><br><span class="line">        <span class="comment">##è·å–å½“å‰æºæ–‡ä»¶çš„ç¼–è¯‘å‚æ•°</span></span><br><span class="line">        <span class="keyword">get_property</span>(defs SOURCE <span class="string">&quot;$&#123;sourcefile&#125;&quot;</span></span><br><span class="line">            PROPERTY COMPILE_DEFINITIONS)</span><br><span class="line">        <span class="comment">##è·å–å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">        <span class="keyword">get_filename_component</span>(filepath <span class="string">&quot;$&#123;sourcefile&#125;&quot;</span> ABSOLUTE)</span><br><span class="line">        <span class="comment">##å°†ç»å¯¹è·¯å¾„ä¸­çš„é¡¹ç›®è·¯å¾„æ›¿æ¢æˆç©º,å¾—åˆ°æºæ–‡ä»¶ç›¸å¯¹äºé¡¹ç›®è·¯å¾„çš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">        <span class="keyword">string</span>(REPLACE <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/ <span class="string">&quot;&quot;</span> relpath <span class="variable">$&#123;filepath&#125;</span>)</span><br><span class="line">        <span class="comment">##å°†æˆ‘ä»¬è¦åŠ çš„ç¼–è¯‘å‚æ•°(__FILE__å®šä¹‰)æ·»åŠ åˆ°åŸæ¥çš„ç¼–è¯‘å‚æ•°é‡Œé¢</span></span><br><span class="line">        <span class="keyword">list</span>(APPEND defs <span class="string">&quot;__FILE__=\&quot;$&#123;relpath&#125;\&quot;&quot;</span>)</span><br><span class="line">        <span class="comment">##é‡æ–°è®¾ç½®æºæ–‡ä»¶çš„ç¼–è¯‘å‚æ•°</span></span><br><span class="line">        <span class="keyword">set_property</span>(</span><br><span class="line">            SOURCE <span class="string">&quot;$&#123;sourcefile&#125;&quot;</span></span><br><span class="line">            PROPERTY COMPILE_DEFINITIONS <span class="variable">$&#123;defs&#125;</span></span><br><span class="line">            )</span><br><span class="line">    <span class="keyword">endforeach</span>()</span><br><span class="line"><span class="keyword">endfunction</span>()</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†ä¸Šé¢çš„ä»£ç ï¼Œå†™å…¥åˆ°utils.cmakeæ–‡ä»¶é‡Œé¢ï¼Œç„¶åå»ä¿®æ”¹æˆ‘ä»¬çš„CMakeLists.txtï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ”¯æŒFILEè¾“å‡ºç›¸å¯¹è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required (VERSION 2.8)</span><br><span class="line"></span><br><span class="line">project(server)</span><br><span class="line"></span><br><span class="line">include (utils.cmake)</span><br><span class="line"></span><br><span class="line">add_definitions(-Wno-builtin-macro-redefined)</span><br><span class="line"></span><br><span class="line">add_executable(test tests/test.cc)</span><br><span class="line">redefine_file_macro(test)</span><br></pre></td></tr></table></figure><p>redefine_file_macro(test), ä¸ºæˆ‘ä»¬çš„è¾“å‡ºç›®æ ‡æ·»åŠ FILEå®é‡å®šä¹‰åŠŸèƒ½ å½“æˆ‘ä»¬å†²å®šä¹‰äº†FILEå®ï¼Œç¼–è¯‘å™¨ä¼šå‘Šè­¦ â€œ:0:0: warning: â€œFILEâ€ redefined [-Wbuiltin-macro-redefined]â€, ä¸ºäº†è§£å†³è¿™ä¸ªè­¦å‘Šï¼Œæˆ‘ä»¬éœ€è¦åœ¨CMakeLists.txté‡Œé¢åŠ ä¸Šadd_definitions(-Wno-builtin-macro-redefined)</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ç»“ cmakeç¼–è¯‘çš„FILEè™½ç„¶æ˜¯ç»å¯¹è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å†²å®šä¹‰FILEçš„æ–¹å¼æ¥è§£å†³ã€‚cmakeæ”¯æŒè‡ªå®šä¹‰å‡½æ•°ï¼Œè‡ªå®šä¹‰å®çš„æ–¹å¼ï¼Œæˆ‘ä»¬åˆ©ç”¨è‡ªå®šä¹‰å‡½æ•°ï¼Œå°†æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ç‰¹æ€§å°è£…åˆ°å‡½æ•°é‡Œé¢ï¼Œå†™åˆ°ä¸€ä¸ªå•ç‹¬çš„cmakeæ–‡ä»¶é‡Œé¢ï¼Œå½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦include xxx.cmakeæ–‡ä»¶å°±å¯ä»¥äº†ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/02/27/cmake-file/">https://blog.jujimeizuo.cn/2023/02/27/cmake-file/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜è¡¨ç°&quot;&gt;&lt;a href=&quot;#é—®é¢˜è¡¨ç°&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜è¡¨ç°&quot;&gt;&lt;/a&gt;é—®é¢˜è¡¨ç°&lt;/h2&gt;&lt;p&gt;é€šè¿‡cmakeç¼–è¯‘çš„ä»£ç ï¼Œåœ¨ä»£ç ä¸­è¾“å‡ºFILEå°±ä»£ç æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚åœ¨å¤§å¤šæ•°ä½¿ç”¨FILEè¿™å®çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨äºæ—¥å¿—è¾“å‡ºï¼Œé¦–å…ˆä½¿</summary>
      
    
    
    
    
    <category term="C++" scheme="https://blog.jujimeizuo.cn/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>IOå¤šè·¯å¤ç”¨-epoll</title>
    <link href="https://blog.jujimeizuo.cn/2023/01/27/epoll/"/>
    <id>https://blog.jujimeizuo.cn/2023/01/27/epoll/</id>
    <published>2023-01-27T11:28:34.000Z</published>
    <updated>2024-04-01T11:19:01.829Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å™è¿°"><a href="#å™è¿°" class="headerlink" title="å™è¿°"></a>å™è¿°</h2><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>epollï¼ˆeventpollï¼‰æ˜¯ä¸€ç§I&#x2F;Oäº‹ä»¶é€šçŸ¥æœºåˆ¶ï¼Œæ˜¯linuxå†…æ ¸å®ç°IOå¤šè·¯å¤ç”¨çš„å®ç°ã€‚</p><p>IOå¤šè·¯å¤ç”¨æŒ‡åœ¨ä¸€ä¸ªæ“ä½œé‡ŒåŒæ—¶ç›‘å¬å¤šä¸ªè¾“å…¥è¾“å‡ºæºï¼Œåœ¨å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥è¾“å‡ºæºå¯ç”¨æ—¶è¿”å›ï¼Œç„¶åå¯¹å…¶è¿›è¡Œè¯»å†™æ“ä½œã€‚</p><p>epollæ—¶selectå’Œpollçš„å‡çº§ç‰ˆï¼Œæ”¹è¿›äº†å·¥ä½œæ–¹å¼ä¼šæ›´åŠ é«˜æ•ˆã€‚</p><h4 id="é€šçŸ¥æœºåˆ¶"><a href="#é€šçŸ¥æœºåˆ¶" class="headerlink" title="é€šçŸ¥æœºåˆ¶"></a>é€šçŸ¥æœºåˆ¶</h4><p>é€šçŸ¥æœºåˆ¶å°±æ˜¯å½“äº‹ä»¶å‘ç”Ÿæ—¶ä¼šä¸»åŠ¨é€šçŸ¥ï¼Œåé¢å°±æ˜¯è½®è¯¢æœºåˆ¶ã€‚</p><h4 id="é€šä¿—è§£é‡Š"><a href="#é€šä¿—è§£é‡Š" class="headerlink" title="é€šä¿—è§£é‡Š"></a>é€šä¿—è§£é‡Š</h4><p>epollçš„é€šä¿—è§£é‡Šæ˜¯ä¸€ç§å½“æ–‡ä»¶æè¿°ç¬¦çš„å†…æ ¸ç¼“å†²åŒºéç©ºçš„æ—¶å€™ï¼Œå‘å‡ºå¯è¯»ä¿¡å·è¿›è¡Œé€šçŸ¥ï¼Œå½“å†™ç¼“å†²åŒºä¸æ»¡çš„æ—¶å€™ï¼Œå‘å‡ºå¯å†™ä¿¡å·é€šçŸ¥çš„æœºåˆ¶</p><h4 id="å¯¹æ¯”selectå’Œpoll"><a href="#å¯¹æ¯”selectå’Œpoll" class="headerlink" title="å¯¹æ¯”selectå’Œpoll"></a>å¯¹æ¯”selectå’Œpoll</h4><p>select&#x2F;poll ä½æ•ˆçš„åŸå› ä¹‹ä¸€æ˜¯å°† â€œæ·»åŠ  &#x2F; ç»´æŠ¤å¾…æ£€æµ‹ä»»åŠ¡â€ å’Œ â€œé˜»å¡è¿›ç¨‹ &#x2F; çº¿ç¨‹â€ ä¸¤ä¸ªæ­¥éª¤åˆäºŒä¸ºä¸€ã€‚æ¯æ¬¡è°ƒç”¨ select éƒ½éœ€è¦è¿™ä¸¤æ­¥æ“ä½œï¼Œç„¶è€Œå¤§å¤šæ•°åº”ç”¨åœºæ™¯ä¸­ï¼Œéœ€è¦ç›‘è§†çš„ socket ä¸ªæ•°ç›¸å¯¹å›ºå®šï¼Œå¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½ä¿®æ”¹ã€‚epoll å°†è¿™ä¸¤ä¸ªæ“ä½œåˆ†å¼€ï¼Œå…ˆç”¨ epoll_ctl() ç»´æŠ¤ç­‰å¾…é˜Ÿåˆ—ï¼Œå†è°ƒç”¨ epoll_wait() é˜»å¡è¿›ç¨‹ï¼ˆè§£è€¦ï¼‰ã€‚é€šè¿‡ä¸‹å›¾çš„å¯¹æ¯”æ˜¾è€Œæ˜“è§ï¼Œepoll çš„æ•ˆç‡å¾—åˆ°äº†æå‡ã€‚</p><p><img src="https://subingwen.cn/linux/epoll/image-20210403181746358.png"></p><h2 id="æ ¸å¿ƒå‡½æ•°"><a href="#æ ¸å¿ƒå‡½æ•°" class="headerlink" title="æ ¸å¿ƒå‡½æ•°"></a>æ ¸å¿ƒå‡½æ•°</h2><h4 id="epoll-size"><a href="#epoll-size" class="headerlink" title="epoll_size()"></a>epoll_size()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºepollå®ä¾‹ï¼Œé€šè¿‡ä¸€æ£µçº¢é»‘æ ‘ç®¡ç†å¾…æ£€æµ‹é›†åˆ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">epoll_size</span><span class="params">(<span class="type">int</span> size)</span></span>;</span><br></pre></td></tr></table></figure><p>å†…æ ¸ä¼šäº§ç”Ÿä¸€ä¸ªepoll å®ä¾‹æ•°æ®ç»“æ„å¹¶è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œè¿™ä¸ªç‰¹æ®Šçš„æè¿°ç¬¦å°±æ˜¯epollå®ä¾‹çš„å¥æŸ„ï¼Œåé¢çš„ä¸¤ä¸ªæ¥å£éƒ½ä»¥å®ƒä¸ºä¸­å¿ƒï¼ˆå³epfdå½¢å‚ï¼‰ã€‚</p><ul><li>å‡½æ•°å‚æ•°<ul><li>sizeï¼šåœ¨ Linux å†…æ ¸ 2.6.8 ç‰ˆæœ¬ä»¥åï¼Œè¿™ä¸ªå‚æ•°æ˜¯è¢«å¿½ç•¥çš„ï¼Œåªéœ€è¦æŒ‡å®šä¸€ä¸ªå¤§äº 0 çš„æ•°å€¼å°±å¯ä»¥äº†ã€‚</li></ul></li><li>å‡½æ•°è¿”å›å€¼ï¼š<ul><li>å¤±è´¥ï¼šè¿”å› - 1</li><li>æˆåŠŸï¼šè¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œé€šè¿‡è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦å°±å¯ä»¥è®¿é—®åˆ›å»ºçš„ epoll å®ä¾‹äº†</li></ul></li></ul><h4 id="epoll-ctl"><a href="#epoll-ctl" class="headerlink" title="epoll_ctl()"></a>epoll_ctl()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®¡ç†çº¢é»‘æ ‘ä¸Šçš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆæ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">epoll_ctl</span><span class="params">(<span class="type">int</span> epfd, <span class="type">int</span> op, <span class="type">int</span> fd, <span class="keyword">struct</span> epoll_event *event)</span></span>;</span><br></pre></td></tr></table></figure><p>å°†è¢«ç›‘å¬çš„æè¿°ç¬¦æ·»åŠ åˆ°çº¢é»‘æ ‘æˆ–ä»çº¢é»‘æ ‘ä¸­åˆ é™¤æˆ–è€…å¯¹ç›‘å¬äº‹ä»¶è¿›è¡Œä¿®æ”¹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">union</span> <span class="title class_">epoll_data</span> &#123;</span><br><span class="line"><span class="type">void</span> *ptr; <span class="comment">/* æŒ‡å‘ç”¨æˆ·è‡ªå®šä¹‰æ•°æ® */</span></span><br><span class="line"><span class="type">int</span> fd; <span class="comment">/* æ³¨å†Œçš„æ–‡ä»¶æè¿°ç¬¦ */</span></span><br><span class="line"><span class="type">uint32_t</span> u32; <span class="comment">/* 32-bit integer */</span></span><br><span class="line"><span class="type">uint64_t</span> u64; <span class="comment">/* 64-bit integer */</span></span><br><span class="line">&#125; <span class="type">epoll_data_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">epoll_event</span> &#123;</span><br><span class="line"><span class="type">uint32_t</span> events; <span class="comment">/* æè¿°epolläº‹ä»¶ */</span></span><br><span class="line"><span class="type">epoll_data_t</span> data; <span class="comment">/* è§ä¸Šé¢çš„ç»“æ„ä½“ */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>å‡½æ•°å‚æ•°ï¼š<ul><li>epfdï¼šepoll_create () å‡½æ•°çš„è¿”å›å€¼ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°æ‰¾åˆ° epoll å®ä¾‹</li><li>opï¼šè¿™æ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œæ§åˆ¶é€šè¿‡è¯¥å‡½æ•°æ‰§è¡Œä»€ä¹ˆæ“ä½œ<ul><li>EPOLL_CTL_ADDï¼šå¾€ epoll æ¨¡å‹ä¸­æ·»åŠ æ–°çš„èŠ‚ç‚¹</li><li>EPOLL_CTL_MODï¼šä¿®æ”¹ epoll æ¨¡å‹ä¸­å·²ç»å­˜åœ¨çš„èŠ‚ç‚¹</li><li>EPOLL_CTL_DELï¼šåˆ é™¤ epoll æ¨¡å‹ä¸­çš„æŒ‡å®šçš„èŠ‚ç‚¹</li></ul></li><li>fdï¼šæ–‡ä»¶æè¿°ç¬¦ï¼Œå³è¦æ·»åŠ  &#x2F; ä¿®æ”¹ &#x2F; åˆ é™¤çš„æ–‡ä»¶æè¿°ç¬¦</li><li>eventï¼šepoll äº‹ä»¶ï¼Œç”¨æ¥ä¿®é¥°ç¬¬ä¸‰ä¸ªå‚æ•°å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦çš„ï¼ŒæŒ‡å®šæ£€æµ‹è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„ä»€ä¹ˆäº‹ä»¶<ul><li>eventsï¼šå§”æ‰˜ epoll æ£€æµ‹çš„äº‹ä»¶<ul><li>EPOLLINï¼šè¯»äº‹ä»¶ï¼Œæ¥æ”¶æ•°æ®ï¼Œæ£€æµ‹è¯»ç¼“å†²åŒºï¼Œå¦‚æœæœ‰æ•°æ®è¯¥æ–‡ä»¶æè¿°ç¬¦å°±ç»ª</li><li>EPOLLOUTï¼šå†™äº‹ä»¶ï¼Œå‘é€æ•°æ®ï¼Œæ£€æµ‹å†™ç¼“å†²åŒºï¼Œå¦‚æœå¯å†™è¯¥æ–‡ä»¶æè¿°ç¬¦å°±ç»ª</li><li>EPOLLERRï¼šå¼‚å¸¸äº‹ä»¶</li></ul></li></ul></li><li>dataï¼šç”¨æˆ·æ•°æ®å˜é‡ï¼Œè¿™æ˜¯ä¸€ä¸ªè”åˆä½“ç±»å‹ï¼Œé€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨é‡Œè¾¹çš„ fd æˆå‘˜ï¼Œç”¨äºå­˜å‚¨å¾…æ£€æµ‹çš„æ–‡ä»¶æè¿°ç¬¦çš„å€¼ï¼Œåœ¨è°ƒç”¨ epoll_wait() å‡½æ•°çš„æ—¶å€™è¿™ä¸ªå€¼ä¼šè¢«ä¼ å‡ºã€‚</li></ul></li><li>å‡½æ•°è¿”å›å€¼ï¼š<ul><li>å¤±è´¥ï¼šè¿”å› -1</li><li>æˆåŠŸï¼šè¿”å› 0</li></ul></li></ul><h4 id="epoll-wait"><a href="#epoll-wait" class="headerlink" title="epoll_wait()"></a>epoll_wait()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ£€æµ‹epollæ ‘ä¸­æ˜¯å¦æœ‰å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">epoll_wait</span><span class="params">(<span class="type">int</span> epfd, <span class="keyword">struct</span> epoll_event * events, <span class="type">int</span> maxevents, <span class="type">int</span> timeout)</span></span>;</span><br></pre></td></tr></table></figure><p>é˜»å¡ç­‰å¾…æ³¨å†Œçš„äº‹ä»¶å‘ç”Ÿï¼Œè¿”å›äº‹ä»¶çš„æ•°ç›®ï¼Œå¹¶å°†è§¦å‘çš„äº‹ä»¶å†™å…¥eventsæ•°ç»„ä¸­ã€‚</p><ul><li>å‡½æ•°å‚æ•°ï¼š<ul><li>epfdï¼šepoll_create () å‡½æ•°çš„è¿”å›å€¼ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°æ‰¾åˆ° epoll å®ä¾‹</li><li>eventsï¼šä¼ å‡ºå‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªç»“æ„ä½“æ•°ç»„çš„åœ°å€ï¼Œé‡Œè¾¹å­˜å‚¨äº†å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦çš„ä¿¡æ¯</li><li>maxeventsï¼šä¿®é¥°ç¬¬äºŒä¸ªå‚æ•°ï¼Œç»“æ„ä½“æ•°ç»„çš„å®¹é‡ï¼ˆå…ƒç´ ä¸ªæ•°ï¼‰</li><li>timeoutï¼šå¦‚æœæ£€æµ‹çš„ epoll å®ä¾‹ä¸­æ²¡æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè¯¥å‡½æ•°é˜»å¡çš„æ—¶é•¿ï¼Œå•ä½ ms æ¯«ç§’<ul><li>0ï¼šå‡½æ•°ä¸é˜»å¡ï¼Œä¸ç®¡ epoll å®ä¾‹ä¸­æœ‰æ²¡æœ‰å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°è¢«è°ƒç”¨åéƒ½ç›´æ¥è¿”å›</li><li>å¤§äº 0ï¼šå¦‚æœ epoll å®ä¾‹ä¸­æ²¡æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°é˜»å¡å¯¹åº”çš„æ¯«ç§’æ•°å†è¿”å›</li><li>-1ï¼šå‡½æ•°ä¸€ç›´é˜»å¡ï¼Œç›´åˆ° epoll å®ä¾‹ä¸­æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ä¹‹åæ‰è§£é™¤é˜»å¡</li></ul></li></ul></li><li>å‡½æ•°è¿”å›å€¼ï¼š<ul><li>æˆåŠŸï¼š<ul><li>ç­‰äº 0ï¼šå‡½æ•°æ˜¯é˜»å¡è¢«å¼ºåˆ¶è§£é™¤äº†ï¼Œæ²¡æœ‰æ£€æµ‹åˆ°æ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦</li><li>å¤§äº 0ï¼šæ£€æµ‹åˆ°çš„å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦çš„æ€»ä¸ªæ•°</li></ul></li><li>å¤±è´¥ï¼šè¿”å› - 1</li></ul></li></ul><h2 id="å·¥ä½œæ¨¡å¼"><a href="#å·¥ä½œæ¨¡å¼" class="headerlink" title="å·¥ä½œæ¨¡å¼"></a>å·¥ä½œæ¨¡å¼</h2><p>epollç›‘æ§å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦çš„I&#x2F;Oäº‹ä»¶ã€‚epollæ”¯æŒè¾¹ç¼˜è§¦å‘(edge triggerï¼ŒET)æˆ–æ°´å¹³è§¦å‘ï¼ˆlevel triggerï¼ŒLT)ï¼Œé€šè¿‡epoll_waitç­‰å¾…I&#x2F;Oäº‹ä»¶ï¼Œå¦‚æœå½“å‰æ²¡æœ‰å¯ç”¨çš„äº‹ä»¶åˆ™é˜»å¡è°ƒç”¨çº¿ç¨‹ã€‚ selectå’Œpollåªæ”¯æŒLTå·¥ä½œæ¨¡å¼ï¼Œepollçš„é»˜è®¤çš„å·¥ä½œæ¨¡å¼æ˜¯LTæ¨¡å¼ã€‚</p><h4 id="æ°´å¹³è§¦å‘-LT"><a href="#æ°´å¹³è§¦å‘-LT" class="headerlink" title="æ°´å¹³è§¦å‘(LT)"></a>æ°´å¹³è§¦å‘(LT)</h4><p>æ°´å¹³æ¨¡å¼å¯ä»¥ç®€ç§°ä¸º LT æ¨¡å¼ï¼ŒLTï¼ˆlevel triggeredï¼‰æ˜¯ç¼ºçœçš„å·¥ä½œæ–¹å¼ï¼Œå¹¶ä¸”åŒæ—¶æ”¯æŒblockå’Œno-block socketã€‚åœ¨è¿™ç§åšæ³•ä¸­ï¼Œå†…æ ¸é€šçŸ¥ä½¿ç”¨è€…å“ªäº›æ–‡ä»¶æè¿°ç¬¦å·²ç»å°±ç»ªï¼Œä¹‹åå°±å¯ä»¥å¯¹è¿™äº›å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œ IO æ“ä½œäº†ã€‚å¦‚æœæˆ‘ä»¬ä¸ä½œä»»ä½•æ“ä½œï¼Œå†…æ ¸è¿˜æ˜¯ä¼šç»§ç»­é€šçŸ¥ä½¿ç”¨è€…ã€‚</p><ul><li>è¯»äº‹ä»¶ï¼šå¦‚æœæ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„è¯»ç¼“å†²åŒºè¿˜æœ‰æ•°æ®ï¼Œè¯»äº‹ä»¶å°±ä¼šè¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡<ul><li>å½“è¯»äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡ï¼Œä¹‹åå°±å¯ä»¥æ¥æ”¶æ•°æ®äº†</li><li>å¦‚æœæ¥æ”¶æ•°æ®çš„ buf å¾ˆå°ï¼Œä¸èƒ½å…¨éƒ¨å°†ç¼“å†²åŒºæ•°æ®è¯»å‡ºï¼Œé‚£ä¹ˆè¯»äº‹ä»¶ä¼šç»§ç»­è¢«è§¦å‘ï¼Œç›´åˆ°æ•°æ®è¢«å…¨éƒ¨è¯»å‡ºï¼Œå¦‚æœæ¥æ”¶æ•°æ®çš„å†…å­˜ç›¸å¯¹è¾ƒå¤§ï¼Œè¯»æ•°æ®çš„æ•ˆç‡ä¹Ÿä¼šç›¸å¯¹è¾ƒé«˜ï¼ˆå‡å°‘äº†è¯»æ•°æ®çš„æ¬¡æ•°ï¼‰</li><li>å› ä¸ºè¯»æ•°æ®æ˜¯è¢«åŠ¨çš„ï¼Œå¿…é¡»è¦é€šè¿‡è¯»äº‹ä»¶æ‰èƒ½çŸ¥é“æœ‰æ•°æ®åˆ°è¾¾äº†ï¼Œå› æ­¤å¯¹äºè¯»äº‹ä»¶çš„æ£€æµ‹æ˜¯å¿…é¡»çš„</li></ul></li><li>å†™äº‹ä»¶ï¼šå¦‚æœæ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„å†™ç¼“å†²åŒºå¯å†™ï¼Œå†™äº‹ä»¶å°±ä¼šè¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡<ul><li>å½“å†™äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡ï¼Œä¹‹åå°±å¯ä»¥å°†æ•°æ®å†™å…¥åˆ°å†™ç¼“å†²åŒºäº†</li><li>å†™äº‹ä»¶çš„è§¦å‘å‘ç”Ÿåœ¨å†™æ•°æ®ä¹‹å‰è€Œä¸æ˜¯ä¹‹åï¼Œè¢«å†™å…¥åˆ°å†™ç¼“å†²åŒºä¸­çš„æ•°æ®æ˜¯ç”±å†…æ ¸è‡ªåŠ¨å‘é€å‡ºå»çš„</li><li>å¦‚æœå†™ç¼“å†²åŒºæ²¡æœ‰è¢«å†™æ»¡ï¼Œå†™äº‹ä»¶ä¼šä¸€ç›´è¢«è§¦å‘</li><li>å› ä¸ºå†™æ•°æ®æ˜¯ä¸»åŠ¨çš„ï¼Œå¹¶ä¸”å†™ç¼“å†²åŒºä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯å¯å†™çš„ï¼ˆç¼“å†²åŒºä¸æ»¡ï¼‰ï¼Œå› æ­¤å¯¹äºå†™äº‹ä»¶çš„æ£€æµ‹ä¸æ˜¯å¿…é¡»çš„</li></ul></li></ul><h4 id="è¾¹ç¼˜è§¦å‘-ET"><a href="#è¾¹ç¼˜è§¦å‘-ET" class="headerlink" title="è¾¹ç¼˜è§¦å‘(ET)"></a>è¾¹ç¼˜è§¦å‘(ET)</h4><p>è¾¹æ²¿æ¨¡å¼å¯ä»¥ç®€ç§°ä¸º ET æ¨¡å¼ï¼ŒETï¼ˆedge-triggeredï¼‰æ˜¯é«˜é€Ÿå·¥ä½œæ–¹å¼ï¼Œåªæ”¯æŒno-block socketã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œå½“æ–‡ä»¶æè¿°ç¬¦ä»æœªå°±ç»ªå˜ä¸ºå°±ç»ªæ—¶ï¼Œå†…æ ¸ä¼šé€šè¿‡epollé€šçŸ¥ä½¿ç”¨è€…ã€‚ç„¶åå®ƒä¼šå‡è®¾ä½¿ç”¨è€…çŸ¥é“æ–‡ä»¶æè¿°ç¬¦å·²ç»å°±ç»ªï¼Œå¹¶ä¸”ä¸ä¼šå†ä¸ºé‚£ä¸ªæ–‡ä»¶æè¿°ç¬¦å‘é€æ›´å¤šçš„å°±ç»ªé€šçŸ¥ï¼ˆonly onceï¼‰ã€‚å¦‚æœæˆ‘ä»¬å¯¹è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦åš IO æ“ä½œï¼Œä»è€Œå¯¼è‡´å®ƒå†æ¬¡å˜æˆæœªå°±ç»ªï¼Œå½“è¿™ä¸ªæœªå°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦å†æ¬¡å˜æˆå°±ç»ªçŠ¶æ€ï¼Œå†…æ ¸ä¼šå†æ¬¡è¿›è¡Œé€šçŸ¥ï¼Œå¹¶ä¸”è¿˜æ˜¯åªé€šçŸ¥ä¸€æ¬¡ã€‚ETæ¨¡å¼åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘äº†epolläº‹ä»¶è¢«é‡å¤è§¦å‘çš„æ¬¡æ•°ï¼Œå› æ­¤æ•ˆç‡è¦æ¯”LTæ¨¡å¼é«˜ã€‚</p><ul><li>è¯»äº‹ä»¶ï¼šå½“è¯»ç¼“å†²åŒºæœ‰æ–°çš„æ•°æ®è¿›å…¥ï¼Œè¯»äº‹ä»¶è¢«è§¦å‘ä¸€æ¬¡ï¼Œæ²¡æœ‰æ–°æ•°æ®ä¸ä¼šè§¦å‘è¯¥äº‹ä»¶<ul><li>å¦‚æœæœ‰æ–°æ•°æ®è¿›å…¥åˆ°è¯»ç¼“å†²åŒºï¼Œè¯»äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡</li><li>è¯»äº‹ä»¶è¢«è§¦å‘ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ read ()&#x2F;recv () å‡½æ•°å°†ç¼“å†²åŒºæ•°æ®è¯»å‡º</li><li>å¦‚æœæ•°æ®æ²¡æœ‰è¢«å…¨éƒ¨è¯»èµ°ï¼Œå¹¶ä¸”æ²¡æœ‰æ–°æ•°æ®è¿›å…¥ï¼Œè¯»äº‹ä»¶ä¸ä¼šå†æ¬¡è§¦å‘ï¼Œåªé€šçŸ¥ä¸€æ¬¡</li><li>å¦‚æœæ•°æ®è¢«å…¨éƒ¨è¯»èµ°æˆ–è€…åªè¯»èµ°ä¸€éƒ¨åˆ†ï¼Œæ­¤æ—¶æœ‰æ–°æ•°æ®è¿›å…¥ï¼Œè¯»äº‹ä»¶è¢«è§¦å‘ï¼Œå¹¶ä¸”åªé€šçŸ¥ä¸€æ¬¡</li></ul></li><li>å†™äº‹ä»¶ï¼šå½“å†™ç¼“å†²åŒºçŠ¶æ€å¯å†™ï¼Œå†™äº‹ä»¶åªä¼šè§¦å‘ä¸€æ¬¡<ul><li>å¦‚æœå†™ç¼“å†²åŒºè¢«æ£€æµ‹åˆ°å¯å†™ï¼Œå†™äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡</li><li>å†™äº‹ä»¶è¢«è§¦å‘ï¼Œå°±å¯ä»¥é€šè¿‡è°ƒç”¨ write ()&#x2F;send () å‡½æ•°ï¼Œå°†æ•°æ®å†™å…¥åˆ°å†™ç¼“å†²åŒºä¸­</li><li>å†™ç¼“å†²åŒºä»ä¸æ»¡åˆ°è¢«å†™æ»¡ï¼ŒæœŸé—´å†™äº‹ä»¶åªä¼šè¢«è§¦å‘ä¸€æ¬¡</li><li>å†™ç¼“å†²åŒºä»æ»¡åˆ°ä¸æ»¡ï¼ŒçŠ¶æ€å˜ä¸ºå¯å†™ï¼Œå†™äº‹ä»¶åªä¼šè¢«è§¦å‘ä¸€æ¬¡</li></ul></li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼šepoll çš„è¾¹æ²¿æ¨¡å¼ä¸‹ epoll_wait () æ£€æµ‹åˆ°æ–‡ä»¶æè¿°ç¬¦æœ‰æ–°äº‹ä»¶æ‰ä¼šé€šçŸ¥ï¼Œå¦‚æœä¸æ˜¯æ–°çš„äº‹ä»¶å°±ä¸é€šçŸ¥ï¼Œé€šçŸ¥çš„æ¬¡æ•°æ¯”æ°´å¹³æ¨¡å¼å°‘ï¼Œæ•ˆç‡æ¯”æ°´å¹³æ¨¡å¼è¦é«˜ã€‚ <strong>ETæ¨¡å¼çš„è®¾ç½®ï¼š</strong> è¾¹æ²¿æ¨¡å¼ä¸æ˜¯é»˜è®¤çš„ epoll æ¨¡å¼ï¼Œéœ€è¦é¢å¤–è¿›è¡Œè®¾ç½®ã€‚epoll è®¾ç½®è¾¹æ²¿æ¨¡å¼æ˜¯éå¸¸ç®€å•çš„ï¼Œepoll ç®¡ç†çš„çº¢é»‘æ ‘ç¤ºä¾‹ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ struct epoll_event ç±»å‹ï¼Œåªéœ€è¦å°† EPOLLET æ·»åŠ åˆ°ç»“æ„ä½“çš„ events æˆå‘˜ä¸­å³å¯ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">ev</span>;</span></span><br><span class="line">ev.events = EPOLLIN  EPOLLET;</span><br></pre></td></tr></table></figure><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p><a href="https://zhuanlan.zhihu.com/p/159135478">https://zhuanlan.zhihu.com/p/159135478</a> <a href="https://blog.csdn.net/baidu_41388533/article/details/110134366">https://blog.csdn.net/baidu_41388533&#x2F;article&#x2F;details&#x2F;110134366</a> <a href="https://subingwen.cn/linux/epoll/##2-%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0">https://subingwen.cn/linux/epoll/##2-%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/01/27/epoll/">https://blog.jujimeizuo.cn/2023/01/27/epoll/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å™è¿°&quot;&gt;&lt;a href=&quot;#å™è¿°&quot; class=&quot;headerlink&quot; title=&quot;å™è¿°&quot;&gt;&lt;/a&gt;å™è¿°&lt;/h2&gt;&lt;h4 id=&quot;æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚å¿µ&quot;&gt;&lt;/a&gt;æ¦‚å¿µ&lt;/h4&gt;&lt;p&gt;epo</summary>
      
    
    
    
    
    <category term="linux" scheme="https://blog.jujimeizuo.cn/tags/linux/"/>
    
  </entry>
  
</feed>
