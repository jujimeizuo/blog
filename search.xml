<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Astra-S æ·±åº¦ç›¸æœºåˆä½¿ç”¨</title>
      <link href="/2025/01/06/Astra-S-%E6%B7%B1%E5%BA%A6%E7%9B%B8%E6%9C%BA%E5%88%9D%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/01/06/Astra-S-%E6%B7%B1%E5%BA%A6%E7%9B%B8%E6%9C%BA%E5%88%9D%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>æœ€è¿‘è¢«å¯¼å¸ˆæ´¾ä»»åŠ¡ï¼Œéœ€è¦è‡ªå·±é‡‡é›†æ•°æ®å¹¶æ¢å¤å‡ºä¸‰ç»´ç»“æ„ï¼Œæ‰€ä»¥å‘å¸ˆå…„å€Ÿç”¨äº†ä¸€ä¸ª Astra-S æ·±åº¦ç›¸æœºï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹åˆå§‹ä½¿ç”¨è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å¦‚ä½•å®‰è£…é©±åŠ¨ï¼Œå¦‚ä½•ä½¿ç”¨ SDKï¼Œå¦‚ä½•å°†æ•°æ®è½¬æ¢ã€‚</li><li>æˆ‘ä½¿ç”¨ Ubuntu22.04ï¼ŒWin11 æˆ‘è¯•è¿‡ï¼Œä½†æ˜¯å‡ºç°é—®é¢˜ï¼Œæ‰¾ä¸åˆ°é©±åŠ¨ï¼Œä¼°è®¡æ˜¯ Win11 çš„é—®é¢˜ï¼ŒWin10 åº”è¯¥æ²¡é—®é¢˜ã€‚å…·ä½“å¯ä»¥çœ‹ï¼š<a href="https://www.bilibili.com/video/BV1QG411R7JQ/?vd_source=5e048b202705330980eefcc9a56cc5d0">https://www.bilibili.com/video/BV1QG411R7JQ/?vd_source=5e048b202705330980eefcc9a56cc5d0</a></li></ul></blockquote><h2 id="Install-SDK"><a href="#Install-SDK" class="headerlink" title="Install SDK"></a>Install SDK</h2><h3 id="ä¸‹è½½é“¾æ¥"><a href="#ä¸‹è½½é“¾æ¥" class="headerlink" title="ä¸‹è½½é“¾æ¥"></a>ä¸‹è½½é“¾æ¥</h3><ul><li><a href="https://vcp.developer.orbbec.com.cn/documentation">3Dè§†è§‰AIå¼€æ”¾å¹³å° Document</a></li><li><a href="https://vcp.developer.orbbec.com.cn/resourceCenter?defaultSelectedKeys=68">OpenNI2 SDK</a></li><li><a href="https://vcp.developer.orbbec.com.cn/resourceCenter?defaultSelectedKeys=72">OpenNI2 SDK Viewer</a></li></ul><p>ä¸è¿‡ 2025.01.10 ä¹‹åå¹³å°ä¸‹çº¿äº†ï¼Ÿï¼Ÿï¼Ÿ</p><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li>è¿™é‡Œä¸è¦ç”¨ OrbbecSDK Viewerï¼Œä½¿ç”¨å½©è‰²å’Œ IR æ²¡é—®é¢˜ï¼Œä½†æ˜¯æ·±åº¦å›¾åƒå¡é¡¿ä¸¥é‡ï¼Œæˆ–è®¸æ˜¯æˆ‘çš„ Ubuntu å‡ºç°é—®é¢˜ï¼Œä½†æˆ‘ä½¿ç”¨ OpenNI2Viewer æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</li><li>å¦‚æœä¸éœ€è¦å¯¹å…¶å¼€å‘ï¼Œåªæ˜¯ç”¨æµ‹é‡å›¾åƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ OpenNI2Viewerï¼Œä¸éœ€è¦å®‰è£… SDKã€‚</li></ul><h2 id="Save-RGB-D"><a href="#Save-RGB-D" class="headerlink" title="Save RGB-D"></a>Save RGB-D</h2><ul><li>å½“æˆ‘ä»¬æ‰“å¼€ OpenNI2Viewer æ—¶ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š</li></ul><img src="https://cdn.jujimeizuo.cn/blog/2025/01/OpenNI2Viewer.jpeg"><ul><li>ç„¶åå¯ä»¥æŒ‰å³é”®ï¼Œé€‰æ‹©å¯¹åº”çš„åŠŸèƒ½ï¼Œæ¯”å¦‚è®¾ç½®åˆ†è¾¨ç‡ã€æˆªå›¾ã€å½•åˆ¶ç­‰ã€‚</li></ul><h3 id="Raw2Png"><a href="#Raw2Png" class="headerlink" title="Raw2Png"></a>Raw2Png</h3><ul><li>åœ¨ Linux ä¸­æœ‰å¤§é‡çš„å·¥å…·å¯ä»¥æ‰“å¼€ Rawï¼Œä½†æ˜¯è¿™äº›å¤§é‡çš„å·¥å…·æˆ‘å°è¯•è¿‡å¥½å¤šï¼Œä» apt ä¸­å®‰è£…çš„ ufrawï¼Œæ‰¾ä¸åˆ°ï¼Œä¼°è®¡æ˜¯ä¸ç»´æŠ¤äº†ï¼Œè¿˜æœ‰ä»æºç å®‰è£…çš„å¾ˆå¤šï¼Œè¿˜æœ‰ gimpï¼Œå¤ªå¤§äº†ï¼Œæœ€åé€‰æ‹© ImageJï¼Œå°å·§è½»ä¾¿ï¼Œç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚</li><li>è¿™é‡Œä½¿ç”¨ ImageJ è¿›è¡Œå¤„ç†ï¼Œ<a href="http://imagej.net/Fiji/Downloads">http://imagej.net/Fiji/Downloads</a></li><li><code>File-&gt;Import-&gt;Raw...</code><ul><li>å¯¹äºæ·±åº¦å›¾ï¼š<code>Image Type</code>: <code>16-bit unsigned</code></li><li>å¯¹äºå½©è‰²å›¾ï¼š<code>Image Type</code>: <code>24-bit RGB</code></li><li>å®½åº¦å’Œé«˜åº¦ä¸€å®šè¦è®¾ç½®æ­£ç¡®</li></ul></li><li><code>File-&gt;Save As-&gt;PNG...</code>ï¼Œå¾—åˆ°ä»¥ä¸‹å›¾åƒï¼š</li></ul><table><thead><tr><th align="center">æ·±åº¦å›¾</th><th align="center">å½©è‰²å›¾</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jujimeizuo.cn/blog/2025/01/depth.jpeg"></td><td align="center"><img src="https://cdn.jujimeizuo.cn/blog/2025/01/rgb.jpeg"></td></tr></tbody></table><ul><li>è¿™åªæ˜¯é’ˆå¯¹å•å¸§å›¾åƒï¼Œå¯¹äºå¤§é‡å›¾ç‰‡å¦‚æœå•å¸§å¤„ç†æ•ˆç‡å¤ªä½ï¼Œå¯ä»¥é€šè¿‡ ImageJ æ‰¹é‡æ“ä½œï¼Œå…·ä½“çœ‹å‚è€ƒä¸­é“¾æ¥ã€‚</li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://www.yahboom.com/public/upload/upload-html/1640400269/Astra%E7%9B%B8%E6%9C%BA%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95.html">https://www.yahboom.com/public/upload/upload-html/1640400269/Astra%E7%9B%B8%E6%9C%BA%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95.html</a></li><li><a href="https://developer.orbbec.com.cn/module.html?id=4">https://developer.orbbec.com.cn/module.html?id=4</a></li><li><a href="https://blog.csdn.net/qianchuohuan3821/article/details/89498146">https://blog.csdn.net/qianchuohuan3821/article/details/89498146</a></li><li><a href="https://www.bilibili.com/opus/591919202890504930">https://www.bilibili.com/opus/591919202890504930</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2025/01/06/Astra-S-%E6%B7%B1%E5%BA%A6%E7%9B%B8%E6%9C%BA%E5%88%9D%E4%BD%BF%E7%94%A8/">https://blog.jujimeizuo.cn/2025/01/06/Astra-S-æ·±åº¦ç›¸æœºåˆä½¿ç”¨/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>install-opencv-in-ubuntu-via-source</title>
      <link href="/2025/01/06/install-opencv-in-ubuntu-via-source/"/>
      <url>/2025/01/06/install-opencv-in-ubuntu-via-source/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å½“æˆ‘åœ¨ ubuntu 22.04 ä¸­å®‰è£… OrbeecSDK æ—¶ï¼Œéœ€è¦ç”¨åˆ° OpenCV åº“ï¼Œè€Œä¸”æ˜¯ C++ Versionï¼Œå¦‚æœæ˜¯ Python Version çš„è¯ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ pip å®‰è£…ï¼Œä½†æ˜¯ C++ Version çš„è¯ï¼Œä¼šæ¯”è¾ƒéº»çƒ¦ã€‚<br>è¿™ç¯‡ <a href="https://zhuanlan.zhihu.com/p/392751819">åœ¨ Linux ç³»ç»Ÿä¸­ç¼–è¯‘å®‰è£… OpenCV</a> å†™å¾—éå¸¸è¯¦ç»†ã€‚</p></blockquote><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>å®‰è£…å‰éœ€è¦å…ˆå®‰è£…ä¸€äº›ä¾èµ–åº“ï¼Œæ ¹æ®éœ€è¦å®‰è£…</li><li>å®‰è£…è¿‡ç¨‹ä¸­ä¼šåœ¨ make ä¸­å¡ä½ï¼Œéœ€è¦ç­‰å¾…ä¸€å¤§æ®µæ—¶é—´</li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2025/01/06/install-opencv-in-ubuntu-via-source/">https://blog.jujimeizuo.cn/2025/01/06/install-opencv-in-ubuntu-via-source/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>activate-mathtype</title>
      <link href="/2025/01/06/activate-mathtype/"/>
      <url>/2025/01/06/activate-mathtype/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨ Win ä¸­é€šè¿‡åˆ é™¤æ³¨å†Œè¡¨é¡¹æ¥é‡ç½® MathType çš„è¯•ç”¨æœŸ</p></blockquote><h2 id="æ‰“å¼€æ³¨å†Œè¡¨"><a href="#æ‰“å¼€æ³¨å†Œè¡¨" class="headerlink" title="æ‰“å¼€æ³¨å†Œè¡¨"></a>æ‰“å¼€æ³¨å†Œè¡¨</h2><ol><li><code>Win + R</code> -&gt; <code>regedit</code></li></ol><h2 id="åˆ é™¤æ³¨å†Œè¡¨é¡¹"><a href="#åˆ é™¤æ³¨å†Œè¡¨é¡¹" class="headerlink" title="åˆ é™¤æ³¨å†Œè¡¨é¡¹"></a>åˆ é™¤æ³¨å†Œè¡¨é¡¹</h2><ol><li>åˆ é™¤ <code>HKEY_CURRENT_USER\Software\JavaSoft\Prefs\com\wiris\editor\license</code></li></ol><img src="https://cdn.jujimeizuo.cn/blog/2025/03/delete-mathtype-in-regedit.png" width="50%"><ol start="2"><li>åˆ é™¤ <code>HKEY_CURRENT_USER\Software\Install Options</code> ä¸‹çš„ <code>Options 7.8</code></li></ol><img src="https://cdn.jujimeizuo.cn/blog/2025/01/delete-mathtype-in-regedit.png" width="50%"><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://www.changchenghao.cn/n/725494.html">https://www.changchenghao.cn/n/725494.html</a></li><li><a href="https://www.cnblogs.com/JasonCeng/p/15710426.html">https://www.cnblogs.com/JasonCeng/p/15710426.html</a></li><li><a href="https://blog.csdn.net/m0_46667062/article/details/134808661">https://blog.csdn.net/m0_46667062/article/details/134808661</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2025/01/06/activate-mathtype/">https://blog.jujimeizuo.cn/2025/01/06/activate-mathtype/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> utils </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python é‡Œçš„ä¸€ä¸ªå¤§å‘ï¼ï¼ï¼</title>
      <link href="/2024/10/15/code-way-in-python/"/>
      <url>/2024/10/15/code-way-in-python/</url>
      
        <content type="html"><![CDATA[<p>æ‰¾äº†ä¸€ä¸‹åˆçš„ Bugï¼Œç»“æœæ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wandb.log</span><br><span class="line">(</span><br><span class="line">    &#123;</span><br><span class="line">        key=value,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>python ä¸æ˜¯ C++ï¼Œwandb.log å•ç‹¬æˆä¸ºä¸€è¡Œä»£ç ï¼ï¼ï¼åº”è¯¥å†™æˆ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wandb.log(</span><br><span class="line">    &#123;</span><br><span class="line">        key=value,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/10/15/code-way-in-python/">https://blog.jujimeizuo.cn/2024/10/15/code-way-in-python/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> utils </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Root-Partition Filled</title>
      <link href="/2024/10/07/root-partition-filled/"/>
      <url>/2024/10/07/root-partition-filled/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>å½“æˆ‘åœ¨ docker å®¹å™¨å†… apt install æ—¶ï¼Œæç¤ºæ ¹åˆ†åŒºå³å°†çˆ†æ»¡ï¼Œæ‰€ä»¥æŸ¥è¯¢ç›¸å…³å†…å®¹è§£å†³é—®é¢˜ã€‚</li><li>ä»¥ä¸‹éƒ½æ˜¯åœ¨ ubuntu20.04 ä¸‹å®éªŒã€‚</li></ul></blockquote><h2 id="æŸ¥æ‰¾åŸå› "><a href="#æŸ¥æ‰¾åŸå› " class="headerlink" title="æŸ¥æ‰¾åŸå› "></a>æŸ¥æ‰¾åŸå› </h2><p>å…³äº linux çš„ç£ç›˜å‘½ä»¤ï¼Œéƒ½ä¼šä½¿ç”¨ <code>dh</code> æˆ– <code>df</code> å‘½ä»¤ï¼Œå¦‚æœè¦æ‰¾å¯¼è‡´ç£ç›˜ç©ºé—´æ»¡çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -sh /path/to/* 2&gt;/dev/null | <span class="built_in">sort</span> -hr | <span class="built_in">head</span> -10</span><br></pre></td></tr></table></figure><ol><li>å‘ç° <code>/var</code> çš„å ç©ºé—´å¤ªå¤§ï¼ŒæŸ¥è¯¢ <code>/var</code> åï¼Œå‘ç°å®ƒæ˜¯<strong>åŠ¨æ€æ•°æ®ä¿å­˜ä½ç½®ã€‚ä¸»è¦ä¿å­˜ç¼“å­˜ã€æ—¥å¿—ä»¥åŠè½¯ä»¶è¿è¡Œæ‰€äº§ç”Ÿçš„æ–‡ä»¶</strong>ï¼Œå†æ¬¡ä½¿ç”¨å‘½ä»¤ï¼ŒæŸ¥è¯¢ <code>var</code> ç›®å½•ä¸‹çš„è¾ƒå¤§ç›®å½•æˆ–æ–‡ä»¶</li><li>å‘ç°æœ‰å‡ ä¸ªç›®å½•å æ¯”éå¸¸å¤§ï¼Œ<code>lib</code>, <code>cache</code>, <code>log</code>, <code>tmp</code> ç­‰ç­‰ï¼Œ<code>cache</code> å¯ä»¥ç›´æ¥åˆ é™¤ï¼Œ<code>log</code> å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>journalctl --vacuum - time=7d</code>ï¼Œåˆ é™¤è¶…è¿‡ 7 å¤©çš„æ—§æ—¥å¿—ï¼Œç°åœ¨å…·ä½“æ¥çœ‹ <code>/var/lib</code> ç›®å½•</li><li>å‘ç° <code>/var/lib/docker</code> å  40 å¤šä¸ª Gï¼ŒåŸæ¥é•œåƒçš„ä½ç½®ä¿å­˜åœ¨è¿™ä¸ªç›®å½•ï¼Œå½“ç„¶å¾ˆå¤§ï¼Œå…·ä½“æŸ¥çœ‹ <code>overlay2</code> çš„æ€§è´¨ã€‚ç°åœ¨é’ˆå¯¹è¿™ä¸ªç›®å½•åšä¸€äº›æ“ä½œã€‚ä¸€èˆ¬ <code>/home</code> ç›®å½•éå¸¸å¤§ï¼Œæ‰€ä»¥å¦‚æœæŠŠ docker é‡Œçš„é•œåƒä½ç½®éƒ½æ”¾åœ¨ <code>/home</code> ç›®å½•ï¼Œé‚£ä¹ˆä¼šå¤§å¤§å‡å°‘æ ¹åˆ†åŒºçš„ç£ç›˜ç©ºé—´ï¼Œé‚£ä¹ˆå¼€å§‹æ“ä½œï¼</li></ol><h2 id="ä¿®æ”¹-Docker-é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®"><a href="#ä¿®æ”¹-Docker-é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®" class="headerlink" title="ä¿®æ”¹ Docker é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®"></a>ä¿®æ”¹ Docker é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®</h2><blockquote><p>ç”±äºç³»ç»Ÿåˆå§‹åˆ†åŒºçš„åŸå› ï¼Œå¯¼è‡´æ“ä½œç³»ç»Ÿä¸­å¯¹åº”æ ¹åˆ†åŒºä¸ä¼šå¤ªå¤§ï¼Œé€šè¿‡ &#x2F;var ç›®å½•ä¸ä¼šå•ç‹¬åˆ†åŒºã€‚è€Œ docker é•œåƒé»˜è®¤å­˜å‚¨ä½ç½®æ˜¯åœ¨ <code>/var/lib/docker</code> ä¸‹ï¼Œæ˜¯ä½¿æ ¹åˆ†åŒºçˆ†ç‚¸ã€‚<br>æŸ¥çœ‹ docker å®¹å™¨å­˜æ”¾ä½ç½®ï¼š<code>sudo docker info | grep &quot;Docker Root Dir&quot;</code></p></blockquote><h3 id="ä½¿ç”¨è½¯é“¾æ¥"><a href="#ä½¿ç”¨è½¯é“¾æ¥" class="headerlink" title="ä½¿ç”¨è½¯é“¾æ¥"></a>ä½¿ç”¨è½¯é“¾æ¥</h3><p>è§£å†³é»˜è®¤å­˜å‚¨å®¹é‡ä¸è¶³çš„æƒ…å†µï¼Œæœ€ç›´æ¥ä¸”æœ€æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯æŒ‚è½½æ–°çš„åˆ†åŒºåˆ°è¯¥ç›®å½•ã€‚ä½†æ˜¯åœ¨åŸæœ‰ç³»ç»Ÿç©ºé—´ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ‰€ä»¥é‡‡ç”¨è½¯é“¾æ¥çš„æ–¹å¼ï¼Œä¿®æ”¹é•œåƒå’Œå®¹å™¨çš„å­˜æ”¾è·¯å¾„è¾¾åˆ°åŒæ ·çš„ç›®çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /var/lib/docker /path/to/docker</span><br><span class="line"><span class="built_in">ln</span> -sf /path/to/docker /var/lib/docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°"><a href="#æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°" class="headerlink" title="æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°"></a>æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•°</h3><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå®¹å™¨å¯åŠ¨çš„å‚æ•° â€“graph&#x3D;&#x2F;var&#x2F;lib&#x2F;docker æ¥æŒ‡å®šé•œåƒå’Œå®¹å™¨å­˜æ”¾è·¯å¾„ã€‚</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://cloud.tencent.com/developer/article/1835999">https://cloud.tencent.com/developer/article/1835999</a></li><li><a href="https://blog.csdn.net/BigData_Mining/article/details/104921479">https://blog.csdn.net/BigData_Mining/article/details/104921479</a></li><li><a href="https://blog.csdn.net/wjciayf/article/details/50717773">https://blog.csdn.net/wjciayf/article/details/50717773</a></li><li><a href="https://www.51cto.com/article/707120.html">https://www.51cto.com/article/707120.html</a></li><li><a href="https://cloud.tencent.com/developer/article/1870764">https://cloud.tencent.com/developer/article/1870764</a></li><li><a href="https://www.cnblogs.com/loveer/p/11615627.html">https://www.cnblogs.com/loveer/p/11615627.html</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/10/07/root-partition-filled/">https://blog.jujimeizuo.cn/2024/10/07/root-partition-filled/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arc Sync</title>
      <link href="/2024/09/23/Arc-Sync/"/>
      <url>/2024/09/23/Arc-Sync/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä½¿ç”¨ Arc å·²ç»å¿« 1 å¹´ï¼Œæœ€è¿‘æ‰å‘ç°æœ‰ Arc Sync æœ‰åœ¨ MacOSã€PCã€IOS ä¸Šçš„åŒæ­¥é—®é¢˜ï¼ˆç›®å‰ä»…åŒæ­¥ SideBarï¼Œé¥çœ‹æœªæ¥ï¼‰ã€‚<br>æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¦‚æœä½ åœ¨ work çš„æ—¶å€™ï¼Œçªç„¶è¦ç¦»å¼€å·¥ä½ï¼Œå¦‚æœæƒ³è¦åœ¨ iPhone ä¸Šç»§ç»­æŸ¥çœ‹ç”µè„‘ä¸Šçš„ç½‘é¡µï¼Œé‚£ä¹ˆä¸€èˆ¬æƒ…å†µä¸‹ä½ ä¼šé‡æ–°æœç´¢ URLï¼Œä½†æ˜¯ Arc Syncï¼Œå¯ä»¥å°†ç”µè„‘ä¸Šæ‰“å¼€çš„ç½‘é¡µç›´æ¥åŒæ­¥åˆ° iPhone ä¸Šï¼Œå¿«æ·æ–¹ä¾¿ï¼</p></blockquote><h2 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h2><ol><li>ä¸‹è½½ Arc Desktop (MacOS)ã€ClashX Pro</li><li>Clash pro ä¸­å¼€å¯<strong>å¢å¼ºæ¨¡å¼ TUN Mode</strong>ï¼ŒClashX é‡Œæ²¡æœ‰å¢å¼ºæ¨¡å¼</li></ol><center><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-mac-clashpro.jpg" width="20%"></center><ol start="3"><li>åœ¨ Arc Desktop ä¸­ç™»å½•è´¦å·ï¼Œ<code>Preferences</code> -&gt; <code>Sync SideBar</code></li></ol><center><table><tr><td><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-mac.jpg"></td><td><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-mac-sidebar.jpg" width="70%"></td></tr></table></center><h2 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h2><ol><li>ä¸‹è½½ Arc Desktop (Windows)ã€Clash for Windows</li><li>Clash for Windows ä¸­å¼€å¯<strong>å¢å¼ºæ¨¡å¼ TUN Mode</strong><ol><li>Windows æ— æ³•é¡ºåˆ©ç™»é™†ï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œ</li><li>æ—è¾¹æœ‰ä¸€ä¸ªå¹å·â—ï¸ï¼Œæç¤ºå®‰è£… service modeï¼Œ<code>service mode</code> -&gt; <code>Manage</code> -&gt; <code>Install</code></li><li>ç‚¹å‡» TUN Node å³è¾¹çš„é½¿è½® âš™ï¸ï¼Œç‚¹å‡» DNS IPv6ï¼ŒSave</li><li>é‡å¯ Arc</li></ol></li><li>åœ¨ Arc Desktop ä¸­ç™»å½•è´¦å·ï¼Œ<code>Settings</code> -&gt; <code>SideBar Sync</code></li></ol><center><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-windows.jpg" width="70%"></center><h2 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h2><ol><li>ä» App Store ä¸‹è½½ Arc Search</li><li>ç‚¹å‡»å³ä¸‹è§’ Settingsï¼Œé€‰æ‹© <code>Sync with Arc Desktop</code>ï¼Œè¾“å…¥è´¦å·å¯†ç å³å¯</li><li>ç‚¹å‡»å·¦ä¸‹è§’å³å¯çœ‹åˆ°åŒæ­¥çš„ SideBarï¼ŒåŒ…æ‹¬åŒæ—¶æ‰“å¼€çš„æ ‡ç­¾é¡µ</li><li>è®°å¾—å¼€é­”æ³•</li></ol><center><img src="https://cdn.jujimeizuo.cn/blog/2024/09/arc-sync-ios.png" width="20%"></center><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/09/23/Arc-Sync/">https://blog.jujimeizuo.cn/2024/09/23/Arc-Sync/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> utils </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode BitWeek 139</title>
      <link href="/2024/09/15/LeetCode-BitWeek-139/"/>
      <url>/2024/09/15/LeetCode-BitWeek-139/</url>
      
        <content type="html"><![CDATA[<h2 id="3285-æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡"><a href="#3285-æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡" class="headerlink" title="3285. æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡"></a>3285. æ‰¾åˆ°ç¨³å®šå±±çš„ä¸‹æ ‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">stableMountains</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>], threshold: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        stable = []</span><br><span class="line">        <span class="keyword">for</span> i, x <span class="keyword">in</span> <span class="built_in">enumerate</span>(height):</span><br><span class="line">            <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> height[i - <span class="number">1</span>] &gt; threshold:</span><br><span class="line">                stable.append(i)</span><br><span class="line">        <span class="keyword">return</span> stable</span><br></pre></td></tr></table></figure><h2 id="3286-ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„"><a href="#3286-ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„" class="headerlink" title="3286. ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„"></a>3286. ç©¿è¶Šç½‘æ ¼å›¾çš„å®‰å…¨è·¯å¾„</h2><p>ç»å…¸ BFS + dpï¼Œè®¾ dp[x][y][h] è¡¨ç¤ºåˆ°è¾¾ (x, y) æ—¶å‰©ä½™ h è¡€é‡<strong>æ˜¯å¦è¢«èµ°è¿‡</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">findSafeWalk</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid, <span class="type">int</span> health)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(grid.<span class="built_in">size</span>());</span><br><span class="line">        <span class="type">int</span> m = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(grid[<span class="number">0</span>].<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">        <span class="type">const</span> <span class="type">static</span> std::vector&lt;<span class="type">int</span>&gt; dx &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        <span class="type">const</span> <span class="type">static</span> std::vector&lt;<span class="type">int</span>&gt; dy &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line">        std::vector&lt;std::vector&lt;std::vector&lt;<span class="type">bool</span>&gt;&gt;&gt; <span class="built_in">visited</span>(n, std::vector&lt;std::vector&lt;<span class="type">bool</span>&gt;&gt;(m, std::<span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(health + <span class="number">1</span>)));</span><br><span class="line"></span><br><span class="line">        std::queue&lt;std::array&lt;<span class="type">int</span>, 3&gt;&gt; q;</span><br><span class="line">        q.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">0</span>, health - grid[<span class="number">0</span>][<span class="number">0</span>]&#125;);</span><br><span class="line">        visited[<span class="number">0</span>][<span class="number">0</span>][health] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="keyword">auto</span> [x, y, h] = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span> (h &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x == n - <span class="number">1</span> <span class="keyword">and</span> y == m - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> nx = x + dx[i];</span><br><span class="line">        <span class="type">int</span> ny = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span> (nx &lt; <span class="number">0</span> <span class="keyword">or</span> nx &gt;= n <span class="keyword">or</span> ny &lt; <span class="number">0</span> <span class="keyword">or</span> ny &gt;= m <span class="keyword">or</span> h - grid[nx][ny] &lt;= <span class="number">0</span> <span class="keyword">or</span> visited[nx][ny][h - grid[nx][ny]]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        q.<span class="built_in">push</span>(&#123;nx, ny, h - grid[nx][ny]&#125;);</span><br><span class="line">                visited[nx][ny][h - grid[nx][ny]] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="3287-æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼"><a href="#3287-æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼" class="headerlink" title="3287. æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼"></a>3287. æ±‚å‡ºæ•°ç»„ä¸­æœ€å¤§åºåˆ—å€¼</h2><ul><li>å‰åç¼€åˆ†è§£ + dp</li><li>è®¾ prefix_or[i][j][mask] è¡¨ç¤º 1-i ä¸ªæ•°ä¸­é€‰ j ä¸ªæ•°ï¼Œä½¿å¾—è¿™ j ä¸ªæ•°çš„æˆ–å€¼ä¸º maskã€‚</li><li>è®¾ suffix_or[i][j][mask] è¡¨ç¤º i-n ä¸ªæ•°ä¸­é€‰ j ä¸ªæ•°ï¼Œä½¿å¾—è¿™ j ä¸ªæ•°çš„æˆ–å€¼ä¸º maskã€‚</li><li>if (prefix_or[i][k][mask1] &amp;&amp; suffix_or[i + 1][k][mask2]) ans &#x3D; std::max(ans, mask1 ^ mask2)</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> STATE = <span class="number">1</span> &lt;&lt; <span class="number">7</span>;</span><br><span class="line"><span class="type">bool</span> prefix_or[<span class="number">402</span>][<span class="number">201</span>][STATE];</span><br><span class="line"><span class="type">bool</span> suffix_or[<span class="number">402</span>][<span class="number">201</span>][STATE];</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxValue</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; a, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(a.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n + <span class="number">1</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= k; j += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask = <span class="number">0</span>; mask &lt; STATE; mask += <span class="number">1</span>) &#123;</span><br><span class="line">        prefix_or[i][j][mask] = suffix_or[i][j][mask] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        prefix_or[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        suffix_or[n + <span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n - k; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= std::<span class="built_in">min</span>(i, k); j += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask = <span class="number">0</span>; mask &lt; STATE; mask += <span class="number">1</span>) &#123;</span><br><span class="line">    prefix_or[i][j][mask] = prefix_or[i][j][mask] | prefix_or[i - <span class="number">1</span>][j][mask];</span><br><span class="line">        <span class="keyword">if</span> (j)</span><br><span class="line">        prefix_or[i][j][mask | a[i - <span class="number">1</span>]] = prefix_or[i][j][mask | a[i - <span class="number">1</span>]] | prefix_or[i - <span class="number">1</span>][j - <span class="number">1</span>][mask];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= k + <span class="number">1</span>; i -= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= std::<span class="built_in">min</span>(n - i + <span class="number">1</span>, k); j += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask = <span class="number">0</span>; mask &lt; STATE; mask += <span class="number">1</span>) &#123;</span><br><span class="line">        suffix_or[i][j][mask] = suffix_or[i][j][mask] | suffix_or[i + <span class="number">1</span>][j][mask];</span><br><span class="line">        <span class="keyword">if</span> (j)</span><br><span class="line">        suffix_or[i][j][mask | a[i - <span class="number">1</span>]] = suffix_or[i][j][mask | a[i - <span class="number">1</span>]] | suffix_or[i + <span class="number">1</span>][j - <span class="number">1</span>][mask];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = k; i + k &lt;= n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask1 = <span class="number">0</span>; mask1 &lt; STATE; mask1 += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!prefix_or[i][k][mask1]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mask2 = <span class="number">0</span>; mask2 &lt; STATE; mask2 += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!suffix_or[i + <span class="number">1</span>][k][mask2]) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    ans = std::<span class="built_in">max</span>(ans, mask1 ^ mask2);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="3288-æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦"><a href="#3288-æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦" class="headerlink" title="3288. æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦"></a>3288. æœ€é•¿ä¸Šå‡è·¯å¾„çš„é•¿åº¦</h2><ul><li>äºŒç»´ LISï¼Œå…ˆæŒ‰ç…§ x ä»å°åˆ°å¤§æ’åºï¼Œå¯¹äº x ç›¸åŒçš„ç‚¹ï¼ŒæŒ‰ç…§ y ä»å¤§åˆ°å°æ’åºï¼Œä¿è¯è®¡ç®— y çš„ LIS æ—¶ï¼Œç›¸åŒçš„ x æœ€å¤šé€‰ä¸€ä¸ª yã€‚</li><li>é€‰æ‹© x &lt; kx &amp;&amp; y &lt; ky æˆ– x &gt; kx &amp;&amp; y &gt; ky çš„ç‚¹ï¼Œè®¡ç®— LISã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxPathLength</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; coordinates, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(coordinates.<span class="built_in">size</span>());</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">order</span><span class="params">(n)</span></span>;</span><br><span class="line">    std::<span class="built_in">iota</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        std::<span class="built_in">sort</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), [&amp;](<span class="type">int</span> i, <span class="type">int</span> j) &#123;</span><br><span class="line">        <span class="keyword">if</span> (coordinates[i][<span class="number">0</span>] == coordinates[j][<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> coordinates[i][<span class="number">1</span>] &gt; coordinates[j][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> coordinates[i][<span class="number">0</span>] &lt; coordinates[j][<span class="number">0</span>];</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        std::vector&lt;<span class="type">int</span>&gt; u;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((coordinates[order[i]][<span class="number">0</span>] &lt; coordinates[k][<span class="number">0</span>] <span class="keyword">and</span> coordinates[order[i]][<span class="number">1</span>] &lt; coordinates[k][<span class="number">1</span>]) </span><br><span class="line">        <span class="built_in">or</span> (coordinates[order[i]][<span class="number">0</span>] &gt; coordinates[k][<span class="number">0</span>] <span class="keyword">and</span> coordinates[order[i]][<span class="number">1</span>] &gt; coordinates[k][<span class="number">1</span>])) &#123;</span><br><span class="line">        <span class="keyword">auto</span> it = std::<span class="built_in">lower_bound</span>(u.<span class="built_in">begin</span>(), u.<span class="built_in">end</span>(), coordinates[order[i]][<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (it == u.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        u.<span class="built_in">push_back</span>(coordinates[order[i]][<span class="number">1</span>]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        *it = coordinates[order[i]][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) u.<span class="built_in">size</span>() + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/09/15/LeetCode-BitWeek-139/">https://blog.jujimeizuo.cn/2024/09/15/LeetCode-BitWeek-139/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux æƒé™é—®é¢˜</title>
      <link href="/2024/06/05/Linux-%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/"/>
      <url>/2024/06/05/Linux-%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>Linux ç³»ç»Ÿä¸Šå¯¹æ–‡ä»¶çš„æƒé™æœ‰ç€ä¸¥æ ¼çš„æ§åˆ¶ï¼Œå¦‚æœæƒ³å¯¹æŸä¸ªæ–‡ä»¶æ‰§è¡ŒæŸç§æ“ä½œï¼Œå¿…é¡»å…·æœ‰å¯¹åº”çš„æƒé™æ–¹å¯æ‰§è¡ŒæˆåŠŸã€‚</li><li>Linux ä¸‹æ–‡ä»¶çš„æƒé™ç±»å‹ä¸€èˆ¬åŒ…æ‹¬è¯»ï¼Œå†™ï¼Œæ‰§è¡Œã€‚å¯¹åº”å­—æ¯ä¸º rã€wã€xã€‚</li><li>Linux ä¸‹æƒé™çš„ç²’åº¦æœ‰<strong>æ‹¥æœ‰è€…</strong>ã€<strong>ç¾¤ç»„</strong>ã€<strong>å…¶å®ƒç»„</strong>ä¸‰ç§ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½å¯ä»¥é’ˆå¯¹ä¸‰ä¸ªç²’åº¦ï¼Œè®¾ç½®ä¸åŒçš„ rwx (è¯»å†™æ‰§è¡Œ)æƒé™ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ–‡ä»¶åªèƒ½å½’å±äºä¸€ä¸ªç”¨æˆ·å’Œç»„ï¼Œå¦‚æœå…¶å®ƒçš„ç”¨æˆ·æƒ³æœ‰è¿™ä¸ªæ–‡ä»¶çš„æƒé™ï¼Œåˆ™å¯ä»¥å°†è¯¥ç”¨æˆ·åŠ å…¥å…·å¤‡æƒé™çš„ç¾¤ç»„ï¼Œä¸€ä¸ªç”¨æˆ·å¯ä»¥åŒæ—¶å½’å±äºå¤šä¸ªç»„ã€‚</li><li>Linux ä¸Šé€šå¸¸ä½¿ç”¨ chmod å‘½ä»¤å¯¹æ–‡ä»¶çš„æƒé™è¿›è¡Œè®¾ç½®å’Œæ›´æ”¹ã€‚</li></ul><h2 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h2><blockquote><p>æ›´æ”¹æ–‡ä»¶æƒé™ï¼Œ<code>chmod [Option] &lt;mode&gt; &lt;file...&gt;</code></p></blockquote><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">å‚æ•°è¯´æ˜ï¼š</span><br><span class="line"> </span><br><span class="line">[Option]</span><br><span class="line">  -c, --changes          like verbose but report only when a change is made (è‹¥è¯¥æ¡£æ¡ˆæƒé™ç¡®å®å·²ç»æ›´æ”¹ï¼Œæ‰æ˜¾ç¤ºå…¶æ›´æ”¹åŠ¨ä½œ)</span><br><span class="line">  -f, --silent, --quiet  suppress most error messages  ï¼ˆè‹¥è¯¥æ¡£æ¡ˆæƒé™æ— æ³•è¢«æ›´æ”¹ä¹Ÿä¸è¦æ˜¾ç¤ºé”™è¯¯è®¯æ¯ï¼‰</span><br><span class="line">  -v, --verbose          output a diagnostic for every file processedï¼ˆæ˜¾ç¤ºæƒé™å˜æ›´çš„è¯¦ç»†èµ„æ–™ï¼‰</span><br><span class="line">       --no-preserve-root  do not treat &#x27;/&#x27; specially (the default)</span><br><span class="line">       --preserve-root    fail to operate recursively on &#x27;/&#x27;</span><br><span class="line">       --reference=RFILE  use RFILE&#x27;s mode instead of MODE values</span><br><span class="line">  -R, --recursive        change files and directories recursively ï¼ˆä»¥é€’å½’çš„æ–¹å¼å¯¹ç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ¡£æ¡ˆä¸å­ç›®å½•è¿›è¡Œç›¸åŒçš„æƒé™å˜æ›´)</span><br><span class="line">       --helpæ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯</span><br><span class="line">       --versionæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line">[mode] </span><br><span class="line">    æƒé™è®¾å®šå­—ä¸²ï¼Œè¯¦ç»†æ ¼å¼å¦‚ä¸‹ ï¼š</span><br><span class="line">    [ugoa...][[+-=][rwxX]...][,...]ï¼Œ</span><br><span class="line">    å…¶ä¸­</span><br><span class="line">    [ugoa...]</span><br><span class="line">    u è¡¨ç¤ºè¯¥æ¡£æ¡ˆçš„æ‹¥æœ‰è€…ï¼Œg è¡¨ç¤ºä¸è¯¥æ¡£æ¡ˆçš„æ‹¥æœ‰è€…å±äºåŒä¸€ä¸ªç¾¤ä½“(group)è€…ï¼Œo è¡¨ç¤ºå…¶ä»–ä»¥å¤–çš„äººï¼Œa è¡¨ç¤ºæ‰€æœ‰ï¼ˆåŒ…å«ä¸Šé¢ä¸‰è€…ï¼‰ã€‚</span><br><span class="line">    [+-=]</span><br><span class="line">    + è¡¨ç¤ºå¢åŠ æƒé™ï¼Œ- è¡¨ç¤ºå–æ¶ˆæƒé™ï¼Œ= è¡¨ç¤ºå”¯ä¸€è®¾å®šæƒé™ã€‚</span><br><span class="line">    [rwxX]</span><br><span class="line">    r è¡¨ç¤ºå¯è¯»å–ï¼Œw è¡¨ç¤ºå¯å†™å…¥ï¼Œx è¡¨ç¤ºå¯æ‰§è¡Œï¼ŒX è¡¨ç¤ºåªæœ‰å½“è¯¥æ¡£æ¡ˆæ˜¯ä¸ªå­ç›®å½•æˆ–è€…è¯¥æ¡£æ¡ˆå·²ç»è¢«è®¾å®šè¿‡ä¸ºå¯æ‰§è¡Œã€‚</span><br><span class="line"> </span><br><span class="line">[file...]</span><br><span class="line">    æ–‡ä»¶åˆ—è¡¨ï¼ˆå•ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶ã€æ–‡ä»¶å¤¹ï¼‰</span><br></pre></td></tr></table></figure><h3 id="rwx"><a href="#rwx" class="headerlink" title="rwx"></a>rwx</h3><p>æ•°å­—å¯ä»¥è¡¨ç¤ºæƒé™ï¼Œè§„å®šæ•°å­— 4ã€2ã€1 åˆ†åˆ«è¡¨ç¤ºè¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼Œå³ r&#x3D;4ï¼Œw&#x3D;2ï¼Œx&#x3D;1ã€‚ä¾‹å¦‚ç»å¸¸çœ‹åˆ°çš„ 777 å°±æ˜¯ rwxrwxrwxã€‚</p><p>ç”¨æ•°å­—æƒé™æ›´æ”¹æ ¼å¼ï¼š<code>chmod &lt;abc&gt; file...</code></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å…¶ä¸­</span><br><span class="line">a,b,cå„ä¸ºä¸€ä¸ªæ•°å­—ï¼Œåˆ†åˆ«ä»£è¡¨Userã€Groupã€åŠOtherçš„æƒé™ã€‚</span><br><span class="line">ç›¸å½“äºç®€åŒ–ç‰ˆçš„</span><br><span class="line">chmod u=æƒé™,g=æƒé™,o=æƒé™ file...</span><br><span class="line">è€Œæ­¤å¤„çš„æƒé™å°†ç”¨8è¿›åˆ¶çš„æ•°å­—æ¥è¡¨ç¤ºUserã€Groupã€åŠOtherçš„è¯»ã€å†™ã€æ‰§è¡Œæƒé™</span><br></pre></td></tr></table></figure><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-rw------- (600)    åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»å†™æƒé™ã€‚</span><br><span class="line">-rw-r--r-- (644)    åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»å†™æƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»æƒé™ã€‚</span><br><span class="line">-rwx------ (700)    åªæœ‰æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚</span><br><span class="line">-rwxr-xr-x (755)    æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»ã€æ‰§è¡Œæƒé™ã€‚</span><br><span class="line">-rwx--x--x (711)    æ‹¥æœ‰è€…æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰æ‰§è¡Œæƒé™ã€‚</span><br><span class="line">-rw-rw-rw- (666)    æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰æ–‡ä»¶è¯»ã€å†™æƒé™ã€‚</span><br><span class="line">-rwxrwxrwx (777)    æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚</span><br></pre></td></tr></table></figure><h2 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h2><blockquote><p>æ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…ï¼Œ<code>chown [Option] user[:group] file...</code></p></blockquote><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨æƒé™ï¼šroot</span><br><span class="line"> </span><br><span class="line">è¯´æ˜ï¼š</span><br><span class="line">[Option] : åŒä¸Šæ–‡chmod</span><br><span class="line">user : æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€…çš„ä½¿ç”¨è€… </span><br><span class="line">group : æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€…çš„ä½¿ç”¨è€…ç¾¤ä½“(group)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚åœ¨æ™®é€šç”¨æˆ·ä¸‹ä¼šç»å¸¸çœ‹åˆ°æŸäº›æ–‡ä»¶å¤¹&#x2F;æ–‡ä»¶â€œ<strong>ä¸Šé”</strong>â€ã€‚</p><p>å¦‚æœç”¨ <code>sudo chmod -R 777</code>ï¼Œé€’å½’å°†æ‰€æœ‰æ–‡ä»¶æ›´æ”¹æƒé™ï¼Œå½“ç„¶èƒ½è§£é”ï¼Œä½†æ˜¯ä¼šæœ‰å¾ˆå¤§å±é™©ã€‚<br>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨ chownï¼Œå°†æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„æ‹¥æœ‰è€…æ›´æ”¹ä¸ºä»»æ„ç”¨æˆ·ï¼Œå³å¯è§£é”ğŸ”“ã€‚</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://blog.csdn.net/u013197629/article/details/73608613">Linuxæƒé™è¯¦è§£ï¼ˆchmodã€600ã€644ã€700ã€711ã€755ã€777ã€4755ã€6755ã€7755ï¼‰</a></li><li><a href="https://www.cnblogs.com/guojiaxue/p/13084253.html">å»é™¤Ubuntuæ–‡ä»¶å¤¹æœ‰é”æ ‡å¿—çš„æ–¹æ³•ï¼ˆåŒ…å«ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶è§£é”ï¼‰</a></li><li><a href="https://blog.csdn.net/weixin_44260459/article/details/122713532">Ubuntuç³»ç»Ÿä¸‹æ–‡ä»¶å¸¦å°é”å¦‚ä½•è§£å†³</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/06/05/Linux-%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/">https://blog.jujimeizuo.cn/2024/06/05/Linux-æƒé™é—®é¢˜/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual SLAM and SfM in Dynamic Environments: A Survey</title>
      <link href="/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/"/>
      <url>/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><blockquote><p>æœ¬æ–‡ä»‹ç» <strong>VSLAM</strong> å’Œ <strong>SfM</strong> åœ¨<strong>åŠ¨æ€ç¯å¢ƒ</strong>ä¸‹ç›®å‰æ‰€æœ‰æŠ€æœ¯ç›¸å…³çš„ç»¼è¿°ã€‚</p></blockquote><p>å›é¡¾åŠ¨æ€ç¯å¢ƒä¸­çš„è§†è§‰å®šä½å’Œ 3D é‡å»ºæŠ€æœ¯ï¼š</p><ul><li>æ¶µç›–ä¸‰ä¸ªä¸»è¦é—®é¢˜ï¼š<ol><li>å¦‚ä½•åšå¥½é²æ£’ VSLAM</li><li>å¦‚ä½•åœ¨ 3D ä¸­åˆ†å‰²å’Œè·Ÿè¸ªåŠ¨æ€ç‰©ä½“</li><li>å¦‚ä½•å®ç°è”åˆè¿åŠ¨åˆ†å‰²å’Œé‡å»º</li></ol></li><li>ä»ä¸¤ä¸ªè§’åº¦æ¥çœ‹ï¼š<ol><li>ä½œä¸ºä¸€ä¸ªé²æ£’æ€§é—®é¢˜ï¼šç›¸æœºå‰çš„åŠ¨æ€ç‰©ä½“å¯¼è‡´é”™è¯¯çš„å¯¹åº”å…³ç³»ï¼ˆé®æŒ¡ç­‰ï¼‰ï¼Œå¯ä»¥é€šè¿‡åˆ†å‰²å›¾åƒä¸­é™æ€å’ŒåŠ¨æ€ç‰¹å¾ï¼Œå°†åŠ¨æ€éƒ¨åˆ†è§†ä¸ºå¼‚å¸¸å€¼æ¥å®ç°é²æ£’æ€§ï¼Œåªç”¨é™æ€éƒ¨åˆ†è®¡ç®—å§¿æ€ä¼°è®¡ã€‚</li><li>ä½œä¸ºä¸€ä¸ªæ ‡å‡† VSLAM åœ¨åŠ¨æ€ç¯å¢ƒä¸­çš„æ‰©å±•ï¼šå°†è·Ÿè¸ªçš„ç‰¹å¾åˆ†å‰²æˆä¸åŒçš„ç°‡ï¼Œå¯ä»¥é‡å»ºæ¯ä¸ªç‰©ä½“ç»“æ„ï¼ˆå½¢çŠ¶ï¼‰å¹¶è·Ÿè¸ªè½¨è¿¹ï¼Œç”šè‡³å¯ä»¥å°†åŠ¨æ€ç‰©ä½“æ’å…¥é™æ€åœ°å›¾ä¸­ã€‚</li></ol></li><li>ç°æœ‰å¤§è‡´ä¸‰ç§æ€è·¯ï¼ˆåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªä¸»è¦é—®é¢˜ï¼‰ï¼š<ol><li>æ’é™¤åŠ¨æ€ç‰¹å¾æ¥æ„å»ºé™æ€åœ°å›¾</li><li>æå–åŠ¨æ€ç‰©ä½“è€Œå¿½ç•¥é™æ€èƒŒæ™¯</li><li>è¯•å›¾åŒæ—¶å¤„ç†ä¸–ç•Œä¸­é™æ€å’ŒåŠ¨æ€çš„ç»„æˆæˆåˆ†</li></ol></li></ul><h2 id="ç»¼è¿°ç»“æ„"><a href="#ç»¼è¿°ç»“æ„" class="headerlink" title="ç»¼è¿°ç»“æ„"></a>ç»¼è¿°ç»“æ„</h2><ul><li>é²æ£’ VSLAM<ol><li>è¿åŠ¨åˆ†å‰²<ol><li>èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–</li><li>å‡ ä½•çº¦æŸ</li><li>å…‰æµ</li><li>è‡ªæˆ‘è¿åŠ¨çº¦æŸ</li><li>æ·±åº¦å­¦ä¹ </li></ol></li><li>å®šä½ä¸ 3D é‡å»º<ol><li>åŸºäºç‰¹å¾</li><li>æ·±åº¦å­¦ä¹ </li></ol></li></ol></li><li>åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸ 3D è·Ÿè¸ª<ol><li>åŠ¨æ€ç‰©ä½“åˆ†å‰²<ol><li>ç»Ÿè®¡æ¨¡å‹é€‰æ‹©</li><li>å­ç©ºé—´èšç±»</li><li>å‡ ä½•</li><li>æ·±åº¦å­¦ä¹ </li></ol></li><li>åŠ¨æ€ç‰©ä½“çš„ 3D è·Ÿè¸ª<ol><li>è½¨è¿¹ä¸‰è§’æµ‹é‡</li><li>ç²’å­æ»¤æ³¢</li></ol></li></ol></li><li>è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º<ol><li>å› å­åˆ†è§£<ol><li>å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰</li><li>éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰</li></ol></li></ol></li></ul><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-1.jpg"></center><h2 id="é²æ£’-VSLAM"><a href="#é²æ£’-VSLAM" class="headerlink" title="é²æ£’ VSLAM"></a>é²æ£’ VSLAM</h2><blockquote><p>å¦‚æœä»…åŸºäºé™æ€ç‰¹å¾è®¡ç®—å§¿æ€ä¼°è®¡ï¼Œå°±å¯ä»¥åœ¨åŠ¨æ€ç¯å¢ƒä¸­å®ç° Robust VSLAMã€‚</p></blockquote><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-2.jpg"></center><h3 id="è¿åŠ¨åˆ†å‰²"><a href="#è¿åŠ¨åˆ†å‰²" class="headerlink" title="è¿åŠ¨åˆ†å‰²"></a>è¿åŠ¨åˆ†å‰²</h3><blockquote><p>å°†ç‰¹å¾åˆ†ä¸ºä¸¤ä¸ªä¸åŒçš„ç»„ï¼Œå³é™æ€ç‰¹å¾å’ŒåŠ¨æ€ç‰¹å¾ï¼Œæ¥æ£€æµ‹å›¾åƒä¸­çš„åŠ¨æ€éƒ¨åˆ†ã€‚</p></blockquote><p>æ ‡å‡†çš„ VSLAM ä½¿ç”¨ <strong>è®¡ç®—å‡ ä½•æ¨¡å‹ï¼ˆåŸºç¡€&#x2F;å•åº”çŸ©é˜µï¼‰</strong>ã€<strong>RANSAC</strong>ã€<strong>è¾›æ™®æ£®è·ç¦»</strong> ç­‰å»é™¤åŠ¨æ€ç‰¹å¾ç‚¹ã€‚</p><ul><li>å¦‚æœé™æ€ç‰¹å¾å å¤šæ•°ï¼Œæ•ˆæœä¼šå¾ˆå¥½ã€‚</li><li>å¦‚æœç›¸æœºå‰çš„åŠ¨æ€ç‰©ä½“å æ®è¾ƒå¤§ï¼Œæ•ˆæœä¸å¥½ï¼Œå…¶ä»–æ–¹æ³•å¯ä»¥åˆ©ç”¨ <strong>IMU</strong> ä¼°è®¡ç›¸æœºçš„è‡ªæˆ‘è¿åŠ¨æ¥è§£å†³ã€‚</li></ul><h4 id="èƒŒæ™¯-å‰æ™¯åˆå§‹åŒ–"><a href="#èƒŒæ™¯-å‰æ™¯åˆå§‹åŒ–" class="headerlink" title="èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–"></a>èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–</h4><p>å‡è®¾ç³»ç»Ÿå¯¹ç¯å¢ƒæœ‰<strong>å…ˆéªŒçŸ¥è¯†</strong>ï¼Œå¯ä»¥åˆ©ç”¨è¯¥ä¿¡æ¯æ¥åˆ†å‰²ã€‚è¿™ç§å…ˆéªŒçŸ¥è¯†å¯ä»¥é™„åŠ åˆ°èƒŒæ™¯æˆ–å‰æ™¯å¯¹è±¡ä¸Šã€‚å¦‚æœä¿¡æ¯æ˜¯å…³äºå‰æ™¯å¯¹è±¡çš„ï¼Œåˆ™ç³»ç»ŸçŸ¥é“åœ¨ç›¸æœºå‰ç§»åŠ¨çš„å¯¹è±¡çš„ç±»å‹æˆ–å½¢çŠ¶ã€‚</p><h4 id="å‡ ä½•çº¦æŸ"><a href="#å‡ ä½•çº¦æŸ" class="headerlink" title="å‡ ä½•çº¦æŸ"></a>å‡ ä½•çº¦æŸ</h4><p>åˆ©ç”¨å¯¹æå‡ ä½•ç‰¹æ€§æ¥åˆ†å‰²é™æ€å’ŒåŠ¨æ€ç‰¹å¾ã€‚åŠ¨æ€ç‰¹å¾è¿åé™æ€åœºæ™¯ä¸­åœ¨å¤šè§†å›¾å‡ ä½•ä¸­å®šä¹‰çš„çº¦æŸï¼Œå¯ä»¥ä»<strong>å¯¹ææ–¹ç¨‹</strong>ã€<strong>ä¸‰è§’æµ‹é‡</strong>ã€<strong>åŸºç¡€çŸ©é˜µ</strong>ä¼°è®¡æˆ–<strong>é‡æŠ•å½±è¯¯å·®</strong>ä¸­æ¨å¯¼å‡ºã€‚</p><h4 id="å…‰æµ"><a href="#å…‰æµ" class="headerlink" title="å…‰æµ"></a>å…‰æµ</h4><p>å…‰æµå®šä¹‰äº†ä»ä¸¤ä¸ªè¿ç»­å›¾åƒè®¡ç®—å¾—å‡ºçš„äº®åº¦æ¨¡å¼çš„è¡¨è§‚è¿åŠ¨ï¼Œå¯¹åº”äºå›¾åƒä¸­çš„è¿åŠ¨åœºï¼Œåˆ©ç”¨å›¾å‰²ç®—æ³•åŸºäºè¯¥è¿åŠ¨åº¦é‡æ¥åˆ†å‰²åŠ¨æ€ç‰©ä½“ã€‚è¿˜æœ‰ <strong>3D ç‰ˆæœ¬çš„åœºæ™¯æµ</strong>ã€‚</p><h4 id="è‡ªæˆ‘è¿åŠ¨çº¦æŸ"><a href="#è‡ªæˆ‘è¿åŠ¨çº¦æŸ" class="headerlink" title="è‡ªæˆ‘è¿åŠ¨çº¦æŸ"></a>è‡ªæˆ‘è¿åŠ¨çº¦æŸ</h4><p>æ ‡å‡†çš„ SfM å’Œ VSLAM é€šè¿‡<strong>å…«ç‚¹æ³•</strong>æˆ–<strong>äº”ç‚¹æ³•</strong>æ¥è®¡ç®—ç›¸æœºè¿åŠ¨ã€‚å¦ä¸€ç§æ–¹æ³•å‡è®¾ç›¸æœºæ ¹æ®ç»™å®šçš„å¤–éƒ¨ä¿¡æ¯ï¼ˆe.g. è½¦è½®é‡Œç¨‹è®¡ä¿¡æ¯ï¼‰æŒ‰ç…§ç‰¹å®šçš„å‚æ•°åŒ–è¿›è¡Œç§»åŠ¨ã€‚é€šè¿‡è¿™ç§å¼ºåˆ¶è‡ªæˆ‘è¿åŠ¨çº¦æŸï¼Œå¯ä»¥æ‹Ÿåˆä¸ç›¸æœºè¿åŠ¨çº¦æŸç›¸åŒ¹é…çš„ç‰¹å¾ç‚¹æ¥å¯¹é™æ€ç‰¹å¾è¿›è¡Œåˆ†ç±»ã€‚</p><h4 id="æ·±åº¦å­¦ä¹ "><a href="#æ·±åº¦å­¦ä¹ " class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h4><p>ä»åŸºäºç‰¹å¾çš„è¿åŠ¨åˆ†å‰²ä¸­ï¼Œä¸Šè¿°å¯ä»¥åˆ©ç”¨å…‰æµæ¥åˆ†å‰²åŠ¨æ€ç‰©ä½“ã€‚æ‰€ä»¥å¯ä»¥<strong>é€šè¿‡ç›‘ç£å­¦ä¹ æ¥ä¼°è®¡å…‰æµ</strong>ã€‚</p><ol><li><strong>FlowNetS</strong>ï¼šé€šè¿‡å°†ä¸¤å¼ è¿ç»­å›¾åƒå †å ä½œä¸º CNN çš„è¾“å…¥</li><li><strong>FlowNetC</strong>ï¼šé€šè¿‡å¼•å…¥ä¸€ä¸ªç›¸å…³å±‚æ¥æ¯”è¾ƒç”±ä¸¤ä¸ªç›¸åŒ CNN æµå¾—åˆ°çš„ä¸¤ä¸ªç‰¹å¾å›¾</li><li><strong>FlowNet 2.0</strong>:å°†  <strong>FlowNetS</strong> å’Œ <strong>FlowNetC</strong> å †å æˆä¸€ä¸ªæ›´æ·±çš„ç½‘ç»œï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæ–°çš„å¹¶è¡Œç½‘ç»œæ¥å¤„ç†å°ä½ç§»</li><li>ä½¿ç”¨ç«‹ä½“å›¾åƒè¿›è¡Œåœºæ™¯æµä¼°è®¡çš„æ‰©å±•ï¼Œè¿™ç§å…‰æµå¯ä»¥è¾“å…¥åˆ°ä¸€ä¸ªæ›´æ·±çš„ç½‘ç»œä¸­ä»¥å‘ç°è¿åŠ¨ç‰¹å¾</li><li>åœ¨å›¾åƒç©ºé—´ä¸­æ˜ç¡®åˆ†å‰²åŠ¨æ€ç‰©ä½“ï¼Œé‡‡ç”¨é‡å»ºç‹¬ç«‹æˆåˆ†åˆ†æè‡ªç¼–ç å™¨æ¥å­¦ä¹ æ—¶ç©ºç‰¹å¾ã€‚ç„¶è€Œï¼Œç”±äºæ—¶ç©ºç‰¹å¾æ— æ³•å­¦ä¹ è¿åŠ¨çš„ 3D å‡ ä½•å½¢çŠ¶ï¼Œå› æ­¤ä»ç„¶ä½¿ç”¨å‡ ä½•ç‰¹å¾æ¥å¸®åŠ©åˆ†å‰²è¿åŠ¨ã€‚å‡ ä½•å’Œæ—¶ç©ºç‰¹å¾éƒ½è¢«è¾“å…¥åˆ° RNN ä¸­ï¼Œä»¥è¿›è¡Œæœ€ç»ˆçš„è¿åŠ¨åˆ†å‰²</li><li>é€šè¿‡å›å½’ç»™å®šçš„ RGB å›¾åƒå’Œå…‰æµçš„ç›®æ ‡æ€§çš„ç²‰æ¥åˆ†å‰²åŠ¨æ€ç‰©ä½“ã€‚æ„å»ºä¸¤ä¸ªç±»ä¼¼ AlexNet çš„å¹¶è¡Œ CNNï¼Œå¤„ç† RGB å›¾åƒå’Œå…‰æµï¼Œç„¶åè¾“å…¥åˆ°å›å½’ç½‘ç»œå¹¶ç”Ÿæˆè¿åŠ¨</li><li><strong>R-FCN</strong>ï¼šä»åœ¨çº¿å›¾åƒåºåˆ—ä¸­åˆ†å‰²å‰æ™¯è¿åŠ¨æ—¶ç»“åˆå®è·µæ•°æ®ï¼Œ<strong>FCN</strong> ç”¨äºå­¦ä¹ ç©ºé—´ç‰¹å¾å¹¶ç”Ÿæˆåƒç´ ç¨ å¯†é¢„æµ‹ï¼Œä½†åœ¨åº”ç”¨åå·ç§¯ä¹‹å‰ï¼Œä½¿ç”¨ <strong>GRU</strong> æ¥å»ºæ¨¡æ—¶é—´ç‰¹å¾ã€‚</li></ol><h3 id="å®šä½ä¸-3D-é‡å»º"><a href="#å®šä½ä¸-3D-é‡å»º" class="headerlink" title="å®šä½ä¸ 3D é‡å»º"></a>å®šä½ä¸ 3D é‡å»º</h3><blockquote><p>ä»å¤šå¼ å›¾åƒä¸­ä¼°è®¡ç›¸å¯¹ç›¸æœºå§¿æ€ï¼ˆå¹³ç§»å’Œæ—‹è½¬ï¼‰ä»¥åŠæ‰€è§‚å¯Ÿç¯å¢ƒçš„ 3D ç»“æ„ã€‚</p></blockquote><ul><li>åŸºäºç‰¹å¾</li><li>åŸºäºæ·±åº¦å­¦ä¹ </li></ul><h4 id="åŸºäºç‰¹å¾"><a href="#åŸºäºç‰¹å¾" class="headerlink" title="åŸºäºç‰¹å¾"></a>åŸºäºç‰¹å¾</h4><p>åœ¨åŸºäºç‰¹å¾çš„ VSLAM ä¸­ï¼Œæå–æ˜¾è‘—ç‰¹å¾æ¥è§£å†³å›¾åƒå¯¹åº”é—®é¢˜ã€‚ç°æœ‰çš„ç‰¹å¾æå–æŠ€æœ¯ï¼š</p><ol><li>Harris</li><li>SIFT</li><li>SURF</li><li>FAST</li></ol><p>ä¸ºæ‰¾åˆ°å¯¹åº”å…³ç³»ï¼Œä½¿ç”¨ç‰¹å¾åŒ¹é…ã€‚æ ¹æ®ä¸¤ä¸ªç›¸æœºçš„å…‰å¿ƒä¹‹é—´çš„è·ç¦»ï¼ˆåŸºçº¿&#x2F;è§†å·®ï¼‰åˆ†å¼€çš„ç¨‹åº¦æ¥åˆ’åˆ†ã€‚</p><ul><li>åŸºäºçŸ­åŸºçº¿ï¼šå¯ä»¥ç”¨åŸºäºå…‰æµçš„æŠ€æœ¯è¿›è¡ŒåŒ¹é…</li><li>å¯¹äºé•¿åŸºçº¿ï¼šéœ€è¦æœ‰é«˜åº¦åŒºåˆ†åº¦çš„ç‰¹å¾æè¿°å­ï¼Œä¾‹å¦‚ <strong>SIFT</strong>ã€<strong>SURF</strong>ã€<strong>BRIEF</strong>ã€<strong>BRISK</strong> ç­‰ï¼Œé€šè¿‡è®¡ç®—è¿™äº›æè¿°å­ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§æ¥æ‰¾åˆ°å¯¹åº”å…³ç³»ï¼Œå½“æ•°æ®åŒ…å«å¼‚å¸¸å€¼æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <strong>RANSAC</strong>ã€<strong>PROSAC</strong>ã€<strong>MLESAC</strong> ç­‰æ’é™¤å¼‚å¸¸å€¼ã€‚</li></ul><p>å½“å›¾åƒå¯¹åº”å…³ç³»å·²çŸ¥ï¼Œ2-3 å¼ å›¾åƒä¹‹é—´çš„ç›¸å¯¹ä½å§¿å¯ä»¥æ¢å¤åˆ°ä¸€ä¸ªæ¯”ä¾‹å› å­ã€‚é€šè¿‡å¯¹æçº¦æŸï¼Œ</p><ol><li>ä¸¤ä¸ªè§†å›¾ç”¨å…«ç‚¹æ³•æˆ–äº”ç‚¹æ³•</li><li>ä¸‰ä¸ªè§†å›¾ç”¨ä¸‰äº¤ç‚¹å¼ é‡</li><li>å¦‚æœå·²ç»é‡å»ºäº†åœºæ™¯çš„ä¸€äº› 3D ç‚¹ï¼Œå¯ä»¥ç”¨ P3P</li></ol><p>å½“ç›¸æœºä½å§¿è¢«æ¢å¤æ—¶ï¼Œé€šè¿‡<strong>ä¸‰è§’æµ‹é‡</strong>å¯¹ä¸¤æ¡æŠ•å½±å°„çº¿è¿›è¡Œç›¸äº¤ï¼Œå¾—åˆ°é‡å»ºåœºæ™¯çš„ 3D ç‚¹ï¼Œä½†æ˜¯ç”±äºé”™è¯¯çš„å¯¹åº”å…³ç³»å°„çº¿å¹¶ä¸æ€»æ˜¯ç›¸äº¤ï¼Œå¯ä»¥ç”¨<strong>ä¸­ç‚¹æ³•</strong>æˆ–<strong>æœ€å°äºŒä¹˜æ³•</strong>ä¼°è®¡äº¤ç‚¹ã€‚ä¸ºäº†é¿å…æ¼‚ç§»é—®é¢˜ï¼Œç”¨ <strong>BA</strong> é€šè¿‡æœ€å°åŒ–é‡æŠ•å½±è¯¯å·®æ¥åŒæ—¶ç›¸æœºä½å§¿å’Œ 3D ç‚¹ã€‚å¦ä¸€ç§é«˜æ–¯-ç‰›é¡¿æ–¹æ³•çš„å˜ä½“ <strong>LM</strong> ä¼˜åŒ–ã€‚æ˜¯è”åˆä¼˜åŒ–åœºæ™¯ç»“æ„å’Œç›¸æœºè¿åŠ¨çš„ä¸»æµæ–¹æ³•ã€‚</p><p>å®é™…ä¸Šï¼Œæœ‰äººé‡‡ç”¨<strong>å±€éƒ¨ BA</strong> ä¼˜åŒ–æœ€åå‡ å¼ å›¾åƒï¼Œæ¯”å¦‚ ORB-SLAM ä¸­å°±ç”¨åˆ°äº†ã€‚</p><h4 id="åŸºäºæ·±åº¦å­¦ä¹ "><a href="#åŸºäºæ·±åº¦å­¦ä¹ " class="headerlink" title="åŸºäºæ·±åº¦å­¦ä¹ "></a>åŸºäºæ·±åº¦å­¦ä¹ </h4><p>ä¸¤ç§ä¸»æµçš„æ–¹æ³•ï¼š</p><ol><li>æœ‰ç›‘ç£å­¦ä¹ </li></ol><p>ç›‘ç£å­¦ä¹ é€šè¿‡æœ€å°åŒ–ä¸çœŸå®å§¿æ€ç›¸æ¯”åœ¨é¢„æµ‹è‡ªæˆ‘è¿åŠ¨æ—¶çš„è¯¯å·®æ¥è®­ç»ƒ CNNã€‚åœ¨æ—©æœŸå·¥ä½œä¸­ï¼Œå§¿æ€ä¼°è®¡è¢«è§†ä¸ºåœ¨ç›¸æœºå¹³ç§»å’Œæ—‹è½¬çš„ç¦»æ•£ç©ºé—´ä¸Šçš„<strong>åˆ†ç±»é—®é¢˜</strong>ã€‚ä½†è¿‘æœŸå§¿æ€ä¼°è®¡æŠ€æœ¯éƒ½é‡‡ç”¨åŸºäº<strong>å›å½’</strong>çš„ CNNã€‚ç”±äºé¢„æµ‹çš„è¿ç»­æ€§ï¼Œå›å½’æ¯”åˆ†ç±»æ›´å‡†ç¡®ã€‚</p><p>åœ¨å›å½’è§†è§‰é‡Œç¨‹è®¡é—®é¢˜ä¸­ï¼Œç›®æ ‡æ£€æµ‹å’Œåˆ†ç±»çš„é¢„è®­ç»ƒå·æœºæ›¾ä¸é€‚ç”¨ï¼Œåç»­è½¬å‘åŸºäºå…‰æµçš„ç½‘ç»œä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­æ³›åŒ–å­¦ä¹ åˆ°çš„å‚æ•°ã€‚</p><ul><li><strong>Flowdometry</strong>ï¼šç”±ä¸¤ä¸ªè¿ç»­çš„ CNN ç»„æˆï¼Œç¬¬ä¸€ä¸ªç”¨äºé¢„æµ‹å…‰æµï¼Œç¬¬äºŒä¸ªä¼°è®¡ç›¸æœºè¿åŠ¨</li><li>è®¡ç®—ä¸¤ä¸ªè§†å›¾ä¹‹é—´è‡ªæˆ‘è¿åŠ¨çš„ç«¯åˆ°ç«¯ CNNï¼Œå †å ä¸¤ä¸ªå…·æœ‰å…·æœ‰æƒé‡å…±äº«çš„å¹¶è¡Œ CNNï¼Œéšåæ˜¯ä¸€ä¸ªç©ºé—´é‡‘å­—å¡”æ± åŒ– SPP å±‚ï¼Œä»¥å¤„ç†ä»»æ„è¾“å…¥å›¾åƒï¼ŒåŒæ—¶åœ¨ç‰¹å¾å›¾ä¸­ä¿æŒç©ºé—´ä¿¡æ¯ã€‚å›å½’å±‚ç”±ä¸¤ä¸ªå…¨è¿æ¥å±‚ç»„æˆï¼Œç”¨äºé¢„æµ‹ç›¸æœºå¹³ç§»å’Œæ—‹è½¬</li><li><strong>DeepVO</strong>ï¼šé€šè¿‡ <strong>RCNN</strong>ï¼Œä»å›¾åƒåºåˆ—ä¸­å­¦ä¹ é¡ºåºè¿åŠ¨åŠ¨åŠ›å­¦çš„ç«¯åˆ°ç«¯å­¦ä¹ æ¡†æ¶ã€‚åœ¨è¾“å‡ºé‡Œç¨‹è®¡æ–¹é¢æ•ˆæœè¾ƒå¥½ã€‚</li></ul><ol start="2"><li>æ— ç›‘ç£å­¦ä¹ </li></ol><p>åœ¨æ— ç›‘ç£çš„æƒ…å†µä¸‹ï¼ŒCNN æ²¡æœ‰çœŸå®æ•°æ®è¿›è¡Œè®­ç»ƒã€‚ç›¸åï¼Œè¯¥ç½‘ç»œé€šè¿‡æœ€å°åŒ–ç±»ä¼¼äº <strong>LSD-SLAM</strong> çš„å…‰åº¦è¯¯å·®æ¥å­¦ä¹ é¢„æµ‹ç›¸æœºä½å§¿ã€‚</p><ul><li>åˆ©ç”¨æ–°é¢–è§†å›¾åˆæˆåŸåˆ™ï¼ˆç»™å®šä¸€ä¸ªæºå›¾åƒåˆæˆå…·æœ‰ä¸åŒä½å§¿çš„ç›®æ ‡å›¾åƒçš„é—®é¢˜ï¼‰ã€‚æ„å»ºä¸¤ä¸ªå¹¶è¡Œçš„ CNN ç”¨äºé¢„æµ‹æ·±åº¦å’Œä¼°è®¡ç›¸æœºä½å§¿ã€‚æ¥è‡ªæºå›¾åƒçš„é¢„æµ‹æ·±åº¦ç”¨äºåœ¨ç»™å®šç›¸æœºå˜æ¢çŸ©é˜µå’Œæºå›¾åƒçš„æƒ…å†µä¸‹åˆæˆç›®æ ‡å›¾åƒã€‚é€šè¿‡æœ€å°åŒ–å…‰åº¦è¯¯å·®ï¼Œå…±åŒè®­ç»ƒæ·±åº¦å’Œç›¸æœºä½å§¿ã€‚è€Œä¸æ˜¯ä»æ·±åº¦é¢„æµ‹ç”Ÿæˆç›®æ ‡å›¾åƒã€‚</li><li>åŸºäºæ·±åº¦é¢„æµ‹ã€ç›¸æœºè¿åŠ¨ä»¥åŠå·ç§¯&#x2F;åå·ç§¯ç½‘ç»œäº§ç”Ÿçš„åŠ¨æ€å¯¹è±¡åˆ†å‰²æ„å»ºäº†ä¸€ä¸ª 3D åœºæ™¯æµã€‚åœºæ™¯æµé€šè¿‡ç›¸æœºè¿åŠ¨è¿›è¡Œå˜æ¢ï¼Œç„¶ååæŠ•å½±åˆ°å½“å‰å¸§ä»¥è¯„ä¼°å…‰åº¦è¯¯å·®ã€‚</li></ul><h2 id="åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸-3D-è·Ÿè¸ª"><a href="#åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸-3D-è·Ÿè¸ª" class="headerlink" title="åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸ 3D è·Ÿè¸ª"></a>åŠ¨æ€ç‰©ä½“åˆ†å‰²ä¸ 3D è·Ÿè¸ª</h2><blockquote><p>åŠ¨æ€å¯¹è±¡åˆ†å‰²å’Œ 3D è·Ÿè¸ªå°†ç‰¹å¾å¯¹åº”å…³ç³»åŸºäºå…¶è¿åŠ¨èšç±»åˆ°ä¸åŒç»„ä¸­ï¼Œå¹¶åœ¨ 3D ä¸­è·Ÿè¸ªå®ƒä»¬çš„è½¨è¿¹ã€‚</p></blockquote><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-3.jpg"></center><h3 id="åŠ¨æ€ç‰©ä½“åˆ†å‰²"><a href="#åŠ¨æ€ç‰©ä½“åˆ†å‰²" class="headerlink" title="åŠ¨æ€ç‰©ä½“åˆ†å‰²"></a>åŠ¨æ€ç‰©ä½“åˆ†å‰²</h3><blockquote><p>åŠ¨æ€ç‰©ä½“åˆ†å‰²å°†æ‰€æœ‰ç‰¹å¾å¯¹åº”å…³ç³»èšç±»ä¸º n ä¸ªä¸åŒå¯¹è±¡è¿åŠ¨ã€‚å¦ä¸€ä¸ªæŒ‘æˆ˜æ˜¯å¤„ç†<strong>é€€åŒ–è¿åŠ¨</strong>ï¼ˆå½“ä¸€ä¸ªç‰©ä½“ä¸ç›¸æœºè¿åŠ¨åœ¨åŒä¸€å¹³é¢ä¸Šä¸”å…·æœ‰ç›¸åŒçš„æ–¹å‘å’Œé€Ÿåº¦æ—¶ï¼‰æˆ–<strong>ç›¸å…³è¿åŠ¨</strong>ï¼ˆä¸¤ä¸ªäººä¸€èµ·ç§»åŠ¨ï¼Œå…³èŠ‚è¿åŠ¨ï¼‰ã€‚</p></blockquote><h4 id="ç»Ÿè®¡æ¨¡å‹é€‰æ‹©"><a href="#ç»Ÿè®¡æ¨¡å‹é€‰æ‹©" class="headerlink" title="ç»Ÿè®¡æ¨¡å‹é€‰æ‹©"></a>ç»Ÿè®¡æ¨¡å‹é€‰æ‹©</h4><p>ç”¨ <strong>RANSAC</strong> æˆ–<strong>è’™ç‰¹å¡ç½—é‡‡æ ·è¿­ä»£</strong>ä¸‹å¯¹æ•°æ®çš„å­é›†è¿›è¡Œé‡‡æ ·ï¼Œå¹¶å°†è¿åŠ¨æ¨¡å‹æ‹Ÿåˆåˆ°é‡‡æ ·æ•°æ®ä¸­ã€‚æ”¹è¿åŠ¨æ¨¡å‹ç”¨äºæ„å»ºå†…ç‚¹é›†ï¼Œå¹¶å°†å‰©ä½™æ•°æ®æ’é™¤ä¸ºè¯¥æ¨¡å‹çš„å¼‚å¸¸å€¼ã€‚ç„¶åï¼Œå¯¹å‰©ä½™æ•°æ®ï¼ˆå‰ä¸€ä¸ªæ¨¡å‹çš„å¼‚å¸¸å€¼ï¼‰åœ¨æ­¤è¿›è¡Œé‡‡æ ·ï¼Œä»¥æ‰¾åˆ°å¹¶æ‹Ÿåˆæœ€èƒ½æè¿°å‰©ä½™æ•°æ®çš„å¦ä¸€ä¸ªæ¨¡å‹ã€‚</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-4.jpg"></center><h4 id="å­ç©ºé—´èšç±»"><a href="#å­ç©ºé—´èšç±»" class="headerlink" title="å­ç©ºé—´èšç±»"></a>å­ç©ºé—´èšç±»</h4><p>è®¸å¤šé«˜ç»´æ•°æ®å¯ä»¥ç”¨ä½ç»´å­ç©ºé—´çš„å¹¶é›†æ¥è¡¨ç¤ºã€‚æ•°æ®ç‚¹çš„ä¸€ä¸ªå­ç©ºé—´å¯ä»¥ç”±åŸºå‘é‡å’Œä½ç»´æ•°æ®æ¥è¡¨ç¤ºã€‚åœ¨å­ç©ºé—´èšç±»æ¡†æ¶ä¸‹çš„ 3D è¿åŠ¨åˆ†å‰²é—®é¢˜åŸºæœ¬ä¸Šæ˜¯æ‰¾åˆ°ä¸æ¯ä¸ªåˆšä½“è¿åŠ¨ç›¸å…³è”çš„æ¯ä¸ªå•ç‹¬å­ç©ºé—´ï¼Œå¹¶å°†æ•°æ®æ‹Ÿåˆåˆ°è¿™äº›å­ç©ºé—´ä¸­ã€‚</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-5.jpg"></center><h4 id="å‡ ä½•"><a href="#å‡ ä½•" class="headerlink" title="å‡ ä½•"></a>å‡ ä½•</h4><p>å‡ ä½•æ–¹æ³•å°†å¤šè§†å›¾å‡ ä½•çš„æ ‡å‡†å…¬å¼ä»é™æ€åœºæ™¯æ‰©å±•åˆ°åŒ…å«ç‹¬ç«‹è¿åŠ¨ç‰©ä½“çš„åŠ¨æ€åœºæ™¯ã€‚è™½ç„¶æœ‰ä¸€ä¸ªåŸºæœ¬çŸ©é˜µæè¿°ç›¸æœºç›¸å¯¹äºé™æ€åœºæ™¯çš„ä¸€èˆ¬è¿åŠ¨ï¼Œä½†åœ¨åŠ¨æ€ç¯å¢ƒä¸­ï¼Œå°†ä¼šæœ‰ n ä¸ªåŸºæœ¬çŸ©é˜µæ¥æè¿° n ä¸ªç‰©ä½“çš„è¿åŠ¨ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ä¸ªç”¨äºé™æ€ç‰¹å¾ã€‚</p><ul><li>é€šè¿‡å¼•å…¥å¤šä½“ä¸‰çº¿æ€§çº¦æŸå’Œå¤šä½“ä¸‰ç„¦ç‚¹å¼ é‡ï¼Œå°†å¤šä½“è¿åŠ¨æ¢å¤ä»ä¸¤ä¸ªè§†å›¾æ‰©å±•åˆ°ä¸‰ä¸ªè§†å›¾ã€‚å°†é™æ€åœºæ™¯ä¸­çš„ä¸‰çº¿æ€§çº¦æŸå’Œä¸‰ç„¦ç‚¹å¼ é‡æ¨å¹¿åˆ°åŒ…å«å¤šä¸ªç‰©ä½“çš„åŠ¨æ€åœºæ™¯ã€‚</li></ul><h4 id="æ·±åº¦å­¦ä¹ -1"><a href="#æ·±åº¦å­¦ä¹ -1" class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h4><p>å½“å‰ç”¨äºè§£å†³åŠ¨æ€ç‰©ä½“åˆ†å‰²é—®é¢˜çš„ DNN ä¾èµ–äºé¢„å®šä¹‰æ•°é‡çš„åˆšä½“è¿åŠ¨ã€‚ç”¨äºç”Ÿæˆç¨ å¯†å¯¹è±¡æ©ç çš„ç½‘ç»œåŠå…¶ç›¸å…³æŸå¤±å‡½æ•°å¯èƒ½æºè‡ª 3D ç‚¹äº‘æ•°æ®æˆ–å…‰æµã€‚</p><ul><li><strong>SE3-Net</strong>ï¼šä¸€ç§èƒ½å¤Ÿä» 3D ç‚¹äº‘ä¸­åˆ†å‰²å‡ºé¢„å®šä¹‰çš„ n ä¸ªåŠ¨æ€å¯¹è±¡çš„ DNNï¼Œåœ¨ SE(3) å˜æ¢ä¸­è¡¨ç¤ºã€‚</li><li><strong>SfM-Net</strong>ï¼šåˆ©ç”¨å…‰æµæ¥åˆ†å‰²åŠ¨æ€å¯¹è±¡ã€‚è¿™æ˜¯ä¸€ä¸ªèƒ½å¤Ÿé¢„æµ‹æ·±åº¦ã€ç›¸æœºè¿åŠ¨å’ŒåŠ¨æ€å¯¹è±¡åˆ†å‰²çš„å…·æœ‰å‡ ä½•æ„ŸçŸ¥èƒ½åŠ›çš„ç½‘ç»œã€‚</li></ul><h3 id="åŠ¨æ€ç‰©ä½“çš„-3D-è·Ÿè¸ª"><a href="#åŠ¨æ€ç‰©ä½“çš„-3D-è·Ÿè¸ª" class="headerlink" title="åŠ¨æ€ç‰©ä½“çš„ 3D è·Ÿè¸ª"></a>åŠ¨æ€ç‰©ä½“çš„ 3D è·Ÿè¸ª</h3><blockquote><p>åœ¨ 3D ä¸­è·Ÿè¸ªåŠ¨æ€ç‰©ä½“ï¼Œéœ€è¦çŸ¥é“åŠ¨æ€ç‰©ä½“åœ¨ä¸‰ç»´çš„åæ ‡ä½ç½®ï¼ˆåŒ…æ‹¬æ·±åº¦ä¿¡æ¯ï¼‰ã€‚</p></blockquote><h4 id="è½¨è¿¹ä¸‰è§’æµ‹é‡"><a href="#è½¨è¿¹ä¸‰è§’æµ‹é‡" class="headerlink" title="è½¨è¿¹ä¸‰è§’æµ‹é‡"></a>è½¨è¿¹ä¸‰è§’æµ‹é‡</h4><p>æ ‡å‡†ä¸‰è§’æµ‹é‡ï¼Œå¯¹åŠ¨æ€ç‰©ä½“å¹¶ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºä»ç›¸åº”ç‰¹å¾ç‚¹åå‘æŠ•å½±çš„å…‰çº¿å¹¶ä¸ç›¸äº¤ã€‚<br><strong>è½¨è¿¹ä¸‰è§’æµ‹é‡</strong>ï¼Œä½œä¸ºä¸€ç§å½“ç‰©ä½“è½¨è¿¹å·²çŸ¥æˆ–æ»¡è¶³ä¸€ä¸ªå‚æ•°å½¢å¼æ—¶é‡å»ºè¿åŠ¨ç‰©ä½“ä¸‰ç»´ç‚¹çš„æŠ€æœ¯ã€‚</p><ul><li>å‡è®¾ä¸‰ç»´ç‚¹æ²¿ç€ä¸€æ¡æœªçŸ¥çš„ä¸‰ç»´ç›´çº¿ç§»åŠ¨ã€‚ç„¶åé‡å»ºé—®é¢˜å°±ä¼šå˜æˆå¯»æ‰¾ä¸€æ¡ä¸æ¥è‡ª t ä¸ªè§†å›¾çš„æŠ•å½±å…‰çº¿ç›¸äº¤çš„ä¸‰ç»´ç›´çº¿çš„é—®é¢˜ã€‚t è‡³å°‘æ˜¯ 5ã€‚å› ä¸ºæ¥è‡ªä¸‰ä¸ªè§†å›¾çš„ç›¸äº¤ç›´çº¿é›†ä¼šå½¢æˆä¸€ä¸ªäºŒæ¬¡æ›²é¢ï¼Œä½¿å¾—æ¥è‡ªç¬¬å››ä¸ªè§†å›¾çš„å…‰çº¿åœ¨ä¸¤ä¸ªç‚¹ç›¸äº¤ï¼Œæ­¤æ—¶ç¬¬äº”ä¸ªè§†å›¾ä¼šå¾—å‡ºå”¯ä¸€è§£ã€‚</li><li>å‡è®¾ç‰©ä½“ä¸æ˜¯æ²¿ä¸€æ¡ç›´çº¿è¿åŠ¨ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ªåœ†é”¥æ›²é¢ä¸Šè¿åŠ¨ï¼Œåˆ™éœ€è¦ 9 ä¸ªè§†å›¾å¾—åˆ°å”¯ä¸€è§£ã€‚å¦‚æœåœ†é”¥ç±»å‹å·²çŸ¥ï¼Œåˆ™åªéœ€è¦ 7 ä¸ªè§†å›¾ã€‚</li></ul><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-6.jpg"></center><h4 id="ç²’å­æ»¤æ³¢"><a href="#ç²’å­æ»¤æ³¢" class="headerlink" title="ç²’å­æ»¤æ³¢"></a>ç²’å­æ»¤æ³¢</h4><p>ç”±äºå¯è§‚æµ‹æ€§é—®é¢˜ï¼ˆè§‚æµ‹è€…ä¸ç›®æ ‡ä¹‹é—´çš„è·ç¦»æ— æ³•è¢«è§‚æµ‹åˆ°ï¼‰ï¼Œä½¿ç”¨å•ç›®ç›¸æœºåœ¨ä¸‰ç»´ä¸­è·Ÿè¸ªè¿åŠ¨ç‰©ä½“çš„é—®é¢˜å¯ä»¥è¢«è§†ä¸ºä»…æ–¹ä½è·Ÿè¸ªï¼ˆBOTï¼‰é—®é¢˜ã€‚å•ç›®ç›¸æœºå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªä»…æ–¹ä½è·Ÿè¸ªä¼ æ„Ÿå™¨ï¼Œå› ä¸ºå®ƒåªèƒ½æä¾›å…³äºè¿åŠ¨ç‰©ä½“ä¸Šè¢«è·Ÿè¸ªç‰¹å¾ç‚¹çš„æ–¹ä½ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œå‰ä¸€å¸§å’Œå½“å‰å¸§ä¸­è§‚æµ‹åˆ°çš„ç‰¹å¾ç›¸å¯¹äºç›¸æœºä¸­å¿ƒçš„è§’åº¦ï¼‰ã€‚å¯¹äºä»…æ–¹ä½è·Ÿè¸ªé—®é¢˜ï¼ŒåŸºäºæ»¤æ³¢å™¨çš„æ–¹æ³•æ˜¯æ›´å¯å–çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥å¯¹è§‚æµ‹è€…å’Œç›®æ ‡çš„ä½ç½®å’Œé€Ÿåº¦çš„ä¸ç¡®å®šæ€§è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶ä¸”ä½œä¸ºç›®æ ‡è¿åŠ¨åˆ†æé—®é¢˜ã€‚</p><h2 id="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º"><a href="#è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º" class="headerlink" title="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º"></a>è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º</h2><blockquote><p>ä¸æ˜¯å°†å¤šåˆšä½“è¿åŠ¨åˆ†å‰²å’ŒåŠ¨æ€ç‰©ä½“çš„ä¸‰ç»´ç»“æ„é‡å»ºä½œä¸ºå•ç‹¬ä¸”é¡ºåºçš„ä»»åŠ¡æ¥æ‰§è¡Œï¼Œå› å¼åˆ†è§£å¯ä»¥åŒæ—¶å®Œæˆã€‚ç»™å®šç‰¹å¾å¯¹åº”å…³ç³»ï¼ŒåŠ¨æ€ç‰©ä½“åˆ†å‰²å’Œé‡å»ºä¼šäº§ç”Ÿåˆ†å‰²ç‰¹å¾çš„è¿åŠ¨ä»¥åŠå®ƒä»¬çš„ä¸‰ç»´ç»“æ„ã€‚</p></blockquote><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/VSLAM-SfM-Dynamic-7.jpg"></center><h3 id="å› å¼åˆ†è§£"><a href="#å› å¼åˆ†è§£" class="headerlink" title="å› å¼åˆ†è§£"></a>å› å¼åˆ†è§£</h3><blockquote><p>å› å¼åˆ†è§£æ˜¯ SfM æœ€çªå‡ºçš„æŠ€æœ¯ä¹‹ä¸€ï¼Œå¯ä»¥åŒæ—¶è§£å†³åˆ†å‰²å’Œé‡å»ºé—®é¢˜ã€‚å®šç†ï¼š<strong>åœ¨é™æ€åœºæ™¯çš„çŸ­åºåˆ—ä¸­ï¼Œä¸€ä¸ªæµ‹é‡çŸ©é˜µï¼Œå³åŒ…å«æ‰€æœ‰é€šè¿‡æ‰€æœ‰å¸§è·Ÿè¸ªçš„ç‰¹å¾ç‚¹çš„çŸ©é˜µï¼Œæœ€å¤šä¸ºå››é˜¶ï¼ˆå¦‚æœåœ¨æ¬§å¼ç©ºé—´ä½¿ç”¨æ­£äº¤æŠ•å½±æ¨¡å‹åˆ™ä¸ºä¸‰é˜¶ï¼‰ã€‚</strong></p></blockquote><h4 id="å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰"><a href="#å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰" class="headerlink" title="å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰"></a>å¤šåˆšä½“è¿åŠ¨ç»“æ„ï¼ˆMBSfMï¼‰</h4><p>å°†åˆšä½“ç›¸æœºè¿åŠ¨çš„ SfM æ¨å¹¿åˆ° n ä¸ªåˆšä½“è¿åŠ¨ã€‚</p><h4 id="éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰"><a href="#éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰" class="headerlink" title="éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰"></a>éåˆšæ€§è¿åŠ¨ç»“æ„ï¼ˆNRSfMï¼‰</h4><p>åŸºäºå› å¼åˆ†è§£åœ¨ç¼©æ”¾æ­£æŠ•å½±ç›¸æœºæ¨¡å‹ä¸‹çš„éåˆšæ€§è¿åŠ¨ã€‚</p><h2 id="ä¼˜ç‚¹å’Œç¼ºç‚¹"><a href="#ä¼˜ç‚¹å’Œç¼ºç‚¹" class="headerlink" title="ä¼˜ç‚¹å’Œç¼ºç‚¹"></a>ä¼˜ç‚¹å’Œç¼ºç‚¹</h2><h3 id="è¿åŠ¨åˆ†å‰²-1"><a href="#è¿åŠ¨åˆ†å‰²-1" class="headerlink" title="è¿åŠ¨åˆ†å‰²"></a>è¿åŠ¨åˆ†å‰²</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>èƒŒæ™¯&#x2F;å‰æ™¯åˆå§‹åŒ–</td><td>å½“ç§»åŠ¨å¯¹è±¡æš‚æ—¶é™æ­¢æ—¶èƒ½å¤Ÿè·Ÿè¸ªå®ƒä»¬ï¼Œæ— éœ€è¿›è¡Œæ–°çš„åˆ†å‰²ã€‚è¿˜å¯ä»¥å¤„ç†é€€åŒ–è¿åŠ¨ã€‚</td><td>1. ä¸èƒŒæ™¯æˆ–ç‰©ä½“ç›¸å…³çš„ä¿¡æ¯éœ€è¦äº‹å…ˆå®šä¹‰<br>2. åŸºäºæ£€æµ‹çš„è·Ÿè¸ªæ–¹æ¡ˆå¯èƒ½ä¼šé˜»ç¢å®æ—¶èƒ½åŠ›</td></tr><tr><td>å‡ ä½•çº¦æŸ</td><td>ä¸éœ€è¦å…³äºèƒŒæ™¯æˆ–åŠ¨æ€å¯¹è±¡çš„å…ˆéªŒçŸ¥è¯†ã€‚</td><td>1. ä¸å…·å¤‡å¤„ç†æš‚æ—¶åœæ­¢çš„èƒ½åŠ›<br>2. æ— æ³•åŒºåˆ†ç”±åŠ¨æ€å¯¹è±¡å¼•èµ·çš„å‰©ä½™è¯¯å·®è¿˜æ˜¯ç”±é”™è¯¯å¯¹åº”ï¼ˆå¼‚å¸¸å€¼ï¼‰å¼•èµ·çš„ï¼Œæ— æ³•å¤„ç†é€€åŒ–è¿åŠ¨</td></tr><tr><td>å…‰æµ</td><td>ä¸éœ€è¦å…³äºç¯å¢ƒçš„å…ˆéªŒçŸ¥è¯†ï¼Œå¯ä»¥å®æ—¶ã€‚</td><td>1. åŸºäºäº®åº¦æ’å®šå‡è®¾ï¼Œå¯¹ç…§æ˜æ¡ä»¶å˜åŒ–å¾ˆæ•æ„Ÿ<br>2. å¤„ç†é€€åŒ–è¿åŠ¨å›°éš¾ï¼Œå½“ç‰©ä½“åœ¨åœæ­¢åå¼€å§‹ç§»åŠ¨æ—¶éœ€è¦æ–°çš„åˆ†å‰²</td></tr><tr><td>è‡ªæˆ‘è¿åŠ¨çº¦æŸ</td><td>é€šè¿‡æ‹Ÿåˆç¬¦åˆå®šä¹‰çš„è‡ªæˆ‘è¿åŠ¨çš„ç‰¹å¾ï¼Œè½»æ¾åœ°å°†é™æ€ç‰¹å¾ä¸åŠ¨æ€ç‰¹å¾åˆ†å‰²å¼€æ¥ï¼Œå¯ä»¥å®æ—¶ï¼Œèƒ½å¤„ç†é€€åŒ–è¿åŠ¨</td><td>éœ€è¦ç›¸æœºè¿åŠ¨çš„å…ˆéªŒçŸ¥è¯†ï¼Œå½“ç‰©ä½“æš‚æ—¶é™æ­¢æ—¶ï¼Œè¢«è§†ä¸ºé™æ€åœºæ™¯çš„ä¸€éƒ¨åˆ†</td></tr></tbody></table><h3 id="åŠ¨æ€ç‰©ä½“åˆ†å‰²-1"><a href="#åŠ¨æ€ç‰©ä½“åˆ†å‰²-1" class="headerlink" title="åŠ¨æ€ç‰©ä½“åˆ†å‰²"></a>åŠ¨æ€ç‰©ä½“åˆ†å‰²</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>ç»Ÿè®¡æ¨¡å‹é€‰æ‹©</td><td>1. åªè¦ç³»ç»Ÿå…è®¸è®¡ç®—ä½ç»´æˆ–ä½è‡ªç”±åº¦è¿åŠ¨ï¼Œå°±å¯ä»¥å¤„ç†é€€åŒ–è¿åŠ¨<br>2. ä¸éœ€è¦å…³äºç¯å¢ƒçš„å…ˆéªŒçŸ¥è¯†<br>3. åŸºäºç»Ÿè®¡çš„æ–¹æ³•æ ¹æ®å†…ç‚¹é›†çš„åŸºæ•°æ¥æ‹Ÿåˆæ¨¡å‹ï¼Œå™ªå£°å’Œå¼‚å¸¸å€¼ä¼šè‡ªåŠ¨å¾—åˆ°å¤„ç†</td><td>ä»éšæœºé‡‡æ ·æ•°æ®ä¸­æ‹Ÿåˆè¿åŠ¨æ¨¡å‹åœ¨è®¡ç®—ä¸Šå¤æ‚åº¦å¤§ã€‚ï¼ˆRANSAC çš„è¿­ä»£æ¬¡æ•°å¤ªå¤§ï¼‰</td></tr><tr><td>å­ç©ºé—´èšç±»</td><td>æ—¶é—´å¤æ‚åº¦ä½ï¼Œä¸»è¦åŸºäºä»£æ•°æ–¹æ³•</td><td>1. ä¸èƒ½é¡ºåº&#x2F;å®æ—¶è¿è¡Œ<br>2. éœ€è¦åœºæ™¯ä¸­è¿åŠ¨æ•°é‡æˆ–å­ç©ºé—´æ‰€åœ¨ç»´åº¦çš„ä¿¡æ¯<br>3. å¤§å¤šæ•°æ–¹æ³•ä½¿ç”¨ä»¿å°„ç›¸æœºæ¨¡å‹ï¼Œå¦‚æœåœºæ™¯åŒ…å«ä¸»è¦çš„é€è§†æ•ˆæœï¼Œè¯¥æ¨¡å‹ä¼šå¤±è´¥<br>4. å¯¹é•¿åºåˆ—çš„å®æ–½å¾ˆå›°éš¾</td></tr><tr><td>å‡ ä½•</td><td>å¯ä»¥å¤„ç†éçº¿æ€§æµå½¢ä¸­çš„æ•°æ®</td><td>1. ä»…æ”¯æŒåŸºæœ¬çŸ©é˜µä½œä¸ºè¿åŠ¨æ¨¡å‹ï¼Œæ— æ³•å¤„ç†é€€åŒ–è¿åŠ¨<br>2. è®¡ç®—åŸºæœ¬çŸ©é˜µæ‰€éœ€çš„å›¾åƒç›¸å¯¹äºè¿åŠ¨æ•°é‡å‘ˆæŒ‡æ•°å¢é•¿</td></tr></tbody></table><h3 id="åŠ¨æ€ç‰©ä½“-3D-è·Ÿè¸ª"><a href="#åŠ¨æ€ç‰©ä½“-3D-è·Ÿè¸ª" class="headerlink" title="åŠ¨æ€ç‰©ä½“ 3D è·Ÿè¸ª"></a>åŠ¨æ€ç‰©ä½“ 3D è·Ÿè¸ª</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>è½¨è¿¹ä¸‰è§’æµ‹é‡</td><td>å¯ä»¥é€æ­¥è¿›è¡Œå·¥ä½œï¼Œå°½ç®¡æ¯æ¬¡è¿­ä»£éœ€è¦å‡ å¸§ï¼Œä¸éœ€è¦ç›¸æœºè¿åŠ¨çš„å…ˆéªŒçŸ¥è¯†</td><td>1. é™åˆ¶æ˜¯ç‰©ä½“è½¨è¿¹åº”è¯¥å·²çŸ¥ï¼Œæˆ–åº”è¯¥éµå¾ªç‰¹å®šçš„å‚æ•°å½¢å¼ï¼ˆé™åˆ¶äº†è½¨è¿¹ä¸‰è§’æµ‹é‡åœ¨ä»»æ„ç‰©ä½“è¿åŠ¨ä¸­çš„åº”ç”¨ï¼‰<br>2. å¤„ç†å¼‚å¸¸å’Œç¼ºå¤±æ•°æ®å›°éš¾ï¼Œéœ€è¦å‡ ä¸ªå›¾åƒåºåˆ—æ‰èƒ½æœ‰å”¯ä¸€è§£</td></tr><tr><td>ç²’å­æ»¤æ³¢</td><td>èƒ½å¤Ÿè¿›è¡ŒåŠ¨æ€ç‰©ä½“çš„ 3D é‡å»ºå’Œè·Ÿè¸ªä¸”èƒ½å®æ—¶å·¥ä½œï¼ˆä¸¥æ ¼é™äºå°‘é‡åŠ¨æ€ç‰©ä½“ï¼‰ï¼Œä¸éœ€è¦å…³äºç‰©ä½“è½¨è¿¹çš„çŸ¥è¯†</td><td>å¾ˆéš¾æ‰©å±•åˆ°éåˆšæ€§é‡å»ºï¼Œä¸ç¬¦åˆæ’å®šé€Ÿåº¦è¿åŠ¨æ¨¡å‹</td></tr></tbody></table><h3 id="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º-1"><a href="#è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º-1" class="headerlink" title="è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º"></a>è”åˆè¿åŠ¨åˆ†å‰²ä¸é‡å»º</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>å› å¼åˆ†è§£</td><td>1. è¿åŠ¨åˆ†å‰²å’Œé‡å»ºé—®é¢˜å¯ä»¥åŒæ—¶è§£å†³<br>2. ä¸éœ€è¦å…³äºç›¸æœºè¿åŠ¨çš„çŸ¥è¯†<br>3. å¯ä»¥æ‰©å±•åˆ°éåˆšæ€§é‡å»º</td><td>1. å¤§å¤šæ•°æ–¹æ³•åŸºäºæ­£æŠ•å½±æˆ–ä»¿å°„ç›¸æœºæ¨¡å‹å·¥ä½œï¼Œé˜»æ­¢äº†å®ƒåœ¨å…·æœ‰å¤§é€è§†æ•ˆæœæ¡ä»¶ä¸‹çš„å®ç°<br>2. ä¸èƒ½å®æ—¶ï¼Œå› ä¸ºæ‰€æœ‰ç‰¹å¾ç‚¹è½¨è¿¹å¿…é¡»äº‹å…ˆå¯ç”¨ï¼Œå…¶æ¬¡å¤§å¤šæ•°æ–¹æ³•åŸºäº SVDï¼Œå¤æ‚åº¦è¿‡é«˜<br>3. å¯èƒ½éœ€è¦å…ˆéªŒçŸ¥è¯†ï¼ˆåœºæ™¯ä¸­åŠ¨æ€å¯¹è±¡çš„æ•°é‡ã€æµ‹é‡çŸ©é˜µçš„ç§©æˆ–ç‰©ä½“çš„ç»´åº¦ï¼‰<br>4. å¯¹å™ªå£°å’Œå¼‚å¸¸å€¼æ•æ„Ÿ<br>5. ç¼ºå¤±æ•°æ®ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜</td></tr></tbody></table><h3 id="æ·±åº¦å­¦ä¹ -2"><a href="#æ·±åº¦å­¦ä¹ -2" class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h3><table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>1. ä¸éœ€è¦æ‰‹åŠ¨ç‰¹å¾æå–ï¼Œä¼šä½¿å¾—ç‰¹å¾å¯¹åº”é—®é¢˜çš„å‡å°‘ï¼ˆå™ªå£°ã€å¼‚å¸¸å€¼ã€è·Ÿè¸ªä¸¢å¤±ã€é®æŒ¡å¯¼è‡´çš„ç¼ºå¤±æ•°æ®ï¼‰<br>2. ä¸éœ€è¦æŒ‡å®šç›¸æœºæ¨¡å‹<br>3. å­¦ä¹ æ•°æ®éçº¿æ€§è¡¨ç¤ºçš„èƒ½åŠ›æä¾›äº†ä¸åŒç¯å¢ƒä¸­è‰¯å¥½æ³›åŒ–çš„æœºä¼šï¼Œä¸éœ€è¦é’ˆå¯¹ä¸åŒç¯å¢ƒæ‰‹åŠ¨å¾®è°ƒç®—æ³•å‚æ•°çš„æ ‡å‡†åŸºäºç‰¹å¾çš„æ–¹æ³•</td><td>1. åŠ¨æ€ç‰©ä½“åˆ†å‰²å’Œé‡å»ºæŠ€æœ¯æ¶‰åŠå‡ ä½•è®¡ç®—ï¼Œæ„å»ºä¸€ä¸ªèƒ½ç†è§£è¿™ç§å‡ ä½•å¹¶ä¸æ ‡å‡†åŸºäºç‰¹å¾çš„æŠ€æœ¯ç›¸æ¯”æ•ˆæœæ›´å¥½çš„ DNN æ¶æ„æ›´éš¾<br>2. æå–çš„æ—¶ç©ºç‰¹å¾ä¸ç²¾ç¡®ï¼Œå¹¶ä¸”ä¸ç†è§£åŠ¨æ€å¯¹è±¡çš„å‡ ä½•å½¢çŠ¶</td></tr></tbody></table><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://www.cs.ox.ac.uk/files/9926/Visual%20Slam.pdf">cs.ox.ac.uk&#x2F;files&#x2F;9926&#x2F;Visual Slam.pdf</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/">https://blog.jujimeizuo.cn/2024/05/27/Visual-SLAM-and-SfM-in-Dynamic-Environments-A-Survey/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> 3dCV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>volatile å…³é”®å­—</title>
      <link href="/2024/05/25/volatile/"/>
      <url>/2024/05/25/volatile/</url>
      
        <content type="html"><![CDATA[<p><strong>volatileå…³é”®å­—çš„ä½œç”¨ååˆ†ç‰¹åˆ«, å®ƒçš„ä½œç”¨æ˜¯é¿å…ç¼–è¯‘å™¨å¯¹ç›¸åº”ä»£ç è¿›è¡Œä¼˜åŒ–.</strong></p><h2 id="e-g"><a href="#e-g" class="headerlink" title="e.g."></a>e.g.</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">extern</span> <span class="type">unsigned</span> <span class="type">char</span> _end;  <span class="comment">// _endæ˜¯ä»€ä¹ˆ?</span></span><br><span class="line">  <span class="keyword">volatile</span> <span class="type">unsigned</span> <span class="type">char</span> *p = &amp;_end;</span><br><span class="line">  *p = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(*p != <span class="number">0xff</span>);</span><br><span class="line">  *p = <span class="number">0x33</span>;</span><br><span class="line">  *p = <span class="number">0x34</span>;</span><br><span class="line">  *p = <span class="number">0x86</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨ <code>-O2</code> ç¼–è¯‘ä»£ç . å°è¯•å»æ‰ä»£ç ä¸­çš„ <code>volatile</code> å…³é”®å­—, é‡æ–°ä½¿ç”¨ <code>-O2</code> ç¼–è¯‘, å¹¶å¯¹æ¯”å»æ‰ <code>volatile</code> å‰ååæ±‡ç¼–ç»“æœçš„ä¸åŒ.</p><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><blockquote><p>å¦‚æœä»£ç ä¸­pæŒ‡å‘çš„åœ°å€æœ€ç»ˆè¢«æ˜ å°„åˆ°ä¸€ä¸ªè®¾å¤‡å¯„å­˜å™¨, å»æ‰volatileå¯èƒ½ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜?</p></blockquote><ol><li><strong>ç¼“å­˜ä¸ä¸€è‡´</strong>ï¼šç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ç¼“å­˜æ¥å­˜å‚¨ç»å¸¸è®¿é—®çš„æ•°æ®ã€‚å¦‚æœæ²¡æœ‰ <code>volatile</code> å…³é”®å­—ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå°†pæ‰€æŒ‡å‘çš„å¯„å­˜å™¨å€¼ç¼“å­˜åˆ° CPU çš„å¯„å­˜å™¨ä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä»å†…å­˜ä¸­è¯»å–ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹æˆ–è®¾å¤‡å¯¹è¯¥å¯„å­˜å™¨çš„ä¿®æ”¹æ— æ³•åŠæ—¶è¢«å½“å‰çº¿ç¨‹å¯Ÿè§‰ï¼Œä»è€Œå¼•å‘é”™è¯¯çš„ç»“æœã€‚</li><li><strong>æŒ‡ä»¤é‡æ’åº</strong>ï¼šç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†æé«˜æ€§èƒ½ï¼Œå¯èƒ½ä¼šå¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºã€‚åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼ŒæŒ‡ä»¤é‡æ’åºé€šå¸¸ä¸ä¼šå½±å“ç¨‹åºçš„æ­£ç¡®æ€§ã€‚ç„¶è€Œï¼Œåœ¨å¤šçº¿ç¨‹æˆ–ä¸è®¾å¤‡äº¤äº’çš„ç¯å¢ƒä¸­ï¼ŒæŒ‡ä»¤é‡æ’åºå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœã€‚å¦‚æœå»æ‰ <code>volatile</code>ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå¯¹ä¸pç›¸å…³çš„æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œä»è€Œç ´åäº†ç¨‹åºçš„é¢„æœŸè¡Œä¸ºã€‚</li><li><strong>è®¾å¤‡åŒæ­¥é—®é¢˜</strong>ï¼šè®¾å¤‡å¯„å­˜å™¨é€šå¸¸ä¸å¤–éƒ¨è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œè¿™äº›è®¾å¤‡å¯èƒ½æœ‰è‡ªå·±çš„æ—¶åº è¦æ±‚ã€‚å¦‚æœæ²¡æœ‰ <code>volatile</code> å…³é”®å­—ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå¯¹ä¸è®¾å¤‡å¯„å­˜å™¨çš„è®¿é—®è¿›è¡Œä¼˜åŒ–ï¼Œå¯¼è‡´æ— æ³•æ»¡è¶³è®¾å¤‡çš„åŒæ­¥è¦æ±‚ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´è®¾å¤‡æ— æ³•æ­£å¸¸å·¥ä½œæˆ–äº§ç”Ÿé”™è¯¯çš„ç»“æœã€‚</li></ol><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><ol><li>ä¸­æ–­æœåŠ¡ç¨‹åºä¸­ä¿®æ”¹çš„ä¾›å…¶å®ƒç¨‹åºæ£€æµ‹çš„å˜é‡éœ€è¦åŠ  <code>volatile</code>ï¼›</li><li>å¤šä»»åŠ¡ç¯å¢ƒä¸‹å„ä»»åŠ¡é—´å…±äº«çš„æ ‡å¿—åº”è¯¥åŠ  <code>volatile</code>ï¼›</li><li>å­˜å‚¨å™¨æ˜ å°„çš„ç¡¬ä»¶å¯„å­˜å™¨é€šå¸¸ä¹Ÿè¦åŠ  <code>volatile</code> è¯´æ˜ï¼Œå› ä¸ºæ¯æ¬¡å¯¹å®ƒçš„è¯»å†™éƒ½å¯èƒ½ç”±ä¸åŒæ„ä¹‰ï¼›</li></ol><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://nju-projectn.github.io/ics-pa-gitbook/ics2023/2.5.html#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA">ics2023&#x2F;2.5</a></li><li><a href="https://www.runoob.com/w3cnote/c-volatile-keyword.html">C&#x2F;C++ ä¸­ volatile å…³é”®å­—è¯¦è§£</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/05/25/volatile/">https://blog.jujimeizuo.cn/2024/05/25/volatile/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nvidia-smi æ— æ³•åŠ è½½é©±åŠ¨</title>
      <link href="/2024/05/17/nvidia-smi-error/"/>
      <url>/2024/05/17/nvidia-smi-error/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>ä»¥ä¸‹æ–¹æ³•ï¼Œä¸éœ€è¦é‡è£…é©±åŠ¨ï¼Œç®€å•å¿«æ·ã€‚é€‚ç”¨äºUbuntuç³»ç»Ÿä¸‹ï¼Œä¹‹å‰å·²ç»å®‰è£…è¿‡é©±åŠ¨ï¼Œä½†é©±åŠ¨å¤±æ•ˆçš„é—®é¢˜ã€‚</li><li>å¦åˆ™éœ€è¦é‡æ–°å®‰è£…é©±åŠ¨ï¼Œå‚è€ƒ<a href="https://blog.csdn.net/wjinjie/article/details/108512153">Ubuntuä¸‹å®‰è£…nvidiaæ˜¾å¡é©±åŠ¨</a>ã€‚</li></ul></blockquote><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>å½“ä½¿ç”¨ <code>nvidia-smi</code> å‘½ä»¤æ—¶ï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NVIDIA-SMI has failed because it couldn&#x27;t communicate with the NVIDIA driver. </span><br><span class="line">Make sure that the latest NVIDIA driver is installed and running.</span><br></pre></td></tr></table></figure><p>ä¼°è®¡é—®é¢˜å‡ºç°åŸå› æ˜¯ ubuntu ç³»ç»Ÿæ›´æ–°äº†ï¼Œä½†æ˜¯ nvidia é©±åŠ¨æ— æ³•è¿æ¥ã€‚</p><h2 id="æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨"><a href="#æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨" class="headerlink" title="æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨"></a>æ£€æŸ¥é©±åŠ¨æ˜¯å¦å­˜åœ¨</h2><ul><li>ä½¿ç”¨ <code>nvcc -V</code> æ£€æŸ¥é©±åŠ¨å’Œ cudaã€‚</li></ul><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-1.jpg" width="50%"></center><p>å‘ç°é©±åŠ¨æ˜¯å­˜åœ¨çš„ã€‚</p><h2 id="æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯"><a href="#æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯"></a>æŸ¥çœ‹å·²å®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¿¡æ¯</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /usr/src | grep nvidia</span><br></pre></td></tr></table></figure><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-2.jpg" width="50%"></center><p>æ¯”å¦‚æˆ‘è¿™é‡Œçš„é©±åŠ¨ç‰ˆæœ¬ä¸º nvidia-535.129.03ã€‚</p><h2 id="dkms"><a href="#dkms" class="headerlink" title="dkms"></a>dkms</h2><ul><li><code>dkms</code> æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œç”¨äºæ„å»ºå’Œå®‰è£…å†…æ ¸æ¨¡å—ã€‚å®ƒå…è®¸ä½ åœ¨ç³»ç»Ÿä¸­å®‰è£…å¤šä¸ªå†…æ ¸æ¨¡å—ç‰ˆæœ¬ï¼Œå¹¶åœ¨å†…æ ¸å‡çº§æ—¶è‡ªåŠ¨é‡æ–°ç¼–è¯‘è¿™äº›æ¨¡å—ã€‚</li><li><code>sudo apt-get install dkms</code></li><li><code>dkms install -m nvidia -v 535.129.03</code></li></ul><p>å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-3.jpg" width="50%"></center><p>è¯´æ˜è¿™ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ›´æ–°ã€‚</p><h2 id="æ›´æ–°é©±åŠ¨"><a href="#æ›´æ–°é©±åŠ¨" class="headerlink" title="æ›´æ–°é©±åŠ¨"></a>æ›´æ–°é©±åŠ¨</h2><p>æ‰“å¼€è½¯ä»¶&amp;æ›´æ–°ï¼Œæ ¹æ®ä»¥ä¸‹æ“ä½œé€‰æ‹©å¯¹åº”ç‰ˆæœ¬ï¼ˆ535ï¼‰ã€‚</p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-4.jpg" width="50%"></center><h2 id="é‡æ–°-dkms"><a href="#é‡æ–°-dkms" class="headerlink" title="é‡æ–° dkms"></a>é‡æ–° dkms</h2><center><img src="https://cdn.jujimeizuo.cn/blog/2024/05/ns-5.jpg" width="50%"></center><p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå†æ¬¡è¾“å…¥ <code>nvidia-smi</code> å°±å¯ä»¥æŸ¥çœ‹ GPU ä½¿ç”¨çŠ¶æ€ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/05/17/nvidia-smi-error/">https://blog.jujimeizuo.cn/2024/05/17/nvidia-smi-error/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> CUDA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ›¼å“ˆé¡¿è·ç¦»ä¸åˆ‡æ¯”é›ªå¤«è·ç¦»</title>
      <link href="/2024/04/01/Manhattan-and-Chebyshev-switch/"/>
      <url>/2024/04/01/Manhattan-and-Chebyshev-switch/</url>
      
        <content type="html"><![CDATA[<h2 id="æ›¼å“ˆé¡¿è·ç¦»"><a href="#æ›¼å“ˆé¡¿è·ç¦»" class="headerlink" title="æ›¼å“ˆé¡¿è·ç¦»"></a>æ›¼å“ˆé¡¿è·ç¦»</h2><p>å®šä¹‰ä¸¤ä¸ªç‚¹ $A(x_1, y_1), B(x_2, y_2)$ï¼Œåˆ™ $A, B$ ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦»ä¸ºï¼š</p><p>$$<br>d(A, B) &#x3D; |x_1 - x_2| + |y_1 - y_2|<br>$$</p><blockquote><p>æ€§è´¨</p><ol><li>å¯¹ç§°æ€§ï¼š$d(A,B)&#x3D;d(B,A)$</li><li>ä¸‰è§’ä¸ç­‰å¼ï¼š$d(A,C) \le d(A,B)+d(B,C)$</li></ol></blockquote><p><strong>è·ç¦»åŸç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ä¸º 1 ç»„æˆçš„ç‚¹ï¼š</strong></p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/04/manhattan.png" alt="æ›¼å“ˆé¡¿"></center><h2 id="åˆ‡æ¯”é›ªå¤«è·ç¦»"><a href="#åˆ‡æ¯”é›ªå¤«è·ç¦»" class="headerlink" title="åˆ‡æ¯”é›ªå¤«è·ç¦»"></a>åˆ‡æ¯”é›ªå¤«è·ç¦»</h2><p>å®šä¹‰ä¸¤ä¸ªç‚¹ $A(x_1, y_1), B(x_2, y_2)$ï¼Œåˆ™ $A, B$ ä¹‹é—´çš„åˆ‡æ¯”é›ªå¤«è·ç¦»ä¸ºï¼š</p><p>$$<br>d(A, B) &#x3D; \max ( |x_1 - x_2|, |y_1 - y_2| )<br>$$</p><p><strong>è·ç¦»åŸç‚¹çš„åˆ‡æ¯”é›ªå¤«è·ç¦»ä¸º 1 ç»„æˆçš„ç‚¹ï¼š</strong></p><center><img src="https://cdn.jujimeizuo.cn/blog/2024/04/chebyshev.png" alt="åˆ‡æ¯”é›ªå¤«"></center><h2 id="è½¬æ¢"><a href="#è½¬æ¢" class="headerlink" title="è½¬æ¢"></a>è½¬æ¢</h2><h3 id="æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«"><a href="#æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«" class="headerlink" title="æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«"></a>æ›¼å“ˆé¡¿è½¬åˆ‡æ¯”é›ªå¤«</h3><p>å°†ä»£è¡¨æ›¼å“ˆé¡¿è·ç¦»çš„æ­£æ–¹å½¢ç»•åŸç‚¹é€†æ—¶é’ˆæ—‹è½¬ $\frac{\pi}{4}$ï¼Œå‘ç°ä¸¤ä¸ªæ­£æ–¹å½¢æ˜¯ç›¸ä¼¼çš„ï¼Œåªéœ€è¦æŠŠä»£è¡¨æ›¼å“ˆé¡¿è·ç¦»çš„æ­£æ–¹å½¢æ‰©å¤§ $\sqrt{2}$ å€ã€‚</p><p>å‘ç°åŸæ¥åœ¨ä»£è¡¨æ›¼å“ˆé¡¿è·ç¦»çš„æ­£æ–¹å½¢çš„å››æ¡è¾¹ä¸Šçš„ç‚¹ $A(x,y)$ çš„åæ ‡ç”±æ—‹è½¬ä¹‹åå˜ä¸ºäº†<br>$$(x * \cos{\frac{\pi}{4}}-y * \sin{\frac{\pi}{4}}, y * \cos{\frac{\pi}{4}} + x * \sin{\frac{\pi}{4}})$$<br>ç„¶åæ‰©å¤§åå˜ä¸º<br>$$A^\prime(\sqrt{2}(x * \cos{\frac{\pi}{4}}-y * \sin{\frac{\pi}{4}}), \sqrt{2}(y * \cos{\frac{\pi}{4}} + x * \sin{\frac{\pi}{4}})) \to A^\prime (x-y, x+y)$$<br>è¿™é‡Œçš„æ—‹è½¬äº‹å®ä¸Šå¯ä»¥ç†è§£ä¸ºåæ ‡è½´çš„æ—‹è½¬ã€‚</p><h3 id="åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿"><a href="#åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿" class="headerlink" title="åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿"></a>åˆ‡æ¯”é›ªå¤«è½¬æ›¼å“ˆé¡¿</h3><p>é€šè¿‡å›¾å½¢æ—‹è½¬ï¼ŒåŸæ¥çš„ç‚¹ $A(x,y) \to A^\prime(\frac{x+y}{2}, \frac{x-y}{2})$ã€‚ï¼ˆç”±ä¸Šè¿°é€†å˜æ¢è¯æ˜ï¼‰</p><h3 id="æ’ç­‰å¼"><a href="#æ’ç­‰å¼" class="headerlink" title="æ’ç­‰å¼"></a>æ’ç­‰å¼</h3><p>$$<br>|x_1 - x_2| + |y_1 - y_2| &#x3D; \max(|x_1^\prime - x_2^\prime|, |y_1^\prime - y_2^\prime|)<br>$$</p><p>å…¶ä¸­ç­‰å¼å·¦ä¾§ä¸º $(x_1,y_1)$ å’Œ $(x_2, y_2)$ çš„<strong>æ›¼å“ˆé¡¿è·ç¦»</strong>ï¼Œç­‰å¼å³ä¾§ $(x^\prime - y^\prime)&#x3D;(x+y,y-x)$ï¼Œè®¡ç®—çš„æ˜¯ $(x_1^\prime - y_1^\prime)$ å’Œ $(x_2^\prime - y_2^\prime)$ ä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»æŠ•å½±åˆ° $x^\prime$ è½´å’Œ $y^\prime$  è½´çš„çº¿æ®µé•¿åº¦çš„æœ€å¤§å€¼ï¼Œå³<strong>åˆ‡æ¯”é›ªå¤«è·ç¦»</strong>ã€‚</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://leetcode.cn/problems/minimize-manhattan-distances/description/">3102. æœ€å°åŒ–æ›¼å“ˆé¡¿è·ç¦»</a></li><li><a href="https://zhuanlan.zhihu.com/p/32878257">æ›¼å“ˆé¡¿è·ç¦»ä¸åˆ‡æ¯”é›ªå¤«è·ç¦»çš„è½¬æ¢ - çŸ¥ä¹</a></li><li><a href="https://tom0727.github.io/post/063-%E6%9B%BC%E5%93%88%E9%A1%BF-%E5%88%87%E6%AF%94%E9%9B%AA%E5%A4%AB%E8%B7%9D%E7%A6%BB/">æ›¼å“ˆé¡¿è·ç¦» å’Œ åˆ‡æ¯”é›ªå¤«è·ç¦» - tom0727â€™s blog</a></li><li><a href="https://www.luogu.com/article/hxr7p6po">å¸¸ç”¨è·ç¦»ç®—æ³•è¯¦è§£ - æ´›è°·ä¸“æ </a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/04/01/Manhattan-and-Chebyshev-switch/">https://blog.jujimeizuo.cn/2024/04/01/Manhattan-and-Chebyshev-switch/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäº LangChain è‡ªå®šä¹‰ Embeddings</title>
      <link href="/2024/01/29/custom-embeddings-based-on-langchain/"/>
      <url>/2024/01/29/custom-embeddings-based-on-langchain/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºäº-LangChain-è‡ªå®šä¹‰-Embeddings"><a href="#åŸºäº-LangChain-è‡ªå®šä¹‰-Embeddings" class="headerlink" title="åŸºäº LangChain è‡ªå®šä¹‰ Embeddings"></a>åŸºäº LangChain è‡ªå®šä¹‰ Embeddings</h2><blockquote><p>åœ¨ LangChain ä¸­æ”¯æŒ OpenAIã€LLAMA ç­‰å¤§æ¨¡å‹ Embeddings çš„è°ƒç”¨æ¥å£ï¼Œä¸è¿‡æ²¡æœ‰å†…ç½®æ‰€æœ‰å¤§æ¨¡å‹ï¼Œä½†æ˜¯å…è®¸ç”¨æˆ·è‡ªå®šä¹‰ Embeddings ç±»å‹ã€‚ æ¥ä¸‹æ¥ä»¥ ZhipuAI ä¸ºä¾‹ï¼ŒåŸºäº LangChain è‡ªå®šä¹‰ Embeddingsã€‚</p></blockquote><h3 id="è®¾è®¡æ€è·¯"><a href="#è®¾è®¡æ€è·¯" class="headerlink" title="è®¾è®¡æ€è·¯"></a>è®¾è®¡æ€è·¯</h3><ul><li>è¦å®ç°è‡ªå®šä¹‰ Embeddingsï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»ç»§æ‰¿è‡ª LangChain çš„ Embeddings åŸºç±»ï¼Œç„¶åå®šä¹‰ä¸‰ä¸ªå‡½æ•°<ul><li><code>_embed</code>: æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªå­˜æ”¾ Embeddings çš„ List[float]ï¼Œå³æ¨¡å‹çš„æ ¸å¿ƒè°ƒç”¨</li><li><code>embed_query</code>: ç”¨äºå¯¹å•ä¸ªå­—ç¬¦ä¸² (query) è¿›è¡Œ embedding</li><li><code>embed_documents</code>: ç”¨äºå¯¹å­—ç¬¦ä¸²åˆ—è¡¨ (documents) è¿›è¡Œ embedding</li></ul></li></ul><h3 id="ç¬¬ä¸‰æ–¹åº“"><a href="#ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“"></a>ç¬¬ä¸‰æ–¹åº“</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> annotations</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Any</span>, <span class="type">Dict</span>, <span class="type">List</span>, <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> langchain.embeddings.base <span class="keyword">import</span> Embeddings</span><br><span class="line"><span class="keyword">from</span> langchain.pydantic_v1 <span class="keyword">import</span> BaseModel, root_validator</span><br><span class="line"><span class="keyword">from</span> langchain.utils <span class="keyword">import</span> get_from_dict_or_env</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰-Embedding"><a href="#è‡ªå®šä¹‰-Embedding" class="headerlink" title="è‡ªå®šä¹‰ Embedding"></a>è‡ªå®šä¹‰ Embedding</h3><h3 id="ZhipuAIEmbeddings"><a href="#ZhipuAIEmbeddings" class="headerlink" title="ZhipuAIEmbeddings"></a>ZhipuAIEmbeddings</h3><p>å®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ª Embeddings ç±»çš„è‡ªå®šä¹‰ Embeddings ç±»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ZhipuAIEmbeddings</span>(BaseModel, Embeddings):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;`Zhipuai Embeddings` embedding models.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    zhipuai_api_key: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Zhipuai application apikey&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><code>root_validator</code> æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°åŒ…å«éœ€è¦æ ¡éªŒçš„é€»è¾‘ã€‚å‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­åŒ…å«ç»è¿‡æ ¡éªŒçš„æ•°æ®ã€‚å¦‚æœæ ¡éªŒå¤±è´¥ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ª <code>ValueError</code> å¼‚å¸¸ã€‚</p><p>è£…é¥°å™¨ <code>root_validator</code> ç¡®ä¿å¯¼å…¥äº†ç›¸å…³çš„åŒ…å’Œå¹¶é…ç½®äº†ç›¸å…³çš„ API_Key è¿™é‡Œå–å·§ï¼Œåœ¨ç¡®ä¿å¯¼å…¥ zhipuai model åç›´æ¥å°† <code>zhipuai.model_api</code> ç»‘å®šåˆ° client ä¸Šï¼Œå‡å°‘å’Œå…¶ä»– Embeddings ç±»çš„å·®å¼‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@root_validator()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validate_environment</span>(<span class="params">cls, values: <span class="type">Dict</span></span>) -&gt; <span class="type">Dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    éªŒè¯ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ä¸­çš„zhipuai_api_keyæ˜¯å¦å¯ç”¨ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        values (Dict): åŒ…å«é…ç½®ä¿¡æ¯çš„å­—å…¸ï¼Œå¿…é¡»åŒ…å« zhipuai_api_key çš„å­—æ®µ</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        values (Dict): åŒ…å«é…ç½®ä¿¡æ¯çš„å­—å…¸ã€‚å¦‚æœç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ä¸­æœªæä¾› zhipuai_api_keyï¼Œåˆ™å°†è¿”å›åŸå§‹å€¼ï¼›å¦åˆ™å°†è¿”å›åŒ…å« zhipuai_api_key çš„å€¼ã€‚</span></span><br><span class="line"><span class="string">    Raises:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        ValueError: zhipuai package not found, please install it with `pip install</span></span><br><span class="line"><span class="string">        zhipuai`</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    values[<span class="string">&quot;zhipuai_api_key&quot;</span>] = get_from_dict_or_env(</span><br><span class="line">        values,</span><br><span class="line">        <span class="string">&quot;zhipuai_api_key&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ZHIPUAI_API_KEY&quot;</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">import</span> zhipuai</span><br><span class="line">        zhipuai.api_key = values[<span class="string">&quot;zhipuai_api_key&quot;</span>]</span><br><span class="line">        values[<span class="string">&quot;client&quot;</span>] = zhipuai.model_api</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> ImportError:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(</span><br><span class="line">            <span class="string">&quot;Zhipuai package not found, please install it with &quot;</span></span><br><span class="line">            <span class="string">&quot;`pip install zhipuai`&quot;</span></span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">return</span> values</span><br></pre></td></tr></table></figure><h3 id="Override-embed"><a href="#Override-embed" class="headerlink" title="Override _embed"></a>Override _embed</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">_embed</span>(<span class="params">self, texts: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">float</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”Ÿæˆè¾“å…¥æ–‡æœ¬çš„ embeddingã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        texts (str): è¦ç”Ÿæˆ embedding çš„æ–‡æœ¬ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Return:</span></span><br><span class="line"><span class="string">        embeddings (List[float]): è¾“å…¥æ–‡æœ¬çš„ embeddingï¼Œä¸€ä¸ªæµ®ç‚¹æ•°å€¼åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        resp = self.client.invoke(</span><br><span class="line">            model=<span class="string">&quot;text_embedding&quot;</span>,</span><br><span class="line">            prompt=texts</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">f&quot;Error raised by inference endpoint: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> resp[<span class="string">&quot;code&quot;</span>] != <span class="number">200</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(</span><br><span class="line">            <span class="string">&quot;Error raised by inference API HTTP code: %s, %s&quot;</span></span><br><span class="line">            % (resp[<span class="string">&quot;code&quot;</span>], resp[<span class="string">&quot;msg&quot;</span>])</span><br><span class="line">        )</span><br><span class="line">    embeddings = resp[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;embedding&quot;</span>]</span><br><span class="line">    <span class="keyword">return</span> embeddings</span><br></pre></td></tr></table></figure><h3 id="Override-embed-documents"><a href="#Override-embed-documents" class="headerlink" title="Override embed_documents"></a>Override embed_documents</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">embed_documents</span>(<span class="params">self, texts: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">float</span>]]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”Ÿæˆè¾“å…¥æ–‡æœ¬åˆ—è¡¨çš„ embeddingã€‚</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        texts (List[str]): è¦ç”Ÿæˆ embedding çš„æ–‡æœ¬åˆ—è¡¨.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        List[List[float]]: è¾“å…¥åˆ—è¡¨ä¸­æ¯ä¸ªæ–‡æ¡£çš„ embedding åˆ—è¡¨ã€‚æ¯ä¸ª embedding éƒ½è¡¨ç¤ºä¸ºä¸€ä¸ªæµ®ç‚¹å€¼åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> [self._embed(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]</span><br></pre></td></tr></table></figure><h3 id="Override-embed-query"><a href="#Override-embed-query" class="headerlink" title="Override embed_query"></a>Override embed_query</h3><p><code>embed_query</code> æ˜¯å¯¹å•ä¸ªæ–‡æœ¬è®¡ç®— embedding çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å®šä¹‰å¥½å¯¹æ–‡æ¡£åˆ—è¡¨è®¡ç®— embedding çš„æ–¹æ³• <code>embed_documents</code> äº†ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥å°†å•ä¸ªæ–‡æœ¬ç»„è£…æˆ list çš„å½¢å¼ä¼ ç»™ <code>embed_documents</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">embed_query</span>(<span class="params">self, text: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">float</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”Ÿæˆè¾“å…¥æ–‡æœ¬çš„ embeddingã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        text (str): è¦ç”Ÿæˆ embedding çš„æ–‡æœ¬ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Return:</span></span><br><span class="line"><span class="string">        List [float]: è¾“å…¥æ–‡æœ¬çš„ embeddingï¼Œä¸€ä¸ªæµ®ç‚¹æ•°å€¼åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    resp = self.embed_documents([text])</span><br><span class="line">    <span class="keyword">return</span> resp[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/01/29/custom-embeddings-based-on-langchain/">https://blog.jujimeizuo.cn/2024/01/29/custom-embeddings-based-on-langchain/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> LLM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AcWing 5383. æ”¶é›†é¥°å“</title>
      <link href="/2024/01/06/acwing-5383/"/>
      <url>/2024/01/06/acwing-5383/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.acwing.com/problem/content/5386/">5383. æ”¶é›†é¥°å“</a></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>èƒŒåŒ…dp + çŠ¶å‹dpï¼Œéå¸¸å·§å¦™çš„åšæ³•</p><p>ç°æŒ‰ç…§ k ä»å°åˆ°è¾¾æ’åºï¼Œå°†æ¯ä¸ªé¥°å“çœ‹æˆä¸€ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ¯ä¸ªå®ç®±å¯ä»¥è®©å‡ ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œç°åœ¨é—®é¢˜å˜æˆï¼Œé€‰æ‹©è‹¥å¹²å®ç®±ï¼Œè®©æ¯ä¸ªäºŒè¿›åˆ¶ä½å˜æˆ 1 çš„æœ€å°èŠ±è´¹ï¼Œè¿™æ˜¯ä¸ªå…¸å‹çš„èƒŒåŒ…ã€‚</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><p>$$ dp[j | mask[i]] &#x3D; std::min(dp[j | mask[i]], dp[j] + x[i]); $$</p><p>å¤æ‚åº¦ï¼š$O(n2^m)$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2024-01-06 20:35:26</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n, m, b;</span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; m &gt;&gt; b;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">x</span><span class="params">(n)</span>, <span class="title">k</span><span class="params">(n)</span>, <span class="title">mask</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> cnt;</span><br><span class="line">        std::cin &gt;&gt; x[i] &gt;&gt; k[i] &gt;&gt; cnt;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; cnt; j += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> id;</span><br><span class="line">            std::cin &gt;&gt; id;</span><br><span class="line">            mask[i] = <span class="number">1</span> &lt;&lt; (id - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">order</span><span class="params">(n)</span></span>;</span><br><span class="line">    std::<span class="built_in">iota</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">    std::<span class="built_in">sort</span>(order.<span class="built_in">begin</span>(), order.<span class="built_in">end</span>(), [&amp;](<span class="type">int</span> i, <span class="type">int</span> j) &#123;</span><br><span class="line">        <span class="keyword">return</span> k[i] &lt; k[j];</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constexpr</span> <span class="type">static</span> <span class="type">int64_t</span> inf = std::numeric_limits&lt;<span class="type">int64_t</span>&gt;::<span class="built_in">max</span>() / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int64_t</span> ans = inf;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int64_t</span>&gt; <span class="title">dp</span><span class="params">(<span class="number">1</span> &lt;&lt; m, inf)</span></span>;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">1</span> &lt;&lt; m; j += <span class="number">1</span>) &#123;</span><br><span class="line">            dp[j | mask[order[i]]] = std::<span class="built_in">min</span>(dp[j | mask[order[i]]], dp[j] + x[order[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">        ans = std::<span class="built_in">min</span>(ans, dp[(<span class="number">1</span> &lt;&lt; m) - <span class="number">1</span>] + <span class="built_in">int64_t</span>(<span class="number">1</span>) * k[order[i]] * b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ans == inf) &#123;</span><br><span class="line">        ans = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; ans &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/01/06/acwing-5383/">https://blog.jujimeizuo.cn/2024/01/06/acwing-5383/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gosper&#39;s Hack ä¼˜åŒ–</title>
      <link href="/2024/01/04/gospers-hack/"/>
      <url>/2024/01/04/gospers-hack/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å½“æˆ‘ä»¬åœ¨nä¸ªæ•°ä¸­é€‰æ‹©mä¸ªæ•°å­—ï¼Œé€šå¸¸çš„åšæ³•æ˜¯å›æº¯æ³•ã€çŠ¶æ€å‹ç¼©ï¼ˆäºŒè¿›åˆ¶æšä¸¾ï¼‰ç­‰ç­‰ã€‚è¿™æ ·çš„å¤æ‚åº¦æ˜¯ $O(2^n)$ï¼Œè€Œ Gosperâ€™s Hack å¯ä»¥åœ¨O(1)çš„æ—¶é—´å†…æ‰¾åˆ°ä¸‹ä¸€ä¸ªæšä¸¾çŠ¶æ€ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ol><li>ä»åå¾€å‰æ‰¾åˆ°ç¬¬ä¸€ä¸ªé™åºï¼ˆå³â€01â€ï¼‰ï¼Œç„¶åå°†å…¶å˜ä¸ºâ€10â€ï¼Œ</li><li>æœ€åå°†è¯¥â€10â€åé¢çš„åºåˆ—é€†è½¬å³å¯ã€‚</li></ol><p>å‡è®¾å½“å‰çŠ¶æ€ cur ä¸º 0110(01)1000ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªçŠ¶æ€ä¸º 0110(10)0001</p><ol><li>cur + lowbit &#x3D; r, å‰åŠéƒ¨åˆ†ï¼Œ0110(10)xxxx</li><li>r ^ curï¼Œè®°å½•å˜åŒ–çš„ä½æ•°ï¼ˆä¾‹å¦‚ä¸€ä½å°±æ˜¯0001ï¼Œä¸¤ä½å°±æ˜¯0011ï¼‰ï¼Œç§»é™¤â€01â€å˜ä¸ºâ€10â€çš„2æ¬¡ã€‚â€10â€åé¢å°±æ˜¯å˜åŒ–æ¬¡æ•°-2ã€‚xxxxxx(10)0001</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">next_status</span><span class="params">(<span class="type">int</span> cur)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> lowbit = cur &amp; -cur;</span><br><span class="line">    <span class="type">int</span> r = cur + lowbit;</span><br><span class="line">    <span class="keyword">return</span> (((r ^ cur) &gt;&gt; <span class="number">2</span>) / lowbit)  r;</span><br><span class="line">    <span class="comment">// return ((r ^ cur) &gt;&gt; __builtin_ctz(lowbit) + 2)  r;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">next_status</span>(<span class="params">cur: <span class="built_in">int</span></span>):</span><br><span class="line">    lowbit = cur &amp; -cur</span><br><span class="line">    r = cur + lowbit</span><br><span class="line">    <span class="keyword">return</span> (((r ^ cur) &gt;&gt; <span class="number">2</span>) // lowbit)  r</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    def count_trailing_zeros(x):</span></span><br><span class="line"><span class="string">        return (x &amp; -x).bit_length() - 1</span></span><br><span class="line"><span class="string">    return ((r ^ cur) &gt;&gt; count_trailing_zeros(lowbit) + 2)  r</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://programmingforinsomniacs.blogspot.com/2018/03/gospers-hack-explained.html">ProgrammingForInsomniacs</a></li><li><a href="https://leetcode.cn/problems/maximum-rows-covered-by-columns/description/?envType=daily-question&envId=2024-01-04">2397. è¢«åˆ—è¦†ç›–çš„æœ€å¤šè¡Œæ•°</a></li><li><a href="https://leetcode.cn/problems/next-permutation/description/">31. ä¸‹ä¸€ä¸ªæ’åˆ—</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2024/01/04/gospers-hack/">https://blog.jujimeizuo.cn/2024/01/04/gospers-hack/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>clash for linux</title>
      <link href="/2023/11/24/clash-for-linux/"/>
      <url>/2023/11/24/clash-for-linux/</url>
      
        <content type="html"><![CDATA[<p>ç”±äºä½œè€…å·²ç»è·‘è·¯ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸‹é¢çš„å¤‡ä»½ä»“åº“ï¼š</p><center><div class="github-card" data-github="Elegybackup/clash-for-linux-backup" data-width="400" data-height="" data-theme="default"></div><script src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script></center><h2 id="ä½¿ç”¨é¡»çŸ¥"><a href="#ä½¿ç”¨é¡»çŸ¥" class="headerlink" title="ä½¿ç”¨é¡»çŸ¥"></a>ä½¿ç”¨é¡»çŸ¥</h2><ul><li>è¿è¡Œæœ¬é¡¹ç›®å»ºè®®ä½¿ç”¨rootç”¨æˆ·ï¼Œæˆ–è€…ä½¿ç”¨ sudo ææƒã€‚</li><li>ä½¿ç”¨è¿‡ç¨‹ä¸­å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ä¼˜å…ˆæŸ¥å·²æœ‰çš„ <a href="https://github.com/Elegybackup/clash-for-linux-backup/issues">issues</a>ã€‚</li><li>åœ¨è¿›è¡Œissuesæäº¤å‰ï¼Œè¯·æ›¿æ¢æäº¤å†…å®¹ä¸­æ˜¯æ•æ„Ÿä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼šè®¢é˜…åœ°å€ï¼‰ã€‚</li><li>æœ¬é¡¹ç›®æ˜¯åŸºäº <a href="https://github.com/Dreamacro/clash">clashï¼ˆå·²è·‘è·¯ï¼‰</a> ã€<a href="https://github.com/haishanh/yacd">yacd</a> è¿›è¡Œçš„é…ç½®æ•´åˆï¼Œå…³äºclashã€yacdçš„è¯¦ç»†é…ç½®è¯·å»åŸé¡¹ç›®æŸ¥çœ‹ã€‚</li><li>æ­¤é¡¹ç›®ä¸æä¾›ä»»ä½•è®¢é˜…ä¿¡æ¯ï¼Œè¯·è‡ªè¡Œå‡†å¤‡Clashè®¢é˜…åœ°å€ã€‚</li><li>è¿è¡Œå‰è¯·æ‰‹åŠ¨æ›´æ”¹<code>.env</code>æ–‡ä»¶ä¸­çš„<code>CLASH_URL</code>å˜é‡å€¼ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è¿è¡Œã€‚</li><li>å½“å‰åœ¨RHELç³»åˆ—å’ŒDebian,Kali Linux,ubuntuä»¥åŠLinuxç³»ç»Ÿä¸­æµ‹è¯•è¿‡ï¼Œå…¶ä»–ç³»åˆ—å¯èƒ½éœ€è¦é€‚å½“ä¿®æ”¹è„šæœ¬ã€‚</li><li>æ”¯æŒ x86_64&#x2F;aarch64 å¹³å°</li><li>ã€æ³¨æ„ï¼škali Linuxéœ€è¦åœ¨æµè§ˆå™¨è®¾ç½®ä»£ç†ï¼å¦åˆ™æœ‰å¯èƒ½æ— æ³•ä½¿ç”¨ï¼ã€‘</li></ul><blockquote><p><strong>æ³¨æ„</strong>ï¼šå½“ä½ åœ¨ä½¿ç”¨æ­¤é¡¹ç›®æ—¶ï¼Œé‡åˆ°ä»»ä½•æ— æ³•ç‹¬è‡ªè§£å†³çš„é—®é¢˜è¯·ä¼˜å…ˆå‰å¾€ <a href="https://github.com/wanhebin/clash-for-linux/issues">Issues</a> å¯»æ‰¾è§£å†³æ–¹æ³•ã€‚ç”±äºç©ºé—²æ—¶é—´æœ‰é™ï¼Œåç»­å°†ä¸å†å¯¹Issuesä¸­ â€œå·²ç»è§£ç­”â€ã€â€œå·²æœ‰è§£å†³æ–¹æ¡ˆâ€ çš„é—®é¢˜è¿›è¡Œé‡å¤æ€§çš„å›ç­”ã€‚</p></blockquote><br><h2 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h2><h3 id="ä¸‹è½½é¡¹ç›®"><a href="#ä¸‹è½½é¡¹ç›®" class="headerlink" title="ä¸‹è½½é¡¹ç›®"></a>ä¸‹è½½é¡¹ç›®</h3><p>ä¸‹è½½é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/Elegybackup/clash-for-linux-backup.git</span><br></pre></td></tr></table></figure><p>è¿›å…¥åˆ°é¡¹ç›®ç›®å½•ï¼Œç¼–è¾‘<code>.env</code>æ–‡ä»¶ï¼Œä¿®æ”¹å˜é‡<code>CLASH_URL</code>çš„å€¼ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> clash-for-linux</span><br><span class="line">$ vim .<span class="built_in">env</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„ï¼š</strong> <code>.env</code> æ–‡ä»¶ä¸­çš„å˜é‡ <code>CLASH_SECRET</code> ä¸ºè‡ªå®šä¹‰ Clash Secretï¼Œå€¼ä¸ºç©ºæ—¶ï¼Œè„šæœ¬å°†è‡ªåŠ¨ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ã€‚</p></blockquote><br><h3 id="å¯åŠ¨ç¨‹åº"><a href="#å¯åŠ¨ç¨‹åº" class="headerlink" title="å¯åŠ¨ç¨‹åº"></a>å¯åŠ¨ç¨‹åº</h3><p>ç›´æ¥è¿è¡Œè„šæœ¬æ–‡ä»¶<code>start.sh</code></p><ul><li>è¿›å…¥é¡¹ç›®ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> clash-for-linux</span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œå¯åŠ¨è„šæœ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bash start.sh</span><br><span class="line"></span><br><span class="line">æ­£åœ¨æ£€æµ‹è®¢é˜…åœ°å€...</span><br><span class="line">Clashè®¢é˜…åœ°å€å¯è®¿é—®ï¼                                      [  OK  ]</span><br><span class="line"></span><br><span class="line">æ­£åœ¨ä¸‹è½½Clashé…ç½®æ–‡ä»¶...</span><br><span class="line">é…ç½®æ–‡ä»¶config.yamlä¸‹è½½æˆåŠŸï¼                              [  OK  ]</span><br><span class="line"></span><br><span class="line">æ­£åœ¨å¯åŠ¨ClashæœåŠ¡...</span><br><span class="line">æœåŠ¡å¯åŠ¨æˆåŠŸï¼                                             [  OK  ]</span><br><span class="line"></span><br><span class="line">Clash Dashboard è®¿é—®åœ°å€ï¼šhttp://&lt;ip&gt;:9090/ui</span><br><span class="line">Secretï¼šxxxxxxxxxxxxx</span><br><span class="line"></span><br><span class="line">è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åŠ è½½ç¯å¢ƒå˜é‡: <span class="built_in">source</span> /etc/profile.d/clash.sh</span><br><span class="line"></span><br><span class="line">è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å¯ç³»ç»Ÿä»£ç†: proxy_on</span><br><span class="line"></span><br><span class="line">è‹¥è¦ä¸´æ—¶å…³é—­ç³»ç»Ÿä»£ç†ï¼Œè¯·æ‰§è¡Œ: proxy_off</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> /etc/profile.d/clash.sh</span><br><span class="line">$ proxy_on</span><br></pre></td></tr></table></figure><ul><li>æ£€æŸ¥æœåŠ¡ç«¯å£</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ netstat -tln | grep -E <span class="string">&#x27;9090|789.&#x27;</span></span><br><span class="line">tcp        0      0 127.0.0.1:9090          0.0.0.0:*               LISTEN     </span><br><span class="line">tcp6       0      0 :::7890                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::7891                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::7892                 :::*                    LISTEN</span><br></pre></td></tr></table></figure><ul><li>æ£€æŸ¥ç¯å¢ƒå˜é‡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">env</span> | grep -E <span class="string">&#x27;http_proxy|https_proxy&#x27;</span></span><br><span class="line">http_proxy=http://127.0.0.1:7890</span><br><span class="line">https_proxy=http://127.0.0.1:7890</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ­¥é„¹å¦‚æœæ­£å¸¸ï¼Œè¯´æ˜æœåŠ¡clashç¨‹åºå¯åŠ¨æˆåŠŸï¼Œç°åœ¨å°±å¯ä»¥ä½“éªŒé«˜é€Ÿä¸‹è½½githubèµ„æºäº†ã€‚</p><br><h2 id="é‡å¯ç¨‹åº"><a href="#é‡å¯ç¨‹åº" class="headerlink" title="é‡å¯ç¨‹åº"></a>é‡å¯ç¨‹åº</h2><p>å¦‚æœéœ€è¦å¯¹Clashé…ç½®è¿›è¡Œä¿®æ”¹ï¼Œè¯·ä¿®æ”¹ <code>conf/config.yaml</code> æ–‡ä»¶ã€‚ç„¶åè¿è¡Œ <code>restart.sh</code> è„šæœ¬è¿›è¡Œé‡å¯ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼š</strong><br>é‡å¯è„šæœ¬ <code>restart.sh</code> ä¸ä¼šæ›´æ–°è®¢é˜…ä¿¡æ¯ã€‚</p></blockquote><br><h3 id="åœæ­¢ç¨‹åº"><a href="#åœæ­¢ç¨‹åº" class="headerlink" title="åœæ­¢ç¨‹åº"></a>åœæ­¢ç¨‹åº</h3><ul><li>è¿›å…¥é¡¹ç›®ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> clash-for-linux</span><br></pre></td></tr></table></figure><ul><li>å…³é—­æœåŠ¡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo bash shutdown.sh</span><br><span class="line"></span><br><span class="line">æœåŠ¡å…³é—­æˆåŠŸï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…³é—­ç³»ç»Ÿä»£ç†ï¼šproxy_off</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ proxy_off</span><br></pre></td></tr></table></figure><p>ç„¶åæ£€æŸ¥ç¨‹åºç«¯å£ã€è¿›ç¨‹ä»¥åŠç¯å¢ƒå˜é‡<code>http_proxy|https_proxy</code>ï¼Œè‹¥éƒ½æ²¡åˆ™è¯´æ˜æœåŠ¡æ­£å¸¸å…³é—­ã€‚</p><br><h3 id="Clash-Dashboard"><a href="#Clash-Dashboard" class="headerlink" title="Clash Dashboard"></a>Clash Dashboard</h3><ul><li>è®¿é—® Clash Dashboard</li></ul><p>é€šè¿‡æµè§ˆå™¨è®¿é—® <code>start.sh</code> æ‰§è¡ŒæˆåŠŸåè¾“å‡ºçš„åœ°å€ï¼Œä¾‹å¦‚ï¼š<a href="http://192.168.0.1:9090/ui">http://192.168.0.1:9090/ui</a></p><ul><li>ç™»å½•ç®¡ç†ç•Œé¢</li></ul><p>åœ¨<code>API Base URL</code>ä¸€æ ä¸­è¾“å…¥ï¼šhttp:&#x2F;&#x2F;&lt;ip&gt;:9090 ï¼Œåœ¨<code>Secret(optional)</code>ä¸€æ ä¸­è¾“å…¥å¯åŠ¨æˆåŠŸåè¾“å‡ºçš„Secretã€‚</p><p>ç‚¹å‡»Addå¹¶é€‰æ‹©åˆšåˆšè¾“å…¥çš„ç®¡ç†ç•Œé¢åœ°å€ï¼Œä¹‹åä¾¿å¯åœ¨æµè§ˆå™¨ä¸Šè¿›è¡Œä¸€äº›é…ç½®ã€‚</p><ul><li>æ›´å¤šæ•™ç¨‹</li></ul><p>æ­¤ Clash Dashboard ä½¿ç”¨çš„æ˜¯<a href="https://github.com/haishanh/yacd">yacd</a>é¡¹ç›®ï¼Œè¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·ç§»æ­¥åˆ°yacdä¸ŠæŸ¥è¯¢ã€‚</p><br><h3 id="ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹"><a href="#ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹" class="headerlink" title="ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹"></a>ç»ˆç«¯ç•Œé¢é€‰æ‹©ä»£ç†èŠ‚ç‚¹</h3><p>éƒ¨åˆ†ç”¨æˆ·æ— æ³•é€šè¿‡æµè§ˆå™¨ä½¿ç”¨ Clash Dashboard è¿›è¡ŒèŠ‚ç‚¹é€‰æ‹©ã€ä»£ç†æ¨¡å¼ä¿®æ”¹ç­‰æ“ä½œï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·å¯ä»¥åœ¨Linuxç»ˆç«¯è¿›è¡Œæ“ä½œï¼Œä¸‹é¢æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ç®€å•çš„è„šæœ¬ä»¥ä¾¿ç”¨æˆ·å¯ä»¥ä¸´æ—¶é€šè¿‡ç»ˆç«¯ç•Œé¢è¿›è¡Œé…ç½®ã€‚</p><p>è„šæœ¬å­˜æ”¾ä½ç½®ï¼š<code>scripts/clash_proxy-selector.sh</code></p><blockquote><p><strong>æ³¨æ„ï¼š</strong></p><p>ä½¿ç”¨è„šæœ¬å‰ï¼Œéœ€è¦ä¿®æ”¹è„šæœ¬ä¸­çš„ <strong>Secret</strong> å˜é‡å€¼ä¸ºä¸Šè¿°å¯åŠ¨è„šæœ¬è¾“å‡ºçš„å€¼ï¼Œæˆ–è€…ä¸ <code>.env</code> æ–‡ä»¶ä¸­å®šä¹‰çš„ <strong>CLASH_SECRET</strong> å˜é‡å€¼ä¿æŒä¸€è‡´ã€‚</p></blockquote><br><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/11/24/clash-for-linux/">https://blog.jujimeizuo.cn/2023/11/24/clash-for-linux/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨ iOS çš„å¿«æ·æŒ‡ä»¤é…åˆ GitHub Actions å®ç°è‡ªåŠ¨åŒ–</title>
      <link href="/2023/10/06/shortcut-github-actions-automation/"/>
      <url>/2023/10/06/shortcut-github-actions-automation/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–"><a href="#ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–"></a>ä¸ºä»€ä¹ˆéœ€è¦é€šè¿‡å¿«æ·æŒ‡ä»¤å®ç°è‡ªåŠ¨åŒ–</h2><ul><li>æœ€åˆçš„ Github Actions éœ€è¦ crontab æ¥å®šæ—¶è¿›è¡Œè‡ªåŠ¨åŒ–ï¼Œè¿™æ ·åšä¸ä»…æ¶ˆè€—è¿‡å¤šèµ„æºï¼Œè€Œä¸”åœ¨å®ŒæˆæŸä¸ªä»»åŠ¡æ—¶ä¸ä¼šç«‹å³è·å–æ–°ç”Ÿæˆçš„æ•°æ®ã€‚</li><li>å¦‚æœæˆ‘å¯ä»¥å®ŒæˆæŸä¸ªç‰¹å®šåŠ¨ä½œï¼Œä¾‹å¦‚å…³é—­é—¹é’Ÿã€å……ç”µã€å…³é—­ APP æ—¶è‡ªåŠ¨è¿›è¡Œ Actionsæ—¶ï¼Œè¿™æ ·åšéå¸¸é«˜æ•ˆï¼Œæ–¹æ³•æ˜¯å¯ä»¥åˆ©ç”¨å¿«æ·æŒ‡ä»¤è§¦å‘ Actions åŒæ­¥æ•°æ®</li><li>ä¸‹é¢æ‹¿è·‘æ­¥ä¸¾ä¾‹ï¼Œä¸€èˆ¬ä¼šç”¨ appï¼ˆæˆ‘ç”¨çš„æ˜¯ keepï¼‰æ¥è®°å½•è·‘æ­¥æ•°æ®ï¼Œå®ç°çš„æ“ä½œæ˜¯å½“å…³é—­ keep æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œ Actionsï¼Œæ›´æ–°æ•°æ®</li></ul><h2 id="å¦‚ä½•è§¦å‘-Actions"><a href="#å¦‚ä½•è§¦å‘-Actions" class="headerlink" title="å¦‚ä½•è§¦å‘ Actions"></a>å¦‚ä½•è§¦å‘ Actions</h2><ul><li><p>é¦–å…ˆåœ¨ yml æ–‡ä»¶ä¸­å¢åŠ  <code>workflow_dispatch</code>: å¯ä»¥æ‰‹åŠ¨è§¦å‘</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/workflow_dispatch.jpg" alt="srcworkflow_dispatch"></p></li><li><p>å…ˆæ‹¿åˆ°è¿™ä¸ªé¡¹ç›®çš„ actions id (éœ€è¦è‡ªè¡Œç”³è¯· token)</p><ul><li><p>åœ¨ä¸ªäººçš„ settings ä¸­ç”³è¯· é¡¹ç›®çš„tokenï¼Œç„¶ååœ¨é¡¹ç›®é‡Œçš„ Secrets and variables é‡Œçš„ Actions è®¾ç½®å¯†é’¥ï¼Œå†…å®¹ä¸ºåˆšåˆšç”³è¯·çš„ token</p></li><li><p>æ‰§è¡Œä¸‹é¢ä»£ç è·å– actionid</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://api.github.com/repos/jujimeizuo/running_page/actions/workflows -H &quot;Authorization: token d8xxxxxxxxxx&quot; ## change to your config</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/get-action-id.jpg" alt="get-action-id"></p></li><li><p>æ‹¿åˆ° action id å°±å¯ä»¥åˆ©ç”¨ api post è§¦å‘ action å•¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H &quot;Content-Type:application/json&quot; -X POST -d &#x27;&#123;&quot;inputs&quot;: &#123;&#125;, &quot;ref&quot;:&quot;master&quot;&#125;&#x27; https://api.github.com/repos/jujimeizu/running_page/actions/workflows/: $&#123;actionid&#125;/dispatches -H &quot;Authorization: token d8e03d6xxxxxxxxxxxx&quot;  ## change to your config</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç»“åˆå¿«æ·æŒ‡ä»¤"><a href="#ç»“åˆå¿«æ·æŒ‡ä»¤" class="headerlink" title="ç»“åˆå¿«æ·æŒ‡ä»¤"></a>ç»“åˆå¿«æ·æŒ‡ä»¤</h2><h3 id="å¿«æ·æŒ‡ä»¤"><a href="#å¿«æ·æŒ‡ä»¤" class="headerlink" title="å¿«æ·æŒ‡ä»¤"></a>å¿«æ·æŒ‡ä»¤</h3><ul><li>é€šè¿‡ icloud è·å– <a href="https://www.icloud.com/shortcuts/4a5807a98b9a4e359815ff179c62bacb">running-page-template</a></li><li>ä¿®æ”¹ä¸‹é¢å›¾ç‰‡ä¸­å­—å…¸çš„å€¼å³å¯</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/running-page-template.jpg" alt="running-page-template"></p><h3 id="è‡ªåŠ¨åŒ–"><a href="#è‡ªåŠ¨åŒ–" class="headerlink" title="è‡ªåŠ¨åŒ–"></a>è‡ªåŠ¨åŒ–</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/new-automation.png" alt="new-automation"> <img src="https://cdn.jujimeizuo.cn/blog/2023/10/select-close.png" alt="select-close"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/10/select-shortcut.png" alt="select-shortcut"> <img src="https://cdn.jujimeizuo.cn/blog/2023/10/finish-automation.png" alt="finish-automation"></p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul><li>å¯ä»¥é€šè¿‡å…³é—­é—¹é’Ÿæ¥åŒæ­¥è‡ªå·±çš„èµ·åºŠè®°å½•â€”â€”è¿™ä¹Ÿæ˜¯ yihong å¤§ç¥å†™çš„</li><li>å¯ä»¥åˆ©ç”¨ä¸€ä¸ª action è§¦å‘å¦ä¸€ä¸ªé¡¹ç›®çš„ actionï¼Œå®ç°å¦ä¸€ä¸ª repo çš„æ›´æ–°</li><li>â€¦</li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://github.com/yihong0618/gitblog/issues/198">yihong0618 å¤§ç¥</a></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/10/06/shortcut-github-actions-automation/">https://blog.jujimeizuo.cn/2023/10/06/shortcut-github-actions-automation/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> utils </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macosé€šè¿‡SSHè¿æ¥æ˜¾ç¤ºdockerå®¹å™¨çš„GUIç•Œé¢ï¼ˆROS1å°ä¹Œé¾Ÿä¸ºä¾‹ï¼‰</title>
      <link href="/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/"/>
      <url>/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/</url>
      
        <content type="html"><![CDATA[<h2 id="1-è½¯ç¡¬ä»¶è®¾ç½®"><a href="#1-è½¯ç¡¬ä»¶è®¾ç½®" class="headerlink" title="1 è½¯ç¡¬ä»¶è®¾ç½®"></a>1 è½¯ç¡¬ä»¶è®¾ç½®</h2><ul><li>Macbook M1 pro</li><li>docker - ubuntu18.04</li></ul><h2 id="2-é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18-04ï¼‰"><a href="#2-é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18-04ï¼‰" class="headerlink" title="2 é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18.04ï¼‰"></a>2 é…ç½®è¿œç¨‹æœåŠ¡å™¨ï¼ˆubuntu18.04ï¼‰</h2><h3 id="2-1-å®‰è£…å·¥å…·åŒ…"><a href="#2-1-å®‰è£…å·¥å…·åŒ…" class="headerlink" title="2.1 å®‰è£…å·¥å…·åŒ…"></a>2.1 å®‰è£…å·¥å…·åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it å®¹å™¨åç§° /bin/sh</span><br><span class="line">apt update</span><br><span class="line">apt install openssh-server</span><br><span class="line">apt install x11-apps</span><br><span class="line">apt install vim</span><br><span class="line">passwd   <span class="comment"># ç»™rootè´¦å·èµ‹äºˆå¯†ç </span></span><br></pre></td></tr></table></figure><h3 id="2-2-é…ç½®SSHæœåŠ¡ç«¯"><a href="#2-2-é…ç½®SSHæœåŠ¡ç«¯" class="headerlink" title="2.2 é…ç½®SSHæœåŠ¡ç«¯"></a>2.2 é…ç½®SSHæœåŠ¡ç«¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line"><span class="comment">## ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼Œç«¯å£å¯ä»¥è‡ªå·±è®¾ç½®ï¼Œé»˜è®¤æ˜¯22ï¼Œå’Œå¯åŠ¨å®¹å™¨çš„æ˜ å°„ç«¯å£å¯¹åº”</span></span><br><span class="line">PermitRootLogin <span class="built_in">yes</span></span><br><span class="line">X11Forwarding <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><h3 id="2-3-é‡å¯æœåŠ¡"><a href="#2-3-é‡å¯æœåŠ¡" class="headerlink" title="2.3 é‡å¯æœåŠ¡"></a>2.3 é‡å¯æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/ssh restart</span><br></pre></td></tr></table></figure><h3 id="2-4-è¿æ¥dockeræµ‹è¯•"><a href="#2-4-è¿æ¥dockeræµ‹è¯•" class="headerlink" title="2.4 è¿æ¥dockeræµ‹è¯•"></a>2.4 è¿æ¥dockeræµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p dockerç«¯å£ root@è¿œç¨‹IP</span><br></pre></td></tr></table></figure><h2 id="3-æœ¬åœ°Macosé…ç½®"><a href="#3-æœ¬åœ°Macosé…ç½®" class="headerlink" title="3 æœ¬åœ°Macosé…ç½®"></a>3 æœ¬åœ°Macosé…ç½®</h2><h3 id="3-1-å®‰è£…Xquartz"><a href="#3-1-å®‰è£…Xquartz" class="headerlink" title="3.1 å®‰è£…Xquartz"></a>3.1 å®‰è£…Xquartz</h3><p><a href="https://www.xquartz.org/">Xquartzå®˜ç½‘</a></p><h3 id="3-2-Xquartzè®¾ç½®"><a href="#3-2-Xquartzè®¾ç½®" class="headerlink" title="3.2 Xquartzè®¾ç½®"></a>3.2 Xquartzè®¾ç½®</h3><ol><li>XQuartz -&gt; åå¥½è®¾ç½® -&gt; å®‰å…¨æ€§ -&gt; å‹¾é€‰â€œå…è®¸ä»ç½‘ç»œå®¢æˆ·ç«¯è¿æ¥â€ -&gt; é€€å‡ºç¨‹åºï¼›</li><li>ç»ˆç«¯é”®å…¥ xhost + ipï¼ˆæ³¨æ„ä¸¤è€…ä¹‹é—´çš„ç©ºæ ¼ï¼‰é‡æ–°å¯åŠ¨ XQuartzï¼›ä¸ºè¿œç¨‹ä¸»æœºæ·»åŠ æƒé™ æˆ–è€…xhost +ä¸ºæ‰€æœ‰IPæ·»åŠ æƒé™</li><li>ssh -XY <a href="mailto:&#x72;&#111;&#x6f;&#x74;&#64;&#48;&#x2e;&#48;&#46;&#x30;&#46;&#48;">&#x72;&#111;&#x6f;&#x74;&#64;&#48;&#x2e;&#48;&#46;&#x30;&#46;&#48;</a> -p 6100</li><li>netstat -an grep -F 6100 æŸ¥çœ‹</li></ol><p>xquartzæ“ä½œåéœ€è¦é‡å¯ã€‚</p><h3 id="3-3-dockerè¿›å…¥"><a href="#3-3-dockerè¿›å…¥" class="headerlink" title="3.3 dockerè¿›å…¥"></a>3.3 dockerè¿›å…¥</h3><p>åœ¨ run æˆ– exec å®¹å™¨æ—¶åŠ å…¥-e DISPLAY&#x3D;host.docker.internal:0å‚æ•°ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œé€šè¿‡å¯¹ä¸€ä¸ªç°æœ‰çš„ï¼Œå·²ç»å®‰è£…è¿‡ xarclock æ—¶é’Ÿå°ç¨‹åºçš„å®¹å™¨ toyOS æ‰§è¡Œdocker exec -ite DISPLAY&#x3D;host.docker.internal:0 toyOS &#x2F;usr&#x2F;bin&#x2F;xarclockï¼Œå°±ä¼šåœ¨æˆ‘çš„æœ¬åœ°å‡ºç°ä¸€ä¸ªå°æ—¶é’Ÿçš„GUIç¨‹åºï¼›</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -ite DISPLAY=host.docker.internal:0 ub18.04-orb-slam2 /bin/bash</span><br></pre></td></tr></table></figure><h3 id="3-4-æµ‹è¯•roså°ä¹Œé¾Ÿ"><a href="#3-4-æµ‹è¯•roså°ä¹Œé¾Ÿ" class="headerlink" title="3.4 æµ‹è¯•roså°ä¹Œé¾Ÿ"></a>3.4 æµ‹è¯•roså°ä¹Œé¾Ÿ</h3><p>tmuxè®¾ç½®ä¸‰ä¸ªç»ˆç«¯</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/07/image-1690552905696.png" alt="file"></p><p>ä¹Ÿå¯ä»¥åœ¨dockerå†…éƒ¨æ‰§è¡Œï¼Œè®¾ç½®ç¯å¢ƒå˜é‡æŒ‡å®šæ˜¾ç¤ºç«¯å£ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> DISPLAY=host.docker.internal:0  </span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/">https://blog.jujimeizuo.cn/2023/07/28/macos-connect-to-docker-to-using-gui-by-ssh/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> Docker </tag>
            
            <tag> ros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Titanicæ•°æ®é›†é¢„æµ‹</title>
      <link href="/2023/07/13/dl-titanic/"/>
      <url>/2023/07/13/dl-titanic/</url>
      
        <content type="html"><![CDATA[<p>å­¦ä¹ è‡ª@<a href="https://blog.csdn.net/csdn_xmj/article/details/122172552">åŒæœ¨çš„æœ¨</a>ã€‚</p><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨kaggleå®˜ç½‘ä¸Šæœ‰<a href="https://www.kaggle.com/c/titanic/data">Titanic</a>æœ‰å…³çš„æ•°æ®é›†ï¼Œæœ‰ä»¥ä¸‹featuresï¼Œç°è¦æ±‚å¯¹Suvrivedç‰¹å¾è¿›è¡Œé¢„æµ‹ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/07/image-1689229188640.png" alt="file"></p><h2 id="æ•°æ®é›†åˆ†æ"><a href="#æ•°æ®é›†åˆ†æ" class="headerlink" title="æ•°æ®é›†åˆ†æ"></a>æ•°æ®é›†åˆ†æ</h2><p>æ•°æ®é›†è¢«åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼š</p><ul><li>training set (train.csv)</li><li>test set (test.csv)</li></ul><p>è®­ç»ƒé›†åº”è¯¥è¢«ç”¨æ¥å»ºç«‹ä½ çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚å¯¹äºè®­ç»ƒé›†ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªä¹˜å®¢æä¾›ç»“æœ(ä¹Ÿç§°ä¸ºâ€œground truthâ€)ã€‚ä½ çš„æ¨¡å‹å°†åŸºäºä¹˜å®¢çš„æ€§åˆ«å’Œé˜¶çº§ç­‰â€œç‰¹å¾â€ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ç‰¹å¾å·¥ç¨‹æ¥åˆ›å»ºæ–°çš„ç‰¹å¾ã€‚</p><p>æµ‹è¯•é›†åº”è¯¥ç”¨æ¥æŸ¥çœ‹æ‚¨çš„æ¨¡å‹åœ¨ä¸å¯è§æ•°æ®ä¸Šçš„æ€§èƒ½ã€‚å¯¹äºæµ‹è¯•é›†ï¼Œæˆ‘ä»¬ä¸ä¸ºæ¯ä¸ªä¹˜å®¢æä¾›åŸºæœ¬çœŸç›¸ã€‚ä½ çš„å·¥ä½œå°±æ˜¯é¢„æµ‹è¿™äº›ç»“æœã€‚å¯¹äºæµ‹è¯•ä¸­çš„æ¯ä¸€ä½ä¹˜å®¢ï¼Œä½¿ç”¨ä½ è®­ç»ƒçš„æ¨¡å‹æ¥é¢„æµ‹ä»–ä»¬æ˜¯å¦åœ¨æ³°å¦å°¼å…‹å·æ²‰æ²¡æ—¶å¹¸å­˜ä¸‹æ¥ã€‚</p><p>è¿˜åŒ…æ‹¬gender_submit .csvï¼Œè¿™æ˜¯ä¸€ç»„å‡è®¾æ‰€æœ‰ä¸”åªæœ‰å¥³æ€§ä¹˜å®¢èƒ½å¤Ÿå­˜æ´»çš„é¢„æµ‹ï¼Œä½œä¸ºæäº¤æ–‡ä»¶çš„ç¤ºä¾‹ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2023/07/image-1689229530750.png" alt="file"></p><p>é€‰å–[â€œPclassâ€, â€œSexâ€, â€œSibSpâ€, â€œParchâ€, â€œFareâ€]äº”ä¸ªç‰¹å¾è¿›è¡Œè®­ç»ƒã€‚</p><h2 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h2><h3 id="åŠ è½½æ•°æ®é›†"><a href="#åŠ è½½æ•°æ®é›†" class="headerlink" title="åŠ è½½æ•°æ®é›†"></a>åŠ è½½æ•°æ®é›†</h3><h4 id="TitanicDataset"><a href="#TitanicDataset" class="headerlink" title="TitanicDataset"></a>TitanicDataset</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TitanicDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, filepath</span>):</span><br><span class="line">        features = [<span class="string">&quot;Pclass&quot;</span>, <span class="string">&quot;Sex&quot;</span>, <span class="string">&quot;SibSp&quot;</span>, <span class="string">&quot;Parch&quot;</span>, <span class="string">&quot;Fare&quot;</span>]</span><br><span class="line">        xy = pd.read_csv(filepath)</span><br><span class="line">        self.<span class="built_in">len</span> = xy.shape[<span class="number">0</span>] <span class="comment">## [0]ä»£è¡¨è¡Œæ•°ï¼Œ[1]ä»£è¡¨åˆ—æ•°</span></span><br><span class="line">        <span class="comment">## dummiesç›¸å½“äºone-hotç¼–ç </span></span><br><span class="line">        self.x_data = torch.from_numpy(np.array(pd.get_dummies(xy[features], dtype=np.float32))).<span class="built_in">float</span>()</span><br><span class="line">        <span class="comment">## np.array(data[&#x27;survived&#x27;])æ˜¯å¯¹data[&#x27;survived&#x27;]åˆ›å»ºä¸€ä¸ªçŸ©é˜µ</span></span><br><span class="line">        <span class="comment">## torch.from_numpy()æ˜¯å°†æ‹¬å·å†…çš„çŸ©é˜µå½¢å¼è½¬æ¢ä¸ºå¼ é‡å½¢å¼ï¼Œæ–¹ä¾¿torchå¤„ç†</span></span><br><span class="line">        self.y_data = torch.from_numpy(np.array(xy[<span class="string">&#x27;Survived&#x27;</span>], dtype=np.float32)).<span class="built_in">float</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">        <span class="keyword">return</span> self.x_data[index], self.y_data[index]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">len</span></span><br><span class="line"></span><br><span class="line">titanic_train = TitanicDataset(<span class="string">r&#x27;./titanic/train.csv&#x27;</span>)</span><br><span class="line">train_loader = DataLoader(dataset=titanic_train, batch_size=<span class="number">16</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="æ„é€ æ¨¡å‹"><a href="#æ„é€ æ¨¡å‹" class="headerlink" title="æ„é€ æ¨¡å‹"></a>æ„é€ æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Model</span>(torch.nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">## å¯¹ç»§æ‰¿äºtorch.nnçš„çˆ¶æ¨¡å—ç±»è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">        <span class="built_in">super</span>(Model, self).__init__()</span><br><span class="line">        <span class="comment">## è¿™é‡ŒåŒ…æ‹¬2ä¸ªçº¿æ€§å±‚ï¼Œæ¯ä¸€ä¸ªçº¿æ€§å±‚è¾“å‡ºéƒ½ç”¨æ¿€æ´»å‡½æ•°æ¿€æ´»</span></span><br><span class="line">        self.linear1 = torch.nn.Linear(<span class="number">6</span>, <span class="number">3</span>) <span class="comment">## äº”ä¸ªç‰¹å¾è½¬åŒ–ä¸ºäº†6ç»´ï¼Œå› ä¸ºget_dummieså°†æ€§åˆ«è¿™ä¸€ä¸ªç‰¹å¾ç”¨ä¸¤ä¸ªç»´åº¦æ¥è¡¨ç¤ºï¼Œå³ç”·æ€§[1,0],å¥³æ€§[0ï¼Œ1]</span></span><br><span class="line">        self.linear2 = torch.nn.Linear(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="comment">## æ¿€æ´»å‡½æ•°ä»Sigmoidè¿™ä¸€å¤§ç±»æ¿€æ´»å‡½æ•°ä¸­é€‰å–sigmoidè¿™ä¸€ç§æ¿€æ´»å‡½æ•°</span></span><br><span class="line">        self.sigmoid = torch.nn.Sigmoid()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = self.sigmoid(self.linear1(x))</span><br><span class="line">        x = self.sigmoid(self.linear2(x))</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">verify</span>(<span class="params">self</span>):</span><br><span class="line">        val_correct, total = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader, <span class="number">0</span>):</span><br><span class="line">                inputs, label = data</span><br><span class="line">                predicted = model.predict(inputs)</span><br><span class="line">                total += label.size(<span class="number">0</span>)</span><br><span class="line">                val_correct += (predicted == np.array(label)).<span class="built_in">sum</span>()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Accuracy: %d&#x27;</span> %(val_correct / total * <span class="number">100</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment">## è¯¥å‡½æ•°ç”¨åœ¨æµ‹è¯•é›†è¿‡ç¨‹ï¼Œå› æ­¤åªæœ‰å‰é¦ˆï¼Œæ²¡æœ‰ä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            x = self.sigmoid(self.linear1(x))</span><br><span class="line">            x = self.sigmoid(self.linear2(x))</span><br><span class="line">            y = []</span><br><span class="line">            <span class="keyword">for</span> result <span class="keyword">in</span> x:</span><br><span class="line">                <span class="keyword">if</span> result &gt; <span class="number">0.5</span>:</span><br><span class="line">                    y.append(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    y.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">model = Model()</span><br></pre></td></tr></table></figure><h3 id="æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨"><a href="#æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨" class="headerlink" title="æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨"></a>æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">criterion = torch.nn.BCELoss(reduction=<span class="string">&#x27;mean&#x27;</span>)</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=<span class="number">0.001</span>)</span><br></pre></td></tr></table></figure><h3 id="è®­ç»ƒæ¨¡å‹"><a href="#è®­ç»ƒæ¨¡å‹" class="headerlink" title="è®­ç»ƒæ¨¡å‹"></a>è®­ç»ƒæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader, <span class="number">0</span>):</span><br><span class="line">            inputs, label = data</span><br><span class="line">            y_pred = model(inputs)</span><br><span class="line">            y_pred = y_pred.squeeze(-<span class="number">1</span>) <span class="comment">## å°†ç»´åº¦é™è‡³1ç»´å¹¶è¾“å‡ºå‡ºæ¥</span></span><br><span class="line">            loss = criterion(y_pred, label) <span class="comment">## å°†é¢„æµ‹çš„å€¼ä¸æ ‡ç­¾è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶æ±‚è§£å‡ºè¯¯å·®å€¼</span></span><br><span class="line">            <span class="built_in">print</span>(epoch, i, loss.item())</span><br><span class="line"></span><br><span class="line">            optimizer.zero_grad() <span class="comment">## ä¹‹å‰çš„æ¢¯åº¦è¿›è¡Œæ¸…é›¶ï¼Œå¦åˆ™æ¢¯åº¦ä¼šç´¯åŠ èµ·æ¥</span></span><br><span class="line">            loss.backward() <span class="comment">## åå‘ä¼ æ’­</span></span><br><span class="line">            optimizer.step() <span class="comment">## æ›´æ–°</span></span><br></pre></td></tr></table></figure><h3 id="éªŒè¯æ¨¡å‹"><a href="#éªŒè¯æ¨¡å‹" class="headerlink" title="éªŒè¯æ¨¡å‹"></a>éªŒè¯æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">verify</span>(<span class="params">self</span>):</span><br><span class="line">        val_correct, total = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader, <span class="number">0</span>):</span><br><span class="line">                inputs, label = data</span><br><span class="line">                predicted = model(inputs)</span><br><span class="line">                total += label.size(<span class="number">0</span>)</span><br><span class="line">                val_correct += (predicted == label).<span class="built_in">sum</span>().item()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Accuracy: %d %%&#x27;</span> %(val_correct / total * <span class="number">100</span>))</span><br><span class="line"></span><br><span class="line">model.verify()</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•æ¨¡å‹"><a href="#æµ‹è¯•æ¨¡å‹" class="headerlink" title="æµ‹è¯•æ¨¡å‹"></a>æµ‹è¯•æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment">## è¯¥å‡½æ•°ç”¨åœ¨æµ‹è¯•é›†è¿‡ç¨‹ï¼Œå› æ­¤åªæœ‰å‰é¦ˆï¼Œæ²¡æœ‰ä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            x = self.sigmoid(self.linear1(x))</span><br><span class="line">            x = self.sigmoid(self.linear2(x))</span><br><span class="line">            y = []</span><br><span class="line">            <span class="keyword">for</span> result <span class="keyword">in</span> x:</span><br><span class="line">                <span class="keyword">if</span> result &gt; <span class="number">0.5</span>:</span><br><span class="line">                    y.append(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    y.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">test_data = pd.read_csv(<span class="string">r&#x27;./titanic/test.csv&#x27;</span>)</span><br><span class="line">features = [<span class="string">&quot;Pclass&quot;</span>, <span class="string">&quot;Sex&quot;</span>, <span class="string">&quot;SibSp&quot;</span>, <span class="string">&quot;Parch&quot;</span>, <span class="string">&quot;Fare&quot;</span>]</span><br><span class="line">test = torch.from_numpy(np.array(pd.get_dummies(test_data[features]), dtype=np.float32))</span><br><span class="line"></span><br><span class="line">result = model.predict(test)</span><br><span class="line"></span><br><span class="line">submission = pd.read_csv(<span class="string">r&#x27;./titanic/gender_submission.csv&#x27;</span>)</span><br><span class="line">submission[<span class="string">&#x27;Survived&#x27;</span>] = result</span><br><span class="line">submission.to_csv(<span class="string">r&#x27;./titanic/gender_submission_result_1.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/07/13/dl-titanic/">https://blog.jujimeizuo.cn/2023/07/13/dl-titanic/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> deep-learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨æ—¶é’Ÿå‘¨æœŸè¯„æµ‹æ€§èƒ½</title>
      <link href="/2023/04/23/rdtsc/"/>
      <url>/2023/04/23/rdtsc/</url>
      
        <content type="html"><![CDATA[<h2 id="rdtscæŒ‡ä»¤"><a href="#rdtscæŒ‡ä»¤" class="headerlink" title="rdtscæŒ‡ä»¤"></a>rdtscæŒ‡ä»¤</h2><p>rdtscæŒ‡ä»¤, è¯¥æŒ‡ä»¤è¿”å›CPUè‡ªå¯åŠ¨ä»¥æ¥çš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼›è¯¥æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œå³å¤„ç†å™¨çš„æ—¶é—´æˆ³ã€‚</p><p>åœ¨CPUé€šç”µå¯åŠ¨åï¼Œé¦–å…ˆä¼šé‡ç½®EDXå’ŒEAXï¼Œåœ¨æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸä¸Šå‡æˆ–ä¸‹é™æ²¿åˆ°æ¥æ—¶ï¼Œä¼šè‡ªåŠ¨ç´¯è®¡å‘¨æœŸæ•°ï¼Œå¹¶è¢«è®°å½•åˆ°EDXå’ŒEAXå¯„å­˜å™¨ä¸­ï¼ŒEDXæ˜¯é«˜ä½ï¼ŒEAXæ˜¯ä½ä½ã€‚</p><p>rdtscæŒ‡ä»¤å°±æ˜¯ä»è¯¥å¯„å­˜å™¨ä¸­è¿›è¡Œè·å–çš„ã€‚</p><p>å‘¨æœŸå’Œé¢‘ç‡çš„å…³ç³»å…¬å¼ï¼šTï¼ˆå‘¨æœŸï¼‰&#x3D;1&#x2F;fï¼ˆé¢‘ç‡ï¼‰</p><p>å¦‚CPUé¢‘ç‡fä¸º1GHzï¼Œåˆ™å…¶æ—¶é’Ÿå‘¨æœŸT&#x3D;1&#x2F;1GHzç§’ï¼Œæ„å‘³ç€æ¯éš”Tç§’ï¼ŒCPUå®Œæˆä¸€ä¸ªæœ€åŸºæœ¬çš„åŠ¨ä½œï¼Œå¹¶åœ¨å¯„å­˜å™¨ä¸­ï¼Œå¯¹å‘¨æœŸæ•°åŠ 1ã€‚</p><p>æ•…ï¼Œå‡è®¾å½“å‰æ—¶é’Ÿå‘¨æœŸæ•°ä¸ºmï¼Œåˆ™å¯è®¡ç®—å‡ºCPUè‡ªå¯åŠ¨åï¼Œç´¯è®¡è¿è¡Œæ—¶é—´X&#x3D;m*T.</p><p>$$CPUç´¯è®¡è¿è¡Œæ—¶é—´&#x3D;æ—¶é’Ÿå‘¨æœŸæ•°&#x2F;CPUé¢‘ç‡$$</p><h2 id="å›ºå®šCPUé¢‘ç‡"><a href="#å›ºå®šCPUé¢‘ç‡" class="headerlink" title="å›ºå®šCPUé¢‘ç‡"></a>å›ºå®šCPUé¢‘ç‡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install cpufrequtils</span><br><span class="line"><span class="built_in">cat</span> /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors</span><br><span class="line">sudo cpufreq-set -g performance</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¸èƒ½ä¸€æ¬¡æ€§è®¾ç½®ï¼Œéœ€è¦æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªè®¾ç½®</span></span><br><span class="line">cpufreq-set -c 0 -f 2.4G</span><br><span class="line">cpufreq-set -c 1 -f 2.4G</span><br><span class="line">cpufreq-set -c 2 -f 2.4G</span><br><span class="line">cpufreq-set -c 3 -f 2.4G</span><br><span class="line">cpufreq-set -c 4 -f 2.4G</span><br><span class="line">cpufreq-set -c 5 -f 2.4G</span><br><span class="line">cpufreq-set -c 6 -f 2.4G</span><br><span class="line">cpufreq-set -c 7 -f 2.4G</span><br><span class="line">cpufreq-set -c 8 -f 2.4G</span><br><span class="line">cpufreq-set -c 9 -f 2.4G</span><br><span class="line">cpufreq-set -c 10 -f 2.4G</span><br><span class="line">cpufreq-set -c 11 -f 2.4G</span><br><span class="line">cpufreq-set -c 12 -f 2.4G</span><br><span class="line">cpufreq-set -c 13 -f 2.4G</span><br><span class="line">cpufreq-set -c 14 -f 2.4G</span><br><span class="line">cpufreq-set -c 15 -f 2.4G</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo  grep MHz</span><br></pre></td></tr></table></figure><h2 id="ç»‘å®šCPUæ ¸"><a href="#ç»‘å®šCPUæ ¸" class="headerlink" title="ç»‘å®šCPUæ ¸"></a>ç»‘å®šCPUæ ¸</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">bind_to_core</span><span class="params">(<span class="type">int</span> tid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// return;</span></span><br><span class="line">    <span class="type">cpu_set_t</span> mask;</span><br><span class="line">    <span class="built_in">CPU_ZERO</span>(&amp;mask);</span><br><span class="line">    <span class="built_in">CPU_SET</span>(tid, &amp;mask);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">sched_setaffinity</span>(<span class="number">0</span>, <span class="built_in">sizeof</span>(mask), &amp;mask) != <span class="number">0</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Failed to set affinity (core: &quot;</span> &lt;&lt; tid &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»‘å®šç¬¬15ä¸ªCPUæ ¸ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bind_to_core</span>(<span class="number">15</span>);</span><br></pre></td></tr></table></figure><h2 id="è·å–æ—¶é’Ÿå‘¨æœŸ"><a href="#è·å–æ—¶é’Ÿå‘¨æœŸ" class="headerlink" title="è·å–æ—¶é’Ÿå‘¨æœŸ"></a>è·å–æ—¶é’Ÿå‘¨æœŸ</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> <span class="title">rdtsc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> lo, hi;</span><br><span class="line">    __asm__ __volatile__ (<span class="string">&quot;rdtsc&quot;</span> : <span class="string">&quot;=a&quot;</span> (lo), <span class="string">&quot;=d&quot;</span> (hi));</span><br><span class="line">    <span class="keyword">return</span> ((<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>)hi &lt;&lt; <span class="number">32</span>)  lo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/04/23/rdtsc/">https://blog.jujimeizuo.cn/2023/04/23/rdtsc/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> hpc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºç¡€ç®—æ³•ç®—å­åº“ - KD-Tree</title>
      <link href="/2023/04/03/kdtree/"/>
      <url>/2023/04/03/kdtree/</url>
      
        <content type="html"><![CDATA[<h2 id="libnabo"><a href="#libnabo" class="headerlink" title="libnabo"></a>libnabo</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>libnabo æ˜¯ä¸€ä¸ªç”¨äºä½ç»´ç©ºé—´çš„å¿«é€Ÿ K æœ€è¿‘é‚»åº“ã€‚å¾—ç›Šäº C++ æ¨¡æ¿ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¹²å‡€ã€æ— é—ç•™é—®é¢˜ã€ä¸æ ‡é‡ç±»å‹æ— å…³çš„ APIã€‚å®ƒå½“å‰çš„ CPU å®ç°å—åˆ°ANNçš„å¼ºçƒˆå¯å‘ï¼Œä½†å…·æœ‰æ›´ç´§å‡‘çš„æ•°æ®ç±»å‹ã€‚å¹³å‡è€Œè¨€ï¼Œlibnabo æ¯”ANNå¿« 5% åˆ° 20% ã€‚</p><p>libnabo ä¾èµ–äºEigenï¼Œä¸€ä¸ªç°ä»£ C++ çŸ©é˜µå’Œçº¿æ€§ä»£æ•°åº“ã€‚libnabo é€‚ç”¨äº Eigen çš„ç‰ˆæœ¬ 2 æˆ– 3ã€‚libnabo è¿˜å¯ä»¥é€‰æ‹©ä¾èµ–Boostï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äº Python ç»‘å®šçš„ C++ é€šç”¨åº“ã€‚</p><h3 id="installion"><a href="#installion" class="headerlink" title="installion"></a>installion</h3><h4 id="download"><a href="#download" class="headerlink" title="download"></a>download</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:ethz-asl/libnabo.git</span><br></pre></td></tr></table></figure><h4 id="prerequisites"><a href="#prerequisites" class="headerlink" title="prerequisites"></a>prerequisites</h4><ul><li><a href="http://eigen.tuxfamily.org/index.php?title=Main_Page" title="Eigen">Eigen</a></li><li><a href="https://www.boost.org/users/download/">Boost</a> ï¼ˆOption)</li></ul><h4 id="install"><a href="#install" class="headerlink" title="install"></a>install</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SRC_DIR=<span class="built_in">pwd</span></span><br><span class="line">BUILD_DIR=<span class="variable">$&#123;SRC_DIR&#125;</span>/build</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$&#123;BUILD_DIR&#125;</span> &amp;&amp; <span class="built_in">cd</span> <span class="variable">$&#123;BUILD_DIR&#125;</span></span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo <span class="variable">$&#123;SRC_DIR&#125;</span></span><br><span class="line"><span class="comment"># if Eigen or Boost are not available system-wide, run at that point:</span></span><br><span class="line"><span class="comment">#   cmake-gui .</span></span><br><span class="line"><span class="comment"># cmake-gui allows you to tell the location of Eigen or Boost</span></span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h4 id="CmakeLists-txt"><a href="#CmakeLists-txt" class="headerlink" title="CmakeLists.txt"></a>CmakeLists.txt</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#--------------------</span></span><br><span class="line"><span class="comment"># DEPENDENCY: nabo</span></span><br><span class="line"><span class="comment">#--------------------</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">NOT</span> <span class="keyword">TARGET</span> nabo)</span><br><span class="line">  <span class="comment"># Find libnabo:</span></span><br><span class="line">  <span class="keyword">find_package</span>(libnabo REQUIRED PATHS <span class="variable">$&#123;LIBNABO_INSTALL_DIR&#125;</span>)</span><br><span class="line">  <span class="keyword">message</span>(STATUS <span class="string">&quot;libnabo found, version $&#123;libnabo_VERSION&#125; (include=$&#123;libnabo_INCLUDE_DIRS&#125; libs=$&#123;libnabo_LIBRARIES&#125;)&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>()</span><br><span class="line">  <span class="comment"># libnabo already part of this project (e.g. as a git submodule)</span></span><br><span class="line">  <span class="comment"># (This, plus the use of cmake target properties in libnabo, will also</span></span><br><span class="line">  <span class="comment"># introduce the required include directories, flags, etc.)</span></span><br><span class="line"><span class="keyword">endif</span>()</span><br><span class="line"><span class="comment"># This cmake target alias will be defined by either: </span></span><br><span class="line"><span class="comment"># a) libnabo sources if built as a git submodule in the same project than this library, or</span></span><br><span class="line"><span class="comment"># b) by libnabo-targets.cmake, included by find_package(libnabo) above.</span></span><br><span class="line"><span class="keyword">set</span>(libnabo_LIBRARIES libnabo::nabo)</span><br><span class="line"></span><br><span class="line"><span class="comment"># target_link_libraries THIRD_PARTY_LIBS is ok</span></span><br><span class="line"><span class="keyword">set</span>(THIRD_PARTY_LIBS</span><br><span class="line">        <span class="variable">$&#123;libnabo_LIBRARIES&#125;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="comment"># ####### dependencies ########</span></span><br><span class="line"><span class="keyword">find_package</span>(Eigen3 REQUIRED)</span><br><span class="line"><span class="keyword">include_directories</span>(<span class="variable">$&#123;EIGEN3_INCLUDE_DIR&#125;</span>)</span><br><span class="line"><span class="keyword">include_directories</span>(<span class="variable">$&#123;NABO_INCLUDE_DIR&#125;</span>)</span><br></pre></td></tr></table></figure><h2 id="flann"><a href="#flann" class="headerlink" title="flann"></a>flann</h2><h3 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>FLANNï¼ˆè¿‘ä¼¼è¿‘é‚»å¿«é€Ÿåº“ï¼‰æ˜¯ä¸€ä¸ªç”¨äºæ‰§è¡Œå¿«é€Ÿè¿‘ä¼¼è¿‘é‚»æœç´¢çš„åº“ã€‚FLANNæ˜¯ç”¨C++ç¼–å†™çš„ï¼Œè¯¥åº“æä¾›çš„Cã€MATLABå’ŒPythonæ¥å£ã€‚</p><h3 id="Installion"><a href="#Installion" class="headerlink" title="Installion"></a>Installion</h3><h4 id="download-1"><a href="#download-1" class="headerlink" title="download"></a>download</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/flann-lib/flann.git </span><br></pre></td></tr></table></figure><h4 id="install-1"><a href="#install-1" class="headerlink" title="install"></a>install</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> flann</span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=Release -DBUILD_PYTHON_BINDINGS=OFF -DBUILD_MATLAB_BINDINGS=OFF -DBUILD_EXAMPLES=OFF -DBUILD_TESTS=OFF -DBUILD_D</span><br><span class="line">OC=OFF ..</span><br><span class="line">make -j5</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h4 id="CMakeLists-txt"><a href="#CMakeLists-txt" class="headerlink" title="CMakeLists.txt"></a>CMakeLists.txt</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">find_package</span>(flann REQUIRED)</span><br><span class="line"><span class="keyword">set</span>(THIRD_PARTY_LIBS</span><br><span class="line">        <span class="variable">$&#123;libflann_LIBRARIES&#125;</span></span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/04/03/kdtree/">https://blog.jujimeizuo.cn/2023/04/03/kdtree/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> åŸºç¡€ç®—æ³•ç®—å­åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³__FILE__ å®ç»å¯¹è·¯å¾„çš„é—®é¢˜(ç›¸å¯¹è·¯å¾„)</title>
      <link href="/2023/02/27/cmake-file/"/>
      <url>/2023/02/27/cmake-file/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜è¡¨ç°"><a href="#é—®é¢˜è¡¨ç°" class="headerlink" title="é—®é¢˜è¡¨ç°"></a>é—®é¢˜è¡¨ç°</h2><p>é€šè¿‡cmakeç¼–è¯‘çš„ä»£ç ï¼Œåœ¨ä»£ç ä¸­è¾“å‡ºFILEå°±ä»£ç æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚åœ¨å¤§å¤šæ•°ä½¿ç”¨FILEè¿™å®çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨äºæ—¥å¿—è¾“å‡ºï¼Œé¦–å…ˆä½¿ç”¨ç»å¯¹è·¯å¾„ä¼šä½¿æ—¥å¿—é‡è†¨èƒ€ï¼Œå…¶æ¬¡æˆ‘ä»¬æœ€ç»ˆçš„ç¨‹åºæ‰§è¡Œçš„ç¯å¢ƒï¼Œå¯èƒ½ä¸ç¼–è¯‘çš„ç¯å¢ƒä¸ä¸€æ ·ï¼Œè¾“å‡ºç»å¯¹è·¯å¾„å¹¶æ²¡æœ‰å¤šå¤§çš„å‚è€ƒæ„ä¹‰</p><p>ä¾‹å¦‚ï¼š&#x2F;home&#x2F;dell&#x2F;workspace&#x2F;â€¦.</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>æ—¢ç„¶FILEå®æ˜¯gccå®šä¹‰çš„ï¼Œé»˜è®¤ç­‰äºgccå‘½ä»¤ä¸­çš„æ–‡ä»¶è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡æ–°å®šä¹‰è¯¥å®æ¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ï¼Œå¦‚ä¸‹æ–¹å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g++ tests/test.cc -D__FILE__=<span class="string">&quot;\&quot;tests/test.cc\&quot;&quot;</span> -o test</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šhello __FILE__=tests/test.cc</span></span><br></pre></td></tr></table></figure><h2 id="åœ¨cmakeé‡Œè§£å†³"><a href="#åœ¨cmakeé‡Œè§£å†³" class="headerlink" title="åœ¨cmakeé‡Œè§£å†³"></a>åœ¨cmakeé‡Œè§£å†³</h2><p>å¦‚æœéœ€è¦åœ¨æ¯ä¸ªæºæ–‡ä»¶çš„ç¼–è¯‘ä¸Šé¢éƒ½å¸¦ä¸Šå¯¹åº”çš„å®šä¹‰(-D<strong>FILE</strong>=â€\â€tests&#x2F;test.cc\â€â€),é‚£ä¹ˆCMakeLists.txté‡Œé¢å°±æ¯”è¾ƒæ··ä¹±äº†ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ç§å®šä¹‰ï¼Œå°è£…åˆ°ä¸€ä¸ªcmakeå‡½æ•°é‡Œé¢ï¼Œå½“éœ€è¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œå°±æ‰§è¡Œä¸€ä¸‹è¿™ä¸ªå‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥ä¼˜é›…çš„è§£å†³FILEç»å¯¹è·¯å¾„çš„é—®é¢˜ï¼Œå°†ç»å¯¹è·¯å¾„å˜æˆç›¸å¯¹è·¯å¾„</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## utils.cmake</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##é‡æ–°å®šä¹‰å½“å‰ç›®æ ‡çš„æºæ–‡ä»¶çš„__FILE__å®</span></span><br><span class="line"><span class="keyword">function</span>(redefine_file_macro targetname)</span><br><span class="line">    <span class="comment">##è·å–å½“å‰ç›®æ ‡çš„æ‰€æœ‰æºæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">get_target_property</span>(source_files <span class="string">&quot;$&#123;targetname&#125;&quot;</span> SOURCES)</span><br><span class="line">    <span class="comment">##éå†æºæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">foreach</span>(sourcefile <span class="variable">$&#123;source_files&#125;</span>)</span><br><span class="line">        <span class="comment">##è·å–å½“å‰æºæ–‡ä»¶çš„ç¼–è¯‘å‚æ•°</span></span><br><span class="line">        <span class="keyword">get_property</span>(defs SOURCE <span class="string">&quot;$&#123;sourcefile&#125;&quot;</span></span><br><span class="line">            PROPERTY COMPILE_DEFINITIONS)</span><br><span class="line">        <span class="comment">##è·å–å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">        <span class="keyword">get_filename_component</span>(filepath <span class="string">&quot;$&#123;sourcefile&#125;&quot;</span> ABSOLUTE)</span><br><span class="line">        <span class="comment">##å°†ç»å¯¹è·¯å¾„ä¸­çš„é¡¹ç›®è·¯å¾„æ›¿æ¢æˆç©º,å¾—åˆ°æºæ–‡ä»¶ç›¸å¯¹äºé¡¹ç›®è·¯å¾„çš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">        <span class="keyword">string</span>(REPLACE <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/ <span class="string">&quot;&quot;</span> relpath <span class="variable">$&#123;filepath&#125;</span>)</span><br><span class="line">        <span class="comment">##å°†æˆ‘ä»¬è¦åŠ çš„ç¼–è¯‘å‚æ•°(__FILE__å®šä¹‰)æ·»åŠ åˆ°åŸæ¥çš„ç¼–è¯‘å‚æ•°é‡Œé¢</span></span><br><span class="line">        <span class="keyword">list</span>(APPEND defs <span class="string">&quot;__FILE__=\&quot;$&#123;relpath&#125;\&quot;&quot;</span>)</span><br><span class="line">        <span class="comment">##é‡æ–°è®¾ç½®æºæ–‡ä»¶çš„ç¼–è¯‘å‚æ•°</span></span><br><span class="line">        <span class="keyword">set_property</span>(</span><br><span class="line">            SOURCE <span class="string">&quot;$&#123;sourcefile&#125;&quot;</span></span><br><span class="line">            PROPERTY COMPILE_DEFINITIONS <span class="variable">$&#123;defs&#125;</span></span><br><span class="line">            )</span><br><span class="line">    <span class="keyword">endforeach</span>()</span><br><span class="line"><span class="keyword">endfunction</span>()</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†ä¸Šé¢çš„ä»£ç ï¼Œå†™å…¥åˆ°utils.cmakeæ–‡ä»¶é‡Œé¢ï¼Œç„¶åå»ä¿®æ”¹æˆ‘ä»¬çš„CMakeLists.txtï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ”¯æŒFILEè¾“å‡ºç›¸å¯¹è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required (VERSION 2.8)</span><br><span class="line"></span><br><span class="line">project(server)</span><br><span class="line"></span><br><span class="line">include (utils.cmake)</span><br><span class="line"></span><br><span class="line">add_definitions(-Wno-builtin-macro-redefined)</span><br><span class="line"></span><br><span class="line">add_executable(test tests/test.cc)</span><br><span class="line">redefine_file_macro(test)</span><br></pre></td></tr></table></figure><p>redefine_file_macro(test), ä¸ºæˆ‘ä»¬çš„è¾“å‡ºç›®æ ‡æ·»åŠ FILEå®é‡å®šä¹‰åŠŸèƒ½ å½“æˆ‘ä»¬å†²å®šä¹‰äº†FILEå®ï¼Œç¼–è¯‘å™¨ä¼šå‘Šè­¦ â€œ:0:0: warning: â€œFILEâ€ redefined [-Wbuiltin-macro-redefined]â€, ä¸ºäº†è§£å†³è¿™ä¸ªè­¦å‘Šï¼Œæˆ‘ä»¬éœ€è¦åœ¨CMakeLists.txté‡Œé¢åŠ ä¸Šadd_definitions(-Wno-builtin-macro-redefined)</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ç»“ cmakeç¼–è¯‘çš„FILEè™½ç„¶æ˜¯ç»å¯¹è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å†²å®šä¹‰FILEçš„æ–¹å¼æ¥è§£å†³ã€‚cmakeæ”¯æŒè‡ªå®šä¹‰å‡½æ•°ï¼Œè‡ªå®šä¹‰å®çš„æ–¹å¼ï¼Œæˆ‘ä»¬åˆ©ç”¨è‡ªå®šä¹‰å‡½æ•°ï¼Œå°†æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ç‰¹æ€§å°è£…åˆ°å‡½æ•°é‡Œé¢ï¼Œå†™åˆ°ä¸€ä¸ªå•ç‹¬çš„cmakeæ–‡ä»¶é‡Œé¢ï¼Œå½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦include xxx.cmakeæ–‡ä»¶å°±å¯ä»¥äº†ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/02/27/cmake-file/">https://blog.jujimeizuo.cn/2023/02/27/cmake-file/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOå¤šè·¯å¤ç”¨-epoll</title>
      <link href="/2023/01/27/epoll/"/>
      <url>/2023/01/27/epoll/</url>
      
        <content type="html"><![CDATA[<h2 id="å™è¿°"><a href="#å™è¿°" class="headerlink" title="å™è¿°"></a>å™è¿°</h2><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>epollï¼ˆeventpollï¼‰æ˜¯ä¸€ç§I&#x2F;Oäº‹ä»¶é€šçŸ¥æœºåˆ¶ï¼Œæ˜¯linuxå†…æ ¸å®ç°IOå¤šè·¯å¤ç”¨çš„å®ç°ã€‚</p><p>IOå¤šè·¯å¤ç”¨æŒ‡åœ¨ä¸€ä¸ªæ“ä½œé‡ŒåŒæ—¶ç›‘å¬å¤šä¸ªè¾“å…¥è¾“å‡ºæºï¼Œåœ¨å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥è¾“å‡ºæºå¯ç”¨æ—¶è¿”å›ï¼Œç„¶åå¯¹å…¶è¿›è¡Œè¯»å†™æ“ä½œã€‚</p><p>epollæ—¶selectå’Œpollçš„å‡çº§ç‰ˆï¼Œæ”¹è¿›äº†å·¥ä½œæ–¹å¼ä¼šæ›´åŠ é«˜æ•ˆã€‚</p><h4 id="é€šçŸ¥æœºåˆ¶"><a href="#é€šçŸ¥æœºåˆ¶" class="headerlink" title="é€šçŸ¥æœºåˆ¶"></a>é€šçŸ¥æœºåˆ¶</h4><p>é€šçŸ¥æœºåˆ¶å°±æ˜¯å½“äº‹ä»¶å‘ç”Ÿæ—¶ä¼šä¸»åŠ¨é€šçŸ¥ï¼Œåé¢å°±æ˜¯è½®è¯¢æœºåˆ¶ã€‚</p><h4 id="é€šä¿—è§£é‡Š"><a href="#é€šä¿—è§£é‡Š" class="headerlink" title="é€šä¿—è§£é‡Š"></a>é€šä¿—è§£é‡Š</h4><p>epollçš„é€šä¿—è§£é‡Šæ˜¯ä¸€ç§å½“æ–‡ä»¶æè¿°ç¬¦çš„å†…æ ¸ç¼“å†²åŒºéç©ºçš„æ—¶å€™ï¼Œå‘å‡ºå¯è¯»ä¿¡å·è¿›è¡Œé€šçŸ¥ï¼Œå½“å†™ç¼“å†²åŒºä¸æ»¡çš„æ—¶å€™ï¼Œå‘å‡ºå¯å†™ä¿¡å·é€šçŸ¥çš„æœºåˆ¶</p><h4 id="å¯¹æ¯”selectå’Œpoll"><a href="#å¯¹æ¯”selectå’Œpoll" class="headerlink" title="å¯¹æ¯”selectå’Œpoll"></a>å¯¹æ¯”selectå’Œpoll</h4><p>select&#x2F;poll ä½æ•ˆçš„åŸå› ä¹‹ä¸€æ˜¯å°† â€œæ·»åŠ  &#x2F; ç»´æŠ¤å¾…æ£€æµ‹ä»»åŠ¡â€ å’Œ â€œé˜»å¡è¿›ç¨‹ &#x2F; çº¿ç¨‹â€ ä¸¤ä¸ªæ­¥éª¤åˆäºŒä¸ºä¸€ã€‚æ¯æ¬¡è°ƒç”¨ select éƒ½éœ€è¦è¿™ä¸¤æ­¥æ“ä½œï¼Œç„¶è€Œå¤§å¤šæ•°åº”ç”¨åœºæ™¯ä¸­ï¼Œéœ€è¦ç›‘è§†çš„ socket ä¸ªæ•°ç›¸å¯¹å›ºå®šï¼Œå¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½ä¿®æ”¹ã€‚epoll å°†è¿™ä¸¤ä¸ªæ“ä½œåˆ†å¼€ï¼Œå…ˆç”¨ epoll_ctl() ç»´æŠ¤ç­‰å¾…é˜Ÿåˆ—ï¼Œå†è°ƒç”¨ epoll_wait() é˜»å¡è¿›ç¨‹ï¼ˆè§£è€¦ï¼‰ã€‚é€šè¿‡ä¸‹å›¾çš„å¯¹æ¯”æ˜¾è€Œæ˜“è§ï¼Œepoll çš„æ•ˆç‡å¾—åˆ°äº†æå‡ã€‚</p><p><img src="https://subingwen.cn/linux/epoll/image-20210403181746358.png"></p><h2 id="æ ¸å¿ƒå‡½æ•°"><a href="#æ ¸å¿ƒå‡½æ•°" class="headerlink" title="æ ¸å¿ƒå‡½æ•°"></a>æ ¸å¿ƒå‡½æ•°</h2><h4 id="epoll-size"><a href="#epoll-size" class="headerlink" title="epoll_size()"></a>epoll_size()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºepollå®ä¾‹ï¼Œé€šè¿‡ä¸€æ£µçº¢é»‘æ ‘ç®¡ç†å¾…æ£€æµ‹é›†åˆ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">epoll_size</span><span class="params">(<span class="type">int</span> size)</span></span>;</span><br></pre></td></tr></table></figure><p>å†…æ ¸ä¼šäº§ç”Ÿä¸€ä¸ªepoll å®ä¾‹æ•°æ®ç»“æ„å¹¶è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œè¿™ä¸ªç‰¹æ®Šçš„æè¿°ç¬¦å°±æ˜¯epollå®ä¾‹çš„å¥æŸ„ï¼Œåé¢çš„ä¸¤ä¸ªæ¥å£éƒ½ä»¥å®ƒä¸ºä¸­å¿ƒï¼ˆå³epfdå½¢å‚ï¼‰ã€‚</p><ul><li>å‡½æ•°å‚æ•°<ul><li>sizeï¼šåœ¨ Linux å†…æ ¸ 2.6.8 ç‰ˆæœ¬ä»¥åï¼Œè¿™ä¸ªå‚æ•°æ˜¯è¢«å¿½ç•¥çš„ï¼Œåªéœ€è¦æŒ‡å®šä¸€ä¸ªå¤§äº 0 çš„æ•°å€¼å°±å¯ä»¥äº†ã€‚</li></ul></li><li>å‡½æ•°è¿”å›å€¼ï¼š<ul><li>å¤±è´¥ï¼šè¿”å› - 1</li><li>æˆåŠŸï¼šè¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œé€šè¿‡è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦å°±å¯ä»¥è®¿é—®åˆ›å»ºçš„ epoll å®ä¾‹äº†</li></ul></li></ul><h4 id="epoll-ctl"><a href="#epoll-ctl" class="headerlink" title="epoll_ctl()"></a>epoll_ctl()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®¡ç†çº¢é»‘æ ‘ä¸Šçš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆæ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">epoll_ctl</span><span class="params">(<span class="type">int</span> epfd, <span class="type">int</span> op, <span class="type">int</span> fd, <span class="keyword">struct</span> epoll_event *event)</span></span>;</span><br></pre></td></tr></table></figure><p>å°†è¢«ç›‘å¬çš„æè¿°ç¬¦æ·»åŠ åˆ°çº¢é»‘æ ‘æˆ–ä»çº¢é»‘æ ‘ä¸­åˆ é™¤æˆ–è€…å¯¹ç›‘å¬äº‹ä»¶è¿›è¡Œä¿®æ”¹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">union</span> <span class="title class_">epoll_data</span> &#123;</span><br><span class="line"><span class="type">void</span> *ptr; <span class="comment">/* æŒ‡å‘ç”¨æˆ·è‡ªå®šä¹‰æ•°æ® */</span></span><br><span class="line"><span class="type">int</span> fd; <span class="comment">/* æ³¨å†Œçš„æ–‡ä»¶æè¿°ç¬¦ */</span></span><br><span class="line"><span class="type">uint32_t</span> u32; <span class="comment">/* 32-bit integer */</span></span><br><span class="line"><span class="type">uint64_t</span> u64; <span class="comment">/* 64-bit integer */</span></span><br><span class="line">&#125; <span class="type">epoll_data_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">epoll_event</span> &#123;</span><br><span class="line"><span class="type">uint32_t</span> events; <span class="comment">/* æè¿°epolläº‹ä»¶ */</span></span><br><span class="line"><span class="type">epoll_data_t</span> data; <span class="comment">/* è§ä¸Šé¢çš„ç»“æ„ä½“ */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>å‡½æ•°å‚æ•°ï¼š<ul><li>epfdï¼šepoll_create () å‡½æ•°çš„è¿”å›å€¼ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°æ‰¾åˆ° epoll å®ä¾‹</li><li>opï¼šè¿™æ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œæ§åˆ¶é€šè¿‡è¯¥å‡½æ•°æ‰§è¡Œä»€ä¹ˆæ“ä½œ<ul><li>EPOLL_CTL_ADDï¼šå¾€ epoll æ¨¡å‹ä¸­æ·»åŠ æ–°çš„èŠ‚ç‚¹</li><li>EPOLL_CTL_MODï¼šä¿®æ”¹ epoll æ¨¡å‹ä¸­å·²ç»å­˜åœ¨çš„èŠ‚ç‚¹</li><li>EPOLL_CTL_DELï¼šåˆ é™¤ epoll æ¨¡å‹ä¸­çš„æŒ‡å®šçš„èŠ‚ç‚¹</li></ul></li><li>fdï¼šæ–‡ä»¶æè¿°ç¬¦ï¼Œå³è¦æ·»åŠ  &#x2F; ä¿®æ”¹ &#x2F; åˆ é™¤çš„æ–‡ä»¶æè¿°ç¬¦</li><li>eventï¼šepoll äº‹ä»¶ï¼Œç”¨æ¥ä¿®é¥°ç¬¬ä¸‰ä¸ªå‚æ•°å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦çš„ï¼ŒæŒ‡å®šæ£€æµ‹è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„ä»€ä¹ˆäº‹ä»¶<ul><li>eventsï¼šå§”æ‰˜ epoll æ£€æµ‹çš„äº‹ä»¶<ul><li>EPOLLINï¼šè¯»äº‹ä»¶ï¼Œæ¥æ”¶æ•°æ®ï¼Œæ£€æµ‹è¯»ç¼“å†²åŒºï¼Œå¦‚æœæœ‰æ•°æ®è¯¥æ–‡ä»¶æè¿°ç¬¦å°±ç»ª</li><li>EPOLLOUTï¼šå†™äº‹ä»¶ï¼Œå‘é€æ•°æ®ï¼Œæ£€æµ‹å†™ç¼“å†²åŒºï¼Œå¦‚æœå¯å†™è¯¥æ–‡ä»¶æè¿°ç¬¦å°±ç»ª</li><li>EPOLLERRï¼šå¼‚å¸¸äº‹ä»¶</li></ul></li></ul></li><li>dataï¼šç”¨æˆ·æ•°æ®å˜é‡ï¼Œè¿™æ˜¯ä¸€ä¸ªè”åˆä½“ç±»å‹ï¼Œé€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨é‡Œè¾¹çš„ fd æˆå‘˜ï¼Œç”¨äºå­˜å‚¨å¾…æ£€æµ‹çš„æ–‡ä»¶æè¿°ç¬¦çš„å€¼ï¼Œåœ¨è°ƒç”¨ epoll_wait() å‡½æ•°çš„æ—¶å€™è¿™ä¸ªå€¼ä¼šè¢«ä¼ å‡ºã€‚</li></ul></li><li>å‡½æ•°è¿”å›å€¼ï¼š<ul><li>å¤±è´¥ï¼šè¿”å› -1</li><li>æˆåŠŸï¼šè¿”å› 0</li></ul></li></ul><h4 id="epoll-wait"><a href="#epoll-wait" class="headerlink" title="epoll_wait()"></a>epoll_wait()</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ£€æµ‹epollæ ‘ä¸­æ˜¯å¦æœ‰å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">epoll_wait</span><span class="params">(<span class="type">int</span> epfd, <span class="keyword">struct</span> epoll_event * events, <span class="type">int</span> maxevents, <span class="type">int</span> timeout)</span></span>;</span><br></pre></td></tr></table></figure><p>é˜»å¡ç­‰å¾…æ³¨å†Œçš„äº‹ä»¶å‘ç”Ÿï¼Œè¿”å›äº‹ä»¶çš„æ•°ç›®ï¼Œå¹¶å°†è§¦å‘çš„äº‹ä»¶å†™å…¥eventsæ•°ç»„ä¸­ã€‚</p><ul><li>å‡½æ•°å‚æ•°ï¼š<ul><li>epfdï¼šepoll_create () å‡½æ•°çš„è¿”å›å€¼ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°æ‰¾åˆ° epoll å®ä¾‹</li><li>eventsï¼šä¼ å‡ºå‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªç»“æ„ä½“æ•°ç»„çš„åœ°å€ï¼Œé‡Œè¾¹å­˜å‚¨äº†å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦çš„ä¿¡æ¯</li><li>maxeventsï¼šä¿®é¥°ç¬¬äºŒä¸ªå‚æ•°ï¼Œç»“æ„ä½“æ•°ç»„çš„å®¹é‡ï¼ˆå…ƒç´ ä¸ªæ•°ï¼‰</li><li>timeoutï¼šå¦‚æœæ£€æµ‹çš„ epoll å®ä¾‹ä¸­æ²¡æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè¯¥å‡½æ•°é˜»å¡çš„æ—¶é•¿ï¼Œå•ä½ ms æ¯«ç§’<ul><li>0ï¼šå‡½æ•°ä¸é˜»å¡ï¼Œä¸ç®¡ epoll å®ä¾‹ä¸­æœ‰æ²¡æœ‰å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°è¢«è°ƒç”¨åéƒ½ç›´æ¥è¿”å›</li><li>å¤§äº 0ï¼šå¦‚æœ epoll å®ä¾‹ä¸­æ²¡æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°é˜»å¡å¯¹åº”çš„æ¯«ç§’æ•°å†è¿”å›</li><li>-1ï¼šå‡½æ•°ä¸€ç›´é˜»å¡ï¼Œç›´åˆ° epoll å®ä¾‹ä¸­æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ä¹‹åæ‰è§£é™¤é˜»å¡</li></ul></li></ul></li><li>å‡½æ•°è¿”å›å€¼ï¼š<ul><li>æˆåŠŸï¼š<ul><li>ç­‰äº 0ï¼šå‡½æ•°æ˜¯é˜»å¡è¢«å¼ºåˆ¶è§£é™¤äº†ï¼Œæ²¡æœ‰æ£€æµ‹åˆ°æ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦</li><li>å¤§äº 0ï¼šæ£€æµ‹åˆ°çš„å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦çš„æ€»ä¸ªæ•°</li></ul></li><li>å¤±è´¥ï¼šè¿”å› - 1</li></ul></li></ul><h2 id="å·¥ä½œæ¨¡å¼"><a href="#å·¥ä½œæ¨¡å¼" class="headerlink" title="å·¥ä½œæ¨¡å¼"></a>å·¥ä½œæ¨¡å¼</h2><p>epollç›‘æ§å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦çš„I&#x2F;Oäº‹ä»¶ã€‚epollæ”¯æŒè¾¹ç¼˜è§¦å‘(edge triggerï¼ŒET)æˆ–æ°´å¹³è§¦å‘ï¼ˆlevel triggerï¼ŒLT)ï¼Œé€šè¿‡epoll_waitç­‰å¾…I&#x2F;Oäº‹ä»¶ï¼Œå¦‚æœå½“å‰æ²¡æœ‰å¯ç”¨çš„äº‹ä»¶åˆ™é˜»å¡è°ƒç”¨çº¿ç¨‹ã€‚ selectå’Œpollåªæ”¯æŒLTå·¥ä½œæ¨¡å¼ï¼Œepollçš„é»˜è®¤çš„å·¥ä½œæ¨¡å¼æ˜¯LTæ¨¡å¼ã€‚</p><h4 id="æ°´å¹³è§¦å‘-LT"><a href="#æ°´å¹³è§¦å‘-LT" class="headerlink" title="æ°´å¹³è§¦å‘(LT)"></a>æ°´å¹³è§¦å‘(LT)</h4><p>æ°´å¹³æ¨¡å¼å¯ä»¥ç®€ç§°ä¸º LT æ¨¡å¼ï¼ŒLTï¼ˆlevel triggeredï¼‰æ˜¯ç¼ºçœçš„å·¥ä½œæ–¹å¼ï¼Œå¹¶ä¸”åŒæ—¶æ”¯æŒblockå’Œno-block socketã€‚åœ¨è¿™ç§åšæ³•ä¸­ï¼Œå†…æ ¸é€šçŸ¥ä½¿ç”¨è€…å“ªäº›æ–‡ä»¶æè¿°ç¬¦å·²ç»å°±ç»ªï¼Œä¹‹åå°±å¯ä»¥å¯¹è¿™äº›å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œ IO æ“ä½œäº†ã€‚å¦‚æœæˆ‘ä»¬ä¸ä½œä»»ä½•æ“ä½œï¼Œå†…æ ¸è¿˜æ˜¯ä¼šç»§ç»­é€šçŸ¥ä½¿ç”¨è€…ã€‚</p><ul><li>è¯»äº‹ä»¶ï¼šå¦‚æœæ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„è¯»ç¼“å†²åŒºè¿˜æœ‰æ•°æ®ï¼Œè¯»äº‹ä»¶å°±ä¼šè¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡<ul><li>å½“è¯»äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡ï¼Œä¹‹åå°±å¯ä»¥æ¥æ”¶æ•°æ®äº†</li><li>å¦‚æœæ¥æ”¶æ•°æ®çš„ buf å¾ˆå°ï¼Œä¸èƒ½å…¨éƒ¨å°†ç¼“å†²åŒºæ•°æ®è¯»å‡ºï¼Œé‚£ä¹ˆè¯»äº‹ä»¶ä¼šç»§ç»­è¢«è§¦å‘ï¼Œç›´åˆ°æ•°æ®è¢«å…¨éƒ¨è¯»å‡ºï¼Œå¦‚æœæ¥æ”¶æ•°æ®çš„å†…å­˜ç›¸å¯¹è¾ƒå¤§ï¼Œè¯»æ•°æ®çš„æ•ˆç‡ä¹Ÿä¼šç›¸å¯¹è¾ƒé«˜ï¼ˆå‡å°‘äº†è¯»æ•°æ®çš„æ¬¡æ•°ï¼‰</li><li>å› ä¸ºè¯»æ•°æ®æ˜¯è¢«åŠ¨çš„ï¼Œå¿…é¡»è¦é€šè¿‡è¯»äº‹ä»¶æ‰èƒ½çŸ¥é“æœ‰æ•°æ®åˆ°è¾¾äº†ï¼Œå› æ­¤å¯¹äºè¯»äº‹ä»¶çš„æ£€æµ‹æ˜¯å¿…é¡»çš„</li></ul></li><li>å†™äº‹ä»¶ï¼šå¦‚æœæ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„å†™ç¼“å†²åŒºå¯å†™ï¼Œå†™äº‹ä»¶å°±ä¼šè¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡<ul><li>å½“å†™äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡ï¼Œä¹‹åå°±å¯ä»¥å°†æ•°æ®å†™å…¥åˆ°å†™ç¼“å†²åŒºäº†</li><li>å†™äº‹ä»¶çš„è§¦å‘å‘ç”Ÿåœ¨å†™æ•°æ®ä¹‹å‰è€Œä¸æ˜¯ä¹‹åï¼Œè¢«å†™å…¥åˆ°å†™ç¼“å†²åŒºä¸­çš„æ•°æ®æ˜¯ç”±å†…æ ¸è‡ªåŠ¨å‘é€å‡ºå»çš„</li><li>å¦‚æœå†™ç¼“å†²åŒºæ²¡æœ‰è¢«å†™æ»¡ï¼Œå†™äº‹ä»¶ä¼šä¸€ç›´è¢«è§¦å‘</li><li>å› ä¸ºå†™æ•°æ®æ˜¯ä¸»åŠ¨çš„ï¼Œå¹¶ä¸”å†™ç¼“å†²åŒºä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯å¯å†™çš„ï¼ˆç¼“å†²åŒºä¸æ»¡ï¼‰ï¼Œå› æ­¤å¯¹äºå†™äº‹ä»¶çš„æ£€æµ‹ä¸æ˜¯å¿…é¡»çš„</li></ul></li></ul><h4 id="è¾¹ç¼˜è§¦å‘-ET"><a href="#è¾¹ç¼˜è§¦å‘-ET" class="headerlink" title="è¾¹ç¼˜è§¦å‘(ET)"></a>è¾¹ç¼˜è§¦å‘(ET)</h4><p>è¾¹æ²¿æ¨¡å¼å¯ä»¥ç®€ç§°ä¸º ET æ¨¡å¼ï¼ŒETï¼ˆedge-triggeredï¼‰æ˜¯é«˜é€Ÿå·¥ä½œæ–¹å¼ï¼Œåªæ”¯æŒno-block socketã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œå½“æ–‡ä»¶æè¿°ç¬¦ä»æœªå°±ç»ªå˜ä¸ºå°±ç»ªæ—¶ï¼Œå†…æ ¸ä¼šé€šè¿‡epollé€šçŸ¥ä½¿ç”¨è€…ã€‚ç„¶åå®ƒä¼šå‡è®¾ä½¿ç”¨è€…çŸ¥é“æ–‡ä»¶æè¿°ç¬¦å·²ç»å°±ç»ªï¼Œå¹¶ä¸”ä¸ä¼šå†ä¸ºé‚£ä¸ªæ–‡ä»¶æè¿°ç¬¦å‘é€æ›´å¤šçš„å°±ç»ªé€šçŸ¥ï¼ˆonly onceï¼‰ã€‚å¦‚æœæˆ‘ä»¬å¯¹è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦åš IO æ“ä½œï¼Œä»è€Œå¯¼è‡´å®ƒå†æ¬¡å˜æˆæœªå°±ç»ªï¼Œå½“è¿™ä¸ªæœªå°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦å†æ¬¡å˜æˆå°±ç»ªçŠ¶æ€ï¼Œå†…æ ¸ä¼šå†æ¬¡è¿›è¡Œé€šçŸ¥ï¼Œå¹¶ä¸”è¿˜æ˜¯åªé€šçŸ¥ä¸€æ¬¡ã€‚ETæ¨¡å¼åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘äº†epolläº‹ä»¶è¢«é‡å¤è§¦å‘çš„æ¬¡æ•°ï¼Œå› æ­¤æ•ˆç‡è¦æ¯”LTæ¨¡å¼é«˜ã€‚</p><ul><li>è¯»äº‹ä»¶ï¼šå½“è¯»ç¼“å†²åŒºæœ‰æ–°çš„æ•°æ®è¿›å…¥ï¼Œè¯»äº‹ä»¶è¢«è§¦å‘ä¸€æ¬¡ï¼Œæ²¡æœ‰æ–°æ•°æ®ä¸ä¼šè§¦å‘è¯¥äº‹ä»¶<ul><li>å¦‚æœæœ‰æ–°æ•°æ®è¿›å…¥åˆ°è¯»ç¼“å†²åŒºï¼Œè¯»äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡</li><li>è¯»äº‹ä»¶è¢«è§¦å‘ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ read ()&#x2F;recv () å‡½æ•°å°†ç¼“å†²åŒºæ•°æ®è¯»å‡º</li><li>å¦‚æœæ•°æ®æ²¡æœ‰è¢«å…¨éƒ¨è¯»èµ°ï¼Œå¹¶ä¸”æ²¡æœ‰æ–°æ•°æ®è¿›å…¥ï¼Œè¯»äº‹ä»¶ä¸ä¼šå†æ¬¡è§¦å‘ï¼Œåªé€šçŸ¥ä¸€æ¬¡</li><li>å¦‚æœæ•°æ®è¢«å…¨éƒ¨è¯»èµ°æˆ–è€…åªè¯»èµ°ä¸€éƒ¨åˆ†ï¼Œæ­¤æ—¶æœ‰æ–°æ•°æ®è¿›å…¥ï¼Œè¯»äº‹ä»¶è¢«è§¦å‘ï¼Œå¹¶ä¸”åªé€šçŸ¥ä¸€æ¬¡</li></ul></li><li>å†™äº‹ä»¶ï¼šå½“å†™ç¼“å†²åŒºçŠ¶æ€å¯å†™ï¼Œå†™äº‹ä»¶åªä¼šè§¦å‘ä¸€æ¬¡<ul><li>å¦‚æœå†™ç¼“å†²åŒºè¢«æ£€æµ‹åˆ°å¯å†™ï¼Œå†™äº‹ä»¶è¢«è§¦å‘ï¼Œepoll_wait () è§£é™¤é˜»å¡</li><li>å†™äº‹ä»¶è¢«è§¦å‘ï¼Œå°±å¯ä»¥é€šè¿‡è°ƒç”¨ write ()&#x2F;send () å‡½æ•°ï¼Œå°†æ•°æ®å†™å…¥åˆ°å†™ç¼“å†²åŒºä¸­</li><li>å†™ç¼“å†²åŒºä»ä¸æ»¡åˆ°è¢«å†™æ»¡ï¼ŒæœŸé—´å†™äº‹ä»¶åªä¼šè¢«è§¦å‘ä¸€æ¬¡</li><li>å†™ç¼“å†²åŒºä»æ»¡åˆ°ä¸æ»¡ï¼ŒçŠ¶æ€å˜ä¸ºå¯å†™ï¼Œå†™äº‹ä»¶åªä¼šè¢«è§¦å‘ä¸€æ¬¡</li></ul></li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼šepoll çš„è¾¹æ²¿æ¨¡å¼ä¸‹ epoll_wait () æ£€æµ‹åˆ°æ–‡ä»¶æè¿°ç¬¦æœ‰æ–°äº‹ä»¶æ‰ä¼šé€šçŸ¥ï¼Œå¦‚æœä¸æ˜¯æ–°çš„äº‹ä»¶å°±ä¸é€šçŸ¥ï¼Œé€šçŸ¥çš„æ¬¡æ•°æ¯”æ°´å¹³æ¨¡å¼å°‘ï¼Œæ•ˆç‡æ¯”æ°´å¹³æ¨¡å¼è¦é«˜ã€‚ <strong>ETæ¨¡å¼çš„è®¾ç½®ï¼š</strong> è¾¹æ²¿æ¨¡å¼ä¸æ˜¯é»˜è®¤çš„ epoll æ¨¡å¼ï¼Œéœ€è¦é¢å¤–è¿›è¡Œè®¾ç½®ã€‚epoll è®¾ç½®è¾¹æ²¿æ¨¡å¼æ˜¯éå¸¸ç®€å•çš„ï¼Œepoll ç®¡ç†çš„çº¢é»‘æ ‘ç¤ºä¾‹ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ struct epoll_event ç±»å‹ï¼Œåªéœ€è¦å°† EPOLLET æ·»åŠ åˆ°ç»“æ„ä½“çš„ events æˆå‘˜ä¸­å³å¯ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">ev</span>;</span></span><br><span class="line">ev.events = EPOLLIN  EPOLLET;</span><br></pre></td></tr></table></figure><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p><a href="https://zhuanlan.zhihu.com/p/159135478">https://zhuanlan.zhihu.com/p/159135478</a> <a href="https://blog.csdn.net/baidu_41388533/article/details/110134366">https://blog.csdn.net/baidu_41388533&#x2F;article&#x2F;details&#x2F;110134366</a> <a href="https://subingwen.cn/linux/epoll/##2-%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0">https://subingwen.cn/linux/epoll/##2-%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/01/27/epoll/">https://blog.jujimeizuo.cn/2023/01/27/epoll/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitbook å…¥é—¨</title>
      <link href="/2023/01/18/gitbook-introduction/"/>
      <url>/2023/01/18/gitbook-introduction/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç½®è¦æ±‚"><a href="#å‰ç½®è¦æ±‚" class="headerlink" title="å‰ç½®è¦æ±‚"></a>å‰ç½®è¦æ±‚</h2><h4 id="nodejs"><a href="#nodejs" class="headerlink" title="nodejs"></a>nodejs</h4><p>é«˜ç‰ˆæœ¬å¯èƒ½ä¸å…¼å®¹ï¼Œéœ€è¦ç‰ˆæœ¬åœ¨v10å·¦å³ã€‚ <a href="https://nodejs.org/download/release/v10.21.0/"></a><a href="https://nodejs.org/download/release/v10.21.0/">https://nodejs.org/download/release/v10.21.0/</a></p><h4 id="æ›´æ¢é•œåƒ"><a href="#æ›´æ¢é•œåƒ" class="headerlink" title="æ›´æ¢é•œåƒ"></a>æ›´æ¢é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall -g gitbook-cli</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œä¹‹åç”¨<code>gitbook -V</code>æŸ¥çœ‹ç‰ˆæœ¬ï¼Œè‡ªåŠ¨install gitbookã€‚</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gitbook -V      æŸ¥çœ‹ç‰ˆæœ¬å·</span><br><span class="line">gitbook init    åˆå§‹åŒ–</span><br><span class="line">gitbook serve   é¢„è§ˆ</span><br><span class="line">gitbook build   ç”Ÿæˆ</span><br><span class="line">gitbook build --gitbook=2.6.7 ç”Ÿæˆæ—¶æŒ‡å®šgitbookçš„ç‰ˆæœ¬, æœ¬åœ°æ²¡æœ‰ä¼šå…ˆä¸‹è½½</span><br><span class="line">gitbook uninstall 2.6.7   å¸è½½æŒ‡å®šç‰ˆæœ¬å·çš„gitbook</span><br><span class="line">gitbook fetch [version]      è·å–[ç‰ˆæœ¬]ä¸‹è½½å¹¶å®‰è£…&lt;ç‰ˆæœ¬&gt;</span><br><span class="line">gitbook --<span class="built_in">help</span>   æ˜¾ç¤ºå¸®åŠ©æ–‡æ¡£</span><br><span class="line">gitbook ls-remote  åˆ—å‡ºNPMä¸Šçš„å¯ç”¨ç‰ˆæœ¬ï¼š</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/01/18/gitbook-introduction/">https://blog.jujimeizuo.cn/2023/01/18/gitbook-introduction/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codestudio Weekend Contest 56 - Ninja And The Challenge</title>
      <link href="/2023/01/14/codestudio-weekend-contest-56-ninja-and-the-challenge/"/>
      <url>/2023/01/14/codestudio-weekend-contest-56-ninja-and-the-challenge/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>ç»™ä¸€ä¸ªåºåˆ—ï¼Œä¸€æ¬¡æ“ä½œå¯ä»¥ä½¿å¾—ä»»æ„å…ƒç´ +1&#x2F;-1ï¼Œé—®æœ€å°‘å¤šå°‘æ¬¡æ“ä½œå¯ä»¥ä½¿å¾—æ•´ä¸ªåºåˆ—é€’å¢æˆ–é€’å‡ï¼Ÿ</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>èƒ½å¦åªæ„é€ æˆé€’å¢æ¥è§£å†³ï¼Ÿ</p><blockquote><p>å½“ç„¶å¯ä»¥ï¼Œå¦‚æœæƒ³è¦æ„é€ æˆé€’å‡ï¼Œåªéœ€è¦æŠŠåºåˆ—é€†åºï¼Œç„¶åæ„é€ æˆé€’å¢ã€‚</p></blockquote><p>å‡è®¾æˆ‘ä»¬åªæœ‰ 2 ä¸ªæ•°å­— [10, 6]ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°† 6 å‘ä¸Šç§»åŠ¨ 4 æ­¥æˆ– 10 å‘ä¸‹ç§»åŠ¨ 4 æ­¥ï¼›æ— è®ºå“ªç§æ–¹å¼ï¼Œæˆæœ¬éƒ½æ˜¯ 4ã€‚åŒæ—¶ï¼Œä»¥åŒæ ·çš„æˆæœ¬ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ¶ä½œ [7, 7] æˆ– [8, 8] æˆ– [9, 9] æˆ– [10, 10]ã€‚</p><p>å‡è®¾æˆ‘ä»¬æ”¯ä»˜äº† 4 çš„æˆæœ¬å¹¶ä½¿å…¶æˆä¸º [10, 6] â†’ [6, 6]ï¼Œå¹¶ä¸”ç”±äºæˆ‘ä»¬å·²ç»æ”¯ä»˜äº†æˆæœ¬ï¼Œä»¥åå¦‚æœæˆ‘ä»¬æ”¹å˜ä¸»æ„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±åœ°å‘ä¸Šç§»åŠ¨ [6, 6]åˆ° [7, 7], [8, 8], â€¦, æ— éœ€é¢å¤–è´¹ç”¨ï¼Œå› ä¸º [7, 7], [8, 8],[9, 9]â€¦ éƒ½éœ€è¦æˆ‘ä»¬å·²ç»æ”¯ä»˜çš„ 4 ä¸ªæ­¥éª¤. æ•°å­— [6, 6] ç°åœ¨å‘ä¸Šè‡ªç”±ã€‚</p><p>ä¸€ä¸ªå‘ä¸Šçš„è‡ªç”±æ•°å­—å¯ä»¥è‡ªç”±ä¸Šå‡ç›´åˆ°å®ƒä¹‹å‰çš„æœ€å¤§æ•°å­—ï¼Œå¹¶ä½œä¸ºå®ƒçš„æœ€ä½å€¼å­˜å‚¨ã€‚å¯¹äºæ¯ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æ‰¾åˆ°å®ƒçš„å‘ä¸Šç©ºé—²æ•°å¹¶åˆ¶ä½œå‘ä¸Šç©ºé—²æ•°ç»„ã€‚ä¿è¯æˆ‘ä»¬æ€»æ˜¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ›´æ–°çš„ç©ºé—²æ•°ç»„æ¥å¢åŠ æ•°ç»„ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœå‘ä¸Šè‡ªç”±æ•°ç»„æ˜¯ [1, 7, 6, 3]ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªé›¶æˆæœ¬çš„é€’å¢æ•°ç»„ [1, 7, 7, 7]ï¼Œå› ä¸ºæœ€å 6, 3 æ˜¯å‘ä¸Šè‡ªç”±çš„ã€‚</p><p>å¦‚æœä¸‹ä¸€ä¸ªæ•°æ˜¯5ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»¥2ä¸ºä»£ä»·å‡å°‘7â†’5ï¼Œæ–°çš„å‘ä¸Šè‡ªç”±æ•°ç»„å˜ä¸º[1,7,6,3]â†’[1,5,6,3,5]ï¼Œè€Œè¿™ä¸ªæ•°ç»„å¯ä»¥æˆä¸ºé›¶æˆæœ¬çš„é€’å¢åºåˆ— [1, 5, 6, 6, 6]ã€‚</p><p>æ€»ä¹‹ï¼Œå¦‚æœæ–°æ•°å­—å¤§äºè¿„ä»Šä¸ºæ­¢æœ€å¤§çš„å‘ä¸Šè‡ªç”±æ•°å­—ï¼Œåˆ™è¿½åŠ å®ƒï¼Œå› ä¸ºåºåˆ—å·²ç»åœ¨å¢åŠ ã€‚ä½†å¦‚æœä¸æ˜¯ï¼Œåˆ™ä»¥å·®å€¼ä¸ºä»£ä»·ï¼Œå°†æœ€å¤§çš„å‘ä¸Šè‡ªç”±æ•°å‡å°‘åˆ°ä¸æ–°æ•°ç›¸åŒï¼›è¿™ä¸¤ä¸ªæ•°å­—ç°åœ¨éƒ½å‘ä¸Šå…è´¹äº†ã€‚ç¬¬äºŒå¤§æ•°å­—ç°åœ¨æˆä¸ºæ–°çš„é«˜åº¦ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨æœ€å¤§å †æ¥å­˜å‚¨è¿™äº›å‘ä¸Šçš„ç©ºé—²æ•°ï¼Œä»¥åœ¨ O(log(n)) æ—¶é—´å†…æ‰¾åˆ°æœ€å¤§çš„ä¸€ä¸ªã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">solve</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    std::priority_queue&lt;<span class="type">int</span>&gt; pq;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="type">int</span>&amp; x : nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!pq.<span class="built_in">empty</span>() &amp;&amp; pq.<span class="built_in">top</span>() &gt; x) &#123;</span><br><span class="line">            ans += pq.<span class="built_in">top</span>() - x;</span><br><span class="line">            pq.<span class="built_in">pop</span>();</span><br><span class="line">            pq.<span class="built_in">push</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        pq.<span class="built_in">push</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">minimumMovesToSort</span><span class="params">(<span class="type">int</span> n, vector&lt;<span class="type">int</span>&gt; &amp;a)</span> </span>&#123;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">b</span><span class="params">(a.rbegin(), a.rend())</span></span>;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">min</span>(<span class="built_in">solve</span>(a), <span class="built_in">solve</span>(b));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int main() &#123;</span></span><br><span class="line"><span class="comment">    std::ios::sync_with_stdio(false);</span></span><br><span class="line"><span class="comment">    std::cin.tie(nullptr);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/01/14/codestudio-weekend-contest-56-ninja-and-the-challenge/">https://blog.jujimeizuo.cn/2023/01/14/codestudio-weekend-contest-56-ninja-and-the-challenge/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++æ¨¡ç‰ˆ - åç‰¹åŒ–ä¸å…¨ç‰¹åŒ–</title>
      <link href="/2023/01/11/c-template-specialization/"/>
      <url>/2023/01/11/c-template-specialization/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¨¡ç‰ˆ"><a href="#æ¨¡ç‰ˆ" class="headerlink" title="æ¨¡ç‰ˆ"></a>æ¨¡ç‰ˆ</h2><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>æ¨¡æ¿å°±æ˜¯å®ç°ä»£ç é‡ç”¨æœºåˆ¶çš„ä¸€ç§å·¥å…·ï¼Œå®ƒå¯ä»¥å®ç°ç±»å‹å‚æ•°åŒ–ï¼Œå³æŠŠç±»å‹å®šä¹‰ä¸ºå‚æ•°ï¼Œä»è€Œå®ç°äº†çœŸæ­£çš„ä»£ç å¯é‡ç”¨æ€§ã€‚ æ¨¡ç‰ˆå¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°æ¨¡ç‰ˆï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ç±»æ¨¡ç‰ˆã€‚</p><blockquote><p>C++çš„æ¨¡æ¿æœºåˆ¶è¢«è¯æ˜æ˜¯å›¾çµå®Œå¤‡çš„ï¼Œå³å¯ä»¥é€šè¿‡<a href="https://harttle.land/2015/09/16/effective-cpp-48.html" title="æ¨¡æ¿å…ƒç¼–ç¨‹ï¼ˆtemplate meta programmingï¼‰">æ¨¡æ¿å…ƒç¼–ç¨‹ï¼ˆtemplate meta programmingï¼‰</a>çš„æ–¹å¼åœ¨ç¼–è¯‘æœŸåšä»»ä½•è®¡ç®—ã€‚</p></blockquote><h4 id="å®ä¾‹åŒ–"><a href="#å®ä¾‹åŒ–" class="headerlink" title="å®ä¾‹åŒ–"></a>å®ä¾‹åŒ–</h4><p>æ¨¡æ¿å®šä¹‰æœ¬èº«ä¸å‚ä¸ç¼–è¯‘ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨æ ¹æ®æ¨¡æ¿çš„ç”¨æˆ·ä½¿ç”¨æ¨¡æ¿æ—¶æä¾›çš„ç±»å‹å‚æ•°ç”Ÿæˆä»£ç ï¼Œå†è¿›è¡Œç¼–è¯‘ã€‚ ç”¨æˆ·æä¾›ä¸åŒçš„ç±»å‹å‚æ•°ï¼Œå°±ä¼šå®ä¾‹åŒ–å‡ºä¸åŒçš„ä»£ç ã€‚</p><h2 id="ç±»æ¨¡ç‰ˆ"><a href="#ç±»æ¨¡ç‰ˆ" class="headerlink" title="ç±»æ¨¡ç‰ˆ"></a>ç±»æ¨¡ç‰ˆ</h2><p>ç±»æ¨¡æ¿æè¿°äº†ä¸€ç»„ç›¸å…³çš„ç±»æˆ–æ•°æ®ç±»å‹ï¼Œå®ƒä»¬åªèƒ½é€šè¿‡ç±»å‹æ¥åŒºåˆ†ï¼šæ•´æ•°å€¼ã€æŒ‡å‘ï¼ˆæˆ–å¼•ç”¨ï¼‰å…·æœ‰å…¨å±€é“¾æ¥çš„å˜é‡çš„æŒ‡é’ˆã€å…¶ä»–çš„ç»„åˆã€‚ ç±»æ¨¡æ¿å°¤å…¶é€‚ç”¨äºæè¿°é€šç”¨ä½†ç±»å‹å®‰å…¨çš„æ•°æ®ç»“æ„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;ç±»å‹å½¢å¼å‚æ•°&gt;</span><br><span class="line"><span class="keyword">class</span> ç±»å</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//ç±»å£°æ˜ä½“;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;ç±»å‹å½¢å¼å‚æ•°&gt;</span><br><span class="line">è¿”å›ç±»å‹ ç±»å &lt;ç±»å‹&gt; :: æˆå‘˜å‡½æ•°å(å½¢å¼å‚æ•°)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//æˆå‘˜å‡½æ•°å®šä¹‰ä½“;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¨ç‰¹åŒ–"><a href="#å…¨ç‰¹åŒ–" class="headerlink" title="å…¨ç‰¹åŒ–"></a>å…¨ç‰¹åŒ–</h4><p>æ‰€è°“æ¨¡æ¿å…¨ç‰¹åŒ–é™å®šæ­»æ¨¡æ¿å®ç°çš„å…·ä½“ç±»å‹ï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&lt;<span class="type">int</span>, <span class="type">double</span>&gt;&#123;</span><br><span class="line">    <span class="type">int</span> data1;</span><br><span class="line">    <span class="type">double</span> data2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="åç‰¹åŒ–"><a href="#åç‰¹åŒ–" class="headerlink" title="åç‰¹åŒ–"></a>åç‰¹åŒ–</h4><p>åç‰¹åŒ–æ˜¯æŒ‡æä¾›å¦ä¸€ä»½templateå®šä¹‰å¼ï¼Œè€Œå…¶æœ¬èº«ä»ä¸ºtemplatizedï¼Œè¿™æ˜¯é’ˆå¯¹äºtemplateå‚æ•°æ›´è¿›ä¸€æ­¥çš„æ¡ä»¶é™åˆ¶æ‰€è®¾è®¡å‡ºæ¥çš„ä¸€ä¸ªç‰¹åŒ–ç‰ˆæœ¬ã€‚ ä¹Ÿå°±æ˜¯å¦‚æœè¿™ä¸ªæ¨¡æ¿æœ‰å¤šä¸ªç±»å‹ï¼Œé‚£ä¹ˆåªé™å®šå…¶ä¸­çš„ä¸€éƒ¨åˆ†;</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&lt;<span class="type">int</span>, T2&gt;&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°æ¨¡ç‰ˆ"><a href="#å‡½æ•°æ¨¡ç‰ˆ" class="headerlink" title="å‡½æ•°æ¨¡ç‰ˆ"></a>å‡½æ•°æ¨¡ç‰ˆ</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;ç±»å‹å½¢å¼å‚æ•°&gt;      <span class="comment">//ç±»å‹å½¢å¼å‚æ•°å³æ­¤æ ¼å¼ï¼š&lt;typename  å½¢å¼å‚æ•°&gt;  æˆ– &lt;class å½¢å¼å‚æ•°&gt;</span></span><br><span class="line">è¿”å›ç±»å‹  å‡½æ•°å ï¼ˆå½¢å¼å‚æ•°ï¼‰</span><br><span class="line">&#123;</span><br><span class="line"> <span class="comment">//å‡½æ•°å®šä¹‰ä½“;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¨ç‰¹åŒ–-1"><a href="#å…¨ç‰¹åŒ–-1" class="headerlink" title="å…¨ç‰¹åŒ–"></a>å…¨ç‰¹åŒ–</h4><p>å‡½æ•°æ¨¡æ¿å…¨ç‰¹åŒ–å’Œç±»æ¨¡æ¿å…¨ç‰¹åŒ–æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œæ˜¯å¯¹æ¨¡æ¿å‚æ•°çš„ç‰¹æ®ŠåŒ–å¤„ç†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;&gt;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">max</span><span class="params">(<span class="type">const</span> <span class="type">int</span> lhs, <span class="type">const</span> <span class="type">int</span> rhs)</span></span>&#123;   </span><br><span class="line">    <span class="keyword">return</span> lhs &gt; rhs ? lhs : rhs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç‰¹åŒ–çš„æ­§ä¹‰"><a href="#ç‰¹åŒ–çš„æ­§ä¹‰" class="headerlink" title="ç‰¹åŒ–çš„æ­§ä¹‰"></a>ç‰¹åŒ–çš„æ­§ä¹‰</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>&#123; T d; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>&#123; <span class="type">int</span> d; &#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ç¼–è¯‘å™¨ä¸çŸ¥é“f()æ˜¯ä»f\()ç‰¹åŒ–æ¥çš„ï¼Œç¼–è¯‘æ—¶ä¼šæœ‰é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: no <span class="keyword">function</span> template matches <span class="keyword">function</span> template specialization <span class="string">&#x27;f&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶æˆ‘ä»¬ä¾¿éœ€è¦æ˜¾å¼æŒ‡å®šâ€æ¨¡æ¿å®å‚â€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">template &lt;class T&gt;</span><br><span class="line">void <span class="function"><span class="title">f</span></span>()&#123; T d; &#125;</span><br><span class="line"></span><br><span class="line">template &lt;&gt;</span><br><span class="line">void f&lt;int&gt;()&#123; int d; &#125;</span><br></pre></td></tr></table></figure><h4 id="åç‰¹åŒ–-1"><a href="#åç‰¹åŒ–-1" class="headerlink" title="åç‰¹åŒ–"></a>åç‰¹åŒ–</h4><p>å‡½æ•°æ¨¡ç‰ˆæ²¡æœ‰åç‰¹åŒ–ã€‚</p><p>ä¾‹å¦‚ä¸‹é¢ä»£ç ä¼šç¼–è¯‘å‡ºé”™ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="type">void</span> <span class="built_in">f</span>&lt;<span class="type">int</span>, T2&gt;()&#123;&#125;</span><br></pre></td></tr></table></figure><p><strong>ä½†å‡½æ•°å…è®¸é‡è½½ï¼Œå£°æ˜å¦ä¸€ä¸ªå‡½æ•°æ¨¡æ¿å³å¯æ›¿ä»£åç‰¹åŒ–çš„éœ€è¦ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;              <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰&quot;æ¨¡æ¿å®å‚&quot;</span></span><br></pre></td></tr></table></figure><p>å¤šæ•°æƒ…å†µä¸‹å‡½æ•°æ¨¡æ¿é‡è½½å°±å¯ä»¥å®Œæˆå‡½æ•°åç‰¹åŒ–çš„éœ€è¦ï¼Œä¸€ä¸ªä¾‹å¤–ä¾¿æ˜¯stdå‘½åç©ºé—´ã€‚ stdæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‘½åç©ºé—´ï¼Œç”¨æˆ·å¯ä»¥ç‰¹åŒ–å…¶ä¸­çš„æ¨¡æ¿ï¼Œä½†ä¸å…è®¸æ·»åŠ æ¨¡æ¿ï¼ˆå…¶å®ä»»ä½•å†…å®¹éƒ½æ˜¯ç¦æ­¢æ·»åŠ çš„ï¼‰ã€‚ å› æ­¤åœ¨stdä¸­æ·»åŠ é‡è½½å‡½æ•°æ˜¯ä¸å…è®¸çš„ï¼Œåœ¨<a href="https://harttle.land/2015/08/23/effective-cpp-25.html" title="Effective C++: Item 25">Effective C++: Item 25</a>ä¸­ç»™å‡ºäº†ä¸€ä¸ªæ›´è¯¦ç»†çš„æ¡ˆä¾‹ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li>å‡½æ•°æ¨¡æ¿åªæœ‰å…¨ç‰¹åŒ–ï¼Œæ²¡æœ‰åç‰¹åŒ–ï¼›</li><li>æ¨¡æ¿ã€æ¨¡æ¿çš„ç‰¹åŒ–å’Œæ¨¡æ¿çš„åç‰¹åŒ–éƒ½å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡ŒåŒ¹é…ï¼Œä¼˜å…ˆç‰¹æ®Šçš„ï¼›</li><li>æ¨¡æ¿å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ï¼›å› ä¸ºæ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»å…·æœ‰ä¸€ä¸ªvirtual table,åŒ…å«è¯¥ç±»çš„æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ï¼Œå› æ­¤vtableçš„å¤§å°æ˜¯ç¡®å®šçš„ã€‚æ¨¡æ¿åªæœ‰è¢«ä½¿ç”¨æ—¶æ‰ä¼šè¢«å®ä¾‹åŒ–ï¼Œå°†å…¶å£°æ˜ä¸ºè™šå‡½æ•°ä¼šä½¿vtableçš„å¤§å°ä¸ç¡®å®šã€‚æ‰€ä»¥ï¼Œæˆå‘˜å‡½æ•°æ¨¡æ¿ä¸èƒ½ä¸ºè™šå‡½æ•°ã€‚</li></ol><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/01/11/c-template-specialization/">https://blog.jujimeizuo.cn/2023/01/11/c-template-specialization/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeChef Starters 72 div2 - No sequence</title>
      <link href="/2023/01/05/codechef-starters-72-div2-no-sequence/"/>
      <url>/2023/01/05/codechef-starters-72-div2-no-sequence/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ä¸‰ä¸ªæ•°å­—Nï¼ŒKï¼ŒSï¼Œæ„é€ ä¸€ä¸ªé•¿åº¦ä¸ºNçš„åºåˆ—Bï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</p><ul><li>$B_i \in {-1,0,1}$</li><li>$\sum_{i&#x3D;1}^N B_i * K^{i-1}&#x3D;S$</li></ul><p>è¾“å‡ºä»»æ„ä¸€ç§åºåˆ—ï¼Œå¦‚æœæ²¡æœ‰è¾“å‡º-2ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é€šè¿‡è§‚å¯Ÿ$\sum_{i&#x3D;1}^N B_i * K^{i-1}&#x3D;S $</p><p>å¯ä»¥å¾—åˆ°$ S &#x3D; B1 + \sum_{i&#x3D;2}^N B_i * K^{i-1} $ï¼Œå³</p><p>$$ S\equiv B_1 \quad (mod \ K) $$</p><p>æ‰€ä»¥é€šè¿‡Så¯ä»¥ç¡®å®šB1çš„å€¼ï¼Œç„¶åé€šè¿‡ä¸€äº›ç®€å•çš„ä»£æ•°å¯ä»¥å¾—åˆ°</p><p>$$ \frac{S-B1}{K} &#x3D; B2+\sum_{i&#x3D;3}^N B_i * K^{i-2} $$</p><p>å³</p><p>$$\frac{S-B_1}{K} \equiv B_2 \quad (mod \ K) $$</p><p>æ‰€ä»¥å¯ä»¥ç¡®å®šB2çš„å€¼ï¼Œä»¥æ­¤ç±»æ¨å¯ä»¥å¾—åˆ°æ‰€æœ‰Bçš„å€¼ï¼Œå¦‚æœä¸­é€”å‡ºç°è¶Šç•Œæƒ…å†µï¼Œç›´æ¥è¿”-2å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2023-01-04 22:39:48</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, K;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> S;</span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; K &gt;&gt; S;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">B</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="type">bool</span> ok = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (S % K == <span class="number">0</span>) &#123;</span><br><span class="line">            S /= K;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((S - <span class="number">1</span>) % K == <span class="number">0</span>) &#123;</span><br><span class="line">            S = (S - <span class="number">1</span>) / K;</span><br><span class="line">            B[i] = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((S + <span class="number">1</span>) % K == <span class="number">0</span>) &#123;</span><br><span class="line">            S = (S + <span class="number">1</span>) / K;</span><br><span class="line">            B[i] = <span class="number">-1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ok = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!ok  S != <span class="number">0</span>) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="number">-2</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            std::cout &lt;&lt; B[i] &lt;&lt; <span class="string">&quot; \n&quot;</span>[i == n - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> _;</span><br><span class="line">    std::cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span> (_--) &#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2023/01/05/codechef-starters-72-div2-no-sequence/">https://blog.jujimeizuo.cn/2023/01/05/codechef-starters-72-div2-no-sequence/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux GDBè°ƒè¯•</title>
      <link href="/2022/12/31/linux-gdb-debug/"/>
      <url>/2022/12/31/linux-gdb-debug/</url>
      
        <content type="html"><![CDATA[<h2 id="1-ä»€ä¹ˆæ˜¯GDB"><a href="#1-ä»€ä¹ˆæ˜¯GDB" class="headerlink" title="1. ä»€ä¹ˆæ˜¯GDB"></a>1. ä»€ä¹ˆæ˜¯GDB</h2><ul><li>GDB æ˜¯ç”± GNU è½¯ä»¶ç³»ç»Ÿç¤¾åŒºæä¾›çš„è°ƒè¯•å·¥å…·ï¼ŒåŒ GCC é…å¥—ç»„æˆäº†ä¸€å¥—å®Œæ•´çš„å¼€å‘ç¯å¢ƒï¼ŒGDB æ˜¯ Linux å’Œè®¸å¤šç±» Unix ç³»ç»Ÿä¸­çš„æ ‡å‡†å¼€å‘ç¯å¢ƒã€‚</li><li>ä¸€èˆ¬æ¥è¯´ï¼ŒGDB ä¸»è¦å¸®åŠ©ä½ å®Œæˆä¸‹é¢å››ä¸ªæ–¹é¢çš„åŠŸèƒ½ï¼š<ol><li>å¯åŠ¨ç¨‹åºï¼Œå¯ä»¥æŒ‰ç…§è‡ªå®šä¹‰çš„è¦æ±‚éšå¿ƒæ‰€æ¬²çš„è¿è¡Œç¨‹åº</li><li>å¯è®©è¢«è°ƒè¯•çš„ç¨‹åºåœ¨æ‰€æŒ‡å®šçš„è°ƒç½®çš„æ–­ç‚¹å¤„åœä½ï¼ˆæ–­ç‚¹å¯ä»¥æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼‰</li><li>å½“ç¨‹åºè¢«åœä½æ—¶ï¼Œå¯ä»¥æ£€æŸ¥æ­¤æ—¶ç¨‹åºä¸­æ‰€å‘ç”Ÿçš„äº‹</li><li>å¯ä»¥æ”¹å˜ç¨‹åºï¼Œå°†ä¸€ä¸ª BUG äº§ç”Ÿçš„å½±å“ä¿®æ­£ä»è€Œæµ‹è¯•å…¶ä»– BUG</li></ol></li></ul><h2 id="2-å‡†å¤‡å·¥ä½œ"><a href="#2-å‡†å¤‡å·¥ä½œ" class="headerlink" title="2. å‡†å¤‡å·¥ä½œ"></a>2. å‡†å¤‡å·¥ä½œ</h2><p>é€šå¸¸ï¼Œåœ¨ä¸ºè°ƒè¯•è€Œç¼–è¯‘æ—¶ï¼Œæˆ‘ä»¬ä¼šå…³æ‰ç¼–è¯‘å™¨çš„ä¼˜åŒ–é€‰é¡¹ï¼ˆ<code>-O</code>ï¼‰ï¼Œ å¹¶æ‰“å¼€è°ƒè¯•é€‰é¡¹ï¼ˆ<code>-g</code>ï¼‰ã€‚å¦å¤–ï¼Œ<code>-Wall</code>åœ¨å°½é‡ä¸å½±å“ç¨‹åºè¡Œä¸ºçš„æƒ…å†µä¸‹é€‰é¡¹æ‰“å¼€æ‰€æœ‰warningï¼Œä¹Ÿå¯ä»¥å‘ç°è®¸å¤šé—®é¢˜ï¼Œé¿å…ä¸€äº›ä¸å¿…è¦çš„ BUGã€‚ ä¾‹å¦‚ï¼š <code>gcc -g -Wall program.c -o program</code> <code>-g</code> é€‰é¡¹çš„ä½œç”¨æ˜¯åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­åŠ å…¥æºä»£ç çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å¯æ‰§è¡Œæ–‡ä»¶ä¸­ç¬¬å‡ æ¡æœº å™¨æŒ‡ä»¤å¯¹åº”æºä»£ç çš„ç¬¬å‡ è¡Œï¼Œä½†å¹¶ä¸æ˜¯æŠŠæ•´ä¸ªæºæ–‡ä»¶åµŒå…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥åœ¨è°ƒ è¯•æ—¶å¿…é¡»ä¿è¯ gdb èƒ½æ‰¾åˆ°æºæ–‡ä»¶ã€‚ è°ƒè¯•ä¸‹åˆ—ç¨‹åºå‰è¦åšå‡†å¤‡å·¥ä½œï¼Œåœ¨shellä¸­è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -g -Wall test.c -o <span class="built_in">test</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#test.c</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">test</span><span class="params">(<span class="type">int</span> a)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;argc = %d\n&quot;</span>, argc);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(argc &lt; <span class="number">3</span>) &#123;</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        b = <span class="number">30</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        a = <span class="built_in">atoi</span>(argv[<span class="number">1</span>]);</span><br><span class="line">        b = <span class="built_in">atoi</span>(argv[<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d, b = %d\n&quot;</span>, a, b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a + b = %d\n&quot;</span>, a + b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; a; ++i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;i = %d\n&quot;</span>, i);</span><br><span class="line">        <span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line">        <span class="type">int</span> res = <span class="built_in">test</span>(i);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;res value: %d\n&quot;</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;THE END !!!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h2 id="3-GDB-å‘½ä»¤-ï¼š-å¯åŠ¨ã€é€€å‡ºã€æŸ¥çœ‹ä»£ç "><a href="#3-GDB-å‘½ä»¤-ï¼š-å¯åŠ¨ã€é€€å‡ºã€æŸ¥çœ‹ä»£ç " class="headerlink" title="3. GDB å‘½ä»¤ ï¼š å¯åŠ¨ã€é€€å‡ºã€æŸ¥çœ‹ä»£ç "></a>3. GDB å‘½ä»¤ ï¼š å¯åŠ¨ã€é€€å‡ºã€æŸ¥çœ‹ä»£ç </h2><h4 id="å¯åŠ¨å’Œé€€å‡º"><a href="#å¯åŠ¨å’Œé€€å‡º" class="headerlink" title="å¯åŠ¨å’Œé€€å‡º"></a>å¯åŠ¨å’Œé€€å‡º</h4><ul><li><code>gdb</code> å¯æ‰§è¡Œç¨‹åº</li><li><code>quit</code>æˆ–<code>q</code>é€€å‡º æ³¨æ„ï¼šåœ¨è¿›è¡Œå‡†å¤‡å·¥ä½œä¹‹åæ‰å¯ä»¥æœŸå¾…è°ƒè¯•ã€‚</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462308255.png" alt="file"></p><p>åœ¨è°ƒè¯•å‘½ä»¤è¡Œè¾“å…¥quitå°±å¯é€€å‡ºè°ƒè¯•ã€‚</p><h4 id="ç»™ç¨‹åºè®¾ç½®å‚æ•°-è·å–è®¾ç½®å‚æ•°"><a href="#ç»™ç¨‹åºè®¾ç½®å‚æ•°-è·å–è®¾ç½®å‚æ•°" class="headerlink" title="ç»™ç¨‹åºè®¾ç½®å‚æ•° &#x2F; è·å–è®¾ç½®å‚æ•°"></a>ç»™ç¨‹åºè®¾ç½®å‚æ•° &#x2F; è·å–è®¾ç½®å‚æ•°</h4><ul><li><code>set args 10 20</code></li><li><code>show args</code> æ³¨æ„ï¼šæœ‰ä¸€äº›ç¨‹åºéœ€è¦è®¾ç½®å‚æ•°ï¼Œä¾‹å¦‚ä¸Šè¿°çš„test.cç¨‹åºï¼Œmainå‡½æ•°éœ€è¦æŒ‡å®šå‚æ•°ã€‚</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462408961.png" alt="file"></p><h4 id="GDB-ä½¿ç”¨å¸®åŠ©"><a href="#GDB-ä½¿ç”¨å¸®åŠ©" class="headerlink" title="GDB ä½¿ç”¨å¸®åŠ©"></a>GDB ä½¿ç”¨å¸®åŠ©</h4><ul><li><code>help</code> <code>help</code> å…·ä½“å‘½ä»¤ ç”¨æ¥æŸ¥çœ‹è°ƒè¯•å¸®åŠ©æˆ–å…·ä½“æŒ‡ä»¤çš„ç›¸å…³ä¿¡æ¯</li></ul><h4 id="æŸ¥çœ‹å½“å‰æ–‡ä»¶ä»£ç "><a href="#æŸ¥çœ‹å½“å‰æ–‡ä»¶ä»£ç " class="headerlink" title="æŸ¥çœ‹å½“å‰æ–‡ä»¶ä»£ç "></a>æŸ¥çœ‹å½“å‰æ–‡ä»¶ä»£ç </h4><ul><li><code>list/l</code> ï¼ˆä»é»˜è®¤ä½ç½®æ˜¾ç¤ºï¼‰</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462449889.png" alt="file"></p><ul><li><code>list/l è¡Œå·</code> ï¼ˆä»æŒ‡å®šçš„è¡Œæ˜¾ç¤ºï¼‰æ³¨æ„æ˜¯æŠŠè¡Œå·å†…å®¹æ”¾åœ¨ä¸­é—´æ˜¾ç¤ºã€‚</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462538567.png" alt="file"></p><h4 id="æŸ¥çœ‹éå½“å‰æ–‡ä»¶ä»£ç "><a href="#æŸ¥çœ‹éå½“å‰æ–‡ä»¶ä»£ç " class="headerlink" title="æŸ¥çœ‹éå½“å‰æ–‡ä»¶ä»£ç "></a>æŸ¥çœ‹éå½“å‰æ–‡ä»¶ä»£ç </h4><ul><li><code>list/l æ–‡ä»¶å : è¡Œå·</code></li><li><code>list/l æ–‡ä»¶å : å‡½æ•°å</code> ä¸€ä¸ªç¨‹åºæœ‰å¥½å‡ ä¸ªæ–‡ä»¶ç»„æˆï¼Œå½“æˆ‘ä»¬è°ƒè¯•ä¸»å‡½æ•°æ‰€åœ¨ç¨‹åºæ—¶ï¼Œå…¶ä»–æ–‡ä»¶çš„ä»£ç ä¹Ÿéœ€è¦æŸ¥çœ‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸Šè¿°å‘½ä»¤ã€‚ä¸€ä¸ªé¡¹ç›®ä¸­å«bubbleï¼Œselect.cppï¼Œmain.cpp</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462611599.png" alt="file"> <img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462633560.png" alt="file"></p><h4 id="è®¾ç½®æ˜¾ç¤ºçš„è¡Œæ•°"><a href="#è®¾ç½®æ˜¾ç¤ºçš„è¡Œæ•°" class="headerlink" title="è®¾ç½®æ˜¾ç¤ºçš„è¡Œæ•°"></a>è®¾ç½®æ˜¾ç¤ºçš„è¡Œæ•°</h4><ul><li><code>show list/listsize</code></li><li><code>set list/listsize è¡Œæ•°</code></li></ul><h2 id="4-GDBå‘½ä»¤ï¼šæ–­ç‚¹æ“ä½œ"><a href="#4-GDBå‘½ä»¤ï¼šæ–­ç‚¹æ“ä½œ" class="headerlink" title="4. GDBå‘½ä»¤ï¼šæ–­ç‚¹æ“ä½œ"></a>4. GDBå‘½ä»¤ï¼šæ–­ç‚¹æ“ä½œ</h2><h4 id="è®¾ç½®æ–­ç‚¹"><a href="#è®¾ç½®æ–­ç‚¹" class="headerlink" title="è®¾ç½®æ–­ç‚¹"></a>è®¾ç½®æ–­ç‚¹</h4><ul><li><code>b/break è¡Œå·</code></li><li><code>b/break å‡½æ•°å</code></li><li><code>b/break æ–‡ä»¶å : è¡Œå·</code></li><li><code>b/break æ–‡ä»¶å : å‡½æ•°</code></li></ul><p>å¦‚ä¸‹å›¾ åœ¨ç¬¬6è¡Œè®¾ç½®æ–­ç‚¹ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462743491.png" alt="file"></p><p>å…¶å®ƒæ–­ç‚¹è®¾ç½®æ–¹æ³•ç±»ä¼¼list&#x2F;læ“ä½œã€‚</p><h4 id="æŸ¥çœ‹æ–­ç‚¹"><a href="#æŸ¥çœ‹æ–­ç‚¹" class="headerlink" title="æŸ¥çœ‹æ–­ç‚¹"></a>æŸ¥çœ‹æ–­ç‚¹</h4><ul><li><code>i/info b/break</code> æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯ï¼š</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462775358.png" alt="file"></p><p>å…¶ä¸­numä»£è¡¨æ–­ç‚¹ç¼–å·ï¼ŒTypeä¸‹çš„breakpointè¯´æ˜è¯¥ç‚¹ä¸ºæ–­ç‚¹ï¼ŒDispä¸ºæ–­ç‚¹çŠ¶æ€ï¼ŒEnbæ˜¯yesä»£è¡¨ä¸ºæœ‰æ•ˆæ–­ç‚¹ï¼Œadressä¸ºæ–­ç‚¹åœ°å€ï¼ŒWhatè¯´æ˜æ–­ç‚¹çš„åœ¨é‚£ä¸ªæ–‡ä»¶çš„ç¬¬å‡ è¡Œã€‚</p><h4 id="åˆ é™¤æ–­ç‚¹"><a href="#åˆ é™¤æ–­ç‚¹" class="headerlink" title="åˆ é™¤æ–­ç‚¹"></a>åˆ é™¤æ–­ç‚¹</h4><ul><li><code>d/del/delete æ–­ç‚¹ç¼–å·</code> å¦‚ä¸‹å›¾æ‰€ç¤ºåˆ é™¤æ–­ç‚¹ç¼–å·ä¸º1çš„æ–­ç‚¹ã€‚ <img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462817833.png" alt="file"></li></ul><h4 id="è®¾ç½®æ–­ç‚¹æ— æ•ˆ"><a href="#è®¾ç½®æ–­ç‚¹æ— æ•ˆ" class="headerlink" title="è®¾ç½®æ–­ç‚¹æ— æ•ˆ"></a>è®¾ç½®æ–­ç‚¹æ— æ•ˆ</h4><ul><li><code>dis/disable æ–­ç‚¹ç¼–å·</code></li></ul><h4 id="è®¾ç½®æ–­ç‚¹ç”Ÿæ•ˆ"><a href="#è®¾ç½®æ–­ç‚¹ç”Ÿæ•ˆ" class="headerlink" title="è®¾ç½®æ–­ç‚¹ç”Ÿæ•ˆ"></a>è®¾ç½®æ–­ç‚¹ç”Ÿæ•ˆ</h4><ul><li><code>ena/enable æ–­ç‚¹ç¼–å·</code></li></ul><h4 id="è®¾ç½®æ¡ä»¶æ–­ç‚¹ï¼ˆä¸€èˆ¬ç”¨åœ¨å¾ªç¯çš„ä½ç½®ï¼‰"><a href="#è®¾ç½®æ¡ä»¶æ–­ç‚¹ï¼ˆä¸€èˆ¬ç”¨åœ¨å¾ªç¯çš„ä½ç½®ï¼‰" class="headerlink" title="è®¾ç½®æ¡ä»¶æ–­ç‚¹ï¼ˆä¸€èˆ¬ç”¨åœ¨å¾ªç¯çš„ä½ç½®ï¼‰"></a>è®¾ç½®æ¡ä»¶æ–­ç‚¹ï¼ˆä¸€èˆ¬ç”¨åœ¨å¾ªç¯çš„ä½ç½®ï¼‰</h4><ul><li><code>b/break 13 if i==3</code></li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672462898795.png" alt="file"></p><h2 id="5-GDB-å‘½ä»¤-ï¼š-è°ƒè¯•å‘½ä»¤"><a href="#5-GDB-å‘½ä»¤-ï¼š-è°ƒè¯•å‘½ä»¤" class="headerlink" title="5. GDB å‘½ä»¤ ï¼š è°ƒè¯•å‘½ä»¤"></a>5. GDB å‘½ä»¤ ï¼š è°ƒè¯•å‘½ä»¤</h2><h4 id="è¿è¡Œ-GDB-ç¨‹åº"><a href="#è¿è¡Œ-GDB-ç¨‹åº" class="headerlink" title="è¿è¡Œ GDB ç¨‹åº"></a>è¿è¡Œ GDB ç¨‹åº</h4><ul><li><code>start</code>ï¼ˆç¨‹åºåœåœ¨ç¬¬ä¸€è¡Œï¼‰</li><li><code>run</code>ï¼ˆé‡åˆ°æ–­ç‚¹æ‰åœï¼‰</li><li>ä½¿ç”¨<code>run</code>æŒ‡ä»¤å’Œ<code>c</code>(ç»§ç»­æŒ‡ä»¤ï¼‰</li></ul><h4 id="ç»§ç»­è¿è¡Œï¼Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹åœ"><a href="#ç»§ç»­è¿è¡Œï¼Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹åœ" class="headerlink" title="ç»§ç»­è¿è¡Œï¼Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹åœ"></a>ç»§ç»­è¿è¡Œï¼Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹åœ</h4><ul><li><p><code>c/continue</code></p><h4 id="å‘ä¸‹æ‰§è¡Œä¸€è¡Œä»£ç ï¼ˆä¸ä¼šè¿›å…¥å‡½æ•°ä½“ï¼‰"><a href="#å‘ä¸‹æ‰§è¡Œä¸€è¡Œä»£ç ï¼ˆä¸ä¼šè¿›å…¥å‡½æ•°ä½“ï¼‰" class="headerlink" title="å‘ä¸‹æ‰§è¡Œä¸€è¡Œä»£ç ï¼ˆä¸ä¼šè¿›å…¥å‡½æ•°ä½“ï¼‰"></a>å‘ä¸‹æ‰§è¡Œä¸€è¡Œä»£ç ï¼ˆä¸ä¼šè¿›å…¥å‡½æ•°ä½“ï¼‰</h4></li><li><p><code>n/next</code></p></li></ul><h4 id="å˜é‡æ“ä½œ"><a href="#å˜é‡æ“ä½œ" class="headerlink" title="å˜é‡æ“ä½œ"></a>å˜é‡æ“ä½œ</h4><ul><li><code>p/print å˜é‡å</code>ï¼ˆæ‰“å°å˜é‡å€¼ï¼‰</li><li><code>ptype å˜é‡å</code>ï¼ˆæ‰“å°å˜é‡ç±»å‹ï¼‰</li></ul><h4 id="å‘ä¸‹å•æ­¥è°ƒè¯•ï¼ˆé‡åˆ°å‡½æ•°è¿›å…¥å‡½æ•°ä½“ï¼‰"><a href="#å‘ä¸‹å•æ­¥è°ƒè¯•ï¼ˆé‡åˆ°å‡½æ•°è¿›å…¥å‡½æ•°ä½“ï¼‰" class="headerlink" title="å‘ä¸‹å•æ­¥è°ƒè¯•ï¼ˆé‡åˆ°å‡½æ•°è¿›å…¥å‡½æ•°ä½“ï¼‰"></a>å‘ä¸‹å•æ­¥è°ƒè¯•ï¼ˆé‡åˆ°å‡½æ•°è¿›å…¥å‡½æ•°ä½“ï¼‰</h4><ul><li><code>s/step</code></li><li><code>finish</code>ï¼ˆè·³å‡ºå‡½æ•°ä½“ï¼‰</li></ul><h4 id="è‡ªåŠ¨å˜é‡æ“ä½œ"><a href="#è‡ªåŠ¨å˜é‡æ“ä½œ" class="headerlink" title="è‡ªåŠ¨å˜é‡æ“ä½œ"></a>è‡ªåŠ¨å˜é‡æ“ä½œ</h4><ul><li><code>display å˜é‡å</code>ï¼ˆè‡ªåŠ¨æ‰“å°æŒ‡å®šå˜é‡çš„å€¼ï¼‰</li><li><code>i/info display</code></li><li><code>undisplay ç¼–å·</code></li></ul><h4 id="å…¶å®ƒæ“ä½œ"><a href="#å…¶å®ƒæ“ä½œ" class="headerlink" title="å…¶å®ƒæ“ä½œ"></a>å…¶å®ƒæ“ä½œ</h4><ul><li><code>set var å˜é‡å = å˜é‡å€¼</code> ï¼ˆå¾ªç¯ä¸­ç”¨çš„è¾ƒå¤šï¼‰</li><li><code>until</code>ï¼ˆè·³å‡ºå¾ªç¯ï¼‰</li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/12/31/linux-gdb-debug/">https://blog.jujimeizuo.cn/2022/12/31/linux-gdb-debug/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·»åŠ git SSH Keys</title>
      <link href="/2022/12/30/add-git-ssh-keys/"/>
      <url>/2022/12/30/add-git-ssh-keys/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆéœ€è¦æ·»åŠ "><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ·»åŠ " class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ·»åŠ "></a>ä¸ºä»€ä¹ˆéœ€è¦æ·»åŠ </h2><p>ç°åœ¨çš„githubï¼Œå¦‚æœæƒ³è¦pushç­‰æ“ä½œï¼Œå·²ç»ä¸æ”¯æŒå¯†ç æ¥æ§åˆ¶ï¼Œæ”¹ä¸ºssh keysæ¥æ§åˆ¶ï¼Œæ‰€ä»¥ä¼šå­˜åœ¨ä¸‹é¢è¿™ç§æƒ…å†µ.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-10-centos WebServer]<span class="comment">## git push origin master</span></span><br><span class="line">git@github.com: Permission denied (publickey).</span><br><span class="line">fatal: Could not <span class="built_in">read</span> from remote repository.</span><br></pre></td></tr></table></figure><p>Permission denied (publickey) æ²¡æœ‰æƒé™çš„publickey ï¼Œå‡ºç°è¿™é”™è¯¯ä¸€èˆ¬æ˜¯ä»¥ä¸‹ä¸¤ç§åŸå› </p><ul><li>å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æœªç”Ÿæˆ ssh key</li><li>å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„ssh keyä¸åŒ¹é… æ‰¾åˆ°é—®é¢˜çš„åŸå› äº†ï¼Œè§£å†³åŠæ³•ä¹Ÿå°±æœ‰äº†ï¼Œé‡æ–°ç”Ÿæˆä¸€æ¬¡ssh key ï¼ŒæœåŠ¡ç«¯ä¹Ÿé‡æ–°é…ç½®ä¸€æ¬¡å³å¯ã€‚</li></ul><h2 id="å¦‚ä½•æ·»åŠ "><a href="#å¦‚ä½•æ·»åŠ " class="headerlink" title="å¦‚ä½•æ·»åŠ "></a>å¦‚ä½•æ·»åŠ </h2><h4 id="å®¢æˆ·ç«¯ç”Ÿæˆssh-key"><a href="#å®¢æˆ·ç«¯ç”Ÿæˆssh-key" class="headerlink" title="å®¢æˆ·ç«¯ç”Ÿæˆssh key"></a>å®¢æˆ·ç«¯ç”Ÿæˆssh key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;youremail@example.com&quot;</span></span><br></pre></td></tr></table></figure><p><a href="mailto:&#x79;&#x6f;&#117;&#x72;&#x65;&#x6d;&#x61;&#x69;&#x6c;&#64;&#x65;&#x78;&#97;&#x6d;&#112;&#108;&#x65;&#46;&#99;&#x6f;&#109;">&#x79;&#x6f;&#117;&#x72;&#x65;&#x6d;&#x61;&#x69;&#x6c;&#64;&#x65;&#x78;&#97;&#x6d;&#112;&#108;&#x65;&#46;&#99;&#x6f;&#109;</a>æ”¹ä¸ºè‡ªå·±çš„é‚®ç®±å³å¯ï¼Œé€”ä¸­ä¼šè®©ä½ è¾“å…¥å¯†ç å•¥çš„ï¼Œä¸éœ€è¦ç®¡ï¼Œä¸€è·¯å›è½¦å³å¯ï¼Œä¼šç”Ÿæˆä½ çš„ssh keyã€‚ï¼ˆå¦‚æœé‡æ–°ç”Ÿæˆçš„è¯ä¼šè¦†ç›–ä¹‹å‰çš„ssh keyã€‚ï¼‰</p><p>å†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-agent -s </span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><h4 id="é…ç½®æœåŠ¡ç«¯"><a href="#é…ç½®æœåŠ¡ç«¯" class="headerlink" title="é…ç½®æœåŠ¡ç«¯"></a>é…ç½®æœåŠ¡ç«¯</h4><p>æ‰“å¼€ä½ åˆšåˆšç”Ÿæˆçš„id_rsa.pubï¼Œå°†é‡Œé¢çš„å†…å®¹å¤åˆ¶ï¼Œè¿›å…¥ä½ çš„githubè´¦å·ï¼Œåœ¨settingsä¸‹ï¼ŒSSH and GPG keysä¸‹new SSH keyï¼Œç„¶åå°†id_rsa.pubé‡Œçš„å†…å®¹å¤åˆ¶åˆ°Keyä¸­ï¼Œå®ŒæˆåAdd SSH Keyã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/image-1672404926598.png" alt="file"></p><h2 id="éªŒè¯Key"><a href="#éªŒè¯Key" class="headerlink" title="éªŒè¯Key"></a>éªŒè¯Key</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com </span><br></pre></td></tr></table></figure><p>æç¤ºï¼šHi xxx! Youâ€™ve successfully authenticated, but GitHub does not provide shell access. é—®é¢˜å°±è§£å†³å•¦</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/12/30/add-git-ssh-keys/">https://blog.jujimeizuo.cn/2022/12/30/add-git-ssh-keys/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼</title>
      <link href="/2022/12/06/expression/"/>
      <url>/2022/12/06/expression/</url>
      
        <content type="html"><![CDATA[<h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>è¡¨è¾¾å¼æ±‚å€¼è¦è§£å†³çš„é—®é¢˜ä¸€èˆ¬æ˜¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„è¡¨è¾¾å¼ï¼Œè¦æ±‚è¾“å‡ºå®ƒçš„å€¼ã€‚å½“ç„¶ä¹Ÿæœ‰å˜ç§æ¯”å¦‚è¡¨è¾¾å¼ä¸­æ˜¯å¦åŒ…å«æ‹¬å·ï¼ŒæŒ‡æ•°è¿ç®—ï¼Œå«å¤šå°‘å˜é‡ï¼Œåˆ¤æ–­å¤šä¸ªè¡¨è¾¾å¼æ˜¯å¦ç­‰ä»·ï¼Œç­‰ç­‰ã€‚</p><p>è¡¨è¾¾å¼ä¸€èˆ¬éœ€è¦å…ˆè¿›è¡Œè¯­æ³•åˆ†æï¼ˆgrammer parsingï¼‰å†æ±‚å€¼ï¼Œä¹Ÿå¯ä»¥è¾¹åˆ†æè¾¹æ±‚å€¼ï¼Œè¯­æ³•åˆ†æçš„ä½œç”¨æ˜¯æ£€æŸ¥è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªåˆæ³•çš„è¡¨è¾¾å¼ï¼Œä¸€èˆ¬ä½¿ç”¨è¯­æ³•åˆ†æå™¨ï¼ˆparserï¼‰è§£å†³ã€‚</p><p>è¡¨è¾¾å¼åŒ…å«ä¸¤ç±»å­—ç¬¦ï¼šè¿ç®—æ•°å’Œè¿ç®—ç¬¦ã€‚å¯¹äºé•¿åº¦ä¸ºnçš„è¡¨è¾¾å¼ï¼Œå€ŸåŠ©åˆé€‚çš„åˆ†ææ–¹æ³•ï¼Œå¯ä»¥åœ¨ $O(n)$çš„æ—¶é—´å¤æ‚åº¦å†…å®Œæˆåˆ†æä¸æ±‚å€¼ã€‚</p><h4 id="è¡¨è¾¾å¼æ ‘ä¸é€†æ³¢å…°è¡¨è¾¾å¼"><a href="#è¡¨è¾¾å¼æ ‘ä¸é€†æ³¢å…°è¡¨è¾¾å¼" class="headerlink" title="è¡¨è¾¾å¼æ ‘ä¸é€†æ³¢å…°è¡¨è¾¾å¼"></a>è¡¨è¾¾å¼æ ‘ä¸é€†æ³¢å…°è¡¨è¾¾å¼</h4><p>ä¸€ç§é€’å½’åˆ†æè¡¨è¾¾å¼çš„æ–¹æ³•æ˜¯ï¼Œå°†è¡¨è¾¾å¼å½“æˆæ™®é€šçš„è¯­æ³•è§„åˆ™è¿›è¡Œåˆ†æï¼Œåˆ†æåæ‹†åˆ†æˆå¦‚å›¾æ‰€ç¤ºçš„</p><p><img src="https://oi-wiki.org/misc/images/bet.png"></p><p>è¡¨è¾¾å¼æ ‘ï¼Œç„¶ååœ¨æ ‘ç»“æ„ä¸Šè‡ªåº•å‘ä¸Šè¿›è¡Œè¿ç®—ã€‚</p><p>è¡¨è¾¾å¼æ ‘ä¸Šè¿›è¡Œ æ ‘çš„éå† å¯ä»¥å¾—åˆ°ä¸åŒç±»å‹çš„è¡¨è¾¾å¼ã€‚ç®—æœ¯è¡¨è¾¾å¼åˆ†ä¸ºä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯å‰ç¼€è¡¨è¾¾å¼ã€ä¸­ç¼€è¡¨è¾¾å¼ã€åç¼€è¡¨è¾¾å¼ã€‚ä¸­ç¼€è¡¨è¾¾å¼æ˜¯æ—¥å¸¸ç”Ÿæ´»ä¸­æœ€å¸¸ç”¨çš„è¡¨è¾¾å¼ï¼›åç¼€è¡¨è¾¾å¼æ˜¯è®¡ç®—æœºå®¹æ˜“ç†è§£çš„è¡¨è¾¾å¼ã€‚</p><p>å‰åºéå†å¯¹åº”å‰ç¼€è¡¨è¾¾å¼ï¼ˆæ³¢å…°å¼ï¼‰ ä¸­åºéå†å¯¹åº”ä¸­ç¼€è¡¨è¾¾å¼ ååºéå†å¯¹åº”åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°å¼ï¼‰ é€†æ³¢å…°è¡¨è¾¾å¼ï¼ˆåç¼€è¡¨è¾¾å¼ï¼‰æ˜¯ä¹¦å†™æ•°å­¦è¡¨è¾¾å¼çš„ä¸€ç§å½¢å¼ï¼Œå…¶ä¸­è¿ç®—ç¬¦ä½äºå…¶æ“ä½œæ•°ä¹‹åã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹è¡¨è¾¾å¼ï¼š</p><p>$$a+b_c_d+(e-f)_(g_h+i)$$</p><p>å¯ä»¥ç”¨é€†æ³¢å…°è¡¨è¾¾å¼ä¹¦å†™ï¼š</p><p>$$abc_d_+ef-gh_i+_+$$</p><p>å› æ­¤ï¼Œé€†æ³¢å…°è¡¨è¾¾å¼ä¸è¡¨è¾¾å¼æ ‘ä¸€ä¸€å¯¹åº”ã€‚é€†æ³¢å…°è¡¨è¾¾å¼ä¸éœ€è¦æ‹¬å·è¡¨ç¤ºï¼Œå®ƒçš„è¿ç®—é¡ºåºæ˜¯å”¯ä¸€ç¡®å®šçš„ã€‚</p><p>é€†æ³¢å…°è¡¨è¾¾å¼çš„æ–¹ä¾¿ä¹‹å¤„åœ¨äºå¾ˆå®¹æ˜“åœ¨çº¿æ€§æ—¶é—´å†…è®¡ç®—ã€‚ä¸¾ä¸ªä¾‹å­ï¼šåœ¨é€†æ³¢å…°è¡¨è¾¾å¼32*1- ä¸­ï¼Œé¦–å…ˆè®¡ç®— 3*2&#x3D;6ï¼ˆä½¿ç”¨æœ€åä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå³æ ˆé¡¶è¿ç®—ç¬¦ï¼‰ï¼Œç„¶åè®¡ç®—6-1&#x3D;5 ã€‚å¯ä»¥çœ‹åˆ°ï¼šå¯¹äºä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ï¼Œåªéœ€è¦ ç»´æŠ¤ä¸€ä¸ªæ•°å­—æ ˆï¼Œæ¯æ¬¡é‡åˆ°ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå°±å–å‡ºä¸¤ä¸ªæ ˆé¡¶å…ƒç´ ï¼Œå°†è¿ç®—ç»“æœé‡æ–°å‹å…¥æ ˆä¸­ã€‚æœ€åï¼Œæ ˆä¸­å”¯ä¸€ä¸€ä¸ªå…ƒç´ å°±æ˜¯è¯¥é€†æ³¢å…°è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚è¯¥ç®—æ³•æ‹¥æœ‰O(n) çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><h4 id="åªå«å·¦ç»“åˆçš„äºŒå…ƒè¿ç®—ç¬¦çš„å«æ‹¬å·è¡¨è¾¾å¼"><a href="#åªå«å·¦ç»“åˆçš„äºŒå…ƒè¿ç®—ç¬¦çš„å«æ‹¬å·è¡¨è¾¾å¼" class="headerlink" title="åªå«å·¦ç»“åˆçš„äºŒå…ƒè¿ç®—ç¬¦çš„å«æ‹¬å·è¡¨è¾¾å¼"></a>åªå«å·¦ç»“åˆçš„äºŒå…ƒè¿ç®—ç¬¦çš„å«æ‹¬å·è¡¨è¾¾å¼</h4><p>è€ƒè™‘ç®€åŒ–çš„é—®é¢˜ã€‚å‡è®¾æ‰€æœ‰è¿ç®—ç¬¦éƒ½æ˜¯äºŒå…ƒçš„ï¼šæ‰€æœ‰è¿ç®—ç¬¦éƒ½æœ‰ä¸¤ä¸ªå‚æ•°ã€‚å¹¶ä¸”æ‰€æœ‰è¿ç®—ç¬¦éƒ½æ˜¯å·¦ç»“åˆçš„ï¼šå¦‚æœè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ç›¸ç­‰ï¼Œåˆ™ä»å·¦åˆ°å³æ‰§è¡Œã€‚å…è®¸ä½¿ç”¨æ‹¬å·ã€‚</p><p>å¯¹äºè¿™ç§ç±»å‹çš„ä¸­ç¼€è¡¨è¾¾å¼çš„è®¡ç®—ï¼Œå¯ä»¥å°†å…¶è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼å†è¿›è¡Œè®¡ç®—ã€‚å®šä¹‰ä¸¤ä¸ª æ ˆ æ¥åˆ†åˆ«å­˜å‚¨è¿ç®—ç¬¦å’Œè¿ç®—æ•°ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªæ•°ç›´æ¥æ”¾è¿›è¿ç®—æ•°æ ˆã€‚æ¯ä¸ªè¿ç®—ç¬¦å—å¯¹åº”äºä¸€å¯¹æ‹¬å·ï¼Œè¿ç®—ç¬¦æ ˆåªå¯¹äºè¿ç®—ç¬¦å—çš„å†…éƒ¨å•è°ƒã€‚æ¯å½“é‡åˆ°ä¸€ä¸ªæ“ä½œç¬¦æ—¶ï¼Œè¦æŸ¥æ‰¾è¿ç®—ç¬¦æ ˆä¸­æœ€é¡¶éƒ¨è¿ç®—ç¬¦å—ä¸­çš„å…ƒç´ ï¼Œåœ¨è¿ç®—ç¬¦å—çš„å†…éƒ¨ä¿æŒè¿ç®—ç¬¦æŒ‰ç…§ä¼˜å…ˆçº§é™åºè¿›è¡Œé€‚å½“çš„å¼¹å‡ºæ“ä½œï¼Œå¼¹å‡ºçš„åŒæ—¶æ±‚å‡ºå¯¹åº”çš„å­è¡¨è¾¾å¼çš„å€¼ã€‚</p><p>ä»¥ä¸‹éƒ¨åˆ†ç”¨ã€Œè¾“å‡ºã€è¡¨ç¤ºè¾“å‡ºåˆ°åç¼€è¡¨è¾¾å¼ï¼Œå³å°†è¯¥æ•°å­—æ”¾åœ¨è¿ç®—æ•°æ ˆä¸Šï¼Œæˆ–è€…å¼¹å‡ºè¿ç®—ç¬¦å’Œä¸¤ä¸ªæ“ä½œæ•°ï¼Œè¿ç®—åå†å°†ç»“æœå‹å›è¿ç®—æ•°æ ˆä¸Šã€‚ä»å·¦åˆ°å³æ‰«æè¯¥ä¸­ç¼€è¡¨è¾¾å¼ï¼š</p><ol><li>å¦‚æœé‡åˆ°æ•°å­—ï¼Œç›´æ¥è¾“å‡ºè¯¥æ•°å­—ã€‚</li><li>å¦‚æœé‡åˆ°å·¦æ‹¬å·ï¼Œé‚£ä¹ˆå°†å…¶æ”¾åœ¨è¿ç®—ç¬¦æ ˆä¸Šã€‚</li><li>å¦‚æœé‡åˆ°å³æ‹¬å·ï¼Œä¸æ–­è¾“å‡ºæ ˆé¡¶å…ƒç´ ï¼Œç›´è‡³é‡åˆ°å·¦æ‹¬å·ï¼Œå·¦æ‹¬å·å‡ºæ ˆã€‚æ¢å¥è¯è¯´ï¼Œæ‰§è¡Œä¸€å¯¹æ‹¬å·å†…çš„æ‰€æœ‰è¿ç®—ç¬¦ã€‚</li><li>å¦‚æœé‡åˆ°å…¶ä»–è¿ç®—ç¬¦ï¼Œä¸æ–­è¾“å‡ºæ‰€æœ‰è¿ç®—ä¼˜å…ˆçº§å¤§äºç­‰äºå½“å‰è¿ç®—ç¬¦çš„è¿ç®—ç¬¦ã€‚æœ€åï¼Œæ–°çš„è¿ç®—ç¬¦å…¥è¿ç®—ç¬¦æ ˆã€‚</li><li>åœ¨å¤„ç†å®Œæ•´ä¸ªå­—ç¬¦ä¸²ä¹‹åï¼Œä¸€äº›è¿ç®—ç¬¦å¯èƒ½ä»ç„¶åœ¨å †æ ˆä¸­ï¼Œå› æ­¤æŠŠæ ˆä¸­å‰©ä¸‹çš„ç¬¦å·ä¾æ¬¡è¾“å‡ºï¼Œè¡¨è¾¾å¼è½¬æ¢ç»“æŸã€‚</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">convert</span><span class="params">(<span class="type">const</span> std::string &amp;s)</span> </span>&#123;</span><br><span class="line">    std::unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; level &#123;&#123;<span class="string">&#x27;+&#x27;</span>, <span class="number">0</span>&#125;, &#123;<span class="string">&#x27;-&#x27;</span>, <span class="number">0</span>&#125;, &#123;<span class="string">&#x27;*&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;/&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;(&#x27;</span>, <span class="number">-1</span>&#125;, &#123;<span class="string">&#x27;)&#x27;</span>, <span class="number">-1</span>&#125;&#125;;</span><br><span class="line">    std::stack&lt;<span class="type">char</span>&gt; oper;</span><br><span class="line">    std::stringstream ss;</span><br><span class="line">    ss &lt;&lt; s;</span><br><span class="line">    std::string t, tmp;</span><br><span class="line">    <span class="keyword">while</span> (ss &gt;&gt; tmp) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(tmp[<span class="number">0</span>])) &#123;</span><br><span class="line">            t += tmp + <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tmp[<span class="number">0</span>] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            oper.<span class="built_in">push</span>(tmp[<span class="number">0</span>]);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tmp[<span class="number">0</span>] == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!oper.<span class="built_in">empty</span>() &amp;&amp; oper.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                t += std::<span class="built_in">string</span>(<span class="number">1</span>, oper.<span class="built_in">top</span>()) + <span class="string">&quot; &quot;</span>;</span><br><span class="line">                oper.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            oper.<span class="built_in">pop</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (!oper.<span class="built_in">empty</span>() &amp;&amp; level[oper.<span class="built_in">top</span>()] &gt;= level[tmp[<span class="number">0</span>]]) &#123;</span><br><span class="line">                t += std::<span class="built_in">string</span>(<span class="number">1</span>, oper.<span class="built_in">top</span>()) + <span class="string">&quot; &quot;</span>;</span><br><span class="line">                oper.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            oper.<span class="built_in">push</span>(tmp[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!oper.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        t += std::<span class="built_in">string</span>(<span class="number">1</span>, oper.<span class="built_in">top</span>()) + <span class="string">&quot; &quot;</span>;</span><br><span class="line">        oper.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">calc</span><span class="params">(<span class="type">const</span> std::string&amp; s)</span> </span>&#123;</span><br><span class="line">    std::stack&lt;<span class="type">int</span>&gt; num;</span><br><span class="line">    std::stringstream ss;</span><br><span class="line">    ss &lt;&lt; s;</span><br><span class="line">    std::string t, tmp;</span><br><span class="line">    <span class="keyword">while</span> (ss &gt;&gt; tmp) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(tmp[<span class="number">0</span>])) &#123;</span><br><span class="line">            num.<span class="built_in">push</span>(<span class="built_in">stoi</span>(tmp));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> b = <span class="number">0</span>, a = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (!num.<span class="built_in">empty</span>()) b = num.<span class="built_in">top</span>();</span><br><span class="line">            num.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span> (!num.<span class="built_in">empty</span>()) a = num.<span class="built_in">top</span>();</span><br><span class="line">            num.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span> (tmp[<span class="number">0</span>] == <span class="string">&#x27;+&#x27;</span>) num.<span class="built_in">push</span>(a + b);</span><br><span class="line">            <span class="keyword">if</span> (tmp[<span class="number">0</span>] == <span class="string">&#x27;-&#x27;</span>) num.<span class="built_in">push</span>(a - b);</span><br><span class="line">            <span class="keyword">if</span> (tmp[<span class="number">0</span>] == <span class="string">&#x27;*&#x27;</span>) num.<span class="built_in">push</span>(a * b);</span><br><span class="line">            <span class="keyword">if</span> (tmp[<span class="number">0</span>] == <span class="string">&#x27;/&#x27;</span>) num.<span class="built_in">push</span>(a / b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num.<span class="built_in">top</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/12/06/expression/">https://blog.jujimeizuo.cn/2022/12/06/expression/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è€ƒç ” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§æ•´æ•°ç›¸ä¹˜ - æ¨¡æ‹Ÿ/åˆ†æ²»/FFT/CRT/ç½‘ç»œæµ/Furer</title>
      <link href="/2022/12/06/bigintegermultiply/"/>
      <url>/2022/12/06/bigintegermultiply/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>æœ‰ä¸¤ä¸ªè¶…è¿‡long longç±»å‹çš„å¤§æ•´æ•°Xå’ŒYï¼Œç”¨è¾ƒä½çš„å¤æ‚åº¦æ±‚è§£X*Yã€‚</p><h2 id="å…­ç§æ–¹æ³•"><a href="#å…­ç§æ–¹æ³•" class="headerlink" title="å…­ç§æ–¹æ³•"></a>å…­ç§æ–¹æ³•</h2><h4 id="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ"><a href="#æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ"></a>æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ</h4><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ¨¡æ‹Ÿä¹˜æ³•çš„è¿‡ç¨‹ï¼Œä¸€ä¸ªæ•°çš„ç¬¬iä½å’Œå¦ä¸€ä¸ªæ•°çš„ç¬¬jä½ç›¸ä¹˜ï¼Œä¸€å®šä¼šç´¯åŠ åˆ°ç»“æœçš„ç¬¬i+jä½ï¼Œç»“æœçš„æ•°ç»„ä¸€ä¸ªæ•°ç»„å…ƒç´ å­˜2ä½æ•°ï¼Œæœ€åå¯¹ç»“æœæ•´é™¤å¾—åˆ°è¿›ä½ï¼Œmodå¾—åˆ°ä½™æ•°å°±æ˜¯i+jä½çš„æ•°å­—ï¼Œæœ€åæ‰“å°å‡ºæ¥ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">multiply</span><span class="params">(std::string s, std::string t)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = (<span class="type">int</span>) s.<span class="built_in">size</span>(), m = (<span class="type">int</span>) t.<span class="built_in">size</span>();</span><br><span class="line">    <span class="built_in">reverse</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">reverse</span>(t.<span class="built_in">begin</span>(), t.<span class="built_in">end</span>());</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">ans</span><span class="params">(n + m + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> bit = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m  bit; j++) &#123;</span><br><span class="line">            <span class="type">int</span> now = ans[i + j] + (s[i] - <span class="string">&#x27;0&#x27;</span>) * (t[i] - <span class="string">&#x27;0&#x27;</span>) + bit;</span><br><span class="line">            ans[i + j] = now % <span class="number">10</span>;</span><br><span class="line">            bit = now / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (ans.<span class="built_in">back</span>() == <span class="number">0</span>) &#123;</span><br><span class="line">        ans.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•äºŒï¼šåˆ†æ²»"><a href="#æ–¹æ³•äºŒï¼šåˆ†æ²»" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ†æ²»"></a>æ–¹æ³•äºŒï¼šåˆ†æ²»</h4><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n^{log^3}) \approx O(n^{\frac{3}{2}}) \approx O(n^{1.59})$</p><h2 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>åˆ†æ²»ç®—æ³•è§£é¢˜çš„ä¸€èˆ¬æ­¥éª¤ï¼š</p><p>åˆ†è§£ï¼šå°†è¦è§£å†³çš„é—®é¢˜åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„åŒç±»é—®é¢˜ æ±‚è§£ï¼šå½“å­é—®é¢˜åˆ’åˆ†çš„è¶³å¤Ÿå°æ—¶ï¼Œç”¨è¾ƒç®€å•çš„æ–¹æ³•è§£å†³ åˆå¹¶ï¼šæŒ‰åŸé—®é¢˜çš„è¦æ±‚ï¼Œå°†å­é—®é¢˜çš„è§£é€å±‚åˆå¹¶æ„æˆåŸé—®é¢˜çš„è§£</p><h3 id="Xå’ŒYçš„ä½æ•°ç›¸åŒ"><a href="#Xå’ŒYçš„ä½æ•°ç›¸åŒ" class="headerlink" title="Xå’ŒYçš„ä½æ•°ç›¸åŒ"></a>Xå’ŒYçš„ä½æ•°ç›¸åŒ</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2022/12/20201129001414493.png" alt="Xå’ŒYçš„ä½æ•°ç›¸åŒ"></p><p>$$ X &#x3D; A_{10}^{\frac{n}{2}}+B \quad Y&#x3D;C_{10}^{\frac{2}{n}} + D $$</p><p>$$ XY &#x3D; (A_{10}^{\frac{n}{2}}+B)_(C*10^{\frac{n}{2}}+D) $$</p><p>$$ XY &#x3D; AC_{10}^n+(AD+BC)_{10}^{\frac{2}{n}}+BD $$</p><p>è®¡ç®—æˆæœ¬ï¼šæˆ‘ä»¬å¿…é¡»è¿›è¡Œ4æ¬¡n&#x2F;2ä½æ•´æ•°çš„ä¹˜æ³•(ACï¼ŒADï¼ŒBCå’ŒBD)ï¼Œä»¥åŠ3æ¬¡ä¸è¶…è¿‡nä½çš„æ•´æ•°åŠ æ³•æ­¤å¤–è¿˜è¦åš2æ¬¡ç§»ä½ã€‚æ‰€æœ‰è¿™äº›åŠ æ³•å’Œç§»ä½å…±ç”¨Oï¼ˆnï¼‰æ­¥è¿ç®—ã€‚è®¾Tï¼ˆnï¼‰æ˜¯2ä¸ªnä½æ•´æ•°ç›¸ä¹˜æ‰€éœ€çš„è¿ç®—æ€»æ•°ï¼Œæˆ‘ä»¬æœ‰ï¼š</p><p>$$ T(n) &#x3D; O(1) \quad n &#x3D; 1 $$</p><p>$$ T(n)&#x3D;4T(n&#x2F;2)+O(n) \quad n &gt; 1 $$</p><p>å¾—ï¼š</p><p>$$T(n) &#x3D; O(n^2)$$</p><p>è¿™ç§æ–¹æ³•ä¸è§å¾—æ¯”æš´åŠ›æ›´æœ‰æ•ˆï¼Œæ‰€ä»¥éœ€è¦æ”¹è¿›ä¸€ç‚¹ï¼Œå˜æ¢ä¸Šå¼å¾—ï¼š</p><p>$$ XY&#x3D;AC_{10}^n + ((A-B)_(D-C) + AC+BD)*10^{\frac{2}{n}}+BD $$</p><p>è®¡ç®—æˆæœ¬ï¼š3æ¬¡n&#x2F;2ä½ä¹˜æ³•ï¼Œ6æ¬¡ä¸è¶…è¿‡nä½åŠ å‡æ³•ï¼Œ2æ¬¡ç§»ä½ï¼Œæ‰€æœ‰åŠ æ³•å’Œç§»ä½å…±è®¡O(n)æ¬¡è¿ç®—ã€‚æˆ‘ä»¬æœ‰ï¼š</p><p>$$ T(n) &#x3D; O(1) \quad n &#x3D; 1 $$</p><p>$$T(n)&#x3D;3T(n&#x2F;2) + O(n) \quad n &gt; 1$$</p><p>å¾—ï¼š</p><p>$$T(n) &#x3D; O(n^{log^3}) \approx O(n^{\frac{3}{2}}) \approx O(n^{1.59})$$</p><h3 id="Xå’ŒYçš„ä½æ•°ä¸åŒ"><a href="#Xå’ŒYçš„ä½æ•°ä¸åŒ" class="headerlink" title="Xå’ŒYçš„ä½æ•°ä¸åŒ"></a>Xå’ŒYçš„ä½æ•°ä¸åŒ</h3><p>å’Œä½æ•°ç›¸åŒåŒç†</p><p>å‡è®¾ n1ä¸ºBçš„ä½æ•°ï¼ŒBå±äºä½ä½çš„é‚£ä¸€éƒ¨åˆ† n2ä¸ºAçš„ä½æ•°ï¼ŒAå±äºé«˜ä½çš„é‚£ä¸€éƒ¨åˆ† m1ä¸ºDçš„ä½æ•°ï¼ŒDå±äºä½ä½çš„é‚£ä¸€éƒ¨åˆ† m2ä¸ºDçš„ä½æ•°ï¼ŒCå±äºé«˜ä½çš„é‚£ä¸€éƒ¨åˆ†</p><p>$$XY&#x3D;(A_{10}^{n_2}+B)_(C*10^{m_2}+D)+BD$$</p><p>$$XY&#x3D;AC_{10}^{n_2+m_2}+(AD_{10}^{n_2}+BC*10^{m_2})+BD$$</p><p>ä¸Šå¼ä¸€å…±éœ€è¦è¿›è¡Œ2æ¬¡n2çš„ä¹˜æ³•ï¼ˆACã€ADå„ä¸€æ¬¡ï¼‰ã€2æ¬¡m2çš„ä¹˜æ³•ï¼ˆACã€BCå„ä¸€æ¬¡ï¼‰å’Œ3æ¬¡åŠ æ³•ï¼Œå› è€Œè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º</p><p>$$T(m + n) &#x3D; 2T(m) + 2T(n)+O(m+n)$$</p><p>è·Ÿä¸Šé¢ä¸€æ ·ï¼Œå¯¹AD+BCè¿›è¡Œåˆ†è§£ä¼˜åŒ–å¾—ï¼š</p><p>$$XY&#x3D;2_AC_{10}^{n_2+m_2}+(A_{10}^{n_2}-B)_(D-C_{10}^{m_2}) + 2_BD$$</p><p>ä¿®æ”¹åçš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼š</p><p>$$T(m+n) &#x3D; T(m) + T(n) + T(min(n, m)) + O(m + n)$$</p><p>ç”±äº$T(min(n,m)) &lt; T(m)+T(n) $ï¼Œæ‰€ä»¥ä¿®æ”¹åçš„ç®—æ³•æ›´å¥½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º</p><p>$$T(n) &#x3D; O(n^{log^3}) \approx O(n^{\frac{3}{2}}) \approx O(n^{1.59})$$</p><h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">solve</span><span class="params">(std::string X, std::string Y)</span> </span>&#123;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">result</span><span class="params">(<span class="number">255</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    std::function&lt;<span class="type">void</span>(std::string, std::string, <span class="type">int</span>)&gt; multiply = [&amp;](std::string s, std::string t, <span class="type">int</span> pos) &#123;</span><br><span class="line">        <span class="type">int</span> n = (<span class="type">int</span>) s.<span class="built_in">size</span>(), m = (<span class="type">int</span>) t.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>  m == <span class="number">0</span>) &#123;                 <span class="comment">// ä½æ•°ä¸º0æ—¶</span></span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n == <span class="number">1</span> &amp;&amp; m == <span class="number">1</span>) &#123;          <span class="comment">// é€’å½’åˆ°å½“å‰æ•°ç»„så’Œtçš„ä½æ•°å…¨ä¸º1æ—¶</span></span><br><span class="line">            result[pos] += (s[<span class="number">0</span>] - <span class="string">&#x27;0&#x27;</span>) * (t[<span class="number">0</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;                                <span class="comment">// å½“æ•°ç»„så’Œtçš„ä½æ•°è‡³å°‘æœ‰ä¸€ä¸ªä¸ä¸º1æ—¶</span></span><br><span class="line">            <span class="type">int</span> n1 = n / <span class="number">2</span>;                     <span class="comment">// n1ä¸ºBçš„ä½æ•°ï¼ŒBå±äºä½ä½çš„é‚£ä¸€éƒ¨åˆ†</span></span><br><span class="line">            <span class="type">int</span> n2 = n - n1;                    <span class="comment">// n2ä¸ºAçš„ä½æ•°ï¼ŒAå±äºé«˜ä½çš„é‚£ä¸€éƒ¨åˆ†</span></span><br><span class="line">            <span class="type">int</span> m1 = m / <span class="number">2</span>;                     <span class="comment">// m1ä¸ºDçš„ä½æ•°ï¼ŒDå±äºä½ä½çš„é‚£ä¸€éƒ¨åˆ†</span></span><br><span class="line">            <span class="type">int</span> m2 = m - m1;                    <span class="comment">// m2ä¸ºDçš„ä½æ•°ï¼ŒCå±äºé«˜ä½çš„é‚£ä¸€éƒ¨åˆ†</span></span><br><span class="line">            std::string A = s.<span class="built_in">substr</span>(<span class="number">0</span>, n2);    <span class="comment">// è·å–sçš„é«˜ä½éƒ¨åˆ†A</span></span><br><span class="line">            std::string B = s.<span class="built_in">substr</span>(n2);       <span class="comment">// è·å–sçš„ä½ä½éƒ¨åˆ†B</span></span><br><span class="line">            std::string C = t.<span class="built_in">substr</span>(<span class="number">0</span>, m2);    <span class="comment">// è·å–tçš„é«˜ä½éƒ¨åˆ†C</span></span><br><span class="line">            std::string D = t.<span class="built_in">substr</span>(m2);       <span class="comment">// è·å–tçš„ä½ä½éƒ¨åˆ†D</span></span><br><span class="line">            <span class="built_in">multiply</span>(A, C, pos + n1 + m1);      <span class="comment">// AC,åœ¨result[pos+n1+m1]çš„ä½ç½®å­˜å‚¨ACï¼Œä¹Ÿæ˜¯è¯´åç§»pos+n1+m1ä½ï¼Œposåˆå§‹åŒ–ä¸º0</span></span><br><span class="line">            <span class="built_in">multiply</span>(B, C, pos + m1);           <span class="comment">// BC,åç§»pos+m1ä½</span></span><br><span class="line">            <span class="built_in">multiply</span>(A, D, pos + n1);           <span class="comment">// AD,åç§»pos+1ä½</span></span><br><span class="line">            <span class="built_in">multiply</span>(B, D, pos);                <span class="comment">// BD,åç§»posä½</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">multiply</span>(X, Y, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> len = (<span class="type">int</span>) X.<span class="built_in">size</span>() + (<span class="type">int</span>) Y.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= len; i++) &#123;</span><br><span class="line">        <span class="type">int</span> now = result[i] % <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> bit1 = result[i] / <span class="number">10</span> % <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> bit2 = result[i] / <span class="number">100</span>;</span><br><span class="line">        result[i] = now;</span><br><span class="line">        result[i + <span class="number">1</span>] += bit1;</span><br><span class="line">        result[i + <span class="number">2</span>] += bit2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (result.<span class="built_in">back</span>() == <span class="number">0</span>) &#123;</span><br><span class="line">        result.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•ä¸‰ï¼šFFT"><a href="#æ–¹æ³•ä¸‰ï¼šFFT" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šFFT"></a>æ–¹æ³•ä¸‰ï¼šFFT</h4><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(nlogn)$</p><p>é€šè¿‡åˆ†æ²»çš„æ€æƒ³ï¼Œæœ€ç»ˆæ¼”å˜æˆFFTçš„é›å½¢ï¼ŒFFTçš„æ€æƒ³ä¹Ÿæ˜¯åˆ†æ²»ï¼Œä½†æ˜¯å®ƒçš„ç†è®ºè¦æ›´ä¸ºæ·±å¥¥ã€‚ ä¸ºäº†é¿å…ç²¾åº¦é—®é¢˜ï¼Œå¯ä»¥æ”¹ç”¨å¿«é€Ÿæ•°è®ºå˜æ¢FNTTã€‚ <a href="https://blog.csdn.net/TheWayForDream/article/details/113944059">å…·ä½“å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« çš„æ¨å¯¼</a></p><h4 id="æ–¹æ³•å››ï¼šä¸­å›½å‰©ä½™å®šç†"><a href="#æ–¹æ³•å››ï¼šä¸­å›½å‰©ä½™å®šç†" class="headerlink" title="æ–¹æ³•å››ï¼šä¸­å›½å‰©ä½™å®šç†"></a>æ–¹æ³•å››ï¼šä¸­å›½å‰©ä½™å®šç†</h4><p>æŠŠæ¯ä¸ªæ•°åˆ†è§£åˆ°ä¸€äº›äº’ç´ çš„æ¨¡ä¸Šï¼Œç„¶åæ¯ä¸ªåŒä½™æ–¹ç¨‹å¯¹åº”ä¹˜èµ·æ¥å°±è¡Œã€‚</p><h4 id="æ–¹æ³•äº”ï¼šç½‘ç»œæµ"><a href="#æ–¹æ³•äº”ï¼šç½‘ç»œæµ" class="headerlink" title="æ–¹æ³•äº”ï¼šç½‘ç»œæµ"></a>æ–¹æ³•äº”ï¼šç½‘ç»œæµ</h4><p>è¡¥</p><h4 id="æ–¹æ³•å…­-Furerâ€™s-algorithm"><a href="#æ–¹æ³•å…­-Furerâ€™s-algorithm" class="headerlink" title="æ–¹æ³•å…­: Furerâ€™s algorithm"></a>æ–¹æ³•å…­: Furerâ€™s algorithm</h4><p>åœ¨æ¸è¿›æ„ä¹‰ä¸ŠFNTTè¿˜å¿«çš„ç®—æ³•ã€‚ä¸è¿‡å¥½åƒä¸å¤ªå®ç”¨ï¼Œæœ¬æ–‡å°±ä¸ä½œä»‹ç»äº†ã€‚å¤§å®¶å¯ä»¥å‚è€ƒ<a href="https://en.wikipedia.org/wiki/F%C3%BCrer%27s_algorithm">ç»´åŸºç™¾ç§‘FÃ¼rerâ€™s algorithm</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/12/06/bigintegermultiply/">https://blog.jujimeizuo.cn/2022/12/06/bigintegermultiply/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è€ƒç ” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TopCoder SRM842</title>
      <link href="/2022/12/03/topcoder-srm842/"/>
      <url>/2022/12/03/topcoder-srm842/</url>
      
        <content type="html"><![CDATA[<h2 id="A-ToniasTower"><a href="#A-ToniasTower" class="headerlink" title="A. ToniasTower"></a>A. ToniasTower</h2><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>Tonia æœ‰Nä¸ªå•ä½ç«‹æ–¹ä½“ã€‚å¥¹æƒ³ç”¨å®ƒä»¬æ¥å»ºé€ ä¸€åº§å¡”ã€‚ Tonia çš„å¡”å°†ç”±ä¸€æ’æˆ–å¤šæ’ç«‹æ–¹ä½“ç»„æˆï¼Œæ¯ä¸€æ’ç«‹åœ¨ä¸‹ä¸€æ’ä¸Šã€‚ï¼ˆæ˜¾ç„¶ï¼Œé™¤äº†ç«™åœ¨åœ°ä¸Šçš„æœ€ä¸‹é¢ä¸€æ’ã€‚ï¼‰ åªæœ‰ä¸€ä¸ªé™åˆ¶ï¼šé™¤åº•éƒ¨ä»¥å¤–çš„æ¯ä¸€è¡Œéƒ½å¿…é¡»ä¸¥æ ¼æ¯”å®ƒæ‰€åœ¨çš„è¡ŒçŸ­ï¼ˆå³ï¼Œç«‹æ–¹ä½“ä¸¥æ ¼å‡å°‘ï¼‰ã€‚</p><p>Tonia ç°åœ¨æƒ³çŸ¥é“ï¼šå¥¹å¯ä»¥ç”¨æ‰€æœ‰ç«‹æ–¹ä½“å»ºé€ çš„æœ€é«˜å¡”æ˜¯ä»€ä¹ˆï¼Ÿ æ‰¾åˆ°æœ€å¤§çš„ Xï¼Œè¿™æ · Tonia å¯ä»¥ä½¿ç”¨å¥¹çš„Nä¸ªç«‹æ–¹ä½“æ¥å»ºé€ ä¸€ä¸ªæœ‰ X è¡Œç«‹æ–¹ä½“çš„å¡”ã€‚ç„¶åï¼Œæ‰¾åˆ°ä¸€ç§å»ºé€ è¿™æ ·ä¸€åº§å¡”çš„æ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œç¡®å®šå¡”çš„ X è¡Œä¸­æ¯ä¸€è¡Œçš„ç«‹æ–¹ä½“æ•°é‡ã€‚ è¿”å›å¸¦æœ‰ X ä¸ªå…ƒç´ çš„ aï¼šå¯¹äºå¡”çš„æ¯ä¸€è¡Œï¼Œä»ä¸Šåˆ°ä¸‹ï¼ŒTonia åº”è¯¥åœ¨è¯¥è¡Œä¸­ä½¿ç”¨çš„ç«‹æ–¹ä½“æ•°é‡ã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>è®©nä¸€æ¬¡å‡å»ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5â€¦ï¼Œæœ€åå¦‚æœå‰©ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œåˆ™åŠ ç»™æœ€åä¸€ä¸ªæ•°ã€‚</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ToniasTower</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">build</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">ToniasTower::build</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        ans.<span class="built_in">push_back</span>(i);</span><br><span class="line">        n -= i;</span><br><span class="line">    &#125;</span><br><span class="line">    ans.<span class="built_in">back</span>() += n;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-SmallRectangles"><a href="#B-SmallRectangles" class="headerlink" title="B. SmallRectangles"></a>B. SmallRectangles</h2><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æˆ‘ä»¬æœ‰ä¸¤ä¸ª A å’Œ Bï¼Œåˆ†åˆ«æœ‰ALå’ŒBLå…ƒç´ ã€‚è¿™äº›æè¿°äº†å¦‚ä½•åˆ‡å‰²çŸ©å½¢</p><p>æ•´ä¸ªçŸ©å½¢çš„å°ºå¯¸ä¸º sum(A) ä¹˜ä»¥ sum(B)ã€‚é€šè¿‡ä½¿AL -1 åˆ‡å‰²æ­£äº¤äºé•¿åº¦ sum(A) çš„ä¸€ä¾§å’ŒBL -1 åˆ‡å‰²ä¸å¦ä¸€ä¾§æ­£äº¤ï¼Œ å®ƒè¢«åˆ‡å‰²æˆALä¹˜ä»¥BLçš„è¾ƒå°çŸ©å½¢ã€‚</p><p>A çš„å…ƒç´ æ˜¯æ®µçš„é•¿åº¦ï¼Œåˆ‡å‰²å°†é•¿åº¦ sum(A) çš„è¾¹åˆ†æˆè¿™äº›æ®µã€‚ç±»ä¼¼åœ°ï¼ŒB çš„å…ƒç´ æ˜¯çŸ©å½¢å¦ä¸€è¾¹è¢«åˆ†å‰²æˆçš„çº¿æ®µçš„é•¿åº¦ã€‚å› æ­¤ï¼ŒA å’Œ B æ˜¯é€šè¿‡å°†å¤§çŸ©å½¢åˆ‡æˆå—è€Œäº§ç”Ÿçš„è¾ƒå°çŸ©å½¢çš„è¾¹é•¿ã€‚</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å¯¹æ¯ä¸€ä¸ªpairæ’å…¥åˆ°setä¸­ï¼Œæ±‚setåˆ°size()å³å¯ã€‚</p><h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SmallRectangles</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">count</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; Aprefix, std::vector&lt;<span class="type">int</span>&gt; Bprefix, <span class="type">int</span> AL, <span class="type">int</span> BL, <span class="type">int</span> AM, <span class="type">int</span> BM, <span class="type">int</span> seed)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">SmallRectangles::count</span><span class="params">(std::vector&lt;<span class="type">int</span>&gt; Aprefix, std::vector&lt;<span class="type">int</span>&gt; Bprefix, <span class="type">int</span> AL, <span class="type">int</span> BL, <span class="type">int</span> AM, <span class="type">int</span> BM, <span class="type">int</span> seed)</span> </span>&#123;</span><br><span class="line">    std::map&lt;std::pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, <span class="type">long</span> <span class="type">long</span>&gt; cnt;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; AL; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; BL; j++) &#123;</span><br><span class="line">            <span class="type">int</span> a = std::<span class="built_in">min</span>(Aprefix[i], Bprefix[j]);</span><br><span class="line">            <span class="type">int</span> b = std::<span class="built_in">max</span>(Aprefix[i], Bprefix[j]);</span><br><span class="line">            cnt[&#123;a, b&#125;]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = cnt.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-StringReduction"><a href="#C-StringReduction" class="headerlink" title="C. StringReduction"></a>C. StringReduction</h2><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ä½ æœ‰ä¸€ä¸²å°å†™è‹±æ–‡å­—æ¯ï¼š å¼€å§‹ã€‚</p><p>æ‚¨è¿˜è·å¾—äº† Xå’Œ Yã€‚è¿™äº›æè¿°äº†æ‚¨å¯ä»¥å¯¹å­—ç¬¦ä¸²æ‰§è¡Œçš„ä¸€äº›æ“ä½œã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œå¯¹äºæ¯ä¸ªæœ‰æ•ˆç´¢å¼• iï¼Œæ•´æ•°X [i] å’Œå­—ç¬¦Y [i] æè¿°äº†ä¸€ä¸ªè¿™æ ·çš„æ“ä½œï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä»»æ„é¡ºåºä»»æ„å¤šæ¬¡æ‰§è¡Œä»¥ä¸‹æ“ä½œæ¥ä¿®æ”¹å­—ç¬¦ä¸²ï¼š</p><p>äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„ä»»æ„ä¸¤ä¸ªè¿ç»­å­—ç¬¦ã€‚ å¯¹äºä»»ä½•æœ‰æ•ˆç´¢å¼• iï¼šé€‰æ‹©ä¸€ç»„ç‰¹å®šçš„X [i] ä¸ªå­—æ¯Y [i ] çš„è¿ç»­å‰¯æœ¬ã€‚æ“¦é™¤å…¶ä¸­çš„X [i]-1 ä¸ªï¼Œä¿ç•™å‰©ä¸‹çš„ä¸€ä¸ªã€‚ å½“ç„¶ï¼Œåªæœ‰å½“å½“å‰å­—ç¬¦ä¸²ä¸­æŸå¤„å­˜åœ¨æ‰€éœ€çš„ç›¸åŒå­—æ¯ç»„æ—¶ï¼Œæ‰èƒ½åº”ç”¨æ“¦é™¤è§„åˆ™ã€‚</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>ç”¨cntå­˜ä¸‹æ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œå¯¹æ¯ä¸ªå­—ç¬¦ï¼Œå°½æœ€å¤§åŠªåŠ›ä¾æ¬¡å‡å»X[i] - 1</p><h3 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title class_">StringReduction</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reduce</span><span class="params">(std::string, std::vector&lt;<span class="type">int</span>&gt;, std::string)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">StringReduction::reduce</span><span class="params">(std::string start, std::vector&lt;<span class="type">int</span>&gt; X, std::string Y)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">cnt</span><span class="params">(<span class="number">26</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> &amp;c : start) &#123;</span><br><span class="line">        cnt[c - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; (<span class="type">int</span>) X.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (X[i] == <span class="number">1</span>) <span class="keyword">continue</span> ;</span><br><span class="line">        <span class="type">int</span> digit = Y[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">while</span> (cnt[digit] &gt;= X[i]) &#123;</span><br><span class="line">            cnt[digit] -= X[i] - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">accumulate</span>(cnt.<span class="built_in">begin</span>(), cnt.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/12/03/topcoder-srm842/">https://blog.jujimeizuo.cn/2022/12/03/topcoder-srm842/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Atcoder ABC280</title>
      <link href="/2022/12/03/atcoder-abc280/"/>
      <url>/2022/12/03/atcoder-abc280/</url>
      
        <content type="html"><![CDATA[<h2 id="A-Pawn-on-a-Grid"><a href="#A-Pawn-on-a-Grid" class="headerlink" title="A. Pawn on a Grid"></a>A. Pawn on a Grid</h2><p>ç»Ÿè®¡<code>##</code>ä¸ªæ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2022-12-03 20:00:15</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::string s;</span><br><span class="line">        std::cin &gt;&gt; s;</span><br><span class="line">        cnt += std::<span class="built_in">count</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), <span class="string">&#x27;##&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; cnt &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Inverse-Prefix-Sum"><a href="#B-Inverse-Prefix-Sum" class="headerlink" title="B. Inverse Prefix Sum"></a>B. Inverse Prefix Sum</h2><p>æ¨¡æ‹Ÿã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2022-12-03 20:01:17</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::cin &gt;&gt; n;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cin &gt;&gt; a[i];</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span>) std::cout &lt;&lt; a[i] - a[i - <span class="number">1</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="keyword">else</span> std::cout &lt;&lt; a[i] &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Extra-Character"><a href="#C-Extra-Character" class="headerlink" title="C. Extra Character"></a>C. Extra Character</h2><p>æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ç›¸ç­‰å­—ç¬¦ä½ç½®ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2022-12-03 20:03:26</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    std::string s, t;</span><br><span class="line">    std::cin &gt;&gt; s &gt;&gt; t;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p &lt; (<span class="type">int</span>) s.<span class="built_in">size</span>() &amp;&amp; s[p] == t[p]) &#123;</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; p + <span class="number">1</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Factorial-and-Multiple"><a href="#D-Factorial-and-Multiple" class="headerlink" title="D. Factorial and Multiple"></a>D. Factorial and Multiple</h2><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æ‰¾åˆ°æœ€å°çš„næ˜¯çš„n!æ˜¯kçš„å€æ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>n!çš„å› å­pä¸ªæ•°ä¸º<code>n / p + n / p / p + ...</code> è´¨å› æ•°åˆ†è§£Kï¼Œå¯¹äºKçš„ä¸€ä¸ªè´¨å› å­pï¼Œä¸ªæ•°ä¸ºcntï¼ŒäºŒåˆ†æ±‚å‡ºæœ€å°çš„xï¼Œä½¿å¾—xçš„pä¸ªæ•°å¤§äºç­‰äºcntã€‚ <code>ans = std::max(ans, x)</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2022-12-03 20:05:06</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> K;</span><br><span class="line">    std::cin &gt;&gt; K;</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> check = [&amp;](<span class="type">long</span> <span class="type">long</span> x, <span class="type">long</span> <span class="type">long</span> i, <span class="type">long</span> <span class="type">long</span> c) -&gt; <span class="type">bool</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (x) &#123;</span><br><span class="line">            cnt += x / i;</span><br><span class="line">            x /= i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt &gt;= c;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">2</span>; i * i &lt;= K; i++) &#123;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (K % i == <span class="number">0</span>) cnt++, K /= i;</span><br><span class="line">        <span class="keyword">if</span> (cnt == <span class="number">0</span>) <span class="keyword">continue</span> ;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> l = l, r = <span class="number">1E12</span>;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> x = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span>(mid, i, cnt)) &#123;</span><br><span class="line">                x = mid;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = std::<span class="built_in">max</span>(ans, x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (K &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        ans = std::<span class="built_in">max</span>(ans, K);</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Critical-Hit"><a href="#E-Critical-Hit" class="headerlink" title="E. Critical Hit"></a>E. Critical Hit</h2><h2 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ä¸€åªæ€ªç‰©æœ‰næ»´è¡€ï¼Œæ”»å‡»ä¸€æ»´è¡€çš„æ¦‚ç‡ä¸ºp&#x2F;100 (p1),æ”»å‡»ä¸¤æ»´è¡€çš„æ¦‚ç‡ä¸º1 - (100 &#x2F; p) (p2)ï¼Œæ±‚æ‰“æ­»æ€ªç‰©çš„æ”»å‡»æœŸæœ›ã€‚</p><h2 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è®¾dp[i]è¡¨ç¤ºæ”»å‡»iæ»´è¡€çš„æ”»å‡»æœŸæœ›ï¼Œåˆ™è½¬ç§»æ–¹ç¨‹ä¸º <code>dp[i] = dp[i - 1] * p1 + dp[i - 2] * P2 + 1</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    author:  jujimeizuo</span></span><br><span class="line"><span class="comment"> *    created: 2022-12-03 21:18:42</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n, p;</span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; p;</span><br><span class="line"></span><br><span class="line">    Mint inv100 = <span class="built_in">power</span>(<span class="built_in">Mint</span>(<span class="number">100</span>), md - <span class="number">2</span>);</span><br><span class="line">    Mint p2 = inv100 * p, p1 = inv100 * (<span class="number">100</span> - p);</span><br><span class="line"></span><br><span class="line">    <span class="function">std::vector&lt;Mint&gt; <span class="title">dp</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = dp[i - <span class="number">1</span>] * p1 + dp[std::<span class="built_in">max</span>(<span class="number">0</span>, i - <span class="number">2</span>)] * p2 + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; dp[n] &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/12/03/atcoder-abc280/">https://blog.jujimeizuo.cn/2022/12/03/atcoder-abc280/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ å›è°ƒå‡½æ•°åŠ std::function ä¸ std::bind</title>
      <link href="/2022/11/20/callback/"/>
      <url>/2022/11/20/callback/</url>
      
        <content type="html"><![CDATA[<p><strong>å›è°ƒå‡½æ•°æ˜¯åšä¸ºå‚æ•°ä¼ é€’çš„ä¸€ç§å‡½æ•°</strong>ï¼Œåœ¨æ—©æœŸCæ ·å¼ç¼–ç¨‹å½“ä¸­ï¼Œå›è°ƒå‡½æ•°å¿…é¡»ä¾èµ–å‡½æ•°æŒ‡é’ˆæ¥å®ç°ã€‚</p><p>è€Œåçš„C++è¯­è¨€å½“ä¸­ï¼Œåˆå¼•å…¥äº† std::function ä¸ std::bind æ¥é…åˆè¿›è¡Œå›è°ƒå‡½æ•°å®ç°ã€‚</p><p>æ ‡å‡†åº“ä¸­æœ‰å¤§é‡å‡½æ•°åº”ç”¨åˆ°äº†å›è°ƒå‡½æ•°ï¼Œå…¶ä¸­ std::sort å°±æ˜¯ä¸€ä¸ªç»å…¸ä¾‹å­ã€‚</p><h2 id="ä¸€ã€-å›è°ƒå‡½æ•°"><a href="#ä¸€ã€-å›è°ƒå‡½æ•°" class="headerlink" title="ä¸€ã€ å›è°ƒå‡½æ•°"></a>ä¸€ã€ å›è°ƒå‡½æ•°</h2><p>å›è°ƒå‡½æ•°çš„åˆ›å»ºæ­¥éª¤å¤§æ¦‚ä¸ºï¼š</p><p>1ï¼Œå£°æ˜ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆç±»å‹ã€‚</p><p>2ï¼Œæ‹Ÿå†™ä½¿ç”¨å›è°ƒå‡½æ•°çš„å‡½æ•°ï¼Œå°†å‡½æ•°æŒ‡é’ˆç±»å‹åŠå˜é‡åå£°æ˜ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p><p>3ï¼Œæ‹Ÿå†™ç¬¦åˆå‡½æ•°æŒ‡é’ˆç±»å‹çš„å®ç°å‡½æ•°ï¼Œå°†å®ç°å‡½æ•°çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ç»™ä½¿ç”¨å®ƒçš„å‡½æ•°ã€‚</p><p>ä¸‹é¢æ¼”ç¤ºäº†ä¸€ä¸ªæœ€ç®€å•çš„å›è°ƒå‡½æ•°å®šä¹‰åŠä½¿ç”¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*Calc)</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CalcValue</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">const</span> Calc &amp;func)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">func</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">4</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">6</span>;</span><br><span class="line">    <span class="type">int</span> c = <span class="built_in">CalcValue</span>(a, b, Add);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Value: &quot;</span> &lt;&lt; c &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡è¯­æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*Calc)</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>;</span><br></pre></td></tr></table></figure><p>æ¥å®šä¹‰äº†å›è°ƒå‡½æ•°çš„æŒ‡é’ˆç±»å‹ï¼ŒåŒ…æ‹¬è¿”å›å€¼ç±»å‹ã€(*ç±»å‹å)å‡½æ•°æŒ‡é’ˆã€å‚æ•°è¡¨ã€‚</p><p>ç»§è€Œåˆå®šä¹‰å¹¶ä¸”å®ç°äº†å›è°ƒå‡½æ•°çš„ä½¿ç”¨è€…å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">CalcValue</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">const</span> Calc &amp;func)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">func</span>(a, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†å»å®šä¹‰å¹¶å®ç°ç¬¦åˆå‡½æ•°æŒ‡é’ˆç±»å‹çš„å®ç°å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¿…é¡»è¦æ³¨æ„çš„æ˜¯ï¼Œå®ç°å‡½æ•°çš„ç±»å‹å¿…é¡»è¦å’Œå‡½æ•°æŒ‡é’ˆçš„ç±»å‹å£°æ˜ä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯è¿”å›å€¼å’Œå‚æ•°è¡¨ï¼ˆä¸ªæ•°ã€ç±»å‹ï¼‰è¦å®Œå…¨ä¸€è‡´ã€‚</p><p>è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªç®€å•ä¸”æœ€åŸºæœ¬çš„å›è°ƒå‡½æ•°ã€‚</p><p>é‚£ä¹ˆï¼Œå›è°ƒå‡½æ•°æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨çš„å‘¢ï¼Ÿ</p><p>ä¸¾ä¸ªæœ€ç»å…¸çš„ä¾‹å­å°±æ˜¯ <code>std::sort</code>ï¼Œå½“ä½ éœ€è¦ç»™ä¸€ä¸ªå­˜å‚¨æœ‰è‡ªå®šä¹‰ç»“æ„ä½“çš„ vector è¿›è¡Œæ’åºæ—¶ï¼Œç¼–è¯‘å™¨æ˜¯æ— æ³•çŸ¥é“å¦‚ä½•å¯¹è‡ªå®šä¹‰ç»“æ„ä½“è¿›è¡Œæ’åºçš„ã€‚</p><p>è¿™æ—¶å€™å°±éœ€è¦å®ç°ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•æ’åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">DataPool</span> &#123;</span><br><span class="line">    <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> date = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">DataPool</span>(<span class="type">int</span> v, <span class="type">int</span> d) : <span class="built_in">value</span>(v), <span class="built_in">date</span>(d) &#123;&#125;;</span><br><span class="line">&#125;DataPool;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">SortCallBack</span><span class="params">(<span class="type">const</span> DataPool &amp;a, <span class="type">const</span> DataPool&amp; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.value &lt; b.value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;DataPool&gt; vec;</span><br><span class="line">    vec.<span class="built_in">push_back</span>(<span class="built_in">DataPool</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line">    vec.<span class="built_in">push_back</span>(<span class="built_in">DataPool</span>(<span class="number">5</span>, <span class="number">2</span>));</span><br><span class="line">    vec.<span class="built_in">push_back</span>(<span class="built_in">DataPool</span>(<span class="number">1</span>, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">    std::<span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), SortCallBack);</span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå°±ç›¸å½“äºè‡ªå®šä¹‰äº† struct çš„æ’åºè§„åˆ™ï¼Œè‡ªç„¶ç¼–è¯‘å™¨ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>std::sort</code> å¯¹è‡ªå®šä¹‰ struct è¿›è¡Œæ’åºæ“ä½œã€‚</p><h2 id="äºŒã€std-function-ä¸-std-bind"><a href="#äºŒã€std-function-ä¸-std-bind" class="headerlink" title="äºŒã€std::function ä¸ std::bind"></a>äºŒã€std::function ä¸ std::bind</h2><p>ä¸Šé¢æ¼”ç¤ºäº†æœ€ç®€å•çš„å›è°ƒå‡½æ•°åˆ›å»ºåŠä½¿ç”¨ï¼Œç„¶è€Œï¼Œä¸Šé¢çš„ä»£ç å´å‡ºç°äº†ä¸€ä¸ªå±€é™æ€§ï¼Œå°±æ˜¯ï¼š</p><p>å¦‚æœéœ€è¦å»å›è°ƒä¸€ä¸ªç±»æˆå‘˜å‡½æ•°ï¼Œå‡½æ•°æŒ‡é’ˆåˆ™æ— æ³•æŒ‡å‘ç±»æˆå‘˜å‡½æ•°ã€‚</p><p>åœ¨åŸºæœ¬Cæ ·å¼é¢å‘è¿‡ç¨‹ç¼–ç¨‹å½“ä¸­ï¼Œè¿™ç§å±€é™æ€§å¹¶ä¸é‚£ä¹ˆæ˜æ˜¾ç”šè‡³å¯ä»¥è¯´ä¸å­˜åœ¨ã€‚ä½†æ˜¯åˆ°äº†C++å½“ä¸­ï¼Œè¿™ç§å¼Šç«¯å°±æ˜¾è€Œæ˜“è§äº†ï¼Œè§£å†³æ–¹å¼ä¾¿æ˜¯ä½¿ç”¨ std::function ä¸ std::bind äº’ç›¸é…åˆã€‚</p><p>å®ƒä»¬çš„å¤´æ–‡ä»¶æ˜¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>std::function</li></ul><p>std::function æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ã€‚ä½œç”¨æ˜¯å¯¹C++ä¸­çš„å¯è°ƒç”¨å¯¹è±¡è¿›è¡ŒåŒ…è£…ï¼Œä¾‹å¦‚æ™®é€šå‡½æ•°ã€æˆå‘˜å‡½æ•°ã€æ¨¡æ¿å‡½æ•°ã€é™æ€å‡½æ•°ã€lambdaè¡¨è¾¾å¼ç­‰ã€‚</p><p>å®ƒçš„æœ€åŸºæœ¬çš„ä½œç”¨æ˜¯ï¼Œç®€åŒ–è°ƒç”¨çš„å¤æ‚ç¨‹åº¦ï¼Œç»Ÿä¸€è°ƒç”¨çš„æ–¹å¼ã€‚å¦‚æœä»£ç ä¸­æ··æ‚ç€å¤§é‡æ™®é€šå‡½æ•°ã€æ¨¡æ¿å‡½æ•°ã€lambdaï¼Œä½¿ç”¨ std::function æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p><p>è¯­æ³•æ˜¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ã€ä¼ªä»£ç ã€‘std::function&lt;returnType(argType, argTypeï¼Œ...)&gt; func;</span><br><span class="line"></span><br><span class="line">ã€å¸¸è§„æƒ…å†µã€‘std::function&lt;<span class="type">int</span>(<span class="type">int</span>, <span class="type">int</span>)&gt; func;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ¨¡æ¿ç±»å½“ä¸­å¯¹ç±»å‹çš„å£°æ˜æ–¹å¼æ˜¯ &lt; è¿”å›å€¼ç±»å‹ ( å‚æ•°ç±»å‹1, å‚æ•°ç±»å‹2, â€¦) &gt;ã€‚</p><p>ä½ å‡ ä¹å¯ä»¥æ‹¿å®ƒåŒ…è£…ä»»ä½•å¯è°ƒç”¨å¯¹è±¡ï¼Œåªéœ€ç®€å•ç²—æš´çš„å°†å¯è°ƒç”¨å¯¹è±¡ä½œä¸ºå³å€¼èµ‹å€¼ç»™å®ƒï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CompareInt</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::function&lt;<span class="type">bool</span>(<span class="type">int</span>, <span class="type">int</span>)&gt; compareFunc = CompareInt;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨å®ƒæ¥è°ƒç”¨ç±»æˆå‘˜å‡½æ•°å‘¢ï¼Ÿè¿™æ—¶å°±éœ€è¦ç”¨åˆ°ç»å¸¸ä¸ <code>std::function</code> é…åˆä½¿ç”¨çš„ <code>std::bind</code>ã€‚</p><ul><li>std::bind</li></ul><p>å®ƒæ˜¯ä¸€ä¸ªåŸºäºæ¨¡æ¿çš„å‡½æ•°ï¼Œé¡¾æ˜æ€æ„å®ƒçš„ä½œç”¨æ˜¯ç»‘å®šå¹¶è¿”å›ä¸€ä¸ª std::function å¯¹è±¡ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯â€œç»‘å®šâ€ï¼Ÿå®ƒæœ¬èº«ä½œä¸ºå»¶è¿Ÿè®¡ç®—çš„æ€æƒ³çš„ä¸€ç§å®ç°ï¼Œä½œä¸ºä¸€ä¸ªè°ƒç”¨è¿‡ç¨‹å½“ä¸­çš„è½¬å‘è€…è€Œå­˜åœ¨ï¼Œè¿”å›ä¸€ä¸ª <code>std::function</code> å¯¹è±¡ã€‚</p><p>å®ƒä¸ <code>std::function</code> ä¸åŒçš„æ˜¯ï¼Œfunction æ˜¯æ¨¡æ¿ç±»ï¼Œbind æ˜¯æ¨¡æ¿å‡½æ•°ï¼Œè€Œ bind è¿”å›çš„å¯è°ƒç”¨å¯¹è±¡å¯ä»¥ç›´æ¥ç»™ function è¿›è¡ŒåŒ…è£…å¹¶ä¿å­˜ã€‚</p><p>ä¸ºä»€ä¹ˆè¦è¿›è¡Œâ€œåŒ…è£…â€ä¸â€œè½¬å‘â€å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œä¸è§„èŒƒçš„è§£é‡Šæ˜¯ï¼Œfunction çš„ä½œç”¨æ˜¯åŒ…è£…ï¼Œå®ƒå¯ä»¥åŒ…è£…ç±»æˆå‘˜å‡½æ•°ï¼Œä½†å´æ— æ³•ç”Ÿæˆç±»æˆå‘˜å‡½æ•°çš„å¯è°ƒç”¨å¯¹è±¡ã€‚è€Œ <code>std::bind</code> åˆ™æ˜¯å¯ä»¥ç”Ÿæˆã€‚</p><p>å› æ­¤ï¼Œfunction ä¸ bind ç»“åˆåï¼Œä¾¿æˆä¸ºäº† C++ ä¸­ç±»æˆå‘˜å‡½æ•°ä½œä¸ºå›è°ƒå‡½æ•°çš„ä¸€ç§è§„èŒƒçš„å®ç°æ–¹å¼ã€‚</p><p><code>std::bind</code> çš„è¯­æ³•æ˜¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* --- æ™®é€šå‡½æ•° --- */</span></span><br><span class="line">ã€ä¼ªä»£ç ã€‘std::<span class="built_in">bind</span>(&amp;funcName, std::placeholders::_1, ...);</span><br><span class="line"></span><br><span class="line">ã€å¸¸è§„æƒ…å†µã€‘std::<span class="built_in">bind</span>(&amp;Add, std::placeholders::_1, std::placeholders::_2);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* --- ç±»æˆå‘˜å‡½æ•° --- */</span></span><br><span class="line">ã€ä¼ªä»£ç ã€‘std::<span class="built_in">bind</span>(&amp;className::funcName, classPtr, std::placeholders::_1, ...);</span><br><span class="line"></span><br><span class="line">ã€å¸¸è§„æƒ…å†µã€‘std::<span class="built_in">bind</span>(&amp;BrainToolBox::Add, brain, std::placeholders::_1, std::placeholders::_2);</span><br></pre></td></tr></table></figure><p>å½“ç”¨ä½œæ™®é€šå‡½æ•°çš„ç»‘å®šæ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯è°ƒç”¨å¯¹è±¡(æ™®é€šå‡½æ•°ã€lambdaç­‰)ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°å¼€å§‹å¯¹åº”å¯è°ƒç”¨å¯¹è±¡çš„å‚æ•°è¡¨ã€‚</p><p><code>std::placeholders::_1</code> ä»£è¡¨å¯è°ƒç”¨å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>_2</code>å°±ä»£è¡¨ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><p>å½“ç”¨ä½œç±»æˆå‘˜å‡½æ•°çš„ç»‘å®šæ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä»ç„¶æ˜¯ä½œä¸ºç±»æˆå‘˜çš„å¯è°ƒç”¨å¯¹è±¡å¼•ç”¨ï¼Œç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯å¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œç¬¬ä¸‰ä¸ªå‚æ•°å¼€å§‹å¯¹åº”å¯è°ƒç”¨å¯¹è±¡çš„å‚æ•°è¡¨ã€‚</p><p>åŒæ ·ä½¿ç”¨ <code>std::placeholders::_*</code> ä¾æ¬¡å‘åæ¨ã€‚</p><p>æ‰€ä»¥ï¼Œä¸ <code>std::function</code> ç›¸ç»“åˆï¼Œä¾¿å¯ä»¥å®ç°å¯¹ç±»æˆå‘˜å‡½æ•°çš„è°ƒç”¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BrainToolBox</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">Add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123; <span class="keyword">return</span> a + b; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">4</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line">    std::shared_ptr&lt;BrainToolBox&gt; brain = std::<span class="built_in">make_shared</span>&lt;BrainToolBox&gt;();</span><br><span class="line">    std::function&lt;<span class="type">int</span>(<span class="type">int</span>, <span class="type">int</span>)&gt; addFunc = std::<span class="built_in">bind</span>(&amp;BrainToolBox::Add, brain, std::placeholders::_1, std::placeholders::_2);</span><br><span class="line"></span><br><span class="line">ã€€ã€€ <span class="type">int</span> c = <span class="built_in">addFunc</span>(a, b);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;c Value: &quot;</span> &lt;&lt; c &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹ <code>std::bind</code> çš„é¢å¤–æ³¨è§£ï¼š</p><blockquote><p>1ï¼Œè°ƒç”¨æŒ‡å‘éé™æ€æˆå‘˜å‡½æ•°æŒ‡é’ˆæˆ–æŒ‡å‘éé™æ€æ•°æ®æˆå‘˜æŒ‡é’ˆæ—¶ï¼Œé¦–å‚æ•°å¿…é¡»æ˜¯å¼•ç”¨æˆ–æŒ‡é’ˆï¼ˆå¯ä»¥åŒ…å«æ™ºèƒ½æŒ‡é’ˆï¼Œå¦‚ std::shared_ptr ä¸ std::unique_ptrï¼‰ï¼ŒæŒ‡å‘å°†è®¿é—®å…¶æˆå‘˜çš„å¯¹è±¡ã€‚ 2ï¼Œåˆ° bind çš„å‚æ•°è¢«å¤åˆ¶æˆ–ç§»åŠ¨ï¼Œè€Œä¸”å†³ä¸æŒ‰å¼•ç”¨ä¼ é€’ï¼Œé™¤éåŒ…è£…äº std::ref æˆ– std::cref ã€‚ 3ï¼Œå…è®¸åŒä¸€ bind è¡¨è¾¾å¼ä¸­çš„å¤šé‡å ä½ç¬¦ï¼ˆä¾‹å¦‚å¤šä¸ª _1 ï¼‰ï¼Œä½†ç»“æœä»…è‹¥å¯¹åº”å‚æ•°ï¼ˆ u1 ï¼‰æ˜¯å·¦å€¼æˆ–ä¸å¯ç§»åŠ¨å³å€¼æ‰è‰¯å¥½å®šä¹‰ã€‚</p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/11/20/callback/">https://blog.jujimeizuo.cn/2022/11/20/callback/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ•°ç›®</title>
      <link href="/2022/11/18/getfilenumber/"/>
      <url>/2022/11/18/getfilenumber/</url>
      
        <content type="html"><![CDATA[<p>Linuxä¸‹æœ‰ä¸‰ä¸ªå‘½ä»¤ï¼š<code>ls</code>ã€<code>grep</code>ã€<code>wc</code>ã€‚é€šè¿‡è¿™ä¸‰ä¸ªå‘½ä»¤çš„ç»„åˆå¯ä»¥ç»Ÿè®¡ç›®å½•ä¸‹æ–‡ä»¶åŠæ–‡ä»¶å¤¹çš„ä¸ªæ•°ã€‚</p><ul><li><p>ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ˆä¸åŒ…æ‹¬ç›®å½•ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -l  grep <span class="string">&quot;^-&quot;</span>  <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure></li><li><p>ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -lR grep <span class="string">&quot;^-&quot;</span>  <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹æŸç›®å½•ä¸‹æ–‡ä»¶å¤¹(ç›®å½•)çš„ä¸ªæ•°ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -lR  grep <span class="string">&quot;^d&quot;</span>  <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure><p>å‘½ä»¤è§£æï¼š</p></li><li><p><code>ls -l</code> é•¿åˆ—è¡¨è¾“å‡ºè¯¥ç›®å½•ä¸‹æ–‡ä»¶ä¿¡æ¯(æ³¨æ„è¿™é‡Œçš„æ–‡ä»¶æ˜¯æŒ‡ç›®å½•ã€é“¾æ¥ã€è®¾å¤‡æ–‡ä»¶ç­‰)ï¼Œæ¯ä¸€è¡Œå¯¹åº”ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œ<code>ls -lR</code>æ˜¯åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ç›®å½•ã€‚</p></li><li><p><code>grep &quot;^-&quot;</code> è¿‡æ»¤<code>ls</code>çš„è¾“å‡ºä¿¡æ¯ï¼Œåªä¿ç•™ä¸€èˆ¬æ–‡ä»¶ï¼Œåªä¿ç•™ç›®å½•æ˜¯<code>grep &quot;^d&quot;</code>ã€‚</p></li><li><p><code>wc -l</code> ç»Ÿè®¡è¾“å‡ºä¿¡æ¯çš„è¡Œæ•°ï¼Œç»Ÿè®¡ç»“æœå°±æ˜¯è¾“å‡ºä¿¡æ¯çš„è¡Œæ•°ï¼Œä¸€è¡Œä¿¡æ¯å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å°±æ˜¯æ–‡ä»¶çš„ä¸ªæ•°ã€‚</p></li></ul><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/11/18/getfilenumber/">https://blog.jujimeizuo.cn/2022/11/18/getfilenumber/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®ç°ç®€æ˜“httpæœåŠ¡å™¨</title>
      <link href="/2022/11/09/tinyhttpd/"/>
      <url>/2022/11/09/tinyhttpd/</url>
      
        <content type="html"><![CDATA[<h2 id="tinyhttpdå·¥ä½œæµç¨‹"><a href="#tinyhttpdå·¥ä½œæµç¨‹" class="headerlink" title="tinyhttpdå·¥ä½œæµç¨‹"></a>tinyhttpdå·¥ä½œæµç¨‹</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2022/11/process.png"></p><h3 id="æ ¸å¿ƒå‡½æ•°è¯´æ˜"><a href="#æ ¸å¿ƒå‡½æ•°è¯´æ˜" class="headerlink" title="æ ¸å¿ƒå‡½æ•°è¯´æ˜"></a>æ ¸å¿ƒå‡½æ•°è¯´æ˜</h3><ul><li>startup: ç»‘å®šç›‘å¬å¥—æ¥å­—</li><li>accept_request æ¯æ¬¡æ”¶åˆ°è¯·æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ¥æ”¶åˆ°çš„è¯·æ±‚</li><li>serve_file æ¥è¯»å–æ–‡ä»¶è¿”å›ç»™è¯·æ±‚çš„httpå®¢æˆ·ç«¯</li><li>execute_cgi æ‰§è¡Œcgiæ–‡ä»¶</li></ul><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>index.htmlå¿…é¡»æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œå¦åˆ™çœ‹ä¸åˆ°å†…å®¹ï¼Œå¹¶ä¸”ä¼šäº§ç”ŸProgram received signal SIGPIPE, Broken pipeï¼Œå› ä¸ºç¨‹åºä¸­å¦‚æœæœ‰å¯æ‰§è¡Œæƒé™ä¼šå½“cgiè„šæœ¬å¤„ç†ã€‚ æ‰€ä»¥å‡å¦‚htmlæœ‰æ‰§è¡Œæƒé™å…ˆæŠŠå®ƒå»é™¤äº†ï¼Œ<code>chmod 600 index.html</code></p><p>color.cgiã€date.cgiå¿…é¡»è¦æœ‰æ‰§è¡Œæƒé™ï¼Œ<code>chmod 755 *.cgi</code></p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><h3 id="åœ¨é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œmake"><a href="#åœ¨é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œmake" class="headerlink" title="åœ¨é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œmake"></a>åœ¨é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œmake</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2022/11/make.png"></p><h3 id="åœ¨æµè§ˆå™¨ä¸­è¾“å…¥-127-0-0-1-port"><a href="#åœ¨æµè§ˆå™¨ä¸­è¾“å…¥-127-0-0-1-port" class="headerlink" title="åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ 127.0.0.1:port"></a>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>127.0.0.1:port</code></h3><p><img src="https://cdn.jujimeizuo.cn/blog/2022/11/index.png"></p><h3 id="æµ‹è¯•color-cgi"><a href="#æµ‹è¯•color-cgi" class="headerlink" title="æµ‹è¯•color.cgi"></a>æµ‹è¯•color.cgi</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2022/11/red.png"></p><h3 id="æµ‹è¯•index2-html"><a href="#æµ‹è¯•index2-html" class="headerlink" title="æµ‹è¯•index2.html"></a>æµ‹è¯•index2.html</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2022/11/index2.png"></p><h3 id="æµ‹è¯•date-cgi"><a href="#æµ‹è¯•date-cgi" class="headerlink" title="æµ‹è¯•date.cgi"></a>æµ‹è¯•date.cgi</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2022/11/date.png"></p><h2 id="httpd-c"><a href="#httpd-c" class="headerlink" title="httpd.c"></a>httpd.c</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* J. David&#x27;s webserver */</span></span><br><span class="line"><span class="comment">/* This is a simple webserver.</span></span><br><span class="line"><span class="comment"> * Created November 1999 by J. David Blackstone.</span></span><br><span class="line"><span class="comment"> * CSE 4344 (Network concepts), Prof. Zeigler</span></span><br><span class="line"><span class="comment"> * University of Texas at Arlington</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/* This program compiles for Sparc Solaris 2.6.</span></span><br><span class="line"><span class="comment"> * To compile for Linux:</span></span><br><span class="line"><span class="comment"> *  1) Comment out the ##include &lt;pthread.h&gt; line.</span></span><br><span class="line"><span class="comment"> *  2) Comment out the line that defines the variable newthread.</span></span><br><span class="line"><span class="comment"> *  3) Comment out the two lines that run pthread_create().</span></span><br><span class="line"><span class="comment"> *  4) Uncomment the line that runs accept_request().</span></span><br><span class="line"><span class="comment"> *  5) Remove -lsocket from the Makefile.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctype.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;strings.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pthread.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> ISspace(x) isspace((int)(x))</span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> SERVER_STRING <span class="string">&quot;Server: jdbhttpd/0.1.0\r\n&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¯æ¬¡æ”¶åˆ°è¯·æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ¥æ”¶åˆ°çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment"> * æŠŠclient_sockè½¬æˆåœ°å€ä½œä¸ºå‚æ•°ä¼ å…¥pthread_create</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">accept_request</span><span class="params">(<span class="type">void</span> *arg)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é”™è¯¯è¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">bad_request</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯»å–æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">cat</span><span class="params">(<span class="type">int</span>, FILE *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ— æ³•æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">cannot_execute</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é”™è¯¯è¾“å‡º</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">error_die</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰§è¡Œcigè„šæœ¬</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">execute_cgi</span><span class="params">(<span class="type">int</span>, <span class="type">const</span> <span class="type">char</span> *, <span class="type">const</span> <span class="type">char</span> *, <span class="type">const</span> <span class="type">char</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¾—åˆ°ä¸€è¡Œæ•°æ®ï¼Œåªè¦å‘ç°cä¸º\nï¼Œå°±è®¤ä¸ºæ˜¯ä¸€è¡Œç»“æŸï¼Œå¦‚æœè¯»åˆ°\rï¼Œåœ¨ç”¨MSG_PEEKçš„æ–¹å¼è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœæ˜¯\nï¼Œä»socketç”¨è¯»å‡º</span></span><br><span class="line"><span class="comment"> * å¦‚æœæ˜¯ä¸‹ä¸ªå­—ç¬¦åˆ™ä¸å¤„ç†ï¼Œå°†cç½®ä¸º\nï¼Œç»“æŸã€‚å¦‚æœè¯»åˆ°çš„æ•°æ®ä¸º0ä¸­æ–­ï¼Œæˆ–è€…å°äº0ï¼Œä¹Ÿè§†ä¸ºç»“æŸï¼Œcç½®ä¸º\n</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">get_line</span><span class="params">(<span class="type">int</span>, <span class="type">char</span> *, <span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›httpdå¤´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">headers</span><span class="params">(<span class="type">int</span>, <span class="type">const</span> <span class="type">char</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ²¡æœ‰å‘ç°æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">not_found</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¦‚æœä¸æ˜¯CGIæ–‡ä»¶ï¼Œç›´æ¥è¯»å–æ–‡ä»¶è¿”å›ç»™è¯·æ±‚çš„httpå®¢æˆ·ç«¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">server_file</span><span class="params">(<span class="type">int</span>, <span class="type">const</span> <span class="type">char</span> *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¼€å¯tcpè¿æ¥ï¼Œç»‘å®šç«¯å£ç­‰æ“ä½œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">startup</span><span class="params">(u_short *)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¦‚æœä¸æ˜¯Getæˆ–è€…Postï¼Œå°±æŠ¥æ–¹æ³•æ²¡æœ‰å®ç°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">unimplemented</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Httpè¯·æ±‚ï¼Œåç»­ä¸»è¦æ˜¯å¤„ç†è¿™ä¸ªå¤´</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// GET / HTTP/1.1</span></span><br><span class="line"><span class="comment">// Host: 192.168.0.23:47310</span></span><br><span class="line"><span class="comment">// Connection: keep-alive</span></span><br><span class="line"><span class="comment">// Upgrade-Insecure-Requests: 1</span></span><br><span class="line"><span class="comment">// User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36</span></span><br><span class="line"><span class="comment">// Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*; q = 0.8</span></span><br><span class="line"><span class="comment">// Accept - Encoding: gzip, deflate, sdch</span></span><br><span class="line"><span class="comment">// Accept - Language : zh - CN, zh; q = 0.8</span></span><br><span class="line"><span class="comment">// Cookie: __guid = 179317988.1576506943281708800.1510107225903.8862; monitor_count = 5</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// POST / color1.cgi HTTP / 1.1</span></span><br><span class="line"><span class="comment">// Host: 192.168.0.23 : 47310</span></span><br><span class="line"><span class="comment">// Connection : keep - alive</span></span><br><span class="line"><span class="comment">// Content - Length : 10</span></span><br><span class="line"><span class="comment">// Cache - Control : max - age = 0</span></span><br><span class="line"><span class="comment">// Origin : http ://192.168.0.23:40786</span></span><br><span class="line"><span class="comment">// Upgrade - Insecure - Requests : 1</span></span><br><span class="line"><span class="comment">// User - Agent : Mozilla / 5.0 (Windows NT 6.1; WOW64) AppleWebKit / 537.36 (KHTML, like Gecko) Chrome / 55.0.2883.87 Safari / 537.36</span></span><br><span class="line"><span class="comment">// Content - Type : application / x - www - form - urlencoded</span></span><br><span class="line"><span class="comment">// Accept : text / html, application / xhtml + xml, application / xml; q = 0.9, image / webp, */*;q=0.8</span></span><br><span class="line"><span class="comment">// Referer: http://192.168.0.23:47310/</span></span><br><span class="line"><span class="comment">// Accept-Encoding: gzip, deflate</span></span><br><span class="line"><span class="comment">// Accept-Language: zh-CN,zh;q=0.8</span></span><br><span class="line"><span class="comment">// Cookie: __guid=179317988.1576506943281708800.1510107225903.8862; monitor_count=281</span></span><br><span class="line"><span class="comment">// Form Data</span></span><br><span class="line"><span class="comment">// color=gray</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* A request has caused a call to accept() on the server port to</span></span><br><span class="line"><span class="comment"> * return.  Process the request appropriately.</span></span><br><span class="line"><span class="comment"> * Parameters: the socket connected to the client */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">accept_request</span><span class="params">(<span class="type">void</span> *arg)</span> &#123;</span><br><span class="line">    <span class="comment">// socket</span></span><br><span class="line">    <span class="type">int</span> client = (<span class="type">intptr_t</span>) arg;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line">    <span class="type">int</span> numchars;</span><br><span class="line">    <span class="type">char</span> method[<span class="number">255</span>];</span><br><span class="line">    <span class="type">char</span> url[<span class="number">255</span>];</span><br><span class="line">    <span class="type">char</span> path[<span class="number">512</span>];</span><br><span class="line">    <span class="type">size_t</span> i, j;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">st</span>;</span></span><br><span class="line">    <span class="type">int</span> cgi = <span class="number">0</span>;    <span class="comment">/* becomes true if server decides this is a CGI</span></span><br><span class="line"><span class="comment">                     * program */</span></span><br><span class="line">    <span class="type">char</span> *query_string = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="comment">// æ ¹æ®ä¸Šé¢çš„Getè¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°è¿™è¾¹å°±æ˜¯å–ç¬¬ä¸€è¡Œ</span></span><br><span class="line">    <span class="comment">// è¿™è¾¹éƒ½æ˜¯åœ¨å¤„ç†ç¬¬ä¸€æ¡httpä¿¡æ¯</span></span><br><span class="line">    <span class="comment">// &quot;GET / HTTP/1.1\n&quot;</span></span><br><span class="line">    numchars = get_line(client, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">    i = <span class="number">0</span>; j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬ä¸€è¡Œå­—ç¬¦ä¸²æå–Get</span></span><br><span class="line">    <span class="keyword">while</span> (!ISspace(buf[j]) &amp;&amp; (i &lt; <span class="keyword">sizeof</span>(method) - <span class="number">1</span>)) &#123;</span><br><span class="line">        method[i] = buf[j];</span><br><span class="line">        i++; j++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»“æŸ</span></span><br><span class="line">    method[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯Getè¿˜æ˜¯Post</span></span><br><span class="line">    <span class="keyword">if</span> (strcasecmp(method, <span class="string">&quot;GET&quot;</span>) &amp;&amp; strcasecmp(method, <span class="string">&quot;POST&quot;</span>)) &#123;</span><br><span class="line">        unimplemented(client);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯POSTï¼Œcgiç½®ä¸º1</span></span><br><span class="line">    <span class="keyword">if</span> (strcasecmp(method, <span class="string">&quot;POST&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">        cgi = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// è·³è¿‡ç©ºæ ¼</span></span><br><span class="line">    <span class="keyword">while</span> (ISspace(buf[j]) &amp;&amp; (j &lt; <span class="keyword">sizeof</span>(buf))) &#123;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//å¾—åˆ° &quot;/&quot;   æ³¨æ„ï¼šå¦‚æœä½ çš„httpçš„ç½‘å€ä¸ºhttp://192.168.0.23:47310/index.html</span></span><br><span class="line">     <span class="comment">//               é‚£ä¹ˆä½ å¾—åˆ°çš„ç¬¬ä¸€æ¡httpä¿¡æ¯ä¸ºGET /index.html HTTP/1.1ï¼Œé‚£ä¹ˆ</span></span><br><span class="line">     <span class="comment">//               è§£æå¾—åˆ°çš„å°±æ˜¯/index.html</span></span><br><span class="line">    <span class="keyword">while</span> (!ISspace(buf[j]) &amp;&amp; (i &lt; <span class="keyword">sizeof</span>(url) - <span class="number">1</span>) &amp;&amp; (j &lt; <span class="keyword">sizeof</span>(buf))) &#123;</span><br><span class="line">        url[i] = buf[j];</span><br><span class="line">        i++; j++;</span><br><span class="line">    &#125;</span><br><span class="line">    url[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­Getè¯·æ±‚</span></span><br><span class="line">    <span class="keyword">if</span> (strcasecmp(method, <span class="string">&quot;GET&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">        query_string = url;</span><br><span class="line">        <span class="keyword">while</span> ((*query_string != <span class="string">&#x27;?&#x27;</span>) &amp;&amp; (*query_string != <span class="string">&#x27;\0&#x27;</span>)) &#123;</span><br><span class="line">            query_string++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (*query_string == <span class="string">&#x27;?&#x27;</span>) &#123;</span><br><span class="line">            cgi = <span class="number">1</span>;</span><br><span class="line">            *query_string = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">            query_string++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·¯å¾„</span></span><br><span class="line">    <span class="built_in">sprintf</span>(path, <span class="string">&quot;htdocs%s&quot;</span>, url);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤åœ°å€ï¼Œè§£æé“çš„è·¯å¾„å¦‚æœæ˜¯/ï¼Œåˆ™è‡ªåŠ¨åŠ ä¸Šindex.html</span></span><br><span class="line">    <span class="keyword">if</span> (path[<span class="built_in">strlen</span>(path) - <span class="number">1</span>] == <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">strcat</span>(path, <span class="string">&quot;index.html&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å¾—æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> (stat(path, &amp;st) == <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// æŠŠæ‰€æœ‰httpä¿¡æ¯è¯»å‡ºç„¶åä¸¢å¼ƒ</span></span><br><span class="line">        <span class="keyword">while</span> ((numchars &gt; <span class="number">0</span>) &amp;&amp; <span class="built_in">strcmp</span>(<span class="string">&quot;\n&quot;</span>, buf)) &#123; <span class="comment">/* read &amp; discard headers */</span></span><br><span class="line">            numchars = get_line(client, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ²¡æœ‰æ‰¾åˆ°</span></span><br><span class="line">        not_found(client);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ((st.st_mode &amp; S_IFMT) == S_IFDIR) &#123;</span><br><span class="line">            <span class="built_in">strcat</span>(path, <span class="string">&quot;/index.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœä½ çš„æ–‡ä»¶é»˜è®¤æ˜¯æœ‰æ‰§è¡Œå…¨å¿çš„ï¼Œè‡ªåŠ¨è§£ææˆcgiç¨‹åºï¼Œå¦‚æœæœ‰æ‰§è¡Œæƒé™ä½†æ˜¯ä¸èƒ½æ‰§è¡Œï¼Œä¼šæ¥å—åˆ°æŠ¥é”™ä¿¡å·</span></span><br><span class="line">        <span class="keyword">if</span> ((st.st_mode &amp; S_IXUSR) </span><br><span class="line">            (st.st_mode &amp; S_IXGRP) </span><br><span class="line">            (st.st_mode &amp; S_IXOTH)  ) &#123;</span><br><span class="line">            cgi = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!cgi) &#123;</span><br><span class="line">            <span class="comment">// æ¥è¯»å–æ–‡ä»¶è¿”å›ç»™è¯·æ±‚çš„httpå®¢æˆ·ç«¯</span></span><br><span class="line">            server_file(client, path);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œcgiæ–‡ä»¶</span></span><br><span class="line">            execute_cgi(client, path, method, query_string);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œå®Œæ¯•å…³é—­socket</span></span><br><span class="line">    &#125;</span><br><span class="line">    close(client);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Inform the client that a request it has made has a problem.</span></span><br><span class="line"><span class="comment"> * Parameters: client socket */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">bad_request</span><span class="params">(<span class="type">int</span> client)</span> &#123;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;HTTP/1.0 500 BAD REQUEST\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="keyword">sizeof</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;Content-type: test/html\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="keyword">sizeof</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="keyword">sizeof</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;P&gt;Your browser sent a bad request, &quot;</span>);</span><br><span class="line">    send(client, buf, <span class="keyword">sizeof</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;such as a POST without a Content-Length.\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="keyword">sizeof</span>(buf), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Put the entire contents of a file out on a socket.  This function</span></span><br><span class="line"><span class="comment"> * is named after the UNIX &quot;cat&quot; command, because it might have been</span></span><br><span class="line"><span class="comment"> * easier just to do something like pipe, fork, and exec(&quot;cat&quot;).</span></span><br><span class="line"><span class="comment"> * Parameters: the client socket descriptor</span></span><br><span class="line"><span class="comment"> *             FILE pointer for the file to cat */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾—åˆ°æ–‡ä»¶å†…å®¹ï¼Œå‘é€</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">cat</span><span class="params">(<span class="type">int</span> client, FILE *resource)</span> &#123;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    fgets(buf, <span class="keyword">sizeof</span>(buf), resource);</span><br><span class="line">    <span class="comment">// å¾ªç¯è¯»</span></span><br><span class="line">    <span class="keyword">while</span> (!feof(resource)) &#123;</span><br><span class="line">        send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">        fgets(buf, <span class="keyword">sizeof</span>(buf), resource);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Inform the client that a CGI script could not be executed.</span></span><br><span class="line"><span class="comment"> * Parameter: the client socket descriptor. */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">cannot_execute</span><span class="params">(<span class="type">int</span> client)</span> &#123;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;HTTP/1.0 500 Internal Server Error\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;Content-type: text/html\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;P&gt;Error prohibited CGI execution.\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Print out an error message with perror() (for system errors; based</span></span><br><span class="line"><span class="comment"> * on value of errno, which indicates system call errors) and exit the</span></span><br><span class="line"><span class="comment"> * program indicating an error. */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">error_die</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *sc)</span> &#123;</span><br><span class="line">    perror(sc);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Execute a CGI script.  Will need to set environment variables as</span></span><br><span class="line"><span class="comment"> * appropriate.</span></span><br><span class="line"><span class="comment"> * Parameters: client socket descriptor</span></span><br><span class="line"><span class="comment"> *             path to the CGI script */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">execute_cgi</span><span class="params">(<span class="type">int</span> client, <span class="type">const</span> <span class="type">char</span> *path,</span></span><br><span class="line"><span class="params">                        <span class="type">const</span> <span class="type">char</span> *method, <span class="type">const</span> <span class="type">char</span> *query_string)</span> &#123;</span><br><span class="line">    <span class="comment">// ç¼“å†²åŒº</span></span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2æ ¹ç®¡é“</span></span><br><span class="line">    <span class="type">int</span> cgi_output[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> cgi_input[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿›ç¨‹pidå’ŒçŠ¶æ€</span></span><br><span class="line">    <span class="type">pid_t</span> pid;</span><br><span class="line">    <span class="type">int</span> status;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯»å–çš„å­—ç¬¦æ•°</span></span><br><span class="line">    <span class="type">int</span> numchars = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// httpçš„content_length</span></span><br><span class="line">    <span class="type">int</span> content_length = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤å­—ç¬¦</span></span><br><span class="line">    buf[<span class="number">0</span>] = <span class="string">&#x27;A&#x27;</span>; buf[<span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿½ç•¥å¤§å°å†™æ¯”è¾ƒå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">if</span> (strcasecmp(method, <span class="string">&quot;GET&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// è¯»å–æ•°æ®ï¼ŒæŠŠæ•´ä¸ªheaderéƒ½è¯»æ‰ï¼Œä»¥ä¸ºGetå†™æ­»äº†ç›´æ¥è¯»å–index.htmlï¼Œæ²¡æœ‰å¿…è¦åˆ†æä½™ä¸‹çš„httpä¿¡æ¯äº†</span></span><br><span class="line">        <span class="keyword">while</span> ((numchars &gt; <span class="number">0</span>) &amp;&amp; <span class="built_in">strcmp</span>(<span class="string">&quot;\n&quot;</span>, buf)) &#123; <span class="comment">/* read &amp; discard headers */</span></span><br><span class="line">            numchars = get_line(client, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">/* POST */</span></span><br><span class="line">        numchars = get_line(client, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="keyword">while</span> ((numchars &gt; <span class="number">0</span>) &amp;&amp; <span class="built_in">strcmp</span>(<span class="string">&quot;\n&quot;</span>, buf)) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜¯POSTè¯·æ±‚ï¼Œå°±éœ€è¦å¾—åˆ°Content-Lengthï¼ŒContent-Lengthï¼šè¿™ä¸ªå­—ç¬¦ä¸²ä¸€å…±é•¿15ä½ï¼Œæ‰€ä»¥</span></span><br><span class="line">            <span class="comment">// å–å‡ºå¤´éƒ¨ä¸€å¥åï¼Œå°†ç¬¬16ä½è®¾ç½®ç»“æŸç¬¦ï¼Œè¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">            <span class="comment">// ç¬¬16ä½ç½®ä¸ºç»“æŸ</span></span><br><span class="line">            buf[<span class="number">15</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (strcasecmp(buf, <span class="string">&quot;Content-Length:&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// å†…å­˜ä»ç¬¬17ä½å¼€å§‹å°±æ˜¯é•¿åº¦ï¼Œå°†17ä½å¼€å§‹çš„æ‰€æœ‰å­—ç¬¦ä¸²è½¬æˆæ•´æ•°å°±æ˜¯content-length</span></span><br><span class="line">                content_length = atoi(&amp;buf[<span class="number">16</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            numchars = get_line(client, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (content_length == <span class="number">-1</span>) &#123;</span><br><span class="line">            bad_request(client);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;HTTP/1.0 200 OK\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å»ºç«‹outputç®¡é“</span></span><br><span class="line">    <span class="keyword">if</span> (pipe(cgi_output) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        cannot_execute(client);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å»ºç«‹inputç®¡é“</span></span><br><span class="line">    <span class="keyword">if</span> (pipe(cgi_input) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        cannot_execute(client);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//       forkåç®¡é“éƒ½å¤åˆ¶äº†ä¸€ä»½ï¼Œéƒ½æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">    <span class="comment">//       å­è¿›ç¨‹å…³é—­2ä¸ªæ— ç”¨çš„ç«¯å£ï¼Œé¿å…æµªè´¹             </span></span><br><span class="line">    <span class="comment">//       Ã—&lt;-------------------------&gt;1    output</span></span><br><span class="line">    <span class="comment">//       0&lt;--------------------------&gt;Ã—   input</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//       çˆ¶è¿›ç¨‹å…³é—­2ä¸ªæ— ç”¨çš„ç«¯å£ï¼Œé¿å…æµªè´¹             </span></span><br><span class="line">    <span class="comment">//       0&lt;--------------------------&gt;Ã—   output</span></span><br><span class="line">    <span class="comment">//       Ã—&lt;-------------------------&gt;1    input</span></span><br><span class="line">    <span class="comment">//       æ­¤æ—¶çˆ¶å­è¿›ç¨‹å·²ç»å¯ä»¥é€šä¿¡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// forkè¿›ç¨‹ï¼Œå­è¿›ç¨‹ç”¨äºæ‰§è¡ŒCGI</span></span><br><span class="line">    <span class="comment">// çˆ¶è¿›ç¨‹ç”¨äºæ”¶æ•°æ®ä»¥åŠå‘é€å­è¿›ç¨‹å¤„ç†çš„å›å¤æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> ( (pid = fork()) &lt; <span class="number">0</span> ) &#123;</span><br><span class="line">        cannot_execute(client);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (pid == <span class="number">0</span>) &#123; <span class="comment">/*child: CGI script */</span></span><br><span class="line">        <span class="type">char</span> meth_env[<span class="number">255</span>];</span><br><span class="line">        <span class="type">char</span> query_env[<span class="number">255</span>];</span><br><span class="line">        <span class="type">char</span> length_env[<span class="number">255</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å­è¿›ç¨‹è¾“å‡ºé‡å®šå‘åˆ°outputç®¡é“çš„1ç«¯</span></span><br><span class="line">        dup2(cgi_output[<span class="number">1</span>], <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// å­è¿›ç¨‹è¾“å…¥é‡å®šå‘åˆ°inputç®¡é“çš„0ç«¯</span></span><br><span class="line">        dup2(cgi_input[<span class="number">0</span>], <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å…³é—­æ— ç”¨ç®¡é“</span></span><br><span class="line">        close(cgi_output[<span class="number">0</span>]);</span><br><span class="line">        close(cgi_input[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// CGIç¯å¢ƒå˜é‡</span></span><br><span class="line">        <span class="built_in">sprintf</span>(meth_env, <span class="string">&quot;REQUEST_METHOD=%s&quot;</span>, method);</span><br><span class="line">        putenv(meth_env);</span><br><span class="line">        <span class="keyword">if</span> (strcasecmp(method, <span class="string">&quot;GET&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">sprintf</span>(query_env, <span class="string">&quot;REQUEST_STRING=%s&quot;</span>, query_string);</span><br><span class="line">            putenv(query_env);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">/* POST */</span></span><br><span class="line">            <span class="built_in">sprintf</span>(length_env, <span class="string">&quot;CONTENT_LENGTH=%d&quot;</span>, content_length);</span><br><span class="line">            putenv(length_env);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ›¿æ¢æ‰§è¡Œpath</span></span><br><span class="line">        execl(path, path, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="comment">// int m = execl(path, path, NULL);</span></span><br><span class="line">        <span class="comment">// å¦‚æœpathæœ‰é—®é¢˜ï¼Œä¾‹å¦‚å°†htmlç½‘é¡µæ”¹æˆå¯æ‰§è¡Œçš„ï¼Œä½†æ˜¯æ‰§è¡Œåmä¸º-1</span></span><br><span class="line">        <span class="comment">// é€€å‡ºå­è¿›ç¨‹ï¼Œç®¡é“è¢«ç ´åï¼Œä½†æ˜¯çˆ¶è¿›ç¨‹è¿˜åœ¨å¾€é‡Œé¢å†™ä¸œè¥¿ï¼Œè§¦å‘Program received signal SIGPIPE, Broken pipe.</span></span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">/* parent */</span></span><br><span class="line">        <span class="comment">// å…³é—­æ— ç”¨ç®¡é“</span></span><br><span class="line">        close(cgi_output[<span class="number">1</span>]);</span><br><span class="line">        close(cgi_input[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (strcasecmp(method, <span class="string">&quot;POST&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; content_length; i++) &#123;</span><br><span class="line">                <span class="comment">// å¾—åˆ°postè¯·æ±‚æ•°æ®ï¼Œå†™åˆ°inputç®¡é“ä¸­ï¼Œä¾›å­è¿›ç¨‹ä½¿ç”¨</span></span><br><span class="line">                recv(client, &amp;c, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">                write(cgi_input[<span class="number">1</span>], &amp;c, <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»outputç®¡é“è¯»åˆ°å­è¿›ç¨‹å¤„ç†åçš„ä¿¡æ¯ï¼Œç„¶åsendå‡ºå»</span></span><br><span class="line">        <span class="keyword">while</span> (read(cgi_output[<span class="number">0</span>], &amp;c, <span class="number">1</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            send(client, &amp;c, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å®Œæˆæ“ä½œåå…³é—­ç®¡é“</span></span><br><span class="line">        close(cgi_output[<span class="number">0</span>]);</span><br><span class="line">        close(cgi_input[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç­‰å¾…å­è¿›ç¨‹è¿”å›</span></span><br><span class="line">        waitpid(pid, &amp;status, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Get a line from a socket, whether the line ends in a newline,</span></span><br><span class="line"><span class="comment"> * carriage return, or a CRLF combination.  Terminates the string read</span></span><br><span class="line"><span class="comment"> * with a null character.  If no newline indicator is found before the</span></span><br><span class="line"><span class="comment"> * end of the buffer, the string is terminated with a null.  If any of</span></span><br><span class="line"><span class="comment"> * the above three line terminators is read, the last character of the</span></span><br><span class="line"><span class="comment"> * string will be a linefeed and the string will be terminated with a</span></span><br><span class="line"><span class="comment"> * null character.</span></span><br><span class="line"><span class="comment"> * Parameters: the socket descriptor</span></span><br><span class="line"><span class="comment"> *             the buffer to save the data in</span></span><br><span class="line"><span class="comment"> *             the size of the buffer</span></span><br><span class="line"><span class="comment"> * Returns: the number of bytes stored (excluding null) */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¾—åˆ°ä¸€è¡Œæ•°æ®,åªè¦å‘ç°cä¸º\n,å°±è®¤ä¸ºæ˜¯ä¸€è¡Œç»“æŸï¼Œå¦‚æœè¯»åˆ°\r,å†ç”¨MSG_PEEKçš„æ–¹å¼è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœæ˜¯\nï¼Œä»socketç”¨è¯»å‡º</span></span><br><span class="line"><span class="comment">//å¦‚æœæ˜¯ä¸‹ä¸ªå­—ç¬¦åˆ™ä¸å¤„ç†ï¼Œå°†cç½®ä¸º\nï¼Œç»“æŸã€‚å¦‚æœè¯»åˆ°çš„æ•°æ®ä¸º0ä¸­æ–­ï¼Œæˆ–è€…å°äº0ï¼Œä¹Ÿè§†ä¸ºç»“æŸï¼Œcç½®ä¸º\n</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">get_line</span><span class="params">(<span class="type">int</span> sock, <span class="type">char</span> *buf, <span class="type">int</span> size)</span> &#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> c = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ((i &lt; size - <span class="number">1</span>) &amp;&amp; (c != <span class="string">&#x27;\n&#x27;</span>)) &#123;</span><br><span class="line">        n = recv(sock, &amp;c, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="comment">/* DEBUG printf(&quot;%02X\n&quot;, c); */</span></span><br><span class="line">        <span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;\r&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// å·çª¥ä¸€ä¸ªå­—èŠ‚ï¼Œå¦‚æœæ˜¯\nå°±è¯»èµ°</span></span><br><span class="line">                n = recv(sock, &amp;c, <span class="number">1</span>, MSG_PEEK);</span><br><span class="line">                <span class="comment">/* DEBUG printf(&quot;%02X\n&quot;, c); */</span></span><br><span class="line">                <span class="keyword">if</span> ((n &gt; <span class="number">0</span>) &amp;&amp; (c == <span class="string">&#x27;\n&#x27;</span>)) &#123;</span><br><span class="line">                    recv(sock, &amp;c, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//ä¸æ˜¯\nï¼ˆè¯»åˆ°ä¸‹ä¸€è¡Œçš„å­—ç¬¦ï¼‰æˆ–è€…æ²¡è¯»åˆ°ï¼Œç½®cä¸º\n è·³å‡ºå¾ªç¯,å®Œæˆä¸€è¡Œè¯»å–</span></span><br><span class="line">                    c = <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            buf[i] = c;</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            c = <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    buf[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Return the informational HTTP headers about a file. */</span></span><br><span class="line"><span class="comment">/* Parameters: the socket to print the headers on</span></span><br><span class="line"><span class="comment"> *             the name of the file */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å…¥httpçš„headers</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">headers</span><span class="params">(<span class="type">int</span> client, <span class="type">const</span> <span class="type">char</span> *filename)</span> &#123;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line">    (<span class="type">void</span>) filename; <span class="comment">/* could use filename to determine file type */</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">&quot;HTTP/1.0 200 OK\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, SERVER_STRING);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;Content-type: text/html\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Give a client a 404 not found status message. */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœèµ„æºæ²¡æœ‰æ‰¾åˆ°å¾—è¿”å›ç»™å®¢æˆ·ç«¯ä¸‹é¢çš„ä¿¡æ¯</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">not_found</span><span class="params">(<span class="type">int</span> client)</span> &#123;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;HTTP/1.0 404 NOT FOUND\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, SERVER_STRING);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;Content-Type: text/html\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;HTML&gt;&lt;TITLE&gt;Not Found&lt;/TITLE&gt;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;BODY&gt;&lt;P&gt;The server could not fulfill\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;your request because the resource specified\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;is unavailable or nonexistent.\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;/BODY&gt;&lt;/HTML&gt;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Send a regular file to the client.  Use headers, and report</span></span><br><span class="line"><span class="comment"> * errors to client if they occur.</span></span><br><span class="line"><span class="comment"> * Parameters: a pointer to a file structure produced from the socket</span></span><br><span class="line"><span class="comment"> *              file descriptor</span></span><br><span class="line"><span class="comment"> *             the name of the file to serve */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœä¸æ˜¯CGIæ–‡ä»¶ï¼Œç›´æ¥è¯»å–æ–‡ä»¶è¿”å›ç»™è¯·æ±‚çš„httpå®¢æˆ·ç«¯</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">server_file</span><span class="params">(<span class="type">int</span> client, <span class="type">const</span> <span class="type">char</span> *filename)</span> &#123;</span><br><span class="line">    FILE *resource = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">int</span> numchars = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤å­—ç¬¦</span></span><br><span class="line">    buf[<span class="number">0</span>] = <span class="string">&#x27;A&#x27;</span>; buf[<span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">while</span> ((numchars &gt; <span class="number">0</span>) &amp;&amp; <span class="built_in">strcmp</span>(<span class="string">&quot;\n&quot;</span>, buf)) &#123; <span class="comment">/* read &amp; discard headers */</span></span><br><span class="line">        numchars = get_line(client, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">    &#125;</span><br><span class="line">    resource = fopen(filename, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (resource == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        not_found(client);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        headers(client, filename);</span><br><span class="line">        cat(client, resource);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(resource);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* This function starts the process of listening for web connections</span></span><br><span class="line"><span class="comment"> * on a specified port.  If the port is 0, then dynamically allocate a</span></span><br><span class="line"><span class="comment"> * port and modify the original port variable to reflect the actual</span></span><br><span class="line"><span class="comment"> * port.</span></span><br><span class="line"><span class="comment"> * Parameters: pointer to variable containing the port to connect on</span></span><br><span class="line"><span class="comment"> * Returns: the socket */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">startup</span><span class="params">(u_short *port)</span> &#123;</span><br><span class="line">    <span class="type">int</span> httpd = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">name</span>;</span></span><br><span class="line"></span><br><span class="line">    httpd = socket(PF_INET, SOCK_STREAM, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (httpd == <span class="number">-1</span>) &#123;</span><br><span class="line">        error_die(<span class="string">&quot;socket&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>(&amp;name, <span class="number">0</span>, <span class="keyword">sizeof</span>(name));</span><br><span class="line">    name.sin_family = AF_INET;</span><br><span class="line">    name.sin_port = htons(*port);</span><br><span class="line">    name.sin_addr.s_addr = htonl(INADDR_ANY);</span><br><span class="line">    <span class="comment">// ç»‘å®šsocket</span></span><br><span class="line">    <span class="keyword">if</span> (bind(httpd, (<span class="keyword">struct</span> sockaddr *)&amp;name, <span class="keyword">sizeof</span>(name)) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        error_die(<span class="string">&quot;bind&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœç«¯å£æ²¡æœ‰è®¾ç½®ï¼Œæä¾›ä¸ªéšæœºç«¯å£</span></span><br><span class="line">    <span class="keyword">if</span> (*port == <span class="number">0</span>) &#123; <span class="comment">/* if dynamically allocating a port */</span></span><br><span class="line">        <span class="type">socklen_t</span> namelen = <span class="keyword">sizeof</span>(name);</span><br><span class="line">        <span class="keyword">if</span> (getsockname(httpd, (<span class="keyword">struct</span> sockaddr *)&amp;name, &amp;namelen) == <span class="number">-1</span>) &#123;</span><br><span class="line">            error_die(<span class="string">&quot;getsockname&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        *port = ntohs(name.sin_port);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘å¬</span></span><br><span class="line">    <span class="keyword">if</span> (listen(httpd, <span class="number">5</span>) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        error_die(<span class="string">&quot;listen&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (httpd);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"><span class="comment">/* Inform the client that the requested web method has not been</span></span><br><span class="line"><span class="comment"> * implemented.</span></span><br><span class="line"><span class="comment"> * Parameter: the client socket */</span></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ–¹æ³•æ²¡æœ‰å®ç°ï¼Œå°±è¿”å›æ­¤ä¿¡æ¯</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">unimplemented</span><span class="params">(<span class="type">int</span> client)</span> &#123;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;HTTP/1.0 501 Method Not Implemented\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, SERVER_STRING);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;Content-Type: text/html\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Method Not Implemented\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;/TITLE&gt;&lt;/HEAD&gt;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;BODY&gt;&lt;P&gt;HTTP request method not supported.\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sprintf</span>(buf, <span class="string">&quot;&lt;/BODY&gt;&lt;/HTML&gt;\r\n&quot;</span>);</span><br><span class="line">    send(client, buf, <span class="built_in">strlen</span>(buf), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="type">int</span> server_sock = <span class="number">-1</span>;</span><br><span class="line">    u_short port = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> client_sock = <span class="number">-1</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">client_name</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™è¾¹è¦ä¸ºsocklen_tç±»å‹</span></span><br><span class="line">    <span class="type">socklen_t</span> client_name_len = <span class="keyword">sizeof</span>(client_name);</span><br><span class="line">    <span class="type">pthread_t</span> newthread;</span><br><span class="line"></span><br><span class="line">    server_sock = startup(&amp;port);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;httpd running on port %d\n&quot;</span>, port);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// æ¥å—è¯·æ±‚ï¼Œå‡½æ•°åŸå‹</span></span><br><span class="line">        <span class="comment">// ##include &lt;sys/types.h&gt;</span></span><br><span class="line">        <span class="comment">// ##include &lt;sys/socket.h&gt;</span></span><br><span class="line">        <span class="comment">// int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);</span></span><br><span class="line">        client_sock = accept(server_sock, (<span class="keyword">struct</span> sockaddr *)&amp;client_name, &amp;client_name_len);</span><br><span class="line">        <span class="keyword">if</span> (client_sock == <span class="number">-1</span>) &#123;</span><br><span class="line">            error_die(<span class="string">&quot;accept&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* accept_request(client_sock) */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¯æ¬¡æ”¶åˆ°è¯·æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ¥æ”¶åˆ°çš„è¯·æ±‚</span></span><br><span class="line">        <span class="comment">// æŠŠclient_sockè½¬æˆåœ°å€ä½œä¸ºå‚æ•°ä¼ å…¥pthread_create</span></span><br><span class="line">        <span class="keyword">if</span> (pthread_create(&amp;newthread, <span class="literal">NULL</span>, (<span class="type">void</span> *)accept_request, (<span class="type">void</span> *)(<span class="type">intptr_t</span>)client_sock) != <span class="number">0</span>) &#123;</span><br><span class="line">            perror(<span class="string">&quot;pthread_create&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    close(server_sock);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="simpleclient-c"><a href="#simpleclient-c" class="headerlink" title="simpleclient.c"></a>simpleclient.c</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> &#123;</span><br><span class="line">    <span class="type">int</span> sockfd;</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">address</span>;</span></span><br><span class="line">    <span class="type">int</span> result;</span><br><span class="line">    <span class="type">char</span> ch = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    sockfd = socket(AF_INET, SOCK_STREAM, <span class="number">0</span>);</span><br><span class="line">    address.sin_family = AF_INET;</span><br><span class="line">    address.sin_addr.s_addr = inet_addr(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line">    address.sin_port = htons(<span class="number">9734</span>);</span><br><span class="line">    len = <span class="keyword">sizeof</span>(address);</span><br><span class="line">    result = connect(sockfd, (<span class="keyword">struct</span> sockaddr *)&amp;address, len);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (result == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;oops: client1&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    write(sockfd, &amp;ch, <span class="number">1</span>);</span><br><span class="line">    read(sockfd, &amp;ch, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;char from server = %c\n&quot;</span>, ch);</span><br><span class="line">    close(sockfd);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/11/09/tinyhttpd/">https://blog.jujimeizuo.cn/2022/11/09/tinyhttpd/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­—èŠ‚è·³åŠ¨2023ç§‹æ‹›ç ”å‘ç¬¬å››åœºç¬”è¯•ã€åç«¯æ–¹å‘ã€‘</title>
      <link href="/2022/09/18/bytedance2023fourwrittenexan/"/>
      <url>/2022/09/18/bytedance2023fourwrittenexan/</url>
      
        <content type="html"><![CDATA[<h4 id="T1-é‡‘å­—å¡”"><a href="#T1-é‡‘å­—å¡”" class="headerlink" title="T1 é‡‘å­—å¡”"></a>T1 é‡‘å­—å¡”</h4><h3 id="æ¨¡æ‹Ÿ-O-mlogm"><a href="#æ¨¡æ‹Ÿ-O-mlogm" class="headerlink" title="æ¨¡æ‹Ÿ O(mlogm)"></a>æ¨¡æ‹Ÿ O(mlogm)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::cin &gt;&gt; n;</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt; &gt; <span class="built_in">a</span>(n);</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">flag</span>(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        std::cin &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">            <span class="type">int</span> x;</span><br><span class="line">            std::cin &gt;&gt; x;</span><br><span class="line">            a[i].<span class="built_in">push_back</span>(x);</span><br><span class="line">            flag[i].<span class="built_in">push_back</span>(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; flag[<span class="number">0</span>].<span class="built_in">size</span>(); i++) flag[<span class="number">0</span>][i] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">// a[i][j] + 50 in a[i - 1]</span></span><br><span class="line">        <span class="comment">// a[i][j] + 1 in a[i - 1] a[i][j] + 99 in a[i - 1]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; a[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">            <span class="type">int</span> p1 = std::<span class="built_in">lower_bound</span>(a[i - <span class="number">1</span>].<span class="built_in">begin</span>(), a[i - <span class="number">1</span>].<span class="built_in">end</span>(), a[i][j]) - a[i - <span class="number">1</span>].<span class="built_in">begin</span>();</span><br><span class="line">            <span class="comment">// pre one</span></span><br><span class="line">            <span class="keyword">if</span> (p1 &gt;= <span class="number">1</span> &amp;&amp; flag[i - <span class="number">1</span>][p1 - <span class="number">1</span>] &amp;&amp; a[i - <span class="number">1</span>][p1 - <span class="number">1</span>] + <span class="number">100</span> &gt; a[i][j] + <span class="number">50</span>) &#123;</span><br><span class="line">                flag[i][j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// next one</span></span><br><span class="line">            <span class="keyword">if</span> (p1 &lt; a[i - <span class="number">1</span>].<span class="built_in">size</span>() &amp;&amp; flag[i - <span class="number">1</span>][p1] &amp;&amp; a[i - <span class="number">1</span>][p1] &lt; a[i][j] + <span class="number">50</span>) &#123;</span><br><span class="line">                flag[i][j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (p1 &gt;= <span class="number">1</span> &amp;&amp; p1 &lt; a[i - <span class="number">1</span>].<span class="built_in">size</span>() &amp;&amp; flag[i - <span class="number">1</span>][p1 - <span class="number">1</span>] &amp;&amp; flag[i - <span class="number">1</span>][p1] &amp;&amp; a[i - <span class="number">1</span>][p1 - <span class="number">1</span>] + <span class="number">100</span> &gt; a[i][j] &amp;&amp; a[i - <span class="number">1</span>][p1] &lt; a[i][j] + <span class="number">100</span>) &#123;</span><br><span class="line">                flag[i][j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="T2-æœ€é•¿01åºåˆ—"><a href="#T2-æœ€é•¿01åºåˆ—" class="headerlink" title="T2 æœ€é•¿01åºåˆ—"></a>T2 æœ€é•¿01åºåˆ—</h4><h3 id="å°ºå–-O-n"><a href="#å°ºå–-O-n" class="headerlink" title="å°ºå– O(n)"></a>å°ºå– O(n)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    std::string s;</span><br><span class="line">    std::cin &gt;&gt; s;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> r = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (r &lt; n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[r] != s[r - <span class="number">1</span>]) cnt++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            ans = std::<span class="built_in">max</span>(ans, cnt);</span><br><span class="line">            cnt = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        r++;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; ans &lt;&lt; std::endl;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="T3-ä¿®æ”¹æœ€çŸ­å­ä¸²ä½¿å¾—æ•´ä¸²è¯é¢‘ç›¸åŒ"><a href="#T3-ä¿®æ”¹æœ€çŸ­å­ä¸²ä½¿å¾—æ•´ä¸²è¯é¢‘ç›¸åŒ" class="headerlink" title="T3 ä¿®æ”¹æœ€çŸ­å­ä¸²ä½¿å¾—æ•´ä¸²è¯é¢‘ç›¸åŒ"></a>T3 ä¿®æ”¹æœ€çŸ­å­ä¸²ä½¿å¾—æ•´ä¸²è¯é¢‘ç›¸åŒ</h4><h3 id="å‰ç¼€å’Œ-äºŒåˆ†-O-nlogn"><a href="#å‰ç¼€å’Œ-äºŒåˆ†-O-nlogn" class="headerlink" title="å‰ç¼€å’Œ + äºŒåˆ† O(nlogn)"></a>å‰ç¼€å’Œ + äºŒåˆ† O(nlogn)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="T4-æœ€é•¿åŒºé—´çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„ç»å¯¹å€¼å·®å°äºç­‰äºkï¼Œå¹¶æ±‚åŒºé—´ä¸ªæ•°å’Œèµ·ç‚¹å’Œç»ˆç‚¹"><a href="#T4-æœ€é•¿åŒºé—´çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„ç»å¯¹å€¼å·®å°äºç­‰äºkï¼Œå¹¶æ±‚åŒºé—´ä¸ªæ•°å’Œèµ·ç‚¹å’Œç»ˆç‚¹" class="headerlink" title="T4 æœ€é•¿åŒºé—´çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„ç»å¯¹å€¼å·®å°äºç­‰äºkï¼Œå¹¶æ±‚åŒºé—´ä¸ªæ•°å’Œèµ·ç‚¹å’Œç»ˆç‚¹"></a>T4 æœ€é•¿åŒºé—´çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„ç»å¯¹å€¼å·®å°äºç­‰äºkï¼Œå¹¶æ±‚åŒºé—´ä¸ªæ•°å’Œèµ·ç‚¹å’Œç»ˆç‚¹</h4><h3 id="STè¡¨ç»´æŠ¤åŒºé—´æœ€å€¼ï¼ŒæŠŠiè®¾ä¸ºèµ·å§‹ç‚¹å¹¶äºŒåˆ†æ±‚å‡ºç»ˆç‚¹-O-nlognlogn"><a href="#STè¡¨ç»´æŠ¤åŒºé—´æœ€å€¼ï¼ŒæŠŠiè®¾ä¸ºèµ·å§‹ç‚¹å¹¶äºŒåˆ†æ±‚å‡ºç»ˆç‚¹-O-nlognlogn" class="headerlink" title="STè¡¨ç»´æŠ¤åŒºé—´æœ€å€¼ï¼ŒæŠŠiè®¾ä¸ºèµ·å§‹ç‚¹å¹¶äºŒåˆ†æ±‚å‡ºç»ˆç‚¹ O(nlognlogn)"></a>STè¡¨ç»´æŠ¤åŒºé—´æœ€å€¼ï¼ŒæŠŠiè®¾ä¸ºèµ·å§‹ç‚¹å¹¶äºŒåˆ†æ±‚å‡ºç»ˆç‚¹ O(nlognlogn)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> LOCAL</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algo/debug.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> debug(...) 42</span></span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> <span class="title class_">F</span> = std::function&lt;<span class="built_in">T</span>(<span class="type">const</span> T&amp;, <span class="type">const</span> T&amp;)&gt;&gt;</span><br><span class="line"><span class="keyword">class</span> SparseTable &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::vector&lt;std::vector&lt;T&gt;&gt; mat;</span><br><span class="line">    F func;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">SparseTable</span>(<span class="type">const</span> std::vector&lt;T&gt;&amp; a, <span class="type">const</span> F&amp; f) : <span class="built_in">func</span>(f) &#123;</span><br><span class="line">        n = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(a.<span class="built_in">size</span>());</span><br><span class="line">        <span class="type">int</span> max_log = <span class="number">32</span> - __builtin_clz(n);</span><br><span class="line">        mat.<span class="built_in">resize</span>(max_log);</span><br><span class="line">        mat[<span class="number">0</span>] = a;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; max_log; j++) &#123;</span><br><span class="line">            mat[j].<span class="built_in">resize</span>(n - (<span class="number">1</span> &lt;&lt; j) + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n - (<span class="number">1</span> &lt;&lt; j); i++) &#123;</span><br><span class="line">                mat[j][i] = <span class="built_in">func</span>(mat[j - <span class="number">1</span>][i], mat[j - <span class="number">1</span>][i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T <span class="title">get</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">assert</span>(<span class="number">0</span> &lt;= from &amp;&amp; from &lt;= to &amp;&amp; to &lt;= n - <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> lg = <span class="number">32</span> - __builtin_clz(to - from + <span class="number">1</span>) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">func</span>(mat[lg][from], mat[lg][to - (<span class="number">1</span> &lt;&lt; lg) + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    std::cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> k;</span><br><span class="line">    std::cin &gt;&gt; k;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">h</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cin &gt;&gt; h[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">SparseTable&lt;<span class="type">int</span>&gt; <span class="title">mx</span><span class="params">(h, [](<span class="type">const</span> <span class="type">int</span>&amp; i, <span class="type">const</span> <span class="type">int</span>&amp; j) &#123; <span class="keyword">return</span> std::max(i, j); &#125;)</span></span>;</span><br><span class="line">    <span class="function">SparseTable&lt;<span class="type">int</span>&gt; <span class="title">mn</span><span class="params">(h, [](<span class="type">const</span> <span class="type">int</span>&amp; i, <span class="type">const</span> <span class="type">int</span>&amp; j) &#123; <span class="keyword">return</span> std::min(i, j); &#125;)</span></span>;</span><br><span class="line"></span><br><span class="line">    std::vector&lt;std::pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; ans;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> l = i, r = n - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> j = r - l + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (mx.<span class="built_in">get</span>(i, mid) - mn.<span class="built_in">get</span>(i, mid) &lt;= k) &#123;</span><br><span class="line">                j = mid;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// i - j</span></span><br><span class="line">        <span class="keyword">if</span> (ans.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(&#123;i, j&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (ans.<span class="built_in">front</span>().second - ans.<span class="built_in">front</span>().first + <span class="number">1</span> &lt; j - i + <span class="number">1</span>) &#123;</span><br><span class="line">                ans.<span class="built_in">clear</span>();</span><br><span class="line">                ans.<span class="built_in">push_back</span>(&#123;i, j&#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ans.<span class="built_in">front</span>().second - ans.<span class="built_in">front</span>().first + <span class="number">1</span> == j - i + <span class="number">1</span>) &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(&#123;i, j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/09/18/bytedance2023fourwrittenexan/">https://blog.jujimeizuo.cn/2022/09/18/bytedance2023fourwrittenexan/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¬”è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shared_ptrè‡ªå®šä¹‰å®ç°</title>
      <link href="/2022/07/30/shared-ptr/"/>
      <url>/2022/07/30/shared-ptr/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ™ºèƒ½æŒ‡é’ˆä¸­çš„å¼•ç”¨è®¡æ•°ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RefCount</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">RefCount</span>() : <span class="built_in">count_</span>(<span class="keyword">new</span> <span class="built_in">size_t</span>(<span class="number">1</span>)) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ </span></span><br><span class="line">    <span class="built_in">RefCount</span>(<span class="type">const</span> RefCount &amp;rhs) : <span class="built_in">count_</span>(rhs.count_) &#123;</span><br><span class="line">        (*count_)++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨æ„é€ </span></span><br><span class="line">    <span class="built_in">RefCount</span>(RefCount &amp;&amp;rhs) : <span class="built_in">count_</span>(rhs.count_) &#123;</span><br><span class="line">        rhs.count_ = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´èµ‹å€¼</span></span><br><span class="line">    RefCount &amp;<span class="keyword">operator</span>=(<span class="type">const</span> RefCount &amp;rhs) &#123;</span><br><span class="line">        <span class="built_in">tryRelease</span>();</span><br><span class="line">        count_ = rhs.count_;</span><br><span class="line">        (*count_)++;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨èµ‹å€¼</span></span><br><span class="line">    RefCount &amp;<span class="keyword">operator</span>=(RefCount &amp;&amp;rhs) &#123;</span><br><span class="line">        <span class="built_in">tryRelease</span>();</span><br><span class="line">        count_ = rhs.count_;</span><br><span class="line">        rhs.count_ = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">RefCount</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (*count_ == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span> count_;</span><br><span class="line">            count_ = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            (*count_)--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">size_t</span> <span class="title">IsOnly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> *count_ == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°è¯•å‡å°‘å¼•ç”¨è®¡æ•°å¹¶é‡Šæ”¾å†…å­˜</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">tryRelease</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (count_ == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (*count_ == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span> count_;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            (*count_)--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> :</span><br><span class="line">    <span class="type">size_t</span>* count_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ™ºèƒ½æŒ‡é’ˆå°è£…ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SmartPtr</span> &#123;</span><br><span class="line"><span class="keyword">public</span> :</span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">SmartPtr</span>() : <span class="built_in">SmartPtr</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŸå§‹æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">SmartPtr</span><span class="params">(T* ptr = <span class="literal">nullptr</span>)</span> : ptr_(ptr) &#123;</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">SmartPtr</span>(<span class="type">const</span> SmartPtr&amp; rhs) &#123;</span><br><span class="line">        ptr_ = rhs.ptr_;</span><br><span class="line">        count_ = rhs.count_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">SmartPtr</span>(SmartPtr&amp;&amp; rhs) <span class="keyword">noexcept</span> : <span class="built_in">ptr_</span>(rhs.ptr_), <span class="built_in">count_</span>(rhs.count_) &#123;</span><br><span class="line">        rhs.count_ = rhs.ptr_ = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´èµ‹å€¼</span></span><br><span class="line">    SmartPtr&amp; <span class="keyword">operator</span>=(<span class="type">const</span> SmartPtr&amp; rhs) &#123;</span><br><span class="line">        <span class="keyword">if</span> (count_.<span class="built_in">IsOnly</span>()) &#123;</span><br><span class="line">            <span class="keyword">delete</span> ptr_;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            count_.<span class="built_in">tryRelease</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        ptr_ = rhs.ptr_;</span><br><span class="line">        count_ = rhs.count_;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨èµ‹å€¼</span></span><br><span class="line">    SmartPtr&amp; <span class="keyword">operator</span>=(<span class="type">const</span> SmartPtr&amp;&amp; rhs) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == &amp;rhs) &#123;</span><br><span class="line">            <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        count_ = std::<span class="built_in">move</span>(rhs.count_);</span><br><span class="line">        ptr_ = rhs.ptr_;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">SmartPtr</span>() &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;SmartPtr deconstructor&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">if</span> (count_.<span class="built_in">IsOnly</span>()) &#123;</span><br><span class="line">            <span class="keyword">delete</span> ptr_;</span><br><span class="line">            ptr_ = <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        count_.<span class="built_in">tryRelease</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£å¼•ç”¨è¿ç®—ç¬¦*</span></span><br><span class="line">    T&amp; <span class="keyword">operator</span>*() <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> *ptr_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆå‘˜è®¿é—®è¿ç®—ç¬¦-&gt;</span></span><br><span class="line">    T* <span class="keyword">operator</span>-&gt;() <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ptr_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shared_Ptr</span> &#123;</span><br><span class="line"><span class="keyword">public</span> :</span><br><span class="line">    <span class="built_in">Shared_Ptr</span>(T* ptr = <span class="literal">nullptr</span>) : _pPtr(ptr), _pRefCount(<span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">1</span>)), _pMutex(<span class="keyword">new</span> mutex) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Shared_Ptr</span>(<span class="type">const</span> Shared_Ptr&lt;T&gt;&amp; sp) : _pPtr(sp._pPtr), _pRefCount(sp._pRefCount), _pMutex(sp._pMutex) &#123;</span><br><span class="line">        <span class="built_in">AddRefCount</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Shared_Ptr</span>() &#123;</span><br><span class="line">        <span class="built_in">Release</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Shared_Ptr&lt;T&gt;&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Shared_Ptr&lt;T&gt;&amp; sp) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> != sp) &#123;</span><br><span class="line">            <span class="built_in">Release</span>();</span><br><span class="line">            _pPtr = sp._pPtr;</span><br><span class="line">            _pRefCount = sp._pRefCount;</span><br><span class="line">            _pMutex = sp._pMutex;</span><br><span class="line">            <span class="built_in">AddRefCount</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    T&amp; <span class="keyword">operator</span>*() &#123;</span><br><span class="line">        <span class="keyword">return</span> *_pPtr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    T* <span class="keyword">operator</span>-&gt;() &#123;</span><br><span class="line">        <span class="keyword">return</span> _pPtr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">UseCount</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> *_pRefCount; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">Get</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> _pPtr; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">AddRefCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        _pMutex -&gt; <span class="built_in">lock</span>();</span><br><span class="line">        ++(*_pRefCount);</span><br><span class="line">        _pMutex -&gt; <span class="built_in">unlock</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> :</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Release</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="type">bool</span> deleteflag = <span class="literal">false</span>;</span><br><span class="line">        _pMutex -&gt; <span class="built_in">lock</span>();</span><br><span class="line">        <span class="keyword">if</span> (--(*_pRefCount) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span> _pRefCount;</span><br><span class="line">            <span class="keyword">delete</span> _pPtr;</span><br><span class="line">            deleteflag = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        _pMutex -&gt; <span class="built_in">unlock</span>();</span><br><span class="line">        <span class="keyword">if</span> (deleteflag == <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span> _pMutex;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/07/30/shared-ptr/">https://blog.jujimeizuo.cn/2022/07/30/shared-ptr/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>go-python</title>
      <link href="/2022/05/17/go-python/"/>
      <url>/2022/05/17/go-python/</url>
      
        <content type="html"><![CDATA[<p><strong>è§†è§‰æ™ºæ…§å®è·µè¯¾ä¸Šéœ€è¦å†™æ·±åº¦å­¦ä¹ -å›¾åƒæ£€ç´¢çš„å¤§ä½œä¸šã€‚Pythonæ˜¯æœºå™¨&#x2F;æ·±åº¦å­¦ä¹ å¾¡ç”¨å¼€å‘è¯­è¨€ï¼ŒGolangæ˜¯æ–°æ—¶ä»£åç«¯å¼€å‘è¯­è¨€ã€‚Pythonå¾ˆé€‚åˆç®—æ³•å†™æ¨¡å‹ï¼Œè€ŒGolangå¾ˆé€‚åˆæä¾›APIæœåŠ¡ï¼Œä¸¤ä½åŒå¿—éƒ½çº¢çš„å‘ç´«ã€‚ï¼ˆæŠ„è¢­ï¼‰</strong></p><p><strong>æ‰€ä»¥ç®—æ³•æ–¹é¢ç”¨pythonå†™çš„siftï¼Œqtä¸æƒ³å†™ï¼ˆä¸å–œæ¬¢ï¼‰ï¼Œæœ€è¿‘åˆåœ¨å­¦goï¼Œæ‰€ä»¥å‡†å¤‡ç”¨ginæ­å»ºwebç«¯ï¼Œä¸è¿‡goå’Œpythonä¹‹é—´å¥½åƒæœ‰ä»€ä¹ˆè”ç³»ï¼Œæ²¡é”™ï¼Œå°±æ˜¯go-pythonï¼Œæ‰€ä»¥å¼€å§‹å§ã€‚</strong></p><h4 id="go-python"><a href="#go-python" class="headerlink" title="go-python"></a>go-python</h4><ul><li><a href="github.com/sbinet/go-python">go-python</a>ä¸»è¦ç”¨åœ¨python2.x</li><li><a href="github.com/DataDog/go-python3">go-python3</a>ä¸»è¦ç”¨æ¥åœ¨python3.x</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go get -u github.com/DataDog/go-python3</span><br></pre></td></tr></table></figure><p>æˆ‘çš„macæ˜¯python3.9ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥åœ¨<code>go build</code>çš„æ—¶å€™æŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## github.com/DataDog/go-python3</span><br><span class="line">../../go/pkg/mod/github.com/!data!dog/go-python3@v0.0.0-20211102160307-40adc605f1fe/dict.go:141:13: could not determine kind of name for C.PyDict_ClearFreeList</span><br></pre></td></tr></table></figure><p>æ„æ€å°±æ˜¯python3.9çš„è¿™ä¸ªå‡½æ•°PyDict_ClearFreeListè¢«åˆ é™¤äº†ï¼Œæ‰¾ä¸åˆ°</p><p>é€šè¿‡æŸ¥çœ‹è¿™ä¸ª<a href="https://github.com/DataDog/go-python3/issues/38">issue</a>å¯ä»¥å‘ç°ï¼š</p><ul><li>pythonçš„ç‰ˆæœ¬éœ€è¦ç”¨3.7ï¼Œæ‰€ä»¥éœ€è¦é…ç½®python3.7è™šæ‹Ÿç¯å¢ƒ</li><li>ä¸‹å¥½ä¹‹åï¼Œéœ€è¦ç”¨åˆ°pkg-config</li></ul><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>ä¸‹è½½<a href="python.org/downloads/macos/">python3.7</a>ï¼Œç„¶åç”¨anacondaæˆ–è€…venvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚</p><p>æˆ‘é€šè¿‡<code>brew install pkg-config</code>ï¼Œç„¶å<code>export $PKG_CONFIG_PATH=/usr/local/bin/pkg-config</code>ï¼Œè¿˜æ˜¯ä¸å¤ªè¡Œã€‚ åŸæ¥éœ€è¦ç”¨åˆ°python3.7é‡Œçš„pkg-configã€‚</p><p>ç›´æ¥æ‰§è¡Œä¸‹é¢:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo vim ~/.bash_profile</span><br><span class="line"><span class="built_in">export</span> <span class="variable">$PKG_CONFIG_PATH</span>=/Library/Frameworks/Python.framework/Versions/3.7/lib/pkgconfig</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><p>æœ€å<code>go build</code>å¯ä»¥é¡ºåˆ©å®Œæˆã€‚</p><h4 id="goè°ƒç”¨pythonçš„è¿‡ç¨‹"><a href="#goè°ƒç”¨pythonçš„è¿‡ç¨‹" class="headerlink" title="goè°ƒç”¨pythonçš„è¿‡ç¨‹"></a>goè°ƒç”¨pythonçš„è¿‡ç¨‹</h4><ol><li>åˆå§‹åŒ–pythonç¯å¢ƒ</li><li>å¼•å…¥æ¨¡å—pyå¯¹è±¡</li><li>ä½¿ç”¨è¯¥æ¨¡å—çš„å˜é‡ä¸å‡½æ•°</li><li>è§£æç»“æœ</li><li>é”€æ¯python3è¿è¡Œç¯å¢ƒ</li></ol><h4 id="è°ƒç”¨ä¸­å¿…ç”¨åˆ°åˆ°å‡ ä¸ªå‡½æ•°"><a href="#è°ƒç”¨ä¸­å¿…ç”¨åˆ°åˆ°å‡ ä¸ªå‡½æ•°" class="headerlink" title="è°ƒç”¨ä¸­å¿…ç”¨åˆ°åˆ°å‡ ä¸ªå‡½æ•°"></a>è°ƒç”¨ä¸­å¿…ç”¨åˆ°åˆ°å‡ ä¸ªå‡½æ•°</h4><p><code>init func()</code></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">    python3.Py_Initialize()</span><br><span class="line">    <span class="keyword">if</span> !python3.Py_IsInitialized() &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;Error initializing the python interpreter&quot;</span>)</span><br><span class="line">        os.Exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ImportModule func(dir, name strng) *python3.PyObject</code></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ImportModule</span></span><br><span class="line"><span class="comment">// @Description: å¯¼å…¥ä¸€ä¸ªåŒ…</span></span><br><span class="line"><span class="comment">// @param dir</span></span><br><span class="line"><span class="comment">// @param name</span></span><br><span class="line"><span class="comment">// @return *python3.PyObject</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ImportModule</span><span class="params">(dir, name <span class="type">string</span>)</span></span> *python3.PyObject &#123;</span><br><span class="line">    sysModule := python3.PyImport_ImportModule(<span class="string">&quot;sys&quot;</span>)</span><br><span class="line">    path := sysModule.GetAttrString(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    pathStr, _ := pythonRepr(path)</span><br><span class="line">    log.Println(<span class="string">&quot;before add path is &quot;</span> + pathStr)</span><br><span class="line">    python3.PyList_Insert(path, <span class="number">0</span>, python3.PyUnicode_FromString(<span class="string">&quot;&quot;</span>))</span><br><span class="line">    python3.PyList_Insert(path, <span class="number">0</span>, python3.PyUnicode_FromString(dir))</span><br><span class="line">    pathStr, _ = pythonRepr(path)</span><br><span class="line">    log.Println(<span class="string">&quot;after add path is &quot;</span> + pathStr)</span><br><span class="line">    <span class="keyword">return</span> python3.PyImport_ImportModule(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>pythonRepr func(o *python3.PyObject) (string, error)</code></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pythonRepr</span></span><br><span class="line"><span class="comment">// @Description: PyObjectè½¬æ¢ä¸ºstring</span></span><br><span class="line"><span class="comment">// @param o</span></span><br><span class="line"><span class="comment">// @return string</span></span><br><span class="line"><span class="comment">// @return error</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pythonRepr</span><span class="params">(o *python3.PyObject)</span></span> (<span class="type">string</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> o == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>, fmt.Errorf(<span class="string">&quot;object is nil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    s := o.Repr()</span><br><span class="line">    <span class="keyword">if</span> s == <span class="literal">nil</span> &#123;</span><br><span class="line">        python3.PyErr_Clear()</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>, fmt.Errorf(<span class="string">&quot;failed to call Repr object method&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> s.DecRef()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> python3.PyUnicode_AsUTF8(s), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/05/17/go-python/">https://blog.jujimeizuo.cn/2022/05/17/go-python/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¶ˆæ¯é˜Ÿåˆ—</title>
      <link href="/2022/05/15/mq/"/>
      <url>/2022/05/15/mq/</url>
      
        <content type="html"><![CDATA[<h2 id="1-æ¶ˆæ¯æ¨¡å‹"><a href="#1-æ¶ˆæ¯æ¨¡å‹" class="headerlink" title="1 æ¶ˆæ¯æ¨¡å‹"></a>1 æ¶ˆæ¯æ¨¡å‹</h2><h4 id="1-1-ç‚¹å¯¹ç‚¹"><a href="#1-1-ç‚¹å¯¹ç‚¹" class="headerlink" title="1.1 ç‚¹å¯¹ç‚¹"></a>1.1 ç‚¹å¯¹ç‚¹</h4><p>æ¶ˆæ¯ç”Ÿäº§è€…å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€äº†ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191212011250613.png"></p><h4 id="1-2-å‘å¸ƒ-è®¢é˜…"><a href="#1-2-å‘å¸ƒ-è®¢é˜…" class="headerlink" title="1.2 å‘å¸ƒ&#x2F;è®¢é˜…"></a>1.2 å‘å¸ƒ&#x2F;è®¢é˜…</h4><p>æ¶ˆæ¯ç”Ÿäº§è€…å‘é¢‘é“å‘é€äº†ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå¤šä¸ªæ¶ˆè´¹è€…å¯ä»¥ä»è¯¥é¢‘é“è®¢é˜…åˆ°è¿™æ¡æ¶ˆæ¯å¹¶æ¶ˆè´¹ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191212011410374.png"></p><p>å‘å¸ƒä¸è®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼æœ‰ä»¥ä¸‹ä¸åŒï¼š</p><ul><li>è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…å’Œä¸»é¢˜éƒ½çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼›è€Œåœ¨å‘å¸ƒä¸è®¢é˜…æ¨¡å¼ä¸­ï¼Œç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡é¢‘é“è¿›è¡Œé€šä¿¡ã€‚</li><li>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯åŒæ­¥çš„ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œä¸»é¢˜ä¼šè°ƒç”¨è§‚å¯Ÿè€…çš„æ–¹æ³•ï¼Œç„¶åç­‰å¾…æ–¹æ³•è¿”å›ï¼›è€Œå‘å¸ƒä¸è®¢é˜…æ¨¡å¼æ˜¯å¼‚æ­¥çš„ï¼Œç”Ÿäº§è€…å‘é¢‘é“å‘é€ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå°±ä¸éœ€è¦å…³å¿ƒæ¶ˆè´¹è€…ä½•æ—¶å»è®¢é˜…è¿™ä¸ªæ¶ˆæ¯ï¼Œå¯ä»¥ç«‹å³è¿”å›ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191212011747967.png"></p><h2 id="2-ä½¿ç”¨åœºæ™¯"><a href="#2-ä½¿ç”¨åœºæ™¯" class="headerlink" title="2 ä½¿ç”¨åœºæ™¯"></a>2 ä½¿ç”¨åœºæ™¯</h2><h4 id="2-1-å¼‚æ­¥å¤„ç†"><a href="#2-1-å¼‚æ­¥å¤„ç†" class="headerlink" title="2.1 å¼‚æ­¥å¤„ç†"></a>2.1 å¼‚æ­¥å¤„ç†</h4><p>å‘é€è€…å°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åï¼Œä¸éœ€è¦åŒæ­¥ç­‰å¾…æ¶ˆæ¯æ¥æ”¶è€…å¤„ç†å®Œæ¯•ï¼Œè€Œæ˜¯ç«‹å³è¿”å›è¿›è¡Œå…¶ä»–æ“ä½œã€‚æ¶ˆæ¯æ¥æ”¶è€…ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä¹‹åå¼‚æ­¥å¤„ç†ã€‚</p><p>ä¾‹å¦‚åœ¨æ³¨å†Œæµç¨‹ä¸­é€šå¸¸éœ€è¦å‘é€éªŒè¯é‚®ä»¶æ¥ç¡®ä¿æ³¨å†Œç”¨æˆ·èº«ä»½çš„åˆæ³•æ€§ï¼Œå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ä½¿å‘é€éªŒè¯é‚®ä»¶çš„æ“ä½œå¼‚æ­¥å¤„ç†ï¼Œç”¨æˆ·åœ¨å¡«å†™å®Œæ³¨å†Œä¿¡æ¯ä¹‹åå°±å¯ä»¥å®Œæˆæ³¨å†Œï¼Œè€Œå°†å‘é€éªŒè¯é‚®ä»¶è¿™ä¸€æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚</p><p>åªæœ‰åœ¨ä¸šåŠ¡æµç¨‹å…è®¸å¼‚æ­¥å¤„ç†çš„æƒ…å†µä¸‹æ‰èƒ½è¿™ä¹ˆåšï¼Œä¾‹å¦‚ä¸Šé¢çš„æ³¨å†Œæµç¨‹ä¸­ï¼Œå¦‚æœè¦æ±‚ç”¨æˆ·å¯¹éªŒè¯é‚®ä»¶è¿›è¡Œç‚¹å‡»ä¹‹åæ‰èƒ½å®Œæˆæ³¨å†Œçš„è¯ï¼Œå°±ä¸èƒ½å†ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p><h4 id="2-2-æµé‡å‰Šé”‹"><a href="#2-2-æµé‡å‰Šé”‹" class="headerlink" title="2.2 æµé‡å‰Šé”‹"></a>2.2 æµé‡å‰Šé”‹</h4><p>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœçŸ­æ—¶é—´æœ‰å¤§é‡çš„è¯·æ±‚åˆ°è¾¾ä¼šå‹å®æœåŠ¡å™¨ã€‚</p><p>å¯ä»¥å°†è¯·æ±‚å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼ŒæœåŠ¡å™¨æŒ‰ç…§å…¶å¤„ç†èƒ½åŠ›ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„è®¢é˜…æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</p><h4 id="2-3-åº”ç”¨è§£è€¦"><a href="#2-3-åº”ç”¨è§£è€¦" class="headerlink" title="2.3 åº”ç”¨è§£è€¦"></a>2.3 åº”ç”¨è§£è€¦</h4><p>å¦‚æœæ¨¡å—ä¹‹é—´ä¸ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œæ¨¡å—ä¹‹é—´è€¦åˆåº¦å°±ä¼šå¾ˆä½ï¼Œé‚£ä¹ˆä¿®æ”¹ä¸€ä¸ªæ¨¡å—æˆ–è€…æ–°å¢ä¸€ä¸ªæ¨¡å—å¯¹å…¶å®ƒæ¨¡å—çš„å½±å“ä¼šå¾ˆå°ï¼Œä»è€Œå®ç°å¯æ‰©å±•æ€§ã€‚</p><p>é€šè¿‡ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ¨¡å—åªéœ€è¦å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€æ¶ˆæ¯ï¼Œå…¶å®ƒæ¨¡å—å¯ä»¥é€‰æ‹©æ€§åœ°ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä»è€Œå®Œæˆè°ƒç”¨ã€‚</p><h2 id="3-å¯é æ€§"><a href="#3-å¯é æ€§" class="headerlink" title="3 å¯é æ€§"></a>3 å¯é æ€§</h2><h4 id="3-1-å‘é€ç«¯çš„å¯é æ€§"><a href="#3-1-å‘é€ç«¯çš„å¯é æ€§" class="headerlink" title="3.1 å‘é€ç«¯çš„å¯é æ€§"></a>3.1 å‘é€ç«¯çš„å¯é æ€§</h4><p>å‘é€ç«¯å®Œæˆæ“ä½œåä¸€å®šèƒ½å°†æ¶ˆæ¯æˆåŠŸå‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚</p><p>å®ç°æ–¹æ³•ï¼š</p><p>åœ¨æœ¬åœ°æ•°æ®åº“å»ºä¸€å¼ æ¶ˆæ¯è¡¨ï¼Œå°†æ¶ˆæ¯æ•°æ®ä¸ä¸šåŠ¡æ•°æ®ä¿å­˜åœ¨åŒä¸€æ•°æ®åº“å®ä¾‹é‡Œï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨æœ¬åœ°æ•°æ®åº“çš„äº‹åŠ¡æœºåˆ¶ã€‚äº‹åŠ¡æäº¤æˆåŠŸåï¼Œå°†æ¶ˆæ¯è¡¨ä¸­çš„æ¶ˆæ¯è½¬ç§»åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œè‹¥è½¬ç§»æ¶ˆæ¯æˆåŠŸåˆ™åˆ é™¤æ¶ˆæ¯è¡¨ä¸­çš„æ•°æ®ï¼Œå¦åˆ™ç»§ç»­é‡ä¼ ã€‚</p><h4 id="3-2-æ¥æ”¶ç«¯çš„å¯é æ€§"><a href="#3-2-æ¥æ”¶ç«¯çš„å¯é æ€§" class="headerlink" title="3.2 æ¥æ”¶ç«¯çš„å¯é æ€§"></a>3.2 æ¥æ”¶ç«¯çš„å¯é æ€§</h4><p>æ¥æ”¶ç«¯èƒ½å¤Ÿç»™ä»æ¶ˆæ¯é˜Ÿåˆ—æˆåŠŸæ¶ˆè´¹ä¸€æ¬¡æ¶ˆæ¯ã€‚</p><p>ä¸¤ç§å®ç°æ–¹æ³•ï¼š</p><ol><li>ä¿è¯æ¥æ”¶ç«¯å¤„ç†æ¶ˆæ¯çš„ä¸šåŠ¡é€»è¾‘å…·æœ‰å¹‚ç­‰æ€§ï¼šåªè¦å…·æœ‰å¹‚ç­‰æ€§ï¼Œé‚£ä¹ˆæ¶ˆè´¹å¤šå°‘æ¬¡æ¶ˆæ¯ï¼Œæœ€åå¤„ç†çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</li><li>ä¿è¯æ¶ˆæ¯å…·æœ‰å”¯ä¸€ç¼–å·ï¼Œå¹¶ä½¿ç”¨ä¸€å¼ æ—¥å¿—è¡¨æ¥è®°å½•å·²ç»æ¶ˆè´¹çš„æ¶ˆæ¯ç¼–å·ã€‚</li></ol><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/05/15/mq/">https://blog.jujimeizuo.cn/2022/05/15/mq/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Go For Codeforces</title>
      <link href="/2022/05/12/go-for-codeforces/"/>
      <url>/2022/05/12/go-for-codeforces/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ç”¨ gomodç®¡ç†</span></span><br><span class="line">go get github.com/EndlessCheng/codeforces-go</span><br></pre></td></tr></table></figure><blockquote><p>ç”¨æœ€åŸºæœ¬çš„fmt.Scanln()å½“ç„¶å¯ä»¥ï¼Œè¿™é‡Œæä¾›ä¸€ç§è§£å†³æ–¹æ³•ï¼Œç”¨bufioå¤„ç†ï¼Œå°†è¾“å…¥è¾“å‡ºè½¬æ¢æˆgo_testã€‚</p></blockquote><h3 id="Sol-go"><a href="#Sol-go" class="headerlink" title="Sol.go"></a>Sol.go</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;bufio&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Sol</span><span class="params">(_r io.Reader, _w io.Writer)</span></span> &#123;</span><br><span class="line">    in := bufio.NewReader(_r)</span><br><span class="line">    out := bufio.NewWriter(_w)</span><br><span class="line">    <span class="keyword">defer</span> out.Flush()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; Sol(os.Stdin, os.Stdout) &#125;</span><br></pre></td></tr></table></figure><h3 id="Sol-test-go"><a href="#Sol-test-go" class="headerlink" title="Sol_test.go"></a>Sol_test.go</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼ˆinputCopyï¼‰</span><br><span class="line">è¾“å‡ºï¼ˆoutputCopyï¼‰</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;testing&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/EndlessCheng/codeforces-go/main/testutil&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestSol</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    <span class="comment">// just copy from website</span></span><br><span class="line">    rawText := <span class="string">`</span></span><br><span class="line"><span class="string">inputCopy</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">outputCopy</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">    testutil.AssertEqualCase(t, rawText, <span class="number">0</span>, Sol)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/05/12/go-for-codeforces/">https://blog.jujimeizuo.cn/2022/05/12/go-for-codeforces/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ </title>
      <link href="/2022/05/11/os/"/>
      <url>/2022/05/11/os/</url>
      
        <content type="html"><![CDATA[<h2 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h2><h4 id="1-1-åŸºæœ¬ç‰¹å¾"><a href="#1-1-åŸºæœ¬ç‰¹å¾" class="headerlink" title="1.1 åŸºæœ¬ç‰¹å¾"></a>1.1 åŸºæœ¬ç‰¹å¾</h4><h3 id="1-1-1-å¹¶å‘"><a href="#1-1-1-å¹¶å‘" class="headerlink" title="1.1.1 å¹¶å‘"></a>1.1.1 å¹¶å‘</h3><p>å¹¶å‘æ˜¯æŒ‡å®è§‚ä¸Šåœ¨ä¸€æ®µæ—¶é—´å†…èƒ½åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºï¼Œè€Œå¹¶è¡Œåˆ™æŒ‡åŒä¸€æ—¶åˆ»èƒ½è¿è¡Œå¤šä¸ªæŒ‡ä»¤ã€‚ å¹¶è¡Œéœ€è¦ç¡¬ä»¶æ”¯æŒï¼Œå¦‚å¤šæµæ°´çº¿ï¼Œå¤šæ ¸å¤„ç†å™¨æˆ–è€…åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿã€‚ æ“ä½œç³»ç»Ÿé€šè¿‡å¼•å…¥è¿›ç¨‹å’Œçº¿ç¨‹ï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿå¹¶å‘è¿è¡Œã€‚ æ“ä½œç³»ç»Ÿé€šè¿‡å¼•å…¥è¿›ç¨‹å’Œçº¿ç¨‹ï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿå¹¶å‘è¿è¡Œã€‚</p><h3 id="1-1-2-å…±äº«"><a href="#1-1-2-å…±äº«" class="headerlink" title="1.1.2 å…±äº«"></a>1.1.2 å…±äº«</h3><p>å…±äº«æ˜¯æŒ‡ç³»ç»Ÿä¸­çš„èµ„æºå¯ä»¥è¢«å¤šä¸ªå¹¶å‘è¿›ç¨‹å…±åŒä½¿ç”¨ã€‚ æœ‰ä¸¤ç§å…±äº«æ–¹å¼ï¼šäº’æ–¥å…±äº«å’ŒåŒæ—¶å…±äº«ã€‚ äº’æ–¥å…±äº«çš„èµ„æºç§°ä¸ºä¸´ç•Œèµ„æºï¼Œä¾‹å¦‚æ‰“å°æœºç­‰ï¼Œåœ¨åŒä¸€æ—¶åˆ»åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®ï¼Œéœ€è¦ç”¨åŒæ­¥æœºåˆ¶æ¥å®ç°äº’æ–¥è®¿é—®ã€‚</p><h3 id="1-1-3-è™šæ‹Ÿ"><a href="#1-1-3-è™šæ‹Ÿ" class="headerlink" title="1.1.3 è™šæ‹Ÿ"></a>1.1.3 è™šæ‹Ÿ</h3><p>è™šæ‹ŸæŠ€æœ¯æŠŠä¸€ä¸ªç‰©ç†å®ä½“è½¬æ¢ä¸ºå¤šä¸ªé€»è¾‘å®ä½“ã€‚</p><p>ä¸»è¦æœ‰ä¸¤ç§è™šæ‹ŸæŠ€æœ¯ï¼šæ—¶ï¼ˆæ—¶é—´ï¼‰åˆ†å¤ç”¨æŠ€æœ¯å’Œç©ºï¼ˆç©ºé—´ï¼‰åˆ†å¤ç”¨æŠ€æœ¯ã€‚</p><p>å¤šä¸ªè¿›ç¨‹èƒ½åœ¨åŒä¸€ä¸ªå¤„ç†å™¨ä¸Šå¹¶å‘æ‰§è¡Œä½¿ç”¨äº†æ—¶åˆ†å¤ç”¨æŠ€æœ¯ï¼Œè®©æ¯ä¸ªè¿›ç¨‹è½®æµå ç”¨å¤„ç†å™¨ï¼Œæ¯æ¬¡åªæ‰§è¡Œä¸€å°ä¸ªæ—¶é—´ç‰‡å¹¶å¿«é€Ÿåˆ‡æ¢ã€‚</p><p>è™šæ‹Ÿå†…å­˜ä½¿ç”¨äº†ç©ºåˆ†å¤ç”¨æŠ€æœ¯ï¼Œå®ƒå°†ç‰©ç†å†…å­˜æŠ½è±¡ä¸ºåœ°å€ç©ºé—´ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰å„è‡ªçš„åœ°å€ç©ºé—´ï¼Œåœ°å€ç©ºé—´çš„é¡µè¢«æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œåœ°å€ç©ºé—´å¹¶ä¸éœ€è¦å…¨éƒ¨åœ¨ç‰©ç†å†…å­˜ä¸­ï¼Œå½“ä½¿ç”¨ä¸€ä¸ªæ²¡æœ‰åœ¨ç‰©ç†å†…å­˜çš„é¡µæ—¶ï¼Œæ‰§è¡Œé¡µé¢ç½®æ¢ç®—æ³•ï¼Œå°†è¯¥é¡µç½®æ¢åˆ°å†…å­˜ä¸­ã€‚</p><h3 id="1-1-4-å¼‚æ­¥"><a href="#1-1-4-å¼‚æ­¥" class="headerlink" title="1.1.4 å¼‚æ­¥"></a>1.1.4 å¼‚æ­¥</h3><p>å¼‚æ­¥æŒ‡è¿›ç¨‹ä¸æ˜¯ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ¯•ï¼Œè€Œæ˜¯èµ°èµ°åœåœï¼Œä»¥ä¸å¯çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚</p><h4 id="1-2-åŸºæœ¬åŠŸèƒ½"><a href="#1-2-åŸºæœ¬åŠŸèƒ½" class="headerlink" title="1.2 åŸºæœ¬åŠŸèƒ½"></a>1.2 åŸºæœ¬åŠŸèƒ½</h4><h3 id="1-2-1-è¿›ç¨‹ç®¡ç†"><a href="#1-2-1-è¿›ç¨‹ç®¡ç†" class="headerlink" title="1.2.1 è¿›ç¨‹ç®¡ç†"></a>1.2.1 è¿›ç¨‹ç®¡ç†</h3><p>è¿›ç¨‹æ§åˆ¶ã€è¿›ç¨‹åŒæ­¥ã€è¿›ç¨‹é€šä¿¡ã€æ­»é”å¤„ç†ã€å¤„ç†æœºè°ƒåº¦ç­‰ã€‚</p><h3 id="1-2-2-å†…å­˜ç®¡ç†"><a href="#1-2-2-å†…å­˜ç®¡ç†" class="headerlink" title="1.2.2 å†…å­˜ç®¡ç†"></a>1.2.2 å†…å­˜ç®¡ç†</h3><p>å†…å­˜åˆ†é…ã€åœ°å€æ˜ å°„ã€å†…å­˜ä¿æŠ¤ä¸å…±äº«ã€è™šæ‹Ÿå†…å­˜ç­‰ã€‚</p><h3 id="1-2-3-æ–‡ä»¶ç®¡ç†"><a href="#1-2-3-æ–‡ä»¶ç®¡ç†" class="headerlink" title="1.2.3 æ–‡ä»¶ç®¡ç†"></a>1.2.3 æ–‡ä»¶ç®¡ç†</h3><p>æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†ã€ç›®å½•ç®¡ç†ã€æ–‡ä»¶è¯»å†™ç®¡ç†å’Œä¿æŠ¤ç­‰ã€‚</p><h3 id="1-2-4-è®¾å¤‡ç®¡ç†"><a href="#1-2-4-è®¾å¤‡ç®¡ç†" class="headerlink" title="1.2.4 è®¾å¤‡ç®¡ç†"></a>1.2.4 è®¾å¤‡ç®¡ç†</h3><p>å®Œæˆç”¨æˆ·çš„I&#x2F;Oè¯·æ±‚ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨å„ç§è®¾å¤‡ï¼Œå¹¶æé«˜è®¾å¤‡çš„åˆ©ç”¨ç‡ã€‚ ä¸»è¦åŒ…æ‹¬ç¼“å†²ç®¡ç†ã€è®¾å¤‡åˆ†é…ã€è®¾å¤‡å¤„ç†ã€è™šæ‹Ÿè®¾å¤‡ç­‰ã€‚</p><h4 id="1-3-ç³»ç»Ÿè°ƒç”¨"><a href="#1-3-ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="1.3 ç³»ç»Ÿè°ƒç”¨"></a>1.3 ç³»ç»Ÿè°ƒç”¨</h4><p>å¦‚æœä¸€ä¸ªè¿›ç¨‹åœ¨ç”¨æˆ·æ€éœ€è¦ä½¿ç”¨å†…æ ¸æ€çš„åŠŸèƒ½ï¼Œå°±è¿›è¡Œç³»ç»Ÿè°ƒç”¨ä»è€Œé™·å…¥å†…æ ¸ï¼Œç”±æ“ä½œç³»ç»Ÿä»£ä¸ºå®Œæˆã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/tGPV0.png"></p><p>Linuxçš„ç³»ç»Ÿè°ƒç”¨ä¸»è¦æœ‰ä»¥ä¸‹è¿™äº›ï¼š</p><p>Task</p><p>Commands</p><p>è¿›ç¨‹æ§åˆ¶</p><p>fork(); exit(); wait();</p><p>è¿›ç¨‹é€šä¿¡</p><p>pipe(); shmget(); mmap();</p><p>æ–‡ä»¶æ“ä½œ</p><p>open(); read(); write();</p><p>è®¾å¤‡æ“ä½œ</p><p>ioctl(); read(); write();</p><p>ä¿¡æ¯ç»´æŠ¤</p><p>getpid(); alarm(); sleep();</p><p>å®‰å…¨</p><p>chmod(); umask(); chown();</p><h4 id="1-4-å®å†…æ ¸å’Œå¾®å†…æ ¸"><a href="#1-4-å®å†…æ ¸å’Œå¾®å†…æ ¸" class="headerlink" title="1.4 å®å†…æ ¸å’Œå¾®å†…æ ¸"></a>1.4 å®å†…æ ¸å’Œå¾®å†…æ ¸</h4><h3 id="1-4-1-å®å†…æ ¸"><a href="#1-4-1-å®å†…æ ¸" class="headerlink" title="1.4.1 å®å†…æ ¸"></a>1.4.1 å®å†…æ ¸</h3><p>å®å†…æ ¸æ˜¯å°†æ“ä½œç³»ç»ŸåŠŸèƒ½ä½œä¸ºä¸€ä¸ªç´§å¯†ç»“åˆçš„æ•´ä½“æ”¾åˆ°å†…æ ¸ã€‚ ç”±äºå„æ¨¡å—å…±äº«ä¿¡æ¯ï¼Œå› æ­¤æœ‰å¾ˆé«˜çš„æ€§èƒ½ã€‚</p><h3 id="1-4-2-å¾®å†…æ ¸"><a href="#1-4-2-å¾®å†…æ ¸" class="headerlink" title="1.4.2 å¾®å†…æ ¸"></a>1.4.2 å¾®å†…æ ¸</h3><p>ç”±äºæ“ä½œç³»ç»Ÿä¸æ–­å¤æ‚ï¼Œå› æ­¤å°†ä¸€éƒ¨åˆ†æ“ä½œç³»ç»Ÿç§»å‡ºå†…æ ¸ï¼Œä»è€Œé™ä½å†…æ ¸çš„å¤æ‚æ€§ã€‚ç§»å‡ºçš„éƒ¨åˆ†æ ¹æ®åˆ†å±‚çš„åŸåˆ™åˆ’åˆ†æˆè‹¥å¹²æœåŠ¡ï¼Œç›¸äº’ç‹¬ç«‹ã€‚</p><p>åœ¨å¾®å†…æ ¸ç»“æ„ä¸‹ï¼Œæ“ä½œç³»ç»Ÿè¢«åˆ’åˆ†æˆå°çš„ã€å®šä¹‰è‰¯å¥½çš„æ¨¡å—ï¼Œåªæœ‰å¾®å†…æ ¸è¿™ä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨å†…æ ¸æ€ï¼Œå…¶ä½™æ¨¡å—è¿è¡Œåœ¨ç”¨æˆ·æ€ã€‚</p><p>å› ä¸ºéœ€è¦é¢‘ç¹åœ°åœ¨ç”¨æˆ·æ€å’Œæ ¸å¿ƒæ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æŸå¤±ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/2_14_microkernelArchitecture.jpg"></p><h4 id="1-5-ä¸­æ–­åˆ†ç±»"><a href="#1-5-ä¸­æ–­åˆ†ç±»" class="headerlink" title="1.5 ä¸­æ–­åˆ†ç±»"></a>1.5 ä¸­æ–­åˆ†ç±»</h4><h3 id="1-5-1-å¤–ä¸­æ–­"><a href="#1-5-1-å¤–ä¸­æ–­" class="headerlink" title="1.5.1 å¤–ä¸­æ–­"></a>1.5.1 å¤–ä¸­æ–­</h3><p>ç”±CPUæ‰§è¡ŒæŒ‡ä»¤ä»¥å¤–çš„æ—¶é—´å¼•èµ·ï¼Œå¦‚I&#x2F;Oå®Œæˆä¸­æ–­ï¼Œè¡¨ç¤ºè®¾å¤‡è¾“å…¥&#x2F;è¾“å‡ºå¤„ç†å·²ç»å®Œæˆï¼Œå¤„ç†å™¨èƒ½å¤Ÿå‘é€ä¸‹ä¸€ä¸ªè¾“å…¥&#x2F;è¾“å‡ºè¯·æ±‚ã€‚æ­¤å¤–è¿˜æœ‰æ—¶é’Ÿä¸­æ–­ã€æ§åˆ¶å°ä¸­æ–­ç­‰ã€‚</p><h3 id="1-5-2-å¼‚å¸¸"><a href="#1-5-2-å¼‚å¸¸" class="headerlink" title="1.5.2 å¼‚å¸¸"></a>1.5.2 å¼‚å¸¸</h3><p>ç”±CPUæ‰§è¡ŒæŒ‡ä»¤çš„å†…éƒ¨æ—¶é—´å¼•èµ·ï¼Œå¦‚éæ³•æ“ä½œç ã€åœ°å€è¶Šç•Œã€ç®—æœ¯æº¢å‡ºç­‰ã€‚</p><h3 id="1-5-3-é™·å…¥"><a href="#1-5-3-é™·å…¥" class="headerlink" title="1.5.3 é™·å…¥"></a>1.5.3 é™·å…¥</h3><p>åœ¨ç”¨æˆ·ç¨‹åºä¸­ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ã€‚</p><h2 id="2-è¿›ç¨‹ç®¡ç†"><a href="#2-è¿›ç¨‹ç®¡ç†" class="headerlink" title="2 è¿›ç¨‹ç®¡ç†"></a>2 è¿›ç¨‹ç®¡ç†</h2><h4 id="2-1-è¿›ç¨‹ä¸çº¿ç¨‹"><a href="#2-1-è¿›ç¨‹ä¸çº¿ç¨‹" class="headerlink" title="2.1 è¿›ç¨‹ä¸çº¿ç¨‹"></a>2.1 è¿›ç¨‹ä¸çº¿ç¨‹</h4><h3 id="2-1-1-è¿›ç¨‹"><a href="#2-1-1-è¿›ç¨‹" class="headerlink" title="2.1.1 è¿›ç¨‹"></a>2.1.1 è¿›ç¨‹</h3><p>è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ã€‚</p><p>è¿›ç¨‹æ§åˆ¶å—ï¼ˆProcess Control Blockï¼ŒPCBï¼‰æè¿°è¿›ç¨‹çš„åŸºæœ¬ä¿¡æ¯å’Œè¿è¡ŒçŠ¶æ€ï¼Œæ‰€è°“çš„åˆ›å»ºè¿›ç¨‹å’Œæ’¤é”€è¿›ç¨‹ï¼Œéƒ½æ˜¯æŒ‡å¯¹PCBçš„æ“ä½œã€‚</p><h3 id="2-1-2-çº¿ç¨‹"><a href="#2-1-2-çº¿ç¨‹" class="headerlink" title="2.1.2 çº¿ç¨‹"></a>2.1.2 çº¿ç¨‹</h3><p>çº¿ç¨‹æ˜¯ç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚</p><p>ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬å…±äº«è¿›ç¨‹èµ„æºã€‚</p><p>egï¼šQQ å’Œæµè§ˆå™¨æ˜¯ä¸¤ä¸ªè¿›ç¨‹ï¼Œæµè§ˆå™¨è¿›ç¨‹é‡Œé¢æœ‰å¾ˆå¤šçº¿ç¨‹ï¼Œä¾‹å¦‚ HTTP è¯·æ±‚çº¿ç¨‹ã€äº‹ä»¶å“åº”çº¿ç¨‹ã€æ¸²æŸ“çº¿ç¨‹ç­‰ç­‰ï¼Œçº¿ç¨‹çš„å¹¶å‘æ‰§è¡Œä½¿å¾—åœ¨æµè§ˆå™¨ä¸­ç‚¹å‡»ä¸€ä¸ªæ–°é“¾æ¥ä»è€Œå‘èµ· HTTPè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨è¿˜å¯ä»¥å“åº”ç”¨æˆ·çš„å…¶å®ƒäº‹ä»¶ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/3cd630ea-017c-488d-ad1d-732b4efeddf5.png"></p><h3 id="2-1-3-åŒºåˆ«"><a href="#2-1-3-åŒºåˆ«" class="headerlink" title="2.1.3 åŒºåˆ«"></a>2.1.3 åŒºåˆ«</h3><ol><li>æ‹¥æœ‰èµ„æº</li></ol><p>è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œä½†æ˜¯çº¿ç¨‹ä¸æ‹¥æœ‰èµ„æºï¼Œçº¿ç¨‹å¯ä»¥è®¿é—®éš¶å±è¿›ç¨‹çš„èµ„æºã€‚</p><ol start="2"><li>è°ƒåº¦</li></ol><p>çº¿ç¨‹æ˜¯ç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œåœ¨åŒä¸€è¿›ç¨‹ä¸­ï¼Œçº¿ç¨‹çš„åˆ‡æ¢ä¸ä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ï¼Œä»ä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ—¶ï¼Œä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ã€‚</p><ol start="3"><li>ç³»ç»Ÿå¼€é”€</li></ol><p>ç”±äºåˆ›å»ºæˆ–æ’¤é”€è¿›ç¨‹æ—¶ï¼Œç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…æˆ–å›æ”¶èµ„æºï¼Œå¦‚å†…å­˜ç©ºé—´ã€I&#x2F;Oè®¾å¤‡ç­‰ï¼Œæ‰€ä»˜å‡ºçš„å¼€é”€è¿œå¤§äºåˆ›å»ºæˆ–æ’¤é”€çº¿ç¨‹æ—¶çš„å¼€é”€ã€‚ç±»ä¼¼åœ°ï¼Œåœ¨è¿›è¡Œè¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œæ¶‰åŠå½“å‰æ‰§è¡Œè¿›ç¨‹CPUç¯å¢ƒçš„ä¿å­˜åŠæ–°è°ƒåº¦è¿›ç¨‹CPUç¯å¢ƒçš„è®¾ç½®ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢æ—¶åªéœ€ä¿å­˜å’Œè®¾ç½®å°‘é‡å¯„å­˜å™¨å†…å®¹ï¼Œå¼€é”€å¾ˆå°ã€‚</p><ol start="4"><li>é€šä¿¡æ–¹é¢</li></ol><p>çº¿ç¨‹é—´å¯ä»¥é€šè¿‡ç›´æ¥è¯»å†™åŒä¸€è¿›ç¨‹ä¸­çš„æ•°æ®è¿›è¡Œé€šä¿¡ï¼Œä½†æ˜¯è¿›ç¨‹é€šä¿¡éœ€è¦å€ŸåŠ©IPCã€‚</p><h4 id="2-2-è¿›ç¨‹çŠ¶æ€çš„åˆ‡æ¢"><a href="#2-2-è¿›ç¨‹çŠ¶æ€çš„åˆ‡æ¢" class="headerlink" title="2.2 è¿›ç¨‹çŠ¶æ€çš„åˆ‡æ¢"></a>2.2 è¿›ç¨‹çŠ¶æ€çš„åˆ‡æ¢</h4><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/ProcessState.png"></p><ul><li>å°±ç»ªçŠ¶æ€ï¼ˆreadyï¼‰ï¼šç­‰å¾…è¢«è°ƒåº¦</li><li>è¿è¡ŒçŠ¶æ€ï¼ˆrunningï¼‰</li><li>é˜»å¡çŠ¶æ€ï¼ˆwaitingï¼‰ï¼šç­‰å¾…èµ„æº</li></ul><p>åº”è¯¥æ³¨æ„ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>åªæœ‰å°±ç»ªæ€å’Œè¿è¡Œæ€å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œå…¶å®ƒéƒ½æ˜¯å•å‘è½¬æ¢ã€‚å°±ç»ªçŠ¶æ€çš„è¿›ç¨‹é€šè¿‡è°ƒåº¦ç®—æ³•ä»è€Œè·å¾—CPUæ—¶é—´ï¼Œè½¬ä¸ºè¿è¡ŒçŠ¶æ€ï¼›è€Œè¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹ï¼Œåœ¨åˆ†é…ç»™å®ƒçš„CPUæ—¶é—´ç‰‡ç”¨å®Œä¹‹åå°±ä¼šè½¬ä¸ºå°±ç»ªçŠ¶æ€ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è°ƒåº¦ã€‚</li><li>é˜»å¡çŠ¶æ€æ˜¯ç¼ºå°‘éœ€è¦çš„èµ„æºä»è€Œç”±è¿è¡ŒçŠ¶æ€è½¬æ¢è€Œæ¥ï¼Œä½†æ˜¯è¯¥èµ„æºä¸åŒ…æ‹¬CPUæ—¶é—´ï¼Œç¼ºå°‘CPUæ—¶é—´ä¼šä»è¿è¡Œæ€è½¬æ¢ä¸ºå°±ç»ªæ€ã€‚</li></ul><h4 id="2-3-è¿›ç¨‹è°ƒåº¦ç®—æ³•"><a href="#2-3-è¿›ç¨‹è°ƒåº¦ç®—æ³•" class="headerlink" title="2.3 è¿›ç¨‹è°ƒåº¦ç®—æ³•"></a>2.3 è¿›ç¨‹è°ƒåº¦ç®—æ³•</h4><p>ä¸åŒç¯å¢ƒçš„è°ƒåº¦ç®—æ³•ç›®æ ‡ä¸åŒï¼Œå› æ­¤éœ€è¦é’ˆå¯¹ä¸åŒç¯å¢ƒæ¥è®¨è®ºè°ƒåº¦ç®—æ³•ã€‚</p><h3 id="2-3-1-æ‰¹å¤„ç†ç³»ç»Ÿ"><a href="#2-3-1-æ‰¹å¤„ç†ç³»ç»Ÿ" class="headerlink" title="2.3.1 æ‰¹å¤„ç†ç³»ç»Ÿ"></a>2.3.1 æ‰¹å¤„ç†ç³»ç»Ÿ</h3><p>æ‰¹å¤„ç†ç³»ç»Ÿæ²¡æœ‰å¤ªå¤šçš„ç”¨æˆ·æ“ä½œï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œè°ƒåº¦ç®—æ³•ç›®æ ‡æ˜¯ä¿è¯ååé‡å’Œå‘¨è½¬æ—¶é—´ï¼ˆä»æäº¤åˆ°ç»ˆæ­¢çš„æ—¶é—´ï¼‰ã€‚</p><h4 id="2-3-1-1-å…ˆæ¥å…ˆæœåŠ¡-first-come-first-serverd-ï¼ˆFCFSï¼‰"><a href="#2-3-1-1-å…ˆæ¥å…ˆæœåŠ¡-first-come-first-serverd-ï¼ˆFCFSï¼‰" class="headerlink" title="2.3.1.1 å…ˆæ¥å…ˆæœåŠ¡ first-come first-serverd ï¼ˆFCFSï¼‰"></a>2.3.1.1 å…ˆæ¥å…ˆæœåŠ¡ first-come first-serverd ï¼ˆFCFSï¼‰</h4><p>éæŠ¢å å¼çš„è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ç…§è¯·æ±‚çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚</p><p>æœ‰åˆ©äºé•¿ä½œä¸šï¼Œä½†ä¸åˆ©äºçŸ­ä½œä¸šï¼Œå› ä¸ºçŸ­ä½œä¸šå¿…é¡»ä¸€ç›´ç­‰å¾…å‰é¢çš„é•¿ä½œä¸šæ‰§è¡Œå®Œæ¯•æ‰èƒ½æ‰§è¡Œï¼Œè€Œé•¿ä½œä¸šåˆéœ€è¦æ‰§è¡Œå¾ˆé•¿æ—¶é—´ï¼Œé€ æˆäº†çŸ­ä½œä¸šç­‰å¾…æ—¶é—´è¿‡é•¿ã€‚</p><h4 id="2-3-1-2-çŸ­ä½œä¸šä¼˜å…ˆ-shortest-job-first-ï¼ˆSJFï¼‰"><a href="#2-3-1-2-çŸ­ä½œä¸šä¼˜å…ˆ-shortest-job-first-ï¼ˆSJFï¼‰" class="headerlink" title="2.3.1.2 çŸ­ä½œä¸šä¼˜å…ˆ shortest job first ï¼ˆSJFï¼‰"></a>2.3.1.2 çŸ­ä½œä¸šä¼˜å…ˆ shortest job first ï¼ˆSJFï¼‰</h4><p>éæŠ¢å å¼çš„è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚</p><p>é•¿ä½œä¸šæœ‰å¯èƒ½ä¼šé¥¿æ­»ï¼Œå¤„äºä¸€ç›´ç­‰å¾…çŸ­ä½œä¸šæ‰§è¡Œå®Œæ¯•çš„çŠ¶æ€ã€‚å› ä¸ºå¦‚æœä¸€ç›´æœ‰çŸ­ä½œä¸šåˆ°æ¥ï¼Œé‚£ä¹ˆé•¿ä½œä¸šæ°¸è¿œå¾—ä¸åˆ°è°ƒåº¦ã€‚</p><h4 id="2-3-1-3-æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ-shortest-remaining-time-next-ï¼ˆSRTNï¼‰"><a href="#2-3-1-3-æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ-shortest-remaining-time-next-ï¼ˆSRTNï¼‰" class="headerlink" title="2.3.1.3 æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ shortest remaining time next ï¼ˆSRTNï¼‰"></a>2.3.1.3 æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ shortest remaining time next ï¼ˆSRTNï¼‰</h4><p>æœ€çŸ­ä½œä¸šä¼˜å…ˆçš„æŠ¢å å¼ç‰ˆæœ¬ï¼ŒæŒ‰å‰©ä½™è¿è¡Œæ—¶é—´çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚å½“ä¸€ä¸ªæ–°çš„ä½œä¸šåˆ°è¾¾æ—¶ï¼Œå…¶æ•´ä¸ªè¿è¡Œæ—¶é—´ä¸å½“å‰è¿›ç¨‹çš„å‰©ä½™æ—¶é—´ä½œæ¯”è¾ƒã€‚å¦‚æœæ–°çš„è¿›ç¨‹éœ€è¦çš„æ—¶é—´æ›´å°‘ï¼Œåˆ™æŒ‚èµ·å½“å‰è¿›ç¨‹ï¼Œè¿è¡Œæ–°çš„è¿›ç¨‹ï¼Œå¦åˆ™æ–°çš„è¿›ç¨‹ç­‰å¾…ã€‚</p><h3 id="2-3-2-äº¤äº’å¼ç³»ç»Ÿ"><a href="#2-3-2-äº¤äº’å¼ç³»ç»Ÿ" class="headerlink" title="2.3.2 äº¤äº’å¼ç³»ç»Ÿ"></a>2.3.2 äº¤äº’å¼ç³»ç»Ÿ</h3><p>äº¤äº’å¼ç³»ç»Ÿæœ‰å¤§é‡çš„ç”¨æˆ·äº¤äº’æ“ä½œï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­è°ƒåº¦ç®—æ³•çš„ç›®æ ‡æ˜¯å¿«é€Ÿåœ°è¿›è¡Œå“åº”ã€‚</p><h4 id="2-3-2-1-æ—¶é—´ç‰‡è½®è½¬"><a href="#2-3-2-1-æ—¶é—´ç‰‡è½®è½¬" class="headerlink" title="2.3.2.1 æ—¶é—´ç‰‡è½®è½¬"></a>2.3.2.1 æ—¶é—´ç‰‡è½®è½¬</h4><p>å°†æ‰€æœ‰å°±ç»ªè¿›ç¨‹æŒ‰FCFSçš„åŸåˆ™æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡è°ƒåº¦æ—¶ï¼ŒæŠŠCPUæ—¶é—´åˆ†é…ç»™é˜Ÿé¦–è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹å¯ä»¥æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ã€‚å½“æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼Œç”±è®¡æ—¶å™¨å‘å‡ºæ—¶é’Ÿä¸­æ–­ï¼Œè°ƒåº¦ç¨‹åºä¾¿åœæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œå¹¶å°†å®ƒé€å¾€å°±ç»ªé˜Ÿåˆ—çš„æœ«å°¾ï¼ŒåŒæ—¶ç»§ç»­æŠŠCPUæ—¶é—´åˆ†é…ç»™é˜Ÿé¦–çš„è¿›ç¨‹ã€‚</p><p>æ—¶é—´ç‰‡è½®è½¬ç®—æ³•çš„æ•ˆç‡å’Œæ—¶é—´ç‰‡çš„å¤§å°æœ‰å¾ˆå¤§å…³ç³»ï¼š</p><ul><li>å› ä¸ºè¿›ç¨‹åˆ‡æ¢éƒ½è¦ä¿å­˜è¿›ç¨‹çš„ä¿¡æ¯å¹¶ä¸”è½½å…¥æ–°è¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¦‚æœæ—¶é—´ç‰‡å¤ªå°ï¼Œä¼šå¯¼è‡´è¿›ç¨‹åˆ‡æ¢å¾—å¤ªé¢‘ç¹ï¼Œåœ¨è¿›ç¨‹åˆ‡æ¢ä¸Šå°±ä¼šèŠ±è¿‡å¤šæ—¶é—´ã€‚</li><li>è€Œå¦‚æœæ—¶é—´ç‰‡è¿‡é•¿ï¼Œé‚£ä¹ˆå®æ—¶æ€§å°±ä¸èƒ½å¾—åˆ°ä¿è¯ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/8c662999-c16c-481c-9f40-1fdba5bc9167.png"></p><h4 id="2-3-2-2-ä¼˜å…ˆçº§è°ƒåº¦"><a href="#2-3-2-2-ä¼˜å…ˆçº§è°ƒåº¦" class="headerlink" title="2.3.2.2 ä¼˜å…ˆçº§è°ƒåº¦"></a>2.3.2.2 ä¼˜å…ˆçº§è°ƒåº¦</h4><p>ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªä¼˜å…ˆçº§ï¼ŒæŒ‰ä¼˜å…ˆçº§è¿›è¡Œè°ƒåº¦ã€‚</p><p>ä¸ºäº†é˜²æ­¢ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹æ°¸è¿œç­‰ä¸åˆ°è°ƒåº¦ï¼Œå¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»å¢åŠ ç­‰å¾…è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚</p><h4 id="2-3-2-3-å¤šçº§åé¦ˆé˜Ÿåˆ—"><a href="#2-3-2-3-å¤šçº§åé¦ˆé˜Ÿåˆ—" class="headerlink" title="2.3.2.3 å¤šçº§åé¦ˆé˜Ÿåˆ—"></a>2.3.2.3 å¤šçº§åé¦ˆé˜Ÿåˆ—</h4><p>ä¸€ä¸ªè¿›ç¨‹éœ€è¦æ‰§è¡Œ100ä¸ªæ—¶é—´ç‰‡ï¼Œå¦‚æœé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ï¼Œé‚£ä¹ˆéœ€è¦äº¤æ¢100æ¬¡ã€‚</p><p>å¤šçº§é˜Ÿåˆ—æ˜¯ä¸ºè¿™ç§éœ€è¦è¿ç»­æ‰§è¡Œå¤šä¸ªæ—¶é—´ç‰‡çš„è¿›ç¨‹è€ƒè™‘ï¼Œå®ƒè®¾ç½®äº†å¤šä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—æ—¶é—´ç‰‡å¤§å°éƒ½ä¸åŒï¼Œä¾‹å¦‚1ï¼Œ2ï¼Œ4ï¼Œ8â€¦ã€‚è¿›ç¨‹åœ¨ç¬¬ä¸€ä¸ªé˜Ÿåˆ—æ²¡æ‰§è¡Œå®Œï¼Œå°±ä¼šè¢«ç§»åˆ°ä¸‹ä¸€ä¸ªé˜Ÿåˆ—ã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œä¹‹å‰çš„è¿›ç¨‹åªéœ€è¦äº¤æ¢7æ¬¡ã€‚</p><p>æ¯ä¸ªé˜Ÿåˆ—ä¼˜å…ˆæƒä¹Ÿä¸åŒï¼Œæœ€ä¸Šé¢çš„ä¼˜å…ˆæƒæœ€é«˜ã€‚å› æ­¤åªæœ‰ä¸Šä¸€ä¸ªé˜Ÿåˆ—æ²¡æœ‰è¿›ç¨‹åœ¨æ’é˜Ÿï¼Œæ‰èƒ½è°ƒåº¦å½“å‰é˜Ÿåˆ—ä¸Šçš„è¿›ç¨‹ã€‚</p><p>å¯ä»¥å°†è¿™ç§è°ƒåº¦ç®—æ³•çœ‹æˆæ˜¯æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•å’Œä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•çš„ç»“åˆã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/042cf928-3c8e-4815-ae9c-f2780202c68f.png"></p><h3 id="2-3-3-å®æ—¶ç³»ç»Ÿ"><a href="#2-3-3-å®æ—¶ç³»ç»Ÿ" class="headerlink" title="2.3.3 å®æ—¶ç³»ç»Ÿ"></a>2.3.3 å®æ—¶ç³»ç»Ÿ</h3><p>å®æ—¶ç³»ç»Ÿè¦æ±‚ä¸€ä¸ªè¯·æ±‚åœ¨ä¸€ä¸ªç¡®å®šæ—¶é—´å†…å¾—åˆ°å“åº”ã€‚</p><p>åˆ†ä¸ºç¡¬å®æ—¶å’Œè½¯å®æ—¶ï¼Œå‰è€…å¿…é¡»æ»¡è¶³ç»å¯¹çš„æˆªæ­¢æ—¶é—´ï¼Œåè€…å¯ä»¥å®¹å¿ä¸€å®šçš„è¶…æ—¶ã€‚</p><h4 id="2-4-è¿›ç¨‹åŒæ­¥"><a href="#2-4-è¿›ç¨‹åŒæ­¥" class="headerlink" title="2.4 è¿›ç¨‹åŒæ­¥"></a>2.4 è¿›ç¨‹åŒæ­¥</h4><h3 id="2-4-1-ä¸´ç•ŒåŒº"><a href="#2-4-1-ä¸´ç•ŒåŒº" class="headerlink" title="2.4.1 ä¸´ç•ŒåŒº"></a>2.4.1 ä¸´ç•ŒåŒº</h3><p>å¯¹ä¸´ç•Œèµ„æºè¿›è¡Œè®¿é—®çš„é‚£æ®µä»£ç ç§°ä¸ºä¸´ç•ŒåŒºã€‚</p><p>ä¸ºäº†äº’æ–¥è®¿é—®ä¸´ç•Œèµ„æºï¼Œæ¯ä¸ªè¿›ç¨‹åœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰ï¼Œéœ€è¦å…ˆè¿›è¡Œæ£€æŸ¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// entry section</span><br><span class="line">// critical section</span><br><span class="line">// exit section</span><br></pre></td></tr></table></figure><h3 id="2-4-2-åŒæ­¥ä¸äº’æ–¥"><a href="#2-4-2-åŒæ­¥ä¸äº’æ–¥" class="headerlink" title="2.4.2 åŒæ­¥ä¸äº’æ–¥"></a>2.4.2 åŒæ­¥ä¸äº’æ–¥</h3><ul><li>åŒæ­¥ï¼šå¤šä¸ªè¿›ç¨‹å› ä¸ºåˆä½œäº§ç”Ÿçš„ç›´æ¥åˆ¶çº¦å…³ç³»ï¼Œä½¿å¾—è¿›ç¨‹æœ‰ä¸€å®šçš„å…ˆåæ‰§è¡Œå…³ç³»ã€‚</li><li>äº’æ–¥ï¼šå¤šä¸ªè¿›ç¨‹åœ¨åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½è¿›å…¥ä¸´ç•ŒåŒºã€‚</li></ul><h3 id="2-4-3-ä¿¡å·é‡"><a href="#2-4-3-ä¿¡å·é‡" class="headerlink" title="2.4.3 ä¿¡å·é‡"></a>2.4.3 ä¿¡å·é‡</h3><p>ä¿¡å·é‡ï¼ˆSemaphoreï¼‰æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œå¯ä»¥å¯¹å…¶æ‰§è¡Œdownå’Œupæ“ä½œï¼Œä¹Ÿå°±æ˜¯å¸¸è§çš„På’ŒVæ“ä½œã€‚</p><ul><li><code>down</code>ï¼šå¦‚æœä¿¡å·é‡å¤§äº0ï¼Œæ‰§è¡Œ-1æ“ä½œï¼›å¦‚æœä¿¡å·é‡ç­‰äº0ï¼Œè¿›ç¨‹ç¡çœ ï¼Œç­‰å¾…ä¿¡å·é‡å¤§äº0ï¼›</li><li><code>up</code>ï¼šå¯¹ä¿¡å·é‡æ‰§è¡Œ+1æ“ä½œï¼Œå”¤é†’ç¡çœ çš„è¿›ç¨‹è®©å…¶å®Œæˆdownæ“ä½œã€‚</li></ul><p>downå’Œupæ“ä½œéœ€è¦è¢«è®¾è®¡æˆåŸè¯­ï¼Œä¸å¯åˆ†å‰²ï¼Œé€šå¸¸çš„åšæ³•æ˜¯åœ¨æ‰§è¡Œè¿™äº›æ“ä½œçš„æ—¶å€™å±è”½ä¸­æ–­ã€‚</p><p>å¦‚æœä¿¡å·é‡çš„å–å€¼åªèƒ½ä¸º0æˆ–è€…1ï¼Œé‚£ä¹ˆå°±æˆä¸ºäº†<code>äº’æ–¥é‡ï¼ˆMutexï¼‰</code>ï¼Œ0è¡¨ç¤ºä¸´ç•ŒåŒºå·²ç»åŠ é”ï¼Œ1è¡¨ç¤ºä¸´ç•ŒåŒºè§£é”ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> semaphore;</span><br><span class="line">semaphore mutex = <span class="number">1</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">P1</span><span class="params">()</span> &#123;</span><br><span class="line">    down(&amp;mutex);</span><br><span class="line">    <span class="comment">// ä¸´ç•ŒåŒº</span></span><br><span class="line">    up(&amp;mutex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">P2</span><span class="params">()</span> &#123;</span><br><span class="line">    down(&amp;mutex);</span><br><span class="line">    <span class="comment">// ä¸´ç•ŒåŒº</span></span><br><span class="line">    up(&amp;mutex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-4-4-ç®¡ç¨‹"><a href="#2-4-4-ç®¡ç¨‹" class="headerlink" title="2.4.4 ç®¡ç¨‹"></a>2.4.4 ç®¡ç¨‹</h3><p>ä½¿ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜éœ€è¦å®¢æˆ·ç«¯ä»£ç åšå¾ˆå¤šæ§åˆ¶ï¼Œè€Œç®¡ç¨‹æŠŠæ§åˆ¶çš„ä»£ç ç‹¬ç«‹å‡ºæ¥ï¼Œä¸ä»…ä¸å®¹æ˜“å‡ºé”™ï¼Œä¹Ÿä½¿å¾—å®¢æˆ·ç«¯ä»£ç è°ƒç”¨æ›´å®¹æ˜“ã€‚</p><p>ç•¥ã€‚</p><h4 id="2-5-ç»å…¸åŒæ­¥é—®é¢˜"><a href="#2-5-ç»å…¸åŒæ­¥é—®é¢˜" class="headerlink" title="2.5 ç»å…¸åŒæ­¥é—®é¢˜"></a>2.5 ç»å…¸åŒæ­¥é—®é¢˜</h4><h3 id="2-5-1-ä½¿ç”¨ä¿¡å·é‡å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜"><a href="#2-5-1-ä½¿ç”¨ä¿¡å·é‡å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜" class="headerlink" title="2.5.1 ä½¿ç”¨ä¿¡å·é‡å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜"></a>2.5.1 ä½¿ç”¨ä¿¡å·é‡å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜</h3><p>é—®é¢˜æè¿°:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ä¸€ä¸ªç¼“å†²åŒºæ¥ä¿å­˜ç‰©å“ï¼Œåªæœ‰ç¼“å†²åŒºæ²¡æœ‰æ»¡ï¼Œç”Ÿäº§è€…æ‰å¯ä»¥æ”¾å…¥ç‰©å“ï¼›åªæœ‰ç¼“å†²åŒºä¸ä¸ºç©ºï¼Œæ¶ˆè´¹è€…æ‰å¯ä»¥æ‹¿èµ°ç‰©å“ã€‚</span><br></pre></td></tr></table></figure><p>å› ä¸ºç¼“å†²åŒºå±äºä¸´ç•Œèµ„æºï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ä¸€ä¸ªäº’æ–¥é‡<code>mutex</code>æ¥æ§åˆ¶ç¼“å†²åŒºçš„äº’æ–¥è®¿é—®ã€‚</p><p>ä¸ºäº†åŒæ­¥ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„è¡Œä¸ºï¼Œéœ€è¦è®°å½•ç¼“å†²åŒºä¸­ç‰©å“çš„æ•°é‡ã€‚æ•°é‡å¯ä»¥ä½¿ç”¨ä¿¡å·é‡æ¥è¿›è¡Œç»Ÿè®¡ã€‚</p><p>è¿™é‡Œéœ€è¦ä½¿ç”¨ä¸¤ä¸ªä¿¡å·é‡ï¼š<code>empty</code>è®°å½•ç©ºç¼“å†²åŒºçš„æ•°é‡ï¼Œ<code>full</code>è®°å½•æ»¡ç¼“å†²åŒºçš„æ•°é‡ã€‚</p><p>å…¶ä¸­ï¼Œ<code>empty</code>ä¿¡å·é‡æ˜¯åœ¨ç”Ÿäº§è€…è¿›ç¨‹ä¸­ä½¿ç”¨ï¼Œå½“<code>empty</code>ä¸ä¸º0æ—¶ï¼Œç”Ÿäº§è€…æ‰å¯ä»¥æ”¾å…¥ç‰©å“ï¼›<code>full</code>ä¿¡å·é‡æ—¶åœ¨æ¶ˆè´¹è€…è¿›ç¨‹ä¸­ä½¿ç”¨ï¼Œå½“<code>full</code>ä¿¡å·é‡ä¸ä¸º0æ—¶ï¼Œæ¶ˆè´¹è€…æ‰å¯ä»¥å–èµ°ç‰©å“ã€‚</p><p>æ³¨æ„ï¼šä¸èƒ½å…ˆå¯¹ç¼“å†²åŒºè¿›è¡ŒåŠ é”ï¼Œå†æµ‹è¯•ä¿¡å·é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½å…ˆæ‰§è¡Œdown(mutex)å†æ‰§è¡Œdown(empty)ã€‚å¦‚æœè¿™ä¹ˆåšäº†ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼šç”Ÿäº§è€…å¯¹ç¼“å†²åŒºåŠ é”åï¼Œæ‰§è¡Œdown(empty)æ“ä½œï¼Œå‘ç°empty&#x3D;0ï¼Œæ­¤æ—¶ç”Ÿäº§è€…ç¡çœ ï¼Œæ¶ˆè´¹è€…ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºï¼Œå› ä¸ºç”Ÿäº§è€…å¯¹ç¼“å†²åŒºåŠ é”äº†ï¼Œæ¶ˆè´¹è€…å°±æ— æ³•æ‰§è¡Œup(empty)æ“ä½œï¼Œemptyæ°¸è¿œéƒ½ä¸º0ï¼Œå¯¼è‡´ç”Ÿäº§è€…æ°¸è¿œç­‰å¾…ä¸‹å»ï¼Œä¸ä¼šé‡Šæ”¾é”ï¼Œæ¶ˆè´¹è€…å› æ­¤ä¹Ÿä¼šæ°¸è¿œç­‰å¾…ä¸‹å»ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">define</span> N 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> semaphore;</span><br><span class="line">semaphore mutex = <span class="number">1</span>;</span><br><span class="line">semaphore empty = N;</span><br><span class="line">semaphore full = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">producer</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="type">int</span> item = produce_item();</span><br><span class="line">        down(&amp;empty);</span><br><span class="line">        down(&amp;mutex);</span><br><span class="line">        insert_item(item);</span><br><span class="line">        up(&amp;mutex);</span><br><span class="line">        up(&amp;full);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">consumer</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        down(&amp;full);</span><br><span class="line">        down(&amp;mutex);</span><br><span class="line">        <span class="type">int</span> item = remove_item();</span><br><span class="line">        consume_item(item);</span><br><span class="line">        up(&amp;mutex);</span><br><span class="line">        up(&amp;empty);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-5-2-å“²å­¦å®¶è¿›é¤é—®é¢˜"><a href="#2-5-2-å“²å­¦å®¶è¿›é¤é—®é¢˜" class="headerlink" title="2.5.2 å“²å­¦å®¶è¿›é¤é—®é¢˜"></a>2.5.2 å“²å­¦å®¶è¿›é¤é—®é¢˜</h3><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/a9077f06-7584-4f2b-8c20-3a8e46928820.jpg"></p><p>é—®é¢˜æè¿°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">äº”ä¸ªå“²å­¦å®¶å›´ç€ä¸€å¼ åœ†æ¡Œï¼Œæ¯ä¸ªå“²å­¦å®¶é¢å‰æ”¾ç€é£Ÿç‰©ã€‚å“²å­¦å®¶çš„ç”Ÿæ´»æœ‰ä¸¤ç§äº¤æ›¿æ´»åŠ¨ï¼šåƒé¥­ä»¥åŠæ€è€ƒã€‚å½“ä¸€ä¸ªå“²å­¦å®¶åƒé¥­æ—¶ï¼Œéœ€è¦å…ˆæ‹¿èµ·è‡ªå·±å·¦å³ä¸¤è¾¹çš„ä¸¤æ ¹ç­·å­ï¼Œå¹¶ä¸”ä¸€æ¬¡åªèƒ½æ‹¿èµ·ä¸€æ ¹ç­·å­ã€‚</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ç§é”™è¯¯çš„è§£æ³•ï¼Œå¦‚æœæ‰€æœ‰å“²å­¦å®¶åŒæ—¶æ‹¿èµ·å·¦æ‰‹è¾¹çš„ç­·å­ï¼Œé‚£ä¹ˆæ‰€æœ‰å“²å­¦å®¶éƒ½åœ¨ç­‰å¾…å…¶ä»–å“²å­¦å®¶åƒå®Œå¹¶é‡Šæ”¾è‡ªå·±æ‰‹ä¸­çš„ç­·å­ï¼Œå¯¼è‡´æ­»é”ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">define</span> N 5</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">philosopher</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        think();</span><br><span class="line">        take(i);            <span class="comment">// æ‹¿èµ·å·¦è¾¹çš„ç­·å­</span></span><br><span class="line">        take((i + <span class="number">1</span>) % N);  <span class="comment">// æ‹¿èµ·å³è¾¹çš„ç­·å­</span></span><br><span class="line">        eat();</span><br><span class="line">        put(i);</span><br><span class="line">        put((i + <span class="number">1</span>) % N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†é˜²æ­¢æ­»é”çš„å‘ç”Ÿï¼Œå¯ä»¥è®¾ç½®ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ul><li>å¿…é¡»åŒæ—¶æ‹¿èµ·å·¦å³ä¸¤æ ¹ç­·å­ï¼›</li><li>åªæœ‰å†ä¸¤ä¸ªé‚»å±…éƒ½æ²¡æœ‰è¿›é¤çš„æƒ…å†µä¸‹æ‰å…è®¸è¿›é¤ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">define</span> N 5</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> LEFT (i - 1 + N) % N    <span class="comment">// å·¦é‚»å±…</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> RIGHT (i + 1) % N       <span class="comment">// å³é‚»å±…</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> THINKING 0</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> HUNGRY 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> EATING 2</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> semaphore;</span><br><span class="line"><span class="type">int</span> state[N];                   <span class="comment">// è·Ÿè¸ªæ¯ä¸ªå“²å­¦å®¶çš„çŠ¶æ€</span></span><br><span class="line">semaphore mutex = <span class="number">1</span>;            <span class="comment">// ä¸´ç•ŒåŒºçš„äº’æ–¥ï¼Œä¸´ç•ŒåŒºæ—¶stateæ•°ç»„ï¼Œå¯¹å…¶ä¿®æ”¹éœ€è¦äº’æ–¥</span></span><br><span class="line">semaphore s[N];                 <span class="comment">// æ¯ä¸ªå“²å­¦å®¶çš„ä¸€ä¸ªä¿¡å·é‡</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">philosopher</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        think(i);</span><br><span class="line">        take_two(i);</span><br><span class="line">        eat(i);</span><br><span class="line">        put_two(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">take_two</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    down(&amp;mutex);</span><br><span class="line">    state[i] = HUNGRY;</span><br><span class="line">    check(i);</span><br><span class="line">    up(&amp;mutex);</span><br><span class="line">    down(&amp;s[i]); <span class="comment">// åªæœ‰æ”¶åˆ°é€šçŸ¥ä¹‹åæ‰å¯ä»¥å¼€å§‹åƒï¼Œå¦åˆ™ä¼šä¸€ç›´ç­‰ä¸‹å»</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">put_two</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    down(&amp;mutex);</span><br><span class="line">    state[i] = THINKING;</span><br><span class="line">    check(LEFT); <span class="comment">// å°è¯•é€šçŸ¥å·¦å³é‚»å±…ï¼Œè‡ªå·±åƒå®Œäº†ï¼Œä½ ä»¬å¯ä»¥å¼€å§‹åƒäº†</span></span><br><span class="line">    check(RIGHT);</span><br><span class="line">    up(&amp;mutex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">eat</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    down(&amp;mutex);</span><br><span class="line">    state[i] = EATING;</span><br><span class="line">    up(&amp;mutex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥ä¸¤ä¸ªé‚»å±…æ˜¯å¦éƒ½æ²¡æœ‰ç”¨é¤</span></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯çš„è¯ï¼Œå°±up(&amp;s[i])äº†ï¼Œä½¿å¾—down(&amp;s[i])èƒ½å¤Ÿå¾—åˆ°é€šçŸ¥å¹¶ç»§ç»­æ‰§è¡Œ</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">check</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(state[i] == HUNGRY &amp;&amp; state[LEFT] != EATING &amp;&amp; state[RIGHT] != EATING) &#123;</span><br><span class="line">        state[i] = EATING;</span><br><span class="line">        up(&amp;s[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-5-3-è¯»è€…-å†™è€…é—®é¢˜"><a href="#2-5-3-è¯»è€…-å†™è€…é—®é¢˜" class="headerlink" title="2.5.3 è¯»è€…-å†™è€…é—®é¢˜"></a>2.5.3 è¯»è€…-å†™è€…é—®é¢˜</h3><p>é—®é¢˜æè¿°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶å¯¹æ•°æ®è¿›è¡Œè¯»æ“ä½œï¼Œä½†æ˜¯ä¸å…è®¸è¯»å’Œå†™ä»¥åŠå†™å’Œå†™çš„æ“ä½œåŒæ—¶å‘ç”Ÿã€‚</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªæ•´å‹å˜é‡<code>count</code>è®°å½•åœ¨å¯¹æ•°æ®è¿›è¡Œè¯»æ“ä½œçš„è¿›ç¨‹æ•°é‡ï¼Œä¸€ä¸ªäº’æ–¥é‡<code>count_mutex</code>ç”¨äºå¯¹<code>count</code>åŠ é”ï¼Œä¸€ä¸ªäº’æ–¥é‡<code>data_mutex</code>ç”¨äºå¯¹è¯»å†™çš„æ•°æ®åŠ é”ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> semaphore;</span><br><span class="line">semaphore count_mutex = <span class="number">1</span>;</span><br><span class="line">semaphore data_mutex = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">reader</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        down(&amp;count_mutex);</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">1</span>) down(&amp;data_mutex);</span><br><span class="line">        up(&amp;count_mutex);</span><br><span class="line">        read();</span><br><span class="line">        down(&amp;count_mutex);</span><br><span class="line">        count--;</span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">0</span>) up(&amp;data_mutex);</span><br><span class="line">        up(&amp;count_mutex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">writer</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        down(&amp;data_mutex);</span><br><span class="line">        write();</span><br><span class="line">        up(&amp;data_mutex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-5-4-ç†å‘å¸ˆé—®é¢˜"><a href="#2-5-4-ç†å‘å¸ˆé—®é¢˜" class="headerlink" title="2.5.4 ç†å‘å¸ˆé—®é¢˜"></a>2.5.4 ç†å‘å¸ˆé—®é¢˜</h3><p>é—®é¢˜æè¿°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾æœ‰ä¸€ä¸ªç†å‘åº—åªæœ‰ä¸€ä¸ªç†å‘å¸ˆï¼Œä¸€å¼ ç†å‘æ—¶åçš„æ¤…å­ï¼Œè‹¥å¹²å¼ æ™®é€šæ¤…å­é¡¾å®¢ä¾›ç­‰å€™æ—¶åã€‚æ²¡æœ‰é¡¾å®¢æ—¶ï¼Œç†å‘å¸ˆå°±ååœ¨ç†å‘çš„æ¤…å­ä¸Šç¡è§‰ã€‚é¡¾å®¢ä¸€åˆ°ï¼Œä»–ä¸æ˜¯å«é†’ç†å‘å¸ˆï¼Œå°±æ˜¯ç¦»å¼€ã€‚å¦‚æœç†å‘å¸ˆæ²¡æœ‰ç¡è§‰ï¼Œè€Œåœ¨ä¸ºåˆ«äººç†å‘ï¼Œä»–å°±ä¼šåä¸‹æ¥ç­‰å€™ã€‚å¦‚æœæ‰€æœ‰çš„æ¤…å­éƒ½åæ»¡äº†äººï¼Œæœ€åæ¥çš„é¡¾å®¢å°±ä¼šç¦»å¼€ã€‚</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‰ä¸ªä¿¡å·é‡å’Œä¸€ä¸ªæ§åˆ¶å˜é‡ï¼š</p><ol><li>æ§åˆ¶å˜é‡<code>waiting</code>ç”¨æ¥è®°å½•ç­‰å€™ç†å‘çš„é¡¾å®¢æ•°ï¼Œinit &#x3D; 0;</li><li>ä¿¡å·é‡<code>customers</code>ç”¨æ¥è®°å½•ç­‰å€™ç†å‘çš„é¡¾å®¢æ•°ï¼Œå¹¶ç”¨ä½œé˜»å¡ç†å‘å¸ˆè¿›ç¨‹ï¼Œinit &#x3D; 0;</li><li>ä¿¡å·é‡<code>barbers</code>ç”¨æ¥è®°å½•æ­£åœ¨ç­‰å€™é¡¾å®¢çš„ç†å‘å¸ˆæ•°ï¼Œå¹¶ç”¨ä½œé˜»å¡è¿›ç¨‹ï¼Œinit &#x3D; 0ï¼ˆåˆšå¼€å§‹æ—¶ç†å‘å¸ˆåœ¨ç¡è§‰ï¼Œæ‰€ä»¥ç†å‘å¸ˆè¿™ä¸ªèµ„æºæ•°ç›®ä¸º0ï¼‰ï¼›</li><li>ä¿¡å·é‡<code>mutex</code>ç”¨ä½œäº’æ–¥ï¼Œinit &#x3D; 1;</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">define</span> N 3</span></span><br><span class="line"><span class="type">int</span> waiting = <span class="number">0</span>;</span><br><span class="line">semaphore customers = <span class="number">0</span>;</span><br><span class="line">semaphore barbers = <span class="number">0</span>;</span><br><span class="line">semaphore mutex = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">barber</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        down(&amp;customers); <span class="comment">// è‹¥æ— é¡¾å®¢ï¼Œç†å‘å¸ˆç¡çœ </span></span><br><span class="line">        down(&amp;mutex);</span><br><span class="line">        waiting--;</span><br><span class="line">        up(&amp;barbers);</span><br><span class="line">        up(&amp;mutex);</span><br><span class="line"></span><br><span class="line">        down(&amp;mutex);</span><br><span class="line">        <span class="keyword">if</span>(waiting == <span class="number">0</span>) &#123; <span class="comment">// æ²¡æœ‰äººå°±ç¡çœ </span></span><br><span class="line">            up(&amp;mutex);</span><br><span class="line">            <span class="keyword">break</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        up(&amp;mutex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">consumer</span><span class="params">()</span> &#123;</span><br><span class="line">    down(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(waiting == N) &#123; <span class="comment">// æ¤…å­åæ»¡äº†äºº</span></span><br><span class="line">        up(&amp;mutex);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        waiting++; <span class="comment">// ç­‰å€™çš„äºº+1</span></span><br><span class="line">        up(&amp;customers); <span class="comment">// å¤šä¸€ä¸ªé¡¾å®¢</span></span><br><span class="line">        up(&amp;mutex);</span><br><span class="line">        down(&amp;barbers); <span class="comment">// å¦‚æœæ²¡æœ‰ç†å‘å¸ˆï¼Œé¡¾å®¢å°±åœ¨æ¤…å­ä¸Šç­‰ç€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç†å‘å¸ˆé—®é¢˜å’Œç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜åœ¨äº</p><ol><li>å½“ç­‰å€™ç†å‘çš„å‡³å­è¢«åæ»¡æ—¶å€™ï¼Œé¡¾å®¢ç¦»å¼€ï¼Œå³èµ„æºä¸æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œè¿›ç¨‹ç»“æŸï¼›å½“ç¼“å†²åŒºæ»¡çš„æ—¶å€™ï¼Œç”Ÿäº§è€…å‡ºç°ç­‰å¾…äº‹ä»¶ï¼Œç­‰åˆ°èµ„æºæ»¡è¶³æ—¶å¾€ä¸‹æ‰§è¡Œï¼Œå³èµ„æºä¸æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œè¿›ç¨‹ç­‰å¾…ã€‚</li><li>å½“èµ„æºç”¨ä¿¡å·é‡è¡¨ç¤ºï¼Œèµ„æºä¸æ»¡è¶³çš„æƒ…å†µä¸‹è¿›ç¨‹ç­‰å¾…ï¼Œæ‰€ä»¥ç†å‘å¸ˆé—®é¢˜ä¸­ï¼Œæ¤…å­ä¸å› è¯¥ç”¨ä¿¡å·é‡è¡¨ç¤ºè€Œå› è¯¥ç”¨å˜é‡è¡¨ç¤ºï¼Œå†åŠ ä¸Šä¸€ä¸ªäº’æ–¥ä¿¡å·é‡ã€‚</li><li>ç”Ÿäº§è€…æ¶ˆè´¹è€…å¯ä»¥æ›´æ”¹å…¬å…±èµ„æºå¦‚ç¼“å†²åŒºemptyå½“å‰å€¼ï¼Œæ— è®ºèµ„æºæ˜¯å¦æ»¡è¶³ï¼›è€Œç†å‘å¸ˆé—®é¢˜ä¸­å¯¹äºå…¬å…±çš„èµ„æºæ¤…å­ï¼Œèµ„æºæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œé¡¾å®¢æ˜¯ä¸èƒ½æ›´æ”¹waitingçš„å€¼ã€‚</li></ol><h4 id="2-6-è¿›ç¨‹é€šä¿¡"><a href="#2-6-è¿›ç¨‹é€šä¿¡" class="headerlink" title="2.6 è¿›ç¨‹é€šä¿¡"></a>2.6 è¿›ç¨‹é€šä¿¡</h4><p>è¿›ç¨‹åŒæ­¥ä¸è¿›ç¨‹é€šä¿¡å¾ˆå®¹æ˜“æ··æ·†ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºï¼š</p><ul><li>è¿›ç¨‹åŒæ­¥ï¼šæ§åˆ¶å¤šä¸ªè¿›ç¨‹æŒ‰ä¸€å®šé¡ºåºæ‰§è¡Œï¼›</li><li>è¿›ç¨‹é€šä¿¡ï¼šè¿›ç¨‹é—´ä¼ è¾“ä¿¡æ¯ã€‚</li></ul><p>è¿›ç¨‹é€šä¿¡æ˜¯ä¸€ç§æ‰‹æ®µï¼Œè€Œè¿›ç¨‹åŒæ­¥æ˜¯ä¸€ç§ç›®çš„ã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œä¸ºäº†èƒ½å¤Ÿè¾¾åˆ°è¿›ç¨‹åŒæ­¥çš„ç›®çš„ï¼Œéœ€è¦è®©è¿›ç¨‹è¿›è¡Œé€šä¿¡ï¼Œä¼ è¾“ä¸€äº›è¿›ç¨‹åŒæ­¥æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚</p><h3 id="2-6-1-ç®¡é“"><a href="#2-6-1-ç®¡é“" class="headerlink" title="2.6.1 ç®¡é“"></a>2.6.1 ç®¡é“</h3><p>ç®¡é“æ˜¯é€šè¿‡è°ƒç”¨<code>pipe</code>å‡½æ•°åˆ›å»ºçš„ï¼Œfd[0]ç”¨äºè¯»ï¼Œfd[1]ç”¨äºå†™ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">pipe</span><span class="params">(<span class="type">int</span> fd[<span class="number">2</span>])</span>;</span><br></pre></td></tr></table></figure><p>å®ƒå…·æœ‰ä»¥ä¸‹é™åˆ¶ï¼š</p><ul><li>å®ƒæ”¯æ”¯æŒåŠåŒå·¥é€šä¿¡ï¼ˆå•å‘äº¤æ›¿ä¼ è¾“ï¼‰ï¼›</li><li>åªèƒ½åœ¨çˆ¶å­è¿›ç¨‹æˆ–è€…å…„å¼Ÿè¿›ç¨‹ä¸­ä½¿ç”¨ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/53cd9ade-b0a6-4399-b4de-7f1fbd06cdfb.png"></p><h3 id="2-6-2-FIFO"><a href="#2-6-2-FIFO" class="headerlink" title="2.6.2 FIFO"></a>2.6.2 FIFO</h3><p>ä¹Ÿç§°ä¸ºå‘½åç®¡é“ï¼Œå»é™¤äº†ç®¡é“åªèƒ½åœ¨çˆ¶å­è¿›ç¨‹ä¸­ä½¿ç”¨çš„é™åˆ¶ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">mkfifo</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *path, <span class="type">mode_t</span> mode)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">mkfifoat</span><span class="params">(<span class="type">int</span> fd, <span class="type">const</span> <span class="type">char</span> *path, <span class="type">mode_t</span> mode)</span>;</span><br></pre></td></tr></table></figure><p>FIFOå¸¸ç”¨äºå®¢æˆ·-æœåŠ¡å™¨åº”ç”¨ç¨‹åºä¸­ï¼ŒFIFOç”¨ä½œæ±‡èšç‚¹ï¼Œåœ¨å®¢æˆ·è¿›ç¨‹å’ŒæœåŠ¡å™¨è¿›ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚ <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/2ac50b81-d92a-4401-b9ec-f2113ecc3076.png"></p><h3 id="2-6-3-æ¶ˆæ¯é˜Ÿåˆ—"><a href="#2-6-3-æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="2.6.3 æ¶ˆæ¯é˜Ÿåˆ—"></a>2.6.3 æ¶ˆæ¯é˜Ÿåˆ—</h3><p>ç›¸æ¯”äºFIFOï¼Œæ¶ˆæ¯é˜Ÿåˆ—å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥ç‹¬ç«‹äºè¯»å†™è¿›ç¨‹å­˜åœ¨ï¼Œä»è€Œé¿å…äº†FIFOä¸­åŒæ­¥ç®¡é“çš„æ‰“å¼€å’Œå…³é—­æ—¶å¯èƒ½äº§ç”Ÿçš„å›°éš¾ï¼›</li><li>é¿å…äº†FIFOçš„åŒæ­¥é˜»å¡é—®é¢˜ï¼Œä¸éœ€è¦è¿›ç¨‹è‡ªå·±æä¾›åŒæ­¥æ–¹æ³•ï¼›</li><li>è¯»è¿›ç¨‹å¯ä»¥æ ¹æ®æ¶ˆæ¯ç±»å‹æœ‰é€‰æ‹©åœ°æ¥æ”¶æ¶ˆæ¯ï¼Œè€Œä¸åƒFIFOé‚£æ ·åªèƒ½é»˜è®¤åœ°æ¥æ”¶ã€‚</li></ul><h3 id="2-6-4-ä¿¡å·é‡"><a href="#2-6-4-ä¿¡å·é‡" class="headerlink" title="2.6.4 ä¿¡å·é‡"></a>2.6.4 ä¿¡å·é‡</h3><p>å®ƒæ—¶ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç”¨äºä¸ºå¤šä¸ªè¿›ç¨‹æä¾›å¯¹å…±äº«æ•°æ®å¯¹è±¡çš„è®¿é—®ã€‚</p><h3 id="2-6-5-å…±äº«å­˜å‚¨"><a href="#2-6-5-å…±äº«å­˜å‚¨" class="headerlink" title="2.6.5 å…±äº«å­˜å‚¨"></a>2.6.5 å…±äº«å­˜å‚¨</h3><p>å…è®¸å¤šä¸ªè¿›ç¨‹å…±äº«ä¸€ä¸ªç»™å®šçš„å­˜å‚¨åŒºã€‚å› ä¸ºæ•°æ®ä¸éœ€è¦åœ¨è¿›ç¨‹ä¹‹é—´å¤åˆ¶ï¼Œæ‰€ä»¥è¿™æ˜¯æœ€å¿«çš„ä¸€ç§IPCã€‚ éœ€è¦ä½¿ç”¨ä¿¡å·é‡ç”¨æ¥åŒæ­¥å¯¹å…±äº«å­˜å‚¨çš„è®¿é—®ã€‚ å¤šä¸ªè¿›ç¨‹å¯ä»¥å°†åŒä¸€ä¸ªæ–‡ä»¶æ˜ å°„åˆ°å®ƒä»¬çš„åœ°å€ç©ºé—´ä»è€Œå®ç°å…±äº«å†…å­˜ã€‚å¦å¤–XSIå…±äº«å†…å­˜ä¸æ˜¯ä½¿ç”¨æ–‡ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨å†…å­˜çš„åŒ¿åæ®µã€‚</p><h3 id="2-6-6-å¥—ç»“å­—"><a href="#2-6-6-å¥—ç»“å­—" class="headerlink" title="2.6.6 å¥—ç»“å­—"></a>2.6.6 å¥—ç»“å­—</h3><p>ä¸å…¶å®ƒé€šä¿¡æœºåˆ¶ä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ç”¨äºä¸åŒæœºå™¨é—´çš„è¿›ç¨‹é€šä¿¡ã€‚</p><h2 id="3-æ­»é”"><a href="#3-æ­»é”" class="headerlink" title="3 æ­»é”"></a>3 æ­»é”</h2><h4 id="3-1-å¿…è¦æ¡ä»¶"><a href="#3-1-å¿…è¦æ¡ä»¶" class="headerlink" title="3.1 å¿…è¦æ¡ä»¶"></a>3.1 å¿…è¦æ¡ä»¶</h4><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/c037c901-7eae-4e31-a1e4-9d41329e5c3e.png"></p><ul><li>äº’æ–¥ï¼šæ¯ä¸ªèµ„æºè¦ä¹ˆå·²ç»åˆ†é…ç»™äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œè¦ä¹ˆå°±æ˜¯å¯ç”¨çš„ã€‚</li><li>å æœ‰å’Œç­‰å¾…ï¼šå·²ç»å¾—åˆ°äº†æŸä¸ªèµ„æºçš„è¿›ç¨‹å¯ä»¥å†è¯·æ±‚æ–°çš„èµ„æºã€‚</li><li>ä¸å¯æŠ¢å ï¼šå·²ç»åˆ†é…ç»™ä¸€ä¸ªè¿›ç¨‹çš„èµ„æºä¸èƒ½å¼ºåˆ¶æ€§åœ°è¢«æŠ¢å ï¼Œå®ƒåªèƒ½è¢«å æœ‰å®ƒçš„è¿›ç¨‹æ˜¾å¼åœ°é‡Šæ”¾ã€‚</li><li>ç¯è·¯ç­‰å¾…ï¼šæœ‰ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹ç»„æˆçš„ä¸€æ¡ç¯è·¯ï¼Œè¯¥ç¯è·¯ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€å æœ‰çš„èµ„æºã€‚</li></ul><h4 id="3-2-å¤„ç†æ–¹æ³•"><a href="#3-2-å¤„ç†æ–¹æ³•" class="headerlink" title="3.2 å¤„ç†æ–¹æ³•"></a>3.2 å¤„ç†æ–¹æ³•</h4><p>ä¸»è¦æœ‰ä»¥ä¸‹å››ç§æ–¹æ³•ï¼š</p><ul><li>é¸µé¸Ÿç­–ç•¥</li><li>æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤</li><li>æ­»é”é¢„é˜²</li><li>æ­»é”é¿å…</li></ul><h4 id="3-3-é¸µé¸Ÿç­–ç•¥"><a href="#3-3-é¸µé¸Ÿç­–ç•¥" class="headerlink" title="3.3 é¸µé¸Ÿç­–ç•¥"></a>3.3 é¸µé¸Ÿç­–ç•¥</h4><p>æŠŠå¤´åŸ‹åœ¨æ²™å­é‡Œï¼Œå‡è£…æ ¹æœ¬æ²¡å‘ç”Ÿé—®é¢˜ã€‚</p><p>å› ä¸ºè§£å†³æ­»é”é—®é¢˜çš„ä»£ä»·å¾ˆé«˜ï¼Œå› æ­¤é¸µé¸Ÿç­–ç•¥è¿™ç§ä¸é‡‡å–ä»»åŠ¡æªæ–½çš„æ–¹æ¡ˆä¼šè·å¾—æ›´é«˜çš„æ€§èƒ½ã€‚</p><p>å½“å‘ç”Ÿæ­»é”æ—¶ä¸ä¼šå¯¹ç”¨æˆ·é€ æˆå¤šå¤§å½±å“ï¼Œæˆ–å‘ç”Ÿæ­»é”çš„æ¦‚ç‡å¾ˆä½ï¼Œå¯ä»¥é‡‡ç”¨é¸µé¸Ÿç­–ç•¥ã€‚</p><p>å¤§å¤šæ•°æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Unixï¼ŒLinuxå’ŒWindowsï¼Œå¤„ç†æ­»é”é—®é¢˜çš„åŠæ³•ä»…ä»…æ˜¯å¿½ç•¥å®ƒã€‚</p><h4 id="3-4-æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤"><a href="#3-4-æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤" class="headerlink" title="3.4 æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤"></a>3.4 æ­»é”æ£€æµ‹ä¸æ­»é”æ¢å¤</h4><p>ä¸è¯•å›¾é˜»æ­¢æ­»é”ï¼Œè€Œæ˜¯å½“æ£€æµ‹åˆ°æ€ç´¢å‘ç”Ÿæ—¶ï¼Œé‡‡å–æªæ–½è¿›è¡Œæ¢å¤ã€‚</p><h3 id="3-4-1-æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹"><a href="#3-4-1-æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹" class="headerlink" title="3.4.1 æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹"></a>3.4.1 æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹</h3><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/b1fa0453-a4b0-4eae-a352-48acca8fff74.png"></p><p>ä¸Šå›¾ä¸ºèµ„æºåˆ†é…å›¾ï¼Œå…¶ä¸­æ–¹æ¡†è¡¨ç¤ºèµ„æºï¼Œåœ†åœˆè¡¨ç¤ºè¿›ç¨‹ã€‚èµ„æºæŒ‡å‘è¿›ç¨‹è¡¨ç¤ºè¯¥èµ„æºå·²ç»åˆ†é…ç»™è¯¥è¿›ç¨‹ï¼Œè¿›ç¨‹æŒ‡å‘èµ„æºè¡¨ç¤ºè¿›ç¨‹è¯·æ±‚è·å–è¯¥èµ„æºã€‚</p><p>å›¾ a å¯ä»¥æŠ½å–å‡ºç¯ï¼Œå¦‚å›¾ bï¼Œå®ƒæ»¡è¶³äº†ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼Œå› æ­¤ä¼šå‘ç”Ÿæ­»é”ã€‚</p><p>æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ç®—æ³•æ˜¯é€šè¿‡æ£€æµ‹æœ‰å‘å›¾æ˜¯å¦å­˜åœ¨ç¯æ¥å®ç°ï¼Œä»ä¸€ä¸ªèŠ‚ç‚¹å‡ºå‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¯¹è®¿é—®è¿‡çš„èŠ‚ç‚¹è¿›è¡Œæ ‡è®°ï¼Œå¦‚æœè®¿é—®äº†å·²ç»æ ‡è®°çš„èŠ‚ç‚¹ï¼Œå°±è¡¨ç¤ºæœ‰å‘å›¾å­˜åœ¨ç¯ï¼Œä¹Ÿå°±æ˜¯æ£€æµ‹åˆ°æ­»é”çš„å‘ç”Ÿã€‚</p><h3 id="3-4-2-æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹"><a href="#3-4-2-æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹" class="headerlink" title="3.4.2 æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹"></a>3.4.2 æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹</h3><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e1eda3d5-5ec8-4708-8e25-1a04c5e11f48.png"></p><p>ä¸Šå›¾ä¸­ï¼Œæœ‰ä¸‰ä¸ªè¿›ç¨‹å››ä¸ªèµ„æºï¼Œæ¯ä¸ªæ•°æ®ä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li>E å‘é‡ï¼šèµ„æºæ€»é‡</li><li>A å‘é‡ï¼šèµ„æºå‰©ä½™é‡</li><li>C çŸ©é˜µï¼šæ¯ä¸ªè¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºæ•°é‡ï¼Œæ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹æ‹¥æœ‰èµ„æºçš„æ•°é‡</li><li>R çŸ©é˜µï¼šæ¯ä¸ªè¿›ç¨‹è¯·æ±‚çš„èµ„æºæ•°é‡</li></ul><p>è¿›ç¨‹ P1 å’Œ P2 æ‰€è¯·æ±‚çš„èµ„æºéƒ½å¾—ä¸åˆ°æ»¡è¶³ï¼Œåªæœ‰è¿›ç¨‹ P3 å¯ä»¥ï¼Œè®© P3æ‰§è¡Œï¼Œä¹‹åé‡Šæ”¾ P3 æ‹¥æœ‰çš„èµ„æºï¼Œæ­¤æ—¶ A &#x3D; (2 2 2 0)ã€‚P2 å¯ä»¥æ‰§è¡Œï¼Œæ‰§è¡Œåé‡Šæ”¾ P2 æ‹¥æœ‰çš„èµ„æºï¼ŒA &#x3D; (4 2 2 1) ã€‚P1ä¹Ÿå¯ä»¥æ‰§è¡Œã€‚æ‰€æœ‰è¿›ç¨‹éƒ½å¯ä»¥é¡ºåˆ©æ‰§è¡Œï¼Œæ²¡æœ‰æ­»é”ã€‚</p><p>ç®—æ³•æ€»ç»“å¦‚ä¸‹ï¼š</p><p>æ¯ä¸ªè¿›ç¨‹æœ€å¼€å§‹æ—¶éƒ½ä¸è¢«æ ‡è®°ï¼Œæ‰§è¡Œè¿‡ç¨‹æœ‰å¯èƒ½è¢«æ ‡è®°ã€‚å½“ç®—æ³•ç»“æŸæ—¶ï¼Œä»»ä½•æ²¡æœ‰è¢«æ ‡è®°çš„è¿›ç¨‹éƒ½æ˜¯æ­»é”è¿›ç¨‹ã€‚</p><ol><li>å¯»æ‰¾ä¸€ä¸ªæ²¡æœ‰æ ‡è®°çš„è¿›ç¨‹Piï¼Œå®ƒæ‰€è¯·æ±‚çš„èµ„æºå°äºç­‰äºAã€‚</li><li>å¦‚æœæ‰¾åˆ°äº†è¿™æ ·ä¸€ä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆå°†CçŸ©é˜µçš„ç¬¬iè¡Œå‘é‡åŠ åˆ°Aä¸­ï¼Œæ ‡è®°è¯¥è¿›ç¨‹ï¼Œå¹¶è½¬å›1ã€‚</li><li>å¦‚æœæ²¡æœ‰è¿™æ ·ä¸€ä¸ªè¿›ç¨‹ï¼Œç®—æ³•ç»ˆæ­¢ã€‚</li></ol><h3 id="3-4-3-æ­»é”æ¢å¤"><a href="#3-4-3-æ­»é”æ¢å¤" class="headerlink" title="3.4.3 æ­»é”æ¢å¤"></a>3.4.3 æ­»é”æ¢å¤</h3><ul><li>åˆ©ç”¨æŠ¢å æ¢å¤</li><li>åˆ©ç”¨å›æ»šæ¢å¤</li><li>é€šè¿‡æ€æ­»è¿›ç¨‹æ¢å¤</li></ul><h4 id="3-5-æ­»é”é¢„é˜²"><a href="#3-5-æ­»é”é¢„é˜²" class="headerlink" title="3.5 æ­»é”é¢„é˜²"></a>3.5 æ­»é”é¢„é˜²</h4><p>å†ç¨‹åºè¿è¡Œä¹‹å‰é¢„é˜²å‘ç”Ÿæ­»é”ã€‚</p><h3 id="3-5-1-ç ´åäº’æ–¥æ¡ä»¶"><a href="#3-5-1-ç ´åäº’æ–¥æ¡ä»¶" class="headerlink" title="3.5.1 ç ´åäº’æ–¥æ¡ä»¶"></a>3.5.1 ç ´åäº’æ–¥æ¡ä»¶</h3><p>ä¾‹å¦‚å‡è„±æœºæ‰“å°æœºæŠ€æœ¯å…è®¸è‹¥å¹²ä¸ªè¿›ç¨‹åŒæ—¶è¾“å‡ºï¼Œå”¯ä¸€çœŸæ­£è¯·æ±‚ç‰©ç†æ‰“å°æœºçš„è¿›ç¨‹æ˜¯æ‰“å°æœºå®ˆæŠ¤è¿›ç¨‹ã€‚</p><h3 id="3-5-2-ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶"><a href="#3-5-2-ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶" class="headerlink" title="3.5.2 ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶"></a>3.5.2 ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶</h3><p>ä¸€èˆ¬å®ç°æ–¹å¼æ˜¯è§„å®šæ‰€æœ‰è¿›ç¨‹åœ¨å¼€å§‹æ‰§è¡Œå‰è¯·æ±‚æ‰€éœ€è¦çš„å…¨éƒ¨èµ„æºã€‚</p><h3 id="3-5-3-ç ´åä¸å¯æŠ¢å æ¡ä»¶"><a href="#3-5-3-ç ´åä¸å¯æŠ¢å æ¡ä»¶" class="headerlink" title="3.5.3 ç ´åä¸å¯æŠ¢å æ¡ä»¶"></a>3.5.3 ç ´åä¸å¯æŠ¢å æ¡ä»¶</h3><h3 id="3-5-4-ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶"><a href="#3-5-4-ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶" class="headerlink" title="3.5.4 ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶"></a>3.5.4 ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶</h3><p>ç»™èµ„æºç»Ÿä¸€ç¼–å·ï¼Œè¿›ç¨‹åªèƒ½æŒ‰ç¼–å·é¡ºåºæ¥è¯·æ±‚èµ„æºã€‚</p><h4 id="3-6-æ­»é”é¿å…"><a href="#3-6-æ­»é”é¿å…" class="headerlink" title="3.6 æ­»é”é¿å…"></a>3.6 æ­»é”é¿å…</h4><p>åœ¨ç¨‹åºè¿è¡Œæ—¶é¿å…å‘ç”Ÿæ­»é”ã€‚</p><h3 id="3-6-1-é“¶è¡Œå®¶ç®—æ³•"><a href="#3-6-1-é“¶è¡Œå®¶ç®—æ³•" class="headerlink" title="3.6.1 é“¶è¡Œå®¶ç®—æ³•"></a>3.6.1 é“¶è¡Œå®¶ç®—æ³•</h3><h4 id="3-6-1-1-æ•°æ®ç»“æ„"><a href="#3-6-1-1-æ•°æ®ç»“æ„" class="headerlink" title="3.6.1.1 æ•°æ®ç»“æ„"></a>3.6.1.1 æ•°æ®ç»“æ„</h4><ol><li><code>Available</code> ï¼šå¯åˆ©ç”¨èµ„æºå‘é‡ï¼Œä»£è¡¨ç³»ç»Ÿä¸­æ‰€é…ç½®çš„è¯¥ç±»å…¨éƒ¨å¯ç”¨èµ„æºçš„æ•°é‡</li><li><code>Max</code>ï¼š æœ€å¤§éœ€æ±‚çŸ©é˜µï¼Œä»£è¡¨è¿›ç¨‹å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚</li><li><code>Allocation</code>ï¼šå®šä¹‰ç³»ç»Ÿä¸­æ¯ä¸€ç±»èµ„æºå·²åˆ†é…ç»™æ¯ä¸€è¿›ç¨‹çš„èµ„æºæ•°</li><li><code>Need</code>ï¼šè¡¨ç¤ºè¿›ç¨‹è¿˜éœ€è¦çš„å„ç±»èµ„æºæ•°ï¼Œ <code>Need[i, j] = Max[i, j] - Allocation[i, j]</code></li></ol><h4 id="3-6-1-2-ç®—æ³•"><a href="#3-6-1-2-ç®—æ³•" class="headerlink" title="3.6.1.2 ç®—æ³•"></a>3.6.1.2 ç®—æ³•</h4><p>è®¾<code>Request</code>æ˜¯è¿›ç¨‹ç»™Piçš„è¯·æ±‚å‘é‡ï¼Œè‹¥<code>Request[j] = k</code>è¡¨ç¤ºè¿›ç¨‹Piéœ€è¦kä¸ªjèµ„æºï¼Œå½“å‘å‡ºè¯·æ±‚åï¼Œä¼šè¿›è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š</p><ol><li><code>Request[j] &lt;= Need[j]</code>ï¼Œè¯·æ±‚åˆç†ï¼Œè½¬å‘2ï¼Œå¦åˆ™è®¤ä¸ºè¯·æ±‚ä¸åˆç†</li><li><code>Request[j] &lt;= Available[j]</code>ï¼Œè¯·æ±‚åˆç†ï¼Œè½¬å‘3ï¼Œå¦åˆ™è¡¨ç¤ºæ²¡æœ‰è¶³å¤Ÿèµ„æºï¼Œè¿›ç¨‹éœ€ç­‰å¾…</li><li>å°è¯•å°†èµ„æºåˆ†é…ç»™è¿›ç¨‹Piï¼š<ul><li><code>Available[j] = Available[j] - Request[j]</code></li><li><code>Allocation[j] = Allocation[j] + Request[j]</code></li><li><code>Need[j] = Need[j] - Request[j]</code></li></ul></li><li>è¿è¡Œå®‰å…¨æ€§ç®—æ³•æ£€æŸ¥ï¼Œæ£€æŸ¥èµ„æºåˆ†é…åç³»ç»Ÿæ˜¯å¦å¤„äºå®‰å…¨çŠ¶æ€ï¼Œå®‰å…¨ï¼Œæ­£å¼åˆ†é…ï¼Œå¦åˆ™æ¢å¤èµ„æºåˆ†é…ï¼Œè¿›ç¨‹ç»§ç»­ç­‰å¾…</li></ol><h3 id="3-6-2-å®‰å…¨æ€§ç®—æ³•"><a href="#3-6-2-å®‰å…¨æ€§ç®—æ³•" class="headerlink" title="3.6.2 å®‰å…¨æ€§ç®—æ³•"></a>3.6.2 å®‰å…¨æ€§ç®—æ³•</h3><p>è®¾ç½®å·¥ä½œå‘é‡Workè¡¨ç¤ºç³»ç»Ÿå¯æä¾›ç»™è¿›ç¨‹ç»§ç»­è¿è¡Œæ‰€éœ€çš„ç»™é›·èµ„æºæ•°ç›®ï¼ˆ<code>Work = Availalbe</code>ï¼‰ï¼Œè®¾ç½®<code>Finish</code>ï¼Œè¡¨ç¤ºç³»ç»Ÿæ˜¯å¦æœ‰è¶³å¤Ÿçš„èµ„æºåˆ†é…ç»™è¿›ç¨‹ ä»è¿›ç¨‹é›†åˆä¸­æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„è¿›ç¨‹ï¼š</p><ul><li><code>Finish[i] = False</code></li><li><code>Need[i, j] &lt;= Work[j]</code></li></ul><p>æ‰¾åˆ°åˆ™åˆ†é…èµ„æºï¼š <code>Work[j] = Work[j] + Allocation[i, j]</code> <code>Finish[i] = True</code></p><p>é‡å¤å¯»æ‰¾è¿›ç¨‹çš„æ­¥éª¤</p><p>å¦‚æœæ‰€æœ‰è¿›ç¨‹<code>Finish[i] = True</code>ï¼Œåˆ™ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€ï¼Œå¦åˆ™ç³»ç»Ÿå¤„äºä¸å®‰å…¨çŠ¶æ€</p><h3 id="3-6-3-ä»€ä¹ˆæ˜¯å®‰å…¨çŠ¶æ€ä¸ä¸å®‰å…¨çŠ¶æ€ï¼Ÿå®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€å’Œæ­»é”ä¹‹é—´çš„å…³ç³»ï¼Ÿ"><a href="#3-6-3-ä»€ä¹ˆæ˜¯å®‰å…¨çŠ¶æ€ä¸ä¸å®‰å…¨çŠ¶æ€ï¼Ÿå®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€å’Œæ­»é”ä¹‹é—´çš„å…³ç³»ï¼Ÿ" class="headerlink" title="3.6.3 ä»€ä¹ˆæ˜¯å®‰å…¨çŠ¶æ€ä¸ä¸å®‰å…¨çŠ¶æ€ï¼Ÿå®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€å’Œæ­»é”ä¹‹é—´çš„å…³ç³»ï¼Ÿ"></a>3.6.3 ä»€ä¹ˆæ˜¯å®‰å…¨çŠ¶æ€ä¸ä¸å®‰å…¨çŠ¶æ€ï¼Ÿå®‰å…¨çŠ¶æ€å’Œä¸å®‰å…¨çŠ¶æ€å’Œæ­»é”ä¹‹é—´çš„å…³ç³»ï¼Ÿ</h3><ul><li>ç³»ç»Ÿèƒ½æŒ‰æŸç§è¿›ç¨‹é¡ºåºï¼Œè‹¥{p1, p2, â€¦, pn}ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…æ‰€éœ€èµ„æºï¼Œç›´åˆ°æœ€å¤§éœ€æ±‚ï¼Œæ˜¯æ¯ä¸ªè¿›ç¨‹éƒ½å¯é¡ºåˆ©å®Œæˆï¼Œè¿™ä¸ªè¿›ç¨‹åºåˆ—å³ä¸ºå®‰å…¨åºåˆ—ï¼Œä¸å­˜åœ¨å®‰å…¨åºåˆ—ï¼Œåˆ™ç§°ç³»ç»Ÿå¤„äºä¸å®‰å…¨çŠ¶æ€</li><li>å¹¶éæ‰€æœ‰ä¸å®‰å…¨çŠ¶æ€éƒ½å°†å¯¼è‡´æ­»é”çŠ¶æ€ï¼Œä½†å½“ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€åï¼Œæœ‰å¯èƒ½è¿›å…¥æ­»é”çŠ¶æ€ï¼Œåªè¦ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€ï¼Œåˆ™å¯é¿å…è¿›å…¥æ­»é”çŠ¶æ€</li><li>ï¼ˆå®‰å…¨æ€§æ£€æŸ¥ä¸­ä½¿ç”¨çš„MAXï¼Œæ˜¯è¿›ç¨‹æ‰§è¡Œå‰æä¾›çš„ï¼Œå®é™…æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè¿›ç¨‹éœ€è¦çš„æœ€å¤§èµ„æºé‡å¯èƒ½å°äºMaxï¼Œä¾‹å¦‚ï¼šè¿›ç¨‹éœ€è¦é”™è¯¯å¤„ç†çš„ä»£ç éœ€è¦nä¸ªèµ„æºï¼Œå®é™…è¿è¡Œè¿‡ç¨‹ä¸­æ²¡è§¦å‘é”™è¯¯ï¼Œå°±ä¸ä¼šè¯·æ±‚èµ„æºï¼‰</li></ul><h2 id="4-å†…å­˜ç®¡ç†"><a href="#4-å†…å­˜ç®¡ç†" class="headerlink" title="4 å†…å­˜ç®¡ç†"></a>4 å†…å­˜ç®¡ç†</h2><h4 id="4-1-è™šæ‹Ÿå†…å­˜"><a href="#4-1-è™šæ‹Ÿå†…å­˜" class="headerlink" title="4.1 è™šæ‹Ÿå†…å­˜"></a>4.1 è™šæ‹Ÿå†…å­˜</h4><p>è™šæ‹Ÿå†…å­˜çš„ç›®çš„æ˜¯ä¸ºäº†è®©ç‰©ç†å†…å­˜æ‰©å……æˆæ›´å¤§çš„é€»è¾‘å†…å­˜ï¼Œä»è€Œè®©ç¨‹åºè·å¾—æ›´å¤šçš„å¯ç”¨å†…å­˜ã€‚</p><p>ä¸ºäº†æ›´å¥½çš„ç®¡ç†å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿå°†å†…å­˜æŠ½è±¡æˆåœ°å€ç©ºé—´ã€‚æ¯ä¸ªç¨‹åºæ‹¥æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼Œè¿™ä¸ªåœ°å€ç©ºé—´è¢«åˆ†å‰²æˆå¤šä¸ªå—ï¼Œæ¯ä¸€å—ç§°ä¸ºä¸€é¡µã€‚è¿™äº›é¡µè¢«æ˜ å°„ç‰©ç†å†…å­˜ï¼Œä½†ä¸éœ€è¦æ˜ å°„åˆ°è¿ç»­çš„ç‰©ç†å†…å­˜ï¼Œä¹Ÿä¸éœ€è¦æ‰€æœ‰é¡µéƒ½å¿…é¡»åœ¨ç‰©ç†å†…å­˜ä¸­ã€‚å½“ç¨‹åºå¼•ç”¨åˆ°ä¸åœ¨ç‰©ç†å†…å­˜ä¸­çš„é¡µæ—¶ï¼Œç”±ç¡¬ä»¶æ‰§è¡Œå¿…è¦çš„æ˜ å°„ï¼Œå°†ç¼ºå¤±çš„éƒ¨åˆ†è£…å…¥ç‰©ç†å†…å­˜å¹¶é‡æ–°æ‰§è¡Œå¤±è´¥çš„æŒ‡ä»¤ã€‚</p><p>ä»ä¸Šé¢çš„æè¿°ä¸­å¯ä»¥çœ‹å‡ºï¼Œè™šæ‹Ÿå†…å­˜å…è®¸ç¨‹åºä¸ç”¨å°†åœ°å€ç©ºé—´ä¸­çš„æ¯ä¸€é¡µéƒ½æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªç¨‹åºä¸éœ€è¦å…¨éƒ¨è°ƒå…¥å†…å­˜å°±å¯ä»¥è¿è¡Œï¼Œè¿™ä½¿å¾—æœ‰é™çš„å†…å­˜è¿è¡Œå¤§ç¨‹åºæˆä¸ºå¯èƒ½ã€‚ä¾‹å¦‚æœ‰ä¸€å°è®¡ç®—æœºå¯ä»¥äº§ç”Ÿ16ä½åœ°å€ï¼Œé‚£ä¹ˆä¸€ä¸ªç¨‹åºçš„åœ°å€ç©ºé—´èŒƒå›´æ˜¯0\~64Kã€‚è¯¥è®¡ç®—æœºåªæœ‰32KBçš„ç‰©ç†å†…å­˜ï¼Œè™šæ‹Ÿå†…å­˜æŠ€æœ¯å…è®¸è¯¥è®¡ç®—æœºè¿è¡Œä¸€ä¸ª64Kå¤§å°çš„ç¨‹åºã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/7b281b1e-0595-402b-ae35-8c91084c33c1.png"></p><h4 id="4-2-åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„"><a href="#4-2-åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„" class="headerlink" title="4.2 åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„"></a>4.2 åˆ†é¡µç³»ç»Ÿåœ°å€æ˜ å°„</h4><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2022/05/11/os/">https://blog.jujimeizuo.cn/2022/05/11/os/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„ACMè„šå°</title>
      <link href="/2021/12/05/myacm/"/>
      <url>/2021/12/05/myacm/</url>
      
        <content type="html"><![CDATA[<p>æ„Ÿè°¢<a href="https://hukeqing.github.io/2020/12/21/acm/myACM/" title="èƒ¡å¤§ä½¬">èƒ¡å¤§ä½¬</a>çš„æ¨¡æ¿å‚è€ƒã€‚</p><span id="more"></span><p>2021å¹´12æœˆ4æ—¥ï¼Œå—äº¬åŒºåŸŸèµ›ç»“æŸï¼ŒåŒæ—¶ç»“æŸçš„ï¼Œè¿˜æœ‰æˆ‘çš„ä¸¤å¹´å¤šçš„ACMç”Ÿæ¶¯ã€‚ æ¥ä¸‹æ¥çš„å¯’å‡é‡å¿ƒä¼šå‘ç€æ‰¾å®ä¹ çš„æ–¹å‘åŠªåŠ›ï¼Œå½“ç„¶æ˜å¹´çš„åŒºåŸŸèµ›ã€finalä»¥åŠæ˜å¹´çš„çœèµ›ç­‰ç­‰ï¼Œæˆ‘éƒ½ä¼šå»è®¤çœŸå‡†å¤‡ã€‚</p><h2 id="è¿™ç¯‡æ–‡ç« ä¼šå†™ä»€ä¹ˆ"><a href="#è¿™ç¯‡æ–‡ç« ä¼šå†™ä»€ä¹ˆ" class="headerlink" title="è¿™ç¯‡æ–‡ç« ä¼šå†™ä»€ä¹ˆ"></a>è¿™ç¯‡æ–‡ç« ä¼šå†™ä»€ä¹ˆ</h2><ul><li><p>å…³äºæˆ‘</p><ul><li>æˆ‘çš„ACMå†ç¨‹</li><li>æˆ‘çš„ACMæˆç»©</li></ul></li><li><p>å†™ç»™æ–°äºº</p><ul><li>ä»€ä¹ˆæ˜¯ACM</li><li>ACMèƒ½å¸¦æ¥ä»€ä¹ˆ</li><li>ACMå’Œå…¶ä»–ç«èµ›æœ‰ä»€ä¹ˆä¸åŒ</li><li>ä»€ä¹ˆæ ·çš„äººé€‚åˆACMï¼Œä»€ä¹ˆæ ·çš„äººä¸é€‚åˆACM</li></ul></li><li><p>å†™ç»™ACMer</p><ul><li>å…³äºè®­ç»ƒ</li><li>å…³äºèµ›ä¸­</li></ul></li><li><p>å®Œç»“æ’’èŠ±</p></li></ul><p>è¿™ç¯‡æ–‡ç« æ›´å¤šæ¥è‡ªæˆ‘è‡ªå·±å¯¹ACMçš„è§‚ç‚¹ï¼Œå¦‚æœå’Œä½ ç†è§£ä¸åŒï¼Œè¯·è§è°…ã€‚</p><h2 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h2><h4 id="æˆ‘çš„ACMå†ç¨‹"><a href="#æˆ‘çš„ACMå†ç¨‹" class="headerlink" title="æˆ‘çš„ACMå†ç¨‹"></a>æˆ‘çš„ACMå†ç¨‹</h4><h3 id="è¿›å…¥å¤§å­¦ä¹‹å‰"><a href="#è¿›å…¥å¤§å­¦ä¹‹å‰" class="headerlink" title="è¿›å…¥å¤§å­¦ä¹‹å‰"></a>è¿›å…¥å¤§å­¦ä¹‹å‰</h3><p>åœ¨2019å¹´è¿›å…¥å¤§å­¦ä¹‹å‰ï¼Œæˆ‘åªæ˜¯ä¸€ä¸ªæ™®æ™®é€šé€šçš„é«˜è€ƒç”Ÿï¼Œå­¦çš„æ˜¯ç†ç§‘ï¼ˆç‰©åŒ–ç”Ÿï¼‰ï¼Œå¯¹ç«èµ›ä¸€æ— æ‰€çŸ¥ï¼Œå¯èƒ½çŸ¥é“æ•°å­¦ç«èµ›ï¼Œç‰©ç†ç«èµ›ï¼Œå´ä¸çŸ¥é“äº”å¤§å­¦ç§‘ç«èµ›çš„ä¿¡æ¯å­¦ç«èµ›ï¼Œä¹Ÿå°±æ˜¯OIã€‚</p><p>é«˜è€ƒå¡«å¿—æ„¿çš„æ—¶å€™ï¼Œåœ¨æˆ‘é€‰æ‹©è®¡ç®—æœºä¸“ä¸šçš„æ—¶å€™ï¼Œè¿è®¡ç®—æœºçš„æ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Œä½ è¦é—®æˆ‘ä¸ºä»€ä¹ˆå¡«è®¡ç®—æœºä¸“ä¸šï¼Ÿç­”æ¡ˆåªæ˜¯å› ä¸ºé«˜è–ªå·¥ä½œï¼Œä½†é«˜è–ªæ˜¯æœ‰é«˜è–ªçš„ç†ç”±ï¼Œæƒ³å¿…è¿›å…¥è®¡ç®—æœºä¸“ä¸šçš„åŒå­¦æ·±æœ‰ä½“ä¼šã€‚</p><h3 id="å¤§ä¸€"><a href="#å¤§ä¸€" class="headerlink" title="å¤§ä¸€"></a>å¤§ä¸€</h3><p>å¤§ä¸€ä¸Šæˆ‘ä¸Šäº†ç‹æ…§ç‡•è€å¸ˆçš„Cè¯­è¨€é«˜çº§ç¨‹åºè®¾è®¡ï¼Œé‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦ç¨‹åºã€‚å’Œæ¯å±Šæ–°ç”Ÿè¯¥å¼€å§‹ä¸€æ ·ä¸€çªä¸é€šï¼Œç”šè‡³è¿ç®€å•çš„è¾“å…¥è¾“å‡ºéƒ½å¼„ä¸æ˜ç™½ï¼Œè‹±è¯­åˆä¸å¥½ï¼Œå•¥éƒ½çœ‹ä¸æ‡‚ï¼Œå¿ƒæƒ³å®Œäº†ï¼Œæˆ‘æ˜¯ä¸æ˜¯çœŸçš„ä¸é€‚åˆè¿™ä¸ªä¸“ä¸šï¼Ÿ</p><p>ç»“æœæ–°ç”Ÿèµ›ç»™äº†æˆ‘ä¸€ä¸ªâ€œå®Œç¾â€ç­”å¤ï¼Œâ€œç‰Œç‹æ–°ç”Ÿåœºçˆ†é›¶äº†ã€‚â€å¾ˆå¤šäººçœ‹æˆ‘ç°åœ¨æœ‰ä¸€ç‚¹ç‚¹æˆç»©ï¼Œå¯å´ä¸çŸ¥å½“æ—¶çš„æˆ‘æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚çˆ†é›¶æ„å‘³è¿™ä»€ä¹ˆï¼Ÿå­¦é™¢8ï¼Œ90%çš„åŒå­¦éƒ½èƒ½è¿‡å†™ä¸Š1é¢˜ï¼Œè€Œæˆ‘å´1é¢˜éƒ½å†™ä¸æ¥ï¼Œæˆ‘çš„å®¤å‹ä¸€ä¸ªä¸€ç­‰ï¼Œä¸€ä¸ªäºŒç­‰ï¼Œè¿˜æœ‰ä¸€ä¸ªå’Œæˆ‘ä¸€æ ·ï¼Œå½“æ—¶çš„æˆ‘å’Œç¬¬ä¸‰ä½å®¤å‹æ¯”èµ›ç»“æŸåæ•£æ­¥ï¼Œâ€œæˆ‘æ˜¯ä¸æ˜¯ä¸é€‚åˆå­¦è®¡ç®—æœºâ€ï¼Ÿâ€œæˆ‘çœŸçš„ä¸é€‚åˆå­¦è®¡ç®—æœºå—ï¼Ÿâ€åæ¥ç§‰æŒç€å’Œé«˜ä¸­ä¸€æ ·çš„ä¿¡å¿µï¼Œâ€œæˆ‘ä¸ä¿¡æˆ‘æ¯”åˆ«äººå·®ï¼â€ï¼Œæ›´æ˜¯èŒç”Ÿå‡ºå‚åŠ ACMè¿™æ ·å«é‡‘é‡æé«˜çš„ç«èµ›ã€‚</p><p>åœ¨é‚£ä¹‹åæˆ‘æ›´åŠ åŠªåŠ›ï¼Œèƒ¡å¤§ä½¬ä¹Ÿååˆ†é¼“åŠ±æˆ‘ï¼Œæ„Ÿè°¢èƒ¡å¤§ä½¬ã€‚</p><p>å½“æ—¶æŠ¥äº†ACMå¯’å‡é›†è®­ï¼Œå› ä¸ºåªè¦æ’‘è¿‡ä¸ƒå¤©å°±èƒ½è¿›é›†è®­é˜Ÿï¼Œäººä¸€å¤©ä¸€å¤©åœ°å˜å°‘ï¼Œç¬¬ä¸ƒå¤©åªå‰©ä¸‹3ä¸ªäººï¼Œæˆ‘ï¼Œè¿˜æœ‰æˆ‘çš„ä¸€ä¸ªé˜Ÿå‹ï¼Œä¹Ÿæ˜¯å½“æ—¶æ–°ç”Ÿèµ›çš„å† å†›-ç«™ç¥ã€‚ä¹‹åé›†è®­é˜Ÿè¦æ±‚ç»„é˜Ÿï¼Œç«™ç¥åœ¨çŸ¥é“æˆ‘æ–°ç”Ÿèµ›çˆ†é›¶çš„æƒ…å†µï¼Œæ¯…ç„¶å†³ç„¶åœ°é‚€è¯·æˆ‘ç»„é˜Ÿï¼Œæˆ‘ä¹Ÿæ¬£ç„¶æ¥å—ã€‚å½“æ—¶è¿™ä¸ªå†³å®šæ”¹å˜äº†æˆ‘ACMçš„å†ç¨‹ï¼Œå¦‚æœæ²¡æœ‰å’Œä»–ç»„é˜Ÿçš„è¯ï¼Œå¯èƒ½æˆ‘ä»¬å¯å®¤ä¸‰ä¸ªäººå°±ä¸€ä¸ªé˜Ÿäº†ã€‚è¿˜æœ‰ä¸€ä¸ªäººæ˜¯ä»–ä»¬ç­ç­é•¿ï¼ˆç®€å•å¸¦è¿‡~</p><p>å°±è¿™æ ·ï¼Œç¬¬ä¸€å±Šç²‰çº¢æ¯›æ¯›å…”é›†ç»“äº†ã€‚</p><h3 id="å¤§äºŒ"><a href="#å¤§äºŒ" class="headerlink" title="å¤§äºŒ"></a>å¤§äºŒ</h3><p>å¤§ä¸€æš‘å‡è¿˜æ²¡å¼€å§‹ï¼Œç­é•¿å¤§äººå°±å†³å®šä¸æ‰“ACMäº†ï¼Œç°åœ¨åªå‰©ä¸‹ä¸¤ä¸ªäººï¼Œæ‰¾äº†å½“æ—¶å¤§ä¸‰çš„çˆ½å“¥ç»„æˆç¬¬äºŒå±Šç²‰çº¢æ¯›æ¯›å…”ã€‚</p><p>å¤§äºŒå‰çš„æš‘å‡å¼€å§‹äº†ï¼Œï¼ˆACMeræ²¡æœ‰æš‘å‡ï¼‰æ•´ä¸ªæš‘å‡ç»å†äº†ç‰›å®¢å¤šæ ¡å’Œæ­ç”µå¤šæ ¡ä¸¤ä¸ªè‡ªé—­å¼è®­ç»ƒï¼Œå› ä¸ºç®—æ³•ä»€ä¹ˆçš„éƒ½è¿˜æ²¡å­¦ï¼Œå¹¶ä¸”å…¨å›½985ã€211å­¦æ ¡åŸºæœ¬éƒ½æ¥äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¤šæ ¡æˆç»©éå¸¸éš¾çœ‹ï¼ˆä¸æƒ³å›å¿†ï¼‰ã€‚ä½†æ˜¯ä¹Ÿå¾ˆæ„Ÿè°¢å¤šæ ¡çš„æœºä¼šï¼Œè®©æˆ‘æˆé•¿äº†å¾ˆå¤šã€‚</p><p>åœ¨ä¹‹åçš„æ¯”èµ›ï¼Œæ‹¿ä¸‹äº†æˆ‘ç¬¬ä¸€å—æµ™æ±Ÿçœèµ›é“œç‰Œï¼ŒICPCåŒºåŸŸèµ›æµå—ç«™é“œç‰Œï¼ŒICPCè¥¿å®‰é‚€è¯·èµ›é“œç‰Œï¼Œè¿˜æœ‰å¥½å‡ å—é“ç‰Œï¼Œå¹¶ä¸”å¾ˆå¹¸è¿åœ°å’Œå½¤å“¥ä¸€èµ·å‚åŠ äº†EC-finalï¼Œä¹ŸæˆåŠŸåœ°æ‰“é“ï¼Œå…¶å®æ¯åœºéƒ½å¾ˆæœ‰æœºä¼šæ‹¿ç‰Œï¼Œæˆ‘è§‰å¾—åŸå› å‡ºç°åœ¨é¢˜åˆ·çš„ä¸å¤Ÿï¼Œå‚èµ›ç»éªŒä¸å¤Ÿç­‰ç­‰ã€‚</p><p>å¯’å‡çš„æ—¶å€™æˆ‘å’Œé˜Ÿå‹ä¹ŸæˆåŠŸåœ°æŠŠcodeforcesè´¦å·åˆ·åˆ°è“åã€‚å¤§ä¸€é€‰æ‹©äº†æ•°å­¦æ–¹å‘ï¼Œå¤§äºŒæ›´æ˜¯å­¦äº†å›¾è®ºã€æ•°æ®ç»“æ„ã€dpç­‰ç­‰ï¼ˆå­—ç¬¦ä¸²gouéƒ½ä¸å­¦ï¼‰ã€‚</p><h3 id="å¤§ä¸‰"><a href="#å¤§ä¸‰" class="headerlink" title="å¤§ä¸‰"></a>å¤§ä¸‰</h3><p>å¤§ä¸‰åˆšå¼€å§‹ï¼Œå› ä¸ºçˆ½å“¥å¤§å››äº†ï¼Œéœ€è¦æ‰¾å®ä¹ å·¥ä½œï¼Œæ‰€ä»¥å°±é€€é˜Ÿäº†ï¼Œè¿˜å·®ä¸€ä½é˜Ÿå‹ï¼Œæ‰¾äº†yydsçš„fjhï¼Œfjhå½“æ—¶çš„acmæˆç»©å¯èƒ½æ²¡æœ‰å¾ˆå‡ºä¼—ï¼Œä½†æ˜¯æˆ‘èƒ½çœ‹å‡ºæ¥â€œä»–å¾ˆå¼ºâ€ï¼Œäº‹å®æ¥çœ‹ï¼Œç¡®å®å¾ˆå¼ºï¼Œå› ä¸ºä»–æ€»èƒ½åœ¨æ¯”èµ›ä¸­å¸¦æ¥æƒŠå–œã€‚</p><p>é‡ç»„é˜Ÿä¼ä¹‹åï¼Œä¹ŸæŠŠé˜Ÿåæ”¹æˆäº†é”Ÿæ–¤æ‹·ä¹‹çƒ«ï¼ˆRuntime Errorï¼‰ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºå•¥å–çš„è¿™ä¸ªåå­—ï¼Œé˜Ÿåæ€»æ˜¯å‡ºä¹æ„æ–™åœ°äº§ç”Ÿäº†ã€‚</p><p>æˆ‘ä»¬æ¯”èµ›åŸºæœ¬é›†ä¸­åœ¨å¤§ä¸‰ä¸Šå­¦æœŸï¼Œå› ä¸ºé˜Ÿä¼é‡Œæœ‰ä¸¤ä¸ªè¦æ‰¾å·¥ä½œï¼Œä¸€ä¸ªè¦è€ƒç ”ï¼Œæ‰€ä»¥æ¯”èµ›èƒ½å…ˆæ‰“å®Œå°±æ‰“å®Œã€‚</p><p>å¤§ä¸‰ä¸Šæ€»å…±æ‹¿äº†CCPCå¹¿å·ç«™é“¶ç‰Œï¼ŒICPCæ²ˆé˜³ç«™ã€å—äº¬ç«™é“œç‰Œè¿™æ ·çš„å‡ ä¸ªç‰Œï¼Œæ²¡æƒ³åˆ°çš„æ˜¯ï¼ŒCCPCæˆç»©å±…ç„¶èƒ½ç ´æ ¡å²è®°å½•ï¼Œæ„Ÿè°¢fjhèƒ½å¾ˆå¿«åœ°1å‘è¿‡äº†Cï¼Œè¿™æ ·æˆ‘æœ‰æ›´å¤šçš„æ—¶é—´å»è§£å†³ç¬¬å››é¢˜ã€‚å¯æƒœfjhè¢«æ²ˆé˜³åˆ¶è£äº†ã€‚</p><h4 id="æˆ‘çš„ACMæˆç»©"><a href="#æˆ‘çš„ACMæˆç»©" class="headerlink" title="æˆ‘çš„ACMæˆç»©"></a>æˆ‘çš„ACMæˆç»©</h4><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ€»å…±æ‹¿ä¸‹äº†1å—CCPCåŒºåŸŸèµ›é“¶ç‰Œï¼Œ3å—ICPCåŒºåŸŸèµ›é“œç‰Œï¼Œ1å—ICPCé‚€è¯·èµ›é“œç‰Œï¼Œ1å—æµ™æ±Ÿçœèµ›é“œç‰Œï¼Œè¿˜æœ‰æ•°ä¸æ¸…çš„é“ï¼Œå¯’å‡çš„é‡å¿ƒä¼šæ”¾åœ¨å®ä¹ æ–¹å‘ï¼Œæ˜å¹´è¿˜æœ‰åŒºåŸŸèµ›ï¼Œçœèµ›ï¼ŒCCfinalç­‰ç­‰æ¯”èµ›ï¼Œæœªæ¥åœ¨æœ‰å¯èƒ½æ‹¿åˆ°offerçš„æƒ…å†µä¸‹ç»§ç»­å‚åŠ ACMç«èµ›ã€‚</p><p>ï¼ˆæ„Ÿè°¢pkuç»™äº†æˆ‘ä»¬ç¬¬ä¸€å—é“œå’Œç¬¬ä¸€å—é“¶ï¼Œæ‰€ä»¥æˆ‘èƒ½è¿›åŒ—å¤§å—ï¼Ÿï¼Ÿï¼Ÿï¼‰</p><h2 id="å†™ç»™æ–°äºº"><a href="#å†™ç»™æ–°äºº" class="headerlink" title="å†™ç»™æ–°äºº"></a>å†™ç»™æ–°äºº</h2><h4 id="ä»€ä¹ˆæ˜¯ACM"><a href="#ä»€ä¹ˆæ˜¯ACM" class="headerlink" title="ä»€ä¹ˆæ˜¯ACM"></a>ä»€ä¹ˆæ˜¯ACM</h4><p>æ¥è‡ªç™¾åº¦ç™¾ç§‘ï¼Œå›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›ï¼ˆè‹±æ–‡å…¨ç§°ï¼šInternational Collegiate Programming Contestï¼ˆç®€ç§°<a href="https://baike.baidu.com/item/ICPC/10243">ICPC</a>ï¼‰ï¼‰æ˜¯ç”±å›½é™…è®¡ç®—æœºåä¼šï¼ˆ<a href="https://baike.baidu.com/item/ACM/64774">ACM</a>ï¼‰ä¸»åŠçš„ï¼Œä¸€é¡¹æ—¨åœ¨å±•ç¤ºå¤§å­¦ç”Ÿåˆ›æ–°èƒ½åŠ›ã€å›¢é˜Ÿç²¾ç¥å’Œåœ¨å‹åŠ›ä¸‹ç¼–å†™ç¨‹åºã€åˆ†æå’Œè§£å†³é—®é¢˜èƒ½åŠ›çš„å¹´åº¦ç«èµ›ã€‚ç»è¿‡è¿‘40å¹´çš„å‘å±•ï¼ŒACMå›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›å·²ç»å‘å±•æˆä¸ºå…¨çƒæœ€å…·å½±å“åŠ›çš„å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›ï¼Œèµ›äº‹ç”±<a href="https://baike.baidu.com/item/AWS/16529930">AWS</a>ã€<a href="https://baike.baidu.com/item/%E5%8D%8E%E4%B8%BA/298705">åä¸º</a>å’Œ<a href="https://baike.baidu.com/item/Jetbrains/7502758">Jetbrains</a> [5] èµåŠ©ï¼Œåœ¨åŒ—äº¬å¤§å­¦è®¾æœ‰ICPCåŒ—äº¬æ€»éƒ¨ï¼Œç”¨äºç»„ç»‡ä¸œäºšåŒºåŸŸèµ› [6] ã€‚</p><p>ç®€ç§°ï¼šä¸‰ä¸ªäººä¸€å°ç”µè„‘ï¼Œéœ€è¦åœ¨5å°æ—¶å†…è§£å†³10~13é¢˜ã€‚</p><h4 id="ACMèƒ½å¸¦æ¥ä»€ä¹ˆ"><a href="#ACMèƒ½å¸¦æ¥ä»€ä¹ˆ" class="headerlink" title="ACMèƒ½å¸¦æ¥ä»€ä¹ˆ"></a>ACMèƒ½å¸¦æ¥ä»€ä¹ˆ</h4><p>ç‰©è´¨ä¸Šæ¥è¯´ï¼ŒACMèƒ½å¸¦æ¥æ— å¯’æš‘å‡ã€æ— å‘¨æœ«ä¼‘é—²æ—¶é—´ã€é¢å¯¹å­¦ä¸šä¸Šçš„å‹åŠ›è¿˜è¦ç»§ç»­åšæŒä¸‹å»ã€‚</p><p>ç²¾ç¥ä¸Šæ¥è¯´ï¼Œæˆ‘æ°¸è¿œå–œæ¬¢è¿‡é¢˜çš„å¿«æ„Ÿã€æ€ç»´çš„å·§å¦™ã€ç®—æ³•çš„æ™ºæ…§ã€‚</p><h3 id="çŸ¥è¯†"><a href="#çŸ¥è¯†" class="headerlink" title="çŸ¥è¯†"></a>çŸ¥è¯†</h3><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸æ‰“ACMçš„äººï¼Œæ²¡æœ‰å‡ ä¸ªäººä¼šå¿«é€Ÿå¹‚ã€‚ä½†æ˜¯å¯¹äºACMerï¼Œä¸‹é¢æ˜¯æˆ‘ä»¬èƒ½æ¥è§¦ï¼Œå¹¶ä¸”éƒ¨åˆ†éƒ½ä¼šçš„ç®—æ³•ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/11/image-1638684503449.png" alt="file"></p><p>ä½†è¿™äº›åªæ˜¯æˆ‘ä»¬åº”è¯¥ä¼šçš„ï¼Œæœ€åŸºæœ¬çš„çŸ¥è¯†ã€‚è¿™äº›çŸ¥è¯†å¸¦æ¥çš„è´¢å¯Œï¼Œæˆ‘å†™ä¸€ä¸ªé¡¹ç›®çš„æ•ˆç‡è¿œè¶…å…¶ä»–äººï¼Œè¿™å°±æ˜¯å·®è·ã€‚ACMçš„çŸ¥è¯†ç‚¹ï¼Œåªè¦ä½ æœªæ¥æ˜¯åšè®¡ç®—æœºè¡Œä¸šçš„ï¼Œé‚£ä¹ˆå®ƒä¸€å®šä¼šåœ¨æ¯ä¸€ä¸ªè§’è½é‡Œå‘æŒ¥ç€å®ƒçš„ä½œç”¨ã€‚</p><h3 id="ä»£ç èƒ½åŠ›"><a href="#ä»£ç èƒ½åŠ›" class="headerlink" title="ä»£ç èƒ½åŠ›"></a>ä»£ç èƒ½åŠ›</h3><p>è°ƒè¯•æ˜¯å†™ç¨‹åºå¿…ä¸å¯å°‘çš„æ­¥éª¤ï¼Œæœ‰çš„äººå¯èƒ½å› ä¸ºç¼–è¯‘é”™è¯¯è€Œçƒ¦æ¼ï¼Œæœ‰çš„äººå¯èƒ½å› ä¸ºå„ç§bugè€Œçƒ¦æ¼ï¼Œè€Œæˆ‘ä»¬åŸºæœ¬ä¸éœ€è¦debugï¼Œåªéœ€è¦ç®€å•æµ‹è¯•è¯æ˜å³å¯ã€‚</p><h3 id="æœ‹å‹åœˆ"><a href="#æœ‹å‹åœˆ" class="headerlink" title="æœ‹å‹åœˆ"></a>æœ‹å‹åœˆ</h3><p>æˆ‘æ˜¯æµ™æ±Ÿå·¥å•†å¤§å­¦çš„ä¸€åå­¦ç”Ÿï¼Œé€šè¿‡ACMï¼Œåœ¨å„ç§ç¾¤èŠä¸­ï¼Œå› ä¸ºå…´è¶£ç›¸æŠ•ï¼Œæˆ‘èƒ½è®¤è¯†åˆ°å¾ˆå¤šå¤§å­¦çš„å¥½å‹ï¼Œæ¯”å¦‚å¹¿ä¸œå·¥ä¸šå¤§å­¦ã€é’å²›å¤§å­¦ç­‰ç­‰ï¼Œè€Œä¸”èƒ½ç»å¸¸å’Œéå¸¸nbçš„äººäº¤æµï¼Œä»€ä¹ˆæ˜¯nbçš„äººï¼šå¯èƒ½æ˜¯ä¸­å›½é¡¶å°–çš„äººæ‰ï¼ˆå½“ç„¶è¿™äº›äººåŸºæœ¬éƒ½æ˜¯æ¸…åŒ—æµ™å¤§ç­‰ç­‰ï¼‰ã€ä»£è¡¨ä¸­å›½å‚åŠ å…¨çƒæ€§ç«èµ›çš„â€œç¥â€ã€‚å¹¶ä¸”ACMåœ¨å„å¤§çŸ¥åä¼ä¸šéƒ½éå¸¸æœ‰åï¼Œå¦‚æœä½ æ‹¥æœ‰ä¸€å—ACMé“œç‰Œï¼Œå¤§å‚ç®€å†æ²¡é—®é¢˜ï¼Œå¦‚æœæ‹¥æœ‰ä¸€å—ACMé“¶ç‰Œï¼Œè¿›å¤§å‚çš„æ¦‚ç‡å¤§å¤§æå‡ï¼Œå¦‚æœæ‹¥æœ‰ä¸€å—ACMé‡‘ç‰Œï¼Œå…¨å›½500å¼ºæ²¡é—®é¢˜äº†ï¼Œå¦‚æœæœ‰ç”¨è¿›world finalçš„é—¨ç¥¨ï¼Œä¸–ç•Œ500å¼ºéšä¾¿æŒ‘ã€‚è€Œå¯¹äºæ­£å¸¸å­¦ä¸šè€Œè¨€ï¼Œå„ä½ä¹Ÿåº”è¯¥çŸ¥é“ä½ éœ€è¦è¯»å¤šå°‘å¹´çš„ä¹¦æ‰æœ‰èƒ†é‡å¾€è¿™äº›ä¼ä¸šä¸­æŠ•é€’ä¸€ä»½ç®€å†ã€‚</p><h3 id="å’Œæ¸…åŒ—å¤äº¤åŒå°ç«æŠ€"><a href="#å’Œæ¸…åŒ—å¤äº¤åŒå°ç«æŠ€" class="headerlink" title="å’Œæ¸…åŒ—å¤äº¤åŒå°ç«æŠ€"></a>å’Œæ¸…åŒ—å¤äº¤åŒå°ç«æŠ€</h3><p>ACMç«èµ›æ˜¯æ‰€æœ‰é˜Ÿä¼åœ¨ç›¸åŒåœ°ç‚¹ä½¿ç”¨ç›¸åŒè®¾å¤‡åœ¨ç›¸åŒçš„æ—¶é—´å†…è§£å†³ç›¸åŒçš„é¢˜ç›®ã€‚</p><p>è€Œä½ çš„å¯¹æ‰‹åˆ™æ˜¯æ¥è‡ªå…¨å›½çš„å¤§å­¦ï¼Œå¯¹ï¼ŒåŒ—å¤§æ¸…åæ¯å¹´éƒ½ä¼šæ¥ï¼Œè€Œä¸”éå¸¸é‡è§†ã€‚</p><p>ACMä»æ¥å°±æ²¡æœ‰é™¢èµ›ã€æ ¡èµ›ã€çœèµ›ç­‰ç­‰ä¸€å¤§å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œè™½ç„¶ä»–ä»¬ç¡®å®å­˜åœ¨ä½†æ˜¯ä»–ä»¬å¹¶ä¸æ˜¯è¢«å®˜æ–¹æ‰¿è®¤çš„ã€‚ACMåªæœ‰åŒºåŸŸèµ›ï¼Œï¼ˆæ¯”å¦‚Asia-Eastä¸œäºšåœ°åŒºï¼‰ï¼ŒåŒºåŸŸæ€»å†³èµ›ï¼ˆæ¯”å¦‚EC-finialï¼Œä¸œäºšåœ°åŒºæ€»å†³èµ›ï¼‰ï¼Œå’Œä¸–ç•Œæ€»å†³èµ›ï¼ˆWFï¼‰ã€‚æ— è®ºåœ¨å“ªä¸ªæ¯”èµ›ï¼Œä½ éƒ½å¯èƒ½ä¼šé‡åˆ°ä»»ä½•ä¸€ä¸ªå­¦æ ¡çš„é˜Ÿä¼ã€‚æ‰€ä»¥åœ¨è¿™æ ·çš„æ¯”èµ›ä¸­ï¼Œä½ å¯ä»¥å¾ˆæ¸…æ¥šçš„çŸ¥é“è‡ªå·±çš„æ°´å¹³åœ¨å…¨åœ°åŒºèŒƒå›´å†…çš„ä½ç½®ï¼Œå¯¹è‡ªå·±çš„èƒ½åŠ›æœ‰ä¸€ä¸ªæ›´å¥½çš„è¯„ä¼°ï¼Œèƒ½å¤Ÿçœ‹åˆ°å¤–é¢æ›´åŠ å¹¿é˜”çš„å¤©ç©ºã€‚è€Œä¸æ˜¯æ‹˜æ³¥äºé‚£ä¹ˆå°çš„ä¸€ä¸ªåœ°åŒºï¼Œäº‰å¤ºé‚£ä¹ˆæ¯«æ— æ„ä¹‰çš„ç¬¬ä¸€åã€‚</p><h4 id="ACMå’Œå…¶ä»–ç«èµ›æœ‰ä»€ä¹ˆä¸åŒ"><a href="#ACMå’Œå…¶ä»–ç«èµ›æœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="ACMå’Œå…¶ä»–ç«èµ›æœ‰ä»€ä¹ˆä¸åŒ"></a>ACMå’Œå…¶ä»–ç«èµ›æœ‰ä»€ä¹ˆä¸åŒ</h4><p>é™¤äº†ACMä»¥å¤–ï¼Œæˆ‘ä¹Ÿæ‰“è¿‡å…¶ä»–ç«èµ›ï¼Œæ¯”å¦‚æ•°å­¦ç«èµ›ï¼Œç‰©ç†ç«èµ›ï¼Œæ•°æ¨¡ç­‰ç­‰ã€‚</p><p>ACMæ˜¯æ¯”èµ›å¼€å§‹ï¼Œä¸­é—´5å°æ—¶ï¼Œç»“æŸä¹‹åå¥–é¡¹åŸºæœ¬ç¡®å®šä¸‹æ¥ï¼ˆæ ¹æ®æ’åï¼‰ï¼Œå³æ—¶æ€§éå¸¸é«˜ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•ä¸»è§‚çš„è¯„å®šå¥–é¡¹ã€‚</p><p>è€Œç°å¦‚ä»Šçš„æ¯”å¦‚è¯´äº’è”ç½‘+ï¼ŒæŒ‘æˆ˜æ¯ã€åŒ…æ‹¬æ•°æ¨¡ï¼ˆå¯èƒ½ä¼šå¥½ç‚¹ï¼‰ï¼Œåœ¨æˆ‘çœ‹æ¥åŸºæœ¬éƒ½æ˜¯pptã€è®ºæ–‡å¤§èµ›ï¼Œè·å¥–å®Œå…¨æ ¹æ®è¯„å§”è€å¸ˆæ‰“åˆ†ï¼Œéå¸¸çš„ä¸»è§‚ã€‚</p><p>æœ‰äººè¯´ï¼Œä½ æœ‰æ²¡å‚åŠ è¿‡ï¼Œä½ æ€ä¹ˆçŸ¥é“è¿™é‡Œé¢çš„å«é‡‘é‡ã€‚</p><p>é‚£å°±æ‹¿æˆ‘è‡ªå·±æ¥ä¸¾ä¾‹å­ï¼š</p><p>é¦–å…ˆACMçš„å«é‡‘é‡éå¸¸é«˜ï¼Œä¸æ–­è®­ç»ƒäº†ä¸¤å¹´åªæ‹¿åˆ°è¿‡ä¸€å—é“¶ç‰Œã€‚</p><p>è€Œæ•°å­¦å»ºæ¨¡ç¾èµ›ï¼Œé¦–å…ˆæˆ‘æ²¡æœ‰ä»»ä½•åŸºç¡€ï¼Œä¹Ÿæ²¡æœ‰å‚åŠ ä»»ä½•åŸ¹è®­ï¼Œå…¶æ¬¡ç–«æƒ…åŸå› ï¼Œå­¦æ ¡ä¸è®©çº¿ä¸‹é›†è®­ï¼Œæ‰€ä»¥ä¸€åˆ‡åœ¨çº¿ä¸Šè¿›è¡Œï¼Œçº¿ä¸Šè€å¸ˆè¦æ±‚å†™å‡ åœºæ¨¡æ‹Ÿèµ›ï¼Œæˆ‘ä»¬é˜Ÿä¼ç”±äºå„æœ‰å„çš„äº‹æƒ…ï¼Œéƒ½æ²¡æœ‰å‚åŠ ï¼Œä½†æ˜¯è®¤çœŸåˆ†æäº†å‡ ä»½ä¼˜ç§€è®ºæ–‡ï¼Œæœ€ç»ˆæƒ…å†µæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ•´ä¸ªå­¦æ ¡æ²¡æœ‰é˜Ÿä¼è·å¾—Oå¥–ï¼Œåªæœ‰ä¸¤æ”¯é˜Ÿä¼è·å¾—Få¥–ï¼Œæˆ‘ä»¬å°±æ˜¯å…¶ä¸­ä¸€åªé˜Ÿä¼ã€‚æˆ‘ä»¬æœ‰å‚åŠ æ¨¡æ‹Ÿèµ›å—ï¼Ÿæ²¡æœ‰ã€‚æˆ‘æœ‰åŸºç¡€å—ï¼Ÿæ²¡æœ‰ã€‚ä½†æ˜¯æˆ‘çš„ä¸¤ä¸ªé˜Ÿå‹æ˜¯æœ‰åŸºç¡€çš„ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆèƒ½æ‹¿åˆ°è¿™æ ·çš„å¥–é¡¹ï¼Ÿå› ä¸ºæœ€åäº¤ä¸Šå»çš„åªæœ‰ä¸€ä»½è®ºæ–‡è€Œå·²ã€‚é¢å¯¹ä¸‡ä»½è®ºæ–‡ï¼Œè€å¸ˆçœŸçš„ä¼šæ¯ä»½èŠ±å¾ˆå¤šæ—¶é—´è§‚çœ‹å—ï¼Œé‚£å¿…æ˜¯ä¸å¯èƒ½ï¼Œæ‰€ä»¥æœ‰åŒå­¦æƒ³è¦åœ¨æ•°æ¨¡æ¯”èµ›è·å¥–ï¼Œæˆ‘æƒ³ä¸‹é¢å‡ ç‚¹è¶³å¤Ÿäº†ï¼šé€‰æ¯”è¾ƒå®¢è§‚çš„é¢˜ç›®ï¼ˆè¿™æ ·ç»“æœå°±ä¸é‡è¦äº†ï¼‰ï¼ŒæŒ‡æ ‡è¶Šå¤šè¶Šå¥½ã€å…¬å¼è¶Šå¤šè¶Šå¥½ã€å›¾è¦è¶Šå¤šè¶Šå¥½ï¼ˆå› ä¸ºå›¾ç‰‡çš„è§†è§‰æ•ˆæœéå¸¸ç›´è§‚ï¼‰ï¼Œè®ºæ–‡çš„åŸºæœ¬æ’ç‰ˆã€æ ¼å¼ç­‰ç­‰ã€‚è¿™æ ·çš„ä¸€ç¯‡è®ºæ–‡ï¼Œç”šè‡³æ•°æ®éƒ½å¯ä»¥ä¼ªé€ ï¼Œæˆ‘æƒ³ä¸€å®šèƒ½è·å¥–ã€‚</p><h4 id="ä»€ä¹ˆæ ·çš„äººé€‚åˆACMï¼Œä»€ä¹ˆæ ·çš„äººä¸é€‚åˆACM"><a href="#ä»€ä¹ˆæ ·çš„äººé€‚åˆACMï¼Œä»€ä¹ˆæ ·çš„äººä¸é€‚åˆACM" class="headerlink" title="ä»€ä¹ˆæ ·çš„äººé€‚åˆACMï¼Œä»€ä¹ˆæ ·çš„äººä¸é€‚åˆACM"></a>ä»€ä¹ˆæ ·çš„äººé€‚åˆACMï¼Œä»€ä¹ˆæ ·çš„äººä¸é€‚åˆACM</h4><p>ACMç«èµ›æ˜¯ä¸€ä¸ªéœ€è¦å¤§é‡çš„æ—¶é—´å»æŠ•å…¥ï¼Œä½†æ˜¯åˆ°å¾ˆä¹…ä¹‹åæ‰ä¼šæœ‰ç»“æœçš„äº§å‡ºã€‚ç®€ç§°é«˜ä»˜å‡ºä½å›æŠ¥ã€‚è¿™å’Œå…¶ä»–ç«èµ›ä¸åŒï¼Œæ•°å­¦å»ºæ¨¡é€šå¸¸ä½ åªéœ€è¦å¾ˆçŸ­çš„æ—¶é—´è®­ç»ƒå°±èƒ½æ‹¿å‡ºæˆç»©ï¼Œè€Œä¸€ä¸ªACMerï¼Œåœ¨å¤§ä¸‰ä¹‹å‰ç”šè‡³å¯èƒ½éƒ½æ²¡æœ‰ä¸€ç‚¹ç‚¹æˆæœã€‚ä½†æ˜¯ä½ åœ¨å¤§ä¸€å¤§äºŒçš„æŠ•å…¥ç»ˆå°†ä¼šç»™ä½ åœ¨å¤§äºŒä¸‹è‡³å¤§ä¸‰ä¸Šçš„æ—¶å€™å¸¦æ¥ä¸°å¯Œçš„å›æŠ¥ã€‚</p><p>è¿™æ ·çš„å›æŠ¥ï¼Œéœ€è¦æ„¿æ„æŠ•èµ„çš„äººè€å¿ƒæŠ•èµ„æ‰æœ‰å¯èƒ½èµšå¾—ç›†æ»¡é’µæ»¡ï¼Œä¸€æ—¦å‡ºç°æ‡ˆæ€ éƒ½æœ‰å¯èƒ½é¢—ç²’æ— æ”¶ã€‚<strong>è€å¿ƒã€ä¸“æ³¨ã€å‹¤å¥‹ã€è‡ªè§‰</strong>è¿™äº›æ˜¯ä¸€ä¸ªACMerå¿…é¡»è¦å…·å¤‡çš„å› ç´ ã€‚</p><h2 id="å†™ç»™ACMer"><a href="#å†™ç»™ACMer" class="headerlink" title="å†™ç»™ACMer"></a>å†™ç»™ACMer</h2><h4 id="å…³äºè®­ç»ƒ"><a href="#å…³äºè®­ç»ƒ" class="headerlink" title="å…³äºè®­ç»ƒ"></a>å…³äºè®­ç»ƒ</h4><p>æˆ‘ä»¬æ˜¯ä¸€åªç¨³é“œé˜Ÿä¼ï¼ˆæ¯•ç«Ÿåœ¨è¯¸ç¥ä¹‹æˆ˜ä¸­å­˜æ´»è¿‡ï¼‰ï¼Œä½†æ˜¯æƒ³è¦å†²å‡»é“¶ç‰Œéœ€è¦çœ‹åœºæ¬¡ï¼Œé“¶ç‰Œé¢˜å¦‚æœæ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„é‚£è¿˜å¯ä»¥ï¼Œä½†å¦‚æœæ²¡è§è¿‡çš„å°±ggã€‚</p><p>é¦–å…ˆæ˜¯æ¯ä¸ªäººè´Ÿè´£çš„ç®—æ³•éƒ¨åˆ†ï¼š</p><p>æˆ‘ä¸»è¦è´Ÿè´£æ•°æ®ç»“æ„ã€åŠ¨æ€è§„åˆ’ï¼Œä¼šæ•°æ®ç»“æ„ã€æ ‘ä¸Šé—®é¢˜ï¼Œï¼Œäº†è§£å›¾è®ºã€è®¡ç®—å‡ ä½•ï¼Œæ­»ä¹Ÿä¸å­¦å­—ç¬¦ä¸²ã€‚</p><p>ylä¸»è¦è´Ÿè´£æ•°æ®ç»“æ„ã€å›¾è®ºï¼Œæ ‘ä¸Šé—®é¢˜ï¼Œä¼šå­—ç¬¦ä¸²ï¼ŒåŠ¨æ€è§„åˆ’ï¼Œæ­»ä¹Ÿä¸å­¦å­—ç¬¦ä¸²ã€‚</p><p>fjhä¸»è¦è´Ÿè´£å›¾è®ºã€æœç´¢ã€åŠ¨æ€è§„åˆ’ï¼Œæ¨¡æ‹Ÿã€ä¼šæ ‘ä¸Šé—®é¢˜ã€‚</p><p>ä¸ªäººçš„è®­ç»ƒè®¡åˆ’ï¼š</p><p>å¤§ä¸€å¤§äºŒä¸Šä¸»è¦æ˜¯å­¦ä¹ ç®—æ³•ï¼Œä¸è¦å­¦ä¹ unless algorithmï¼Œå¤§äºŒä¸‹ä¸»è¦æ˜¯åˆ·é¢˜ï¼Œåˆ·å„ç§é¢˜å‹ï¼Œå› ä¸ºçŸ¥è¯†ç‚¹å°±é‚£ä¹ˆå¤šï¼Œé¢˜ç›®å´å¾ˆå¤šï¼Œé‚£å°±æ˜¯å¥—è·¯é—®é¢˜äº†ã€‚</p><p>å¤§ä¸‰éœ€è¦ç»ƒçš„æ˜¯æ‰‹é€Ÿã€æ€ç»´ã€è¡¥é¢˜å’Œå›å¿†ç®—æ³•ï¼Œæ‰€ä»¥codeforcesæ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p><p>æˆ‘å¾ˆåå¯¹æ— æ•ˆåˆ·é¢˜ï¼Œå½“æˆ‘ä»¬åˆ·å®Œä¸€é“é¢˜ï¼Œæ˜ç™½è¿™é“é¢˜çš„æ–¹æ–¹é¢é¢ã€‚æˆ‘è‡ªå·±ç›®å‰åˆ·é¢˜é‡æ˜¯1900ï¼Œè€Œæˆ‘çš„ä¸€ä¸ªé˜Ÿå‹åˆ·é¢˜é‡è¿æˆ‘çš„ä¸€åŠéƒ½æ²¡æœ‰ï¼Œä½†æ˜¯æˆ‘æ‰¿è®¤ä»–æ¯”æˆ‘å¼ºå¤ªå¤šï¼Œæ¯æ¬¡æ¯”èµ›éƒ½æ˜¯ä»–ç»™æ€è·¯ç„¶åcarryå…¨åœºï¼Œè€Œæˆ‘åªæ˜¯ä¸€ä¸ªæ— æƒ…çš„ä»£ç æœºå™¨ã€‚æœ‰çš„äººåˆ·é¢˜é‡éå¸¸é«˜ï¼Œæˆç»©ä¹Ÿæ²¡æœ‰ç‰¹åˆ«é«˜ï¼Œé¢å¯¹ä¸€é“è§è¿‡çš„é¢˜ç›®ï¼Œèƒ½å¾ˆå¿«çš„å†™å‡ºæ¥ï¼Œä½†æ˜¯é‡åˆ°ä¸€é“å…¨æ–°çš„é¢˜ç›®ï¼Œå´æ²¡æœ‰ä»»ä½•åŠæ³•ã€‚è¿™ä¹Ÿå°±åƒæˆ‘ä»¬å­¦ä¹ ä¸€æ ·ï¼Œä¸èƒ½æ­»å­¦ä¹ ï¼Œè¦æ´»å­¦æ´»ç”¨ã€‚</p><p>é˜Ÿä¼çš„è®­ç»ƒè®¡åˆ’ï¼š</p><p>æ¯å‘¨éƒ½ä¼šå•ç‹¬å¼€ä¸€åœºå¾€å¹´åŒºåŸŸèµ›è®­ç»ƒï¼Œå¹¶ä¸”å®éªŒå®¤å‘¨æœ«ç»„ç»‡ä¸€åœºå¾€å¹´åŒºåŸŸèµ›ï¼Œè¿™æ ·æˆ‘ä»¬é˜Ÿä¼ä¼šä¿æŒæ¯å‘¨2åœºã€‚</p><p>æœ‰æ—¶é—´éƒ½ä¼šå¼€å¼€cfçš„æ¨¡æ‹Ÿèµ›ç­‰ç­‰ã€‚</p><h4 id="å…³äºèµ›ä¸­"><a href="#å…³äºèµ›ä¸­" class="headerlink" title="å…³äºèµ›ä¸­"></a>å…³äºèµ›ä¸­</h4><p>é¦–å…ˆæ˜¯çœ‹é¢˜ï¼Œçœ‹åˆ°ä¸€é“é¢˜ç›®ä¸€å®šè¦å…ˆçœ‹æ•°æ®èŒƒå›´ï¼Œå› ä¸ºå¾€å¾€éƒ½èƒ½æ ¹æ®æ•°æ®èŒƒå›´æ¥ç®—å‡ºæ—¶é—´å¤æ‚åº¦ï¼Œç„¶åè¯»å®Œé¢˜ä¹‹åå¤§æ¦‚å°±çŸ¥é“ç”¨ä»€ä¹ˆç®—æ³•å»è§£å†³ã€‚</p><p>åœ¨å‰æœŸï¼Œç­¾åˆ°é¢˜ä¸€å®šè¦å¿«ï¼Œå¦‚æœå¤Ÿå¼ºçš„è¯ï¼Œé“œç‰Œé¢˜ä¹Ÿåº”å½“å¦‚æ­¤ï¼Œå¯ä»¥å°è¯•ä¸‰å¼€ï¼Œé™¤äº†åœ¨æœ€åå†²åˆºé˜¶æ®µï¼Œè¯·åŠ¡å¿…å°è¯•å¤šå¼€ï¼Œå³ä½¿æ’åå€’æ•°ï¼Œä¸€é“é¢˜å¤§æ¦‚40min~1hä¸€å®šè¦è§£å†³ï¼Œåƒä¸‡ä¸èƒ½æ­»åœ¨ä¸€é“é¢˜ä¸Šï¼Œè¿™ä¸ªé”™è¯¯æˆ‘æ·±æœ‰ä½“ä¼šã€‚</p><p>é˜Ÿä¼é‡Œè¦æœ‰ä¸€ä¸ªå¾ˆå¼ºçš„ä»£ç èƒ½åŠ›çš„é˜Ÿå‹ï¼Œè¦å­¦ä¼šå¬æ‡‚é˜Ÿå‹è¯´çš„æ€è·¯ï¼Œç„¶ååœ¨çŸ­æ—¶é—´å†…å®Œæˆè§£é¢˜ã€‚</p><h2 id="å®Œç»“æ’’èŠ±"><a href="#å®Œç»“æ’’èŠ±" class="headerlink" title="å®Œç»“æ’’èŠ±"></a>å®Œç»“æ’’èŠ±</h2><p>ACMåªæ˜¯å¤§å­¦ç”Ÿçš„ä¸€é—¨ç«èµ›ï¼Œè™½ç„¶èƒ½åœ¨å…¶ä¸­æ„Ÿå—å®ƒçš„æ™ºæ…§ï¼Œåœ¨ä»¥åçš„å·¥ä½œä¸­ä¹Ÿç»å¸¸ä¼šæ¥è§¦åˆ°ï¼Œä½†æ˜¯ä»–æ¯•ç«Ÿæ˜¯ä¸€é—¨ç«èµ›ï¼Œä»…æ­¤è€Œå·²ï¼Œåƒä¸‡ä¸è¦æŠŠå®ƒå½“ä½œä»€ä¹ˆæ¯•ç”Ÿè¿½æ±‚ï¼Œåªè¦åŠªåŠ›è¿‡ï¼Œå¥‹æ–—è¿‡ï¼Œä¸ç®¡å¾—åˆ°ä»€ä¹ˆæ ·çš„æˆç»©ï¼Œéƒ½è¦ä¸åæ‚”ï¼Œå› ä¸ºç«èµ›çš„å«ä¹‰ï¼Œæœ‰çš„äººä¼šæˆåŠŸï¼Œæœ‰çš„äººä¼šå¤±è´¥ï¼Œä¸æ˜¯æ‰€æœ‰äººéƒ½èƒ½æ‹¿åˆ°è‡ªå·±æƒ³è¦çš„æˆç»©ï¼Œæœ€ç»ˆè¿˜æ˜¯è¦å›å½’è‡ªå·±çš„ç”Ÿæ´»ã€‚</p><p>jujimeizuo@2021&#x2F;12&#x2F;5 14:10</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/12/05/myacm/">https://blog.jujimeizuo.cn/2021/12/05/myacm/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootæ•´åˆredisçš„ä¸€ä¸ªå¤©å‘</title>
      <link href="/2021/11/30/redisq/"/>
      <url>/2021/11/30/redisq/</url>
      
        <content type="html"><![CDATA[<p>è‹¥åªé…ç½®ä¸‹é¢çš„ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ™ä¸ºå‡ºç°ï¼š</p><p>Unsatisfied dependency expressed through field â€˜redisTemplateâ€˜ï¼›</p><p>è¿™ä¸ªä¸å¯¹ï¼Œè¿˜å¿…é¡»åŠ ä¸Š commons-pool2ï¼Œä¿®æ”¹ä»¥åæ˜¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/11/30/redisq/">https://blog.jujimeizuo.cn/2021/11/30/redisq/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACM å¯¹æ‹</title>
      <link href="/2021/11/30/acmduipai/"/>
      <url>/2021/11/30/acmduipai/</url>
      
        <content type="html"><![CDATA[<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><ul><li>rand.cppæ˜¯éšæœºåŒ–æ•°æ®cpp</li><li>bl.cppæ˜¯æš´åŠ›æ•°æ®cpp</li><li>*.cppæ˜¯è‡ªå·±å†™çš„std</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">g++ rand.cpp -o rand</span><br><span class="line">g++ bl.cpp -o bl</span><br><span class="line">g++ *.cpp -o std</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Window"><a href="#Window" class="headerlink" title="Window"></a>Window</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">g++ rand.cpp -o rand</span><br><span class="line">g++ std.cpp -o std</span><br><span class="line">g++ sol.cpp -o sol</span><br><span class="line"></span><br><span class="line">:ac</span><br><span class="line">    rand %random% &gt; <span class="keyword">in</span></span><br><span class="line">    sol &lt; <span class="keyword">in</span> &gt; out</span><br><span class="line">    std &lt; <span class="keyword">in</span> &gt; ok</span><br><span class="line">    <span class="built_in">fc</span> out ok</span><br><span class="line"><span class="keyword">if</span> not errorlevel 0 goto wa</span><br><span class="line"><span class="built_in">echo</span> ----------------OK</span><br><span class="line">goto ac</span><br><span class="line"></span><br><span class="line">:wa</span><br><span class="line"><span class="built_in">echo</span> ----------------WA------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/11/30/acmduipai/">https://blog.jujimeizuo.cn/2021/11/30/acmduipai/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€‚åˆACMç«èµ›çš„vimrcå’Œ MyVimConf</title>
      <link href="/2021/11/25/vimrc/"/>
      <url>/2021/11/25/vimrc/</url>
      
        <content type="html"><![CDATA[<h2 id="é€‚åˆACMç«èµ›çš„vimrc"><a href="#é€‚åˆACMç«èµ›çš„vimrc" class="headerlink" title="é€‚åˆACMç«èµ›çš„vimrc"></a>é€‚åˆACMç«èµ›çš„vimrc</h2><p>æ¶µç›–äº†è‡ªåŠ¨ç¼©è¿›ï¼Œè‡ªåŠ¨è¡¥å…¨èŠ±æ‹¬å·ï¼Œè¾“å…¥æ–‡ä»¶é‡å®šå‘ç­‰</p><p>.vimrc æ¯”è¾ƒçŸ­ï¼ŒçœŸæ­£éœ€è¦æ‰‹æ‰“çš„åªæœ‰ 8 è¡Œï¼Œä¸€èˆ¬å¯ä»¥åœ¨ 30 ç§’å·¦å³æ•²å®Œ</p><ul><li>F9 æ˜¯è¿è¡Œç¨‹åºï¼ˆä»æ§åˆ¶å°è¯»å–è¾“å…¥ï¼‰</li><li>F5 æ˜¯è¿è¡Œç¨‹åºï¼ˆå°†åŒç›®å½•ä¸‹ in æ–‡ä»¶çš„å†…å®¹ä½œä¸ºè¾“å…¥ï¼Œæ•ˆæœç­‰äº freopen(â€œinâ€, â€œrâ€, stdin))</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> nu sts=4 ts=4 sw=4 cin</span><br><span class="line">map &lt;F5&gt; :call CR()&lt;CR&gt;</span><br><span class="line">func CR()</span><br><span class="line">    <span class="built_in">exec</span> <span class="string">&quot;w&quot;</span></span><br><span class="line">    <span class="built_in">exec</span> <span class="string">&quot;!clear &amp;&amp; g++ % -std=c++11 -W -o a &amp;&amp; ./a &lt; in&quot;</span></span><br><span class="line">endfunc</span><br><span class="line">map &lt;F9&gt; :call CRr()&lt;CR&gt;</span><br><span class="line">func CRr()</span><br><span class="line">    <span class="built_in">exec</span> <span class="string">&quot;w&quot;</span></span><br><span class="line">    <span class="built_in">exec</span> <span class="string">&quot;!clear &amp;&amp; g++ % -std=c++11 -W -o a &amp;&amp; ./a&quot;</span></span><br><span class="line">endfunc</span><br><span class="line">imap &#123;&lt;CR&gt; &#123;&lt;CR&gt;&#125;&lt;C-O&gt;O&lt;left&gt;&lt;right&gt;</span><br><span class="line">syn on</span><br></pre></td></tr></table></figure><p>åœ¨ Normal æ¨¡å¼ä¸‹ï¼Œè¾“å…¥ :20vsp in å¯ä»¥å¿«é€Ÿåˆ†å±å¹¶æ‰“å¼€ in æ–‡ä»¶ä»¥è¿›è¡Œç¼–è¾‘</p><h2 id="åˆ†å±æŠ€å·§"><a href="#åˆ†å±æŠ€å·§" class="headerlink" title="åˆ†å±æŠ€å·§"></a>åˆ†å±æŠ€å·§</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">:sp ## ä¸Šä¸‹åˆ†å±</span><br><span class="line">:res y ## è®¾ç½®å½“å‰åˆ†å±é«˜åº¦ä¸ºy</span><br><span class="line">:vsp ## å·¦å³åˆ†å±</span><br><span class="line">:vertical res x ## è®¾ç½®å½“å‰åˆ†å±å®½åº¦ä¸ºx</span><br><span class="line">Ctrl + w + hjkl ## å…ˆæŒ‰Ctrl + wï¼Œç„¶åå†æŒ‰hjklåœ¨åˆ†å±ä¹‹é—´ç§»åŠ¨</span><br><span class="line">:e ## åˆ·æ–°å½“å‰æ–‡ä»¶</span><br><span class="line">:e filename ## åœ¨å½“å‰çª—å£æ‰“å¼€åå­—ä¸ºfilenameçš„æ–‡ä»¶</span><br></pre></td></tr></table></figure><h2 id="æˆ‘è‡ªå·±çš„vimrcé…ç½®-MyVimConf"><a href="#æˆ‘è‡ªå·±çš„vimrcé…ç½®-MyVimConf" class="headerlink" title="æˆ‘è‡ªå·±çš„vimrcé…ç½® MyVimConf"></a>æˆ‘è‡ªå·±çš„vimrcé…ç½® MyVimConf</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot; Color</span></span><br><span class="line"><span class="string">set t_Co=256</span></span><br><span class="line"><span class="string">syntax on</span></span><br><span class="line"><span class="string">&quot;</span> <span class="built_in">set</span> background=dark</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Line Numbers</span></span><br><span class="line"><span class="string">&quot;</span> <span class="built_in">set</span> relativenumber</span><br><span class="line"><span class="built_in">set</span> number</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Clipboard</span></span><br><span class="line"><span class="string">set clipboard=unnamed</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Make backspace work</span><br><span class="line"><span class="built_in">set</span> backspace=2</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Maps space to colon, time saver</span></span><br><span class="line"><span class="string">nmap &lt;space&gt; :</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Indentation</span><br><span class="line"><span class="built_in">set</span> tabstop=2</span><br><span class="line"><span class="built_in">set</span> expandtab</span><br><span class="line"><span class="built_in">set</span> shiftwidth=2</span><br><span class="line"><span class="built_in">set</span> autoindent</span><br><span class="line"><span class="string">&quot; set ignorecase</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Allows <span class="keyword">for</span> mouse scrolling</span><br><span class="line"><span class="built_in">set</span> mouse=a</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Highlight Current Line</span></span><br><span class="line"><span class="string">set cursorline</span></span><br><span class="line"><span class="string">highlight NERDTreeFile ctermfg=14</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Highlight All Search Pattern</span><br><span class="line"><span class="built_in">set</span> hlsearch</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> g:ycm_global_ycm_extra_conf=<span class="string">&#x27;~/.vim/.ycm_extra_conf.py&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> g:ycm_confirm_extra_conf = 0</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; set the runtime path to include Vundle and initialize</span></span><br><span class="line"><span class="string">call plug##begin(&#x27;~/.vim/plugged&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> YouCompleteme</span><br><span class="line">Plug <span class="string">&#x27;valloric/youcompleteme&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Color Schemes</span></span><br><span class="line"><span class="string">Plug &#x27;flazz/vim-colorschemes&#x27;</span></span><br><span class="line"><span class="string">Plug &#x27;joshdick/onedark.vim&#x27;</span></span><br><span class="line"><span class="string">&quot;</span>Use 24-bit (true-color) mode <span class="keyword">in</span> Vim/Neovim when outside tmux.</span><br><span class="line"><span class="string">&quot;If you&#x27;re using tmux version 2.2 or later, you can remove the outermost <span class="variable">$TMUX</span> check and use tmux&#x27;s 24-bit color support</span></span><br><span class="line"><span class="string">&quot;</span>(see &lt; http://sunaku.github.io/tmux-24bit-color.html<span class="comment">##usage &gt; for more information.)</span></span><br><span class="line"><span class="keyword">if</span> (empty(<span class="variable">$TMUX</span>))</span><br><span class="line">  <span class="keyword">if</span> (has(<span class="string">&quot;nvim&quot;</span>))</span><br><span class="line">    <span class="string">&quot;For Neovim 0.1.3 and 0.1.4 &lt; https://github.com/neovim/neovim/pull/2198 &gt;</span></span><br><span class="line"><span class="string">    let <span class="variable">$NVIM_TUI_ENABLE_TRUE_COLOR</span>=1</span></span><br><span class="line"><span class="string">  endif</span></span><br><span class="line"><span class="string">  &quot;</span>For Neovim &gt; 0.1.5 and Vim &gt; patch 7.4.1799 &lt; https://github.com/vim/vim/commit/61be73bb0f965a895bfb064ea3e55476ac175162 &gt;</span><br><span class="line">  <span class="string">&quot;Based on Vim patch 7.4.1770 (guicolors option) &lt; https://github.com/vim/vim/commit/8a633e3427b47286869aa4b96f2bfc1fe65b25cd &gt;</span></span><br><span class="line"><span class="string">  &quot;</span> &lt; https://github.com/neovim/neovim/wiki/Following-HEAD<span class="comment">##20160511 &gt;</span></span><br><span class="line">  <span class="keyword">if</span> (has(<span class="string">&quot;termguicolors&quot;</span>))</span><br><span class="line">    <span class="built_in">set</span> termguicolors</span><br><span class="line">  endif</span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; NERDTree</span></span><br><span class="line"><span class="string">Plug &#x27;scrooloose/nerdtree&#x27;</span></span><br><span class="line"><span class="string">map &lt;silent&gt; &lt;C-e&gt; :NERDTree&lt;CR&gt;</span></span><br><span class="line"><span class="string">map &lt;silent&gt; &lt;C-w&gt; :NERDTreeFind&lt;CR&gt;</span></span><br><span class="line"><span class="string">nmap &lt;leader&gt;nt :NERDTreeFind&lt;CR&gt;</span></span><br><span class="line"><span class="string">let NERDTreeShowBookmarks=1</span></span><br><span class="line"><span class="string">let NERDTreeIgnore=[&#x27;\.py[cd]$&#x27;, &#x27;\~$&#x27;, &#x27;\.swo$&#x27;, &#x27;\.swp$&#x27;, &#x27;^\.git$&#x27;, &#x27;^\.hg$&#x27;, &#x27;^\.svn$&#x27;, &#x27;\.bzr$&#x27;]</span></span><br><span class="line"><span class="string">let NERDTreeChDirMode=0</span></span><br><span class="line"><span class="string">let NERDTreeQuitOnOpen=1</span></span><br><span class="line"><span class="string">let NERDTreeMouseMode=2</span></span><br><span class="line"><span class="string">let NERDTreeShowHidden=1</span></span><br><span class="line"><span class="string">let NERDTreeKeepTreeInNewTab=1</span></span><br><span class="line"><span class="string">let g:nerdtree_tabs_open_on_gui_startup=0</span></span><br><span class="line"><span class="string">&quot;</span> NERDTrees File highlighting</span><br><span class="line"><span class="keyword">function</span>! NERDTreeHighlightFile(extension, <span class="built_in">fg</span>, <span class="built_in">bg</span>, guifg, guibg)</span><br><span class="line"><span class="built_in">exec</span> <span class="string">&#x27;autocmd FileType nerdtree highlight &#x27;</span> . a:extension .<span class="string">&#x27; ctermbg=&#x27;</span>. a:<span class="built_in">bg</span> .<span class="string">&#x27; ctermfg=&#x27;</span>. a:<span class="built_in">fg</span> .<span class="string">&#x27; guibg=&#x27;</span>. a:guibg .<span class="string">&#x27; guifg=&#x27;</span>. a:guifg</span><br><span class="line"><span class="built_in">exec</span> <span class="string">&#x27;autocmd FileType nerdtree syn match &#x27;</span> . a:extension .<span class="string">&#x27; ##^\s\+.*&#x27;</span>. a:extension .<span class="string">&#x27;$##&#x27;</span></span><br><span class="line">endfunction</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;ini&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;md&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;##3366FF&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;yml&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;config&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;conf&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;json&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;styl&#x27;</span>, <span class="string">&#x27;cyan&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;cyan&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;css&#x27;</span>, <span class="string">&#x27;cyan&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;cyan&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;coffee&#x27;</span>, <span class="string">&#x27;Red&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;js&#x27;</span>, <span class="string">&#x27;Red&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;##ffa500&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;rb&#x27;</span>, <span class="string">&#x27;Red&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;##ffa500&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">au VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;php&#x27;</span>, <span class="string">&#x27;Magenta&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;##ff00ff&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">autocmd VimEnter * call NERDTreeHighlightFile(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;none&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;##151515&#x27;</span>)</span><br><span class="line">highlight! <span class="built_in">link</span> NERDTreeFlags NERDTreeDir</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Airline</span></span><br><span class="line"><span class="string">Plug &#x27;vim-airline/vim-airline&#x27;</span></span><br><span class="line"><span class="string">Plug &#x27;vim-airline/vim-airline-themes&#x27;</span></span><br><span class="line"><span class="string">set laststatus=2</span></span><br><span class="line"><span class="string">let g:airline_left_sep = &#x27;î‚°&#x27;</span></span><br><span class="line"><span class="string">let g:airline_left_alt_sep = &#x27;î‚±&#x27;</span></span><br><span class="line"><span class="string">let g:airline_right_sep = &#x27;î‚²&#x27;</span></span><br><span class="line"><span class="string">let g:airline_right_alt_sep = &#x27;î‚³&#x27;</span></span><br><span class="line"><span class="string">let g:airline_symbols = &#123;&#125;</span></span><br><span class="line"><span class="string">let g:airline_symbols.branch = &#x27;î‚ &#x27;</span></span><br><span class="line"><span class="string">let g:airline_symbols.readonly = &#x27;î‚¢&#x27;</span></span><br><span class="line"><span class="string">let g:airline_symbols.linenr = &#x27;â˜°&#x27;</span></span><br><span class="line"><span class="string">let g:airline_symbols.maxlinenr = &#x27;î‚¡&#x27;</span></span><br><span class="line"><span class="string">let g:airline_symbols.dirty=&#x27;âš¡&#x27;</span></span><br><span class="line"><span class="string">let g:airline_theme = &#x27;onedark&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Code Formatter</span><br><span class="line"><span class="string">&quot; Plug &#x27;Chiel92/vim-autoformat&#x27;</span></span><br><span class="line"><span class="string">&quot;</span> nnoremap &lt;Leader&gt;&lt;Leader&gt;a :Autoformat&lt;cr&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; All of your Plugins must be added before the following line</span></span><br><span class="line"><span class="string">call plug##end()</span></span><br><span class="line"><span class="string">&quot;</span> Color</span><br><span class="line"><span class="built_in">set</span> t_Co=256</span><br><span class="line">syntax on</span><br><span class="line"><span class="string">&quot; set background=dark</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Line Numbers</span><br><span class="line"><span class="string">&quot; set relativenumber</span></span><br><span class="line"><span class="string">set number</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Clipboard</span><br><span class="line"><span class="built_in">set</span> clipboard=unnamed</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Make backspace work</span></span><br><span class="line"><span class="string">set backspace=2</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Maps space to colon, time saver</span><br><span class="line">nmap &lt;space&gt; :</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Indentation</span></span><br><span class="line"><span class="string">set tabstop=2</span></span><br><span class="line"><span class="string">set expandtab</span></span><br><span class="line"><span class="string">set shiftwidth=2</span></span><br><span class="line"><span class="string">set autoindent</span></span><br><span class="line"><span class="string">&quot;</span> <span class="built_in">set</span> ignorecase</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Allows for mouse scrolling</span></span><br><span class="line"><span class="string">set mouse=a</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Highlight Current Line</span><br><span class="line"><span class="built_in">set</span> cursorline</span><br><span class="line">highlight NERDTreeFile ctermfg=14</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Highlight All Search Pattern</span></span><br><span class="line"><span class="string">set hlsearch</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">let g:ycm_global_ycm_extra_conf=&#x27;~/.vim/.ycm_extra_conf.py&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">let g:ycm_confirm_extra_conf = 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> <span class="built_in">set</span> the runtime path to include Vundle and initialize</span><br><span class="line">call plug<span class="comment">##begin(&#x27;~/.vim/plugged&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot; YouCompleteme</span></span><br><span class="line"><span class="string">Plug &#x27;valloric/youcompleteme&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Color Schemes</span><br><span class="line">Plug <span class="string">&#x27;flazz/vim-colorschemes&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;joshdick/onedark.vim&#x27;</span></span><br><span class="line"><span class="string">&quot;Use 24-bit (true-color) mode in Vim/Neovim when outside tmux.</span></span><br><span class="line"><span class="string">&quot;</span>If you<span class="string">&#x27;re using tmux version 2.2 or later, you can remove the outermost $TMUX check and use tmux&#x27;</span>s 24-bit color support</span><br><span class="line"><span class="string">&quot;(see &lt; http://sunaku.github.io/tmux-24bit-color.html##usage &gt; for more information.)</span></span><br><span class="line"><span class="string">if (empty(<span class="variable">$TMUX</span>))</span></span><br><span class="line"><span class="string">  if (has(&quot;</span>nvim<span class="string">&quot;))</span></span><br><span class="line"><span class="string">    &quot;</span>For Neovim 0.1.3 and 0.1.4 &lt; https://github.com/neovim/neovim/pull/2198 &gt;</span><br><span class="line">    <span class="built_in">let</span> <span class="variable">$NVIM_TUI_ENABLE_TRUE_COLOR</span>=1</span><br><span class="line">  endif</span><br><span class="line">  <span class="string">&quot;For Neovim &gt; 0.1.5 and Vim &gt; patch 7.4.1799 &lt; https://github.com/vim/vim/commit/61be73bb0f965a895bfb064ea3e55476ac175162 &gt;</span></span><br><span class="line"><span class="string">  &quot;</span>Based on Vim patch 7.4.1770 (guicolors option) &lt; https://github.com/vim/vim/commit/8a633e3427b47286869aa4b96f2bfc1fe65b25cd &gt;</span><br><span class="line">  <span class="string">&quot; &lt; https://github.com/neovim/neovim/wiki/Following-HEAD##20160511 &gt;</span></span><br><span class="line"><span class="string">  if (has(&quot;</span>termguicolors<span class="string">&quot;))</span></span><br><span class="line"><span class="string">    set termguicolors</span></span><br><span class="line"><span class="string">  endif</span></span><br><span class="line"><span class="string">endif</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> NERDTree</span><br><span class="line">Plug <span class="string">&#x27;scrooloose/nerdtree&#x27;</span></span><br><span class="line">map &lt;silent&gt; &lt;C-e&gt; :NERDTree&lt;CR&gt;</span><br><span class="line">map &lt;silent&gt; &lt;C-w&gt; :NERDTreeFind&lt;CR&gt;</span><br><span class="line">nmap &lt;leader&gt;nt :NERDTreeFind&lt;CR&gt;</span><br><span class="line"><span class="built_in">let</span> NERDTreeShowBookmarks=1</span><br><span class="line"><span class="built_in">let</span> NERDTreeIgnore=[<span class="string">&#x27;\.py[cd]$&#x27;</span>, <span class="string">&#x27;\~$&#x27;</span>, <span class="string">&#x27;\.swo$&#x27;</span>, <span class="string">&#x27;\.swp$&#x27;</span>, <span class="string">&#x27;^\.git$&#x27;</span>, <span class="string">&#x27;^\.hg$&#x27;</span>, <span class="string">&#x27;^\.svn$&#x27;</span>, <span class="string">&#x27;\.bzr$&#x27;</span>]</span><br><span class="line"><span class="built_in">let</span> NERDTreeChDirMode=0</span><br><span class="line"><span class="built_in">let</span> NERDTreeQuitOnOpen=1</span><br><span class="line"><span class="built_in">let</span> NERDTreeMouseMode=2</span><br><span class="line"><span class="built_in">let</span> NERDTreeShowHidden=1</span><br><span class="line"><span class="built_in">let</span> NERDTreeKeepTreeInNewTab=1</span><br><span class="line"><span class="built_in">let</span> g:nerdtree_tabs_open_on_gui_startup=0</span><br><span class="line"><span class="string">&quot; NERDTrees File highlighting</span></span><br><span class="line"><span class="string">function! NERDTreeHighlightFile(extension, fg, bg, guifg, guibg)</span></span><br><span class="line"><span class="string">exec &#x27;autocmd FileType nerdtree highlight &#x27; . a:extension .&#x27; ctermbg=&#x27;. a:bg .&#x27; ctermfg=&#x27;. a:fg .&#x27; guibg=&#x27;. a:guibg .&#x27; guifg=&#x27;. a:guifg</span></span><br><span class="line"><span class="string">exec &#x27;autocmd FileType nerdtree syn match &#x27; . a:extension .&#x27; ##^\s\+.*&#x27;. a:extension .&#x27;<span class="variable">$#</span>#&#x27;</span></span><br><span class="line"><span class="string">endfunction</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;jade&#x27;, &#x27;green&#x27;, &#x27;none&#x27;, &#x27;green&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;ini&#x27;, &#x27;yellow&#x27;, &#x27;none&#x27;, &#x27;yellow&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;md&#x27;, &#x27;blue&#x27;, &#x27;none&#x27;, &#x27;##3366FF&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;yml&#x27;, &#x27;yellow&#x27;, &#x27;none&#x27;, &#x27;yellow&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;config&#x27;, &#x27;yellow&#x27;, &#x27;none&#x27;, &#x27;yellow&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;conf&#x27;, &#x27;yellow&#x27;, &#x27;none&#x27;, &#x27;yellow&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;json&#x27;, &#x27;yellow&#x27;, &#x27;none&#x27;, &#x27;yellow&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;html&#x27;, &#x27;yellow&#x27;, &#x27;none&#x27;, &#x27;yellow&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;styl&#x27;, &#x27;cyan&#x27;, &#x27;none&#x27;, &#x27;cyan&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;css&#x27;, &#x27;cyan&#x27;, &#x27;none&#x27;, &#x27;cyan&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;coffee&#x27;, &#x27;Red&#x27;, &#x27;none&#x27;, &#x27;red&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;js&#x27;, &#x27;Red&#x27;, &#x27;none&#x27;, &#x27;##ffa500&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;rb&#x27;, &#x27;Red&#x27;, &#x27;none&#x27;, &#x27;##ffa500&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">au VimEnter * call NERDTreeHighlightFile(&#x27;php&#x27;, &#x27;Magenta&#x27;, &#x27;none&#x27;, &#x27;##ff00ff&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">autocmd VimEnter * call NERDTreeHighlightFile(&#x27;jade&#x27;, &#x27;green&#x27;, &#x27;none&#x27;, &#x27;green&#x27;, &#x27;##151515&#x27;)</span></span><br><span class="line"><span class="string">highlight! link NERDTreeFlags NERDTreeDir</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> Airline</span><br><span class="line">Plug <span class="string">&#x27;vim-airline/vim-airline&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;vim-airline/vim-airline-themes&#x27;</span></span><br><span class="line"><span class="built_in">set</span> laststatus=2</span><br><span class="line"><span class="built_in">let</span> g:airline_left_sep = <span class="string">&#x27;î‚°&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_left_alt_sep = <span class="string">&#x27;î‚±&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_right_sep = <span class="string">&#x27;î‚²&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_right_alt_sep = <span class="string">&#x27;î‚³&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_symbols = &#123;&#125;</span><br><span class="line"><span class="built_in">let</span> g:airline_symbols.branch = <span class="string">&#x27;î‚ &#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_symbols.readonly = <span class="string">&#x27;î‚¢&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_symbols.linenr = <span class="string">&#x27;â˜°&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_symbols.maxlinenr = <span class="string">&#x27;î‚¡&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_symbols.dirty=<span class="string">&#x27;âš¡&#x27;</span></span><br><span class="line"><span class="built_in">let</span> g:airline_theme = <span class="string">&#x27;onedark&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Code Formatter</span></span><br><span class="line"><span class="string">&quot;</span> Plug <span class="string">&#x27;Chiel92/vim-autoformat&#x27;</span></span><br><span class="line"><span class="string">&quot; nnoremap &lt;Leader&gt;&lt;Leader&gt;a :Autoformat&lt;cr&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> All of your Plugins must be added before the following line</span><br><span class="line">call plug<span class="comment">##end()</span></span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/11/25/vimrc/">https://blog.jujimeizuo.cn/2021/11/25/vimrc/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis-æŒä¹…åŒ–æœºåˆ¶</title>
      <link href="/2021/09/28/rediscjh/"/>
      <url>/2021/09/28/rediscjh/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>ç”±äºredisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œæ‰€ä»¥å…¶æ•°æ®æ–­ç”µæ˜“å¤±ï¼Œå› æ­¤éœ€è¦å°†æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸­ã€‚redisæœ‰ä¸¤ç§æŒä¹…åŒ–è§£å†³æ–¹æ¡ˆï¼Œåˆ†åˆ«æ˜¯ï¼šRDBï¼ŒAOFã€‚</p><h2 id="å¿«ç…§-Snapshot-RDB"><a href="#å¿«ç…§-Snapshot-RDB" class="headerlink" title="å¿«ç…§(Snapshot) &#x2F; RDB"></a>å¿«ç…§(Snapshot) &#x2F; RDB</h2><p>è¿™ç§æ–¹å¼å¯ä»¥å°†æŸä¸€æ—¶åˆ»çš„æ‰€æœ‰æ•°æ®éƒ½å†™å…¥ç¡¬ç›˜ä¸­,å½“ç„¶è¿™ä¹Ÿæ˜¯redisçš„é»˜è®¤å¼€å¯æŒä¹…åŒ–æ–¹å¼,ä¿å­˜çš„æ–‡ä»¶æ˜¯ä»¥.rdbå½¢å¼ç»“å°¾çš„æ–‡ä»¶å› æ­¤è¿™ç§æ–¹å¼ä¹Ÿç§°ä¹‹ä¸ºRDBæ–¹å¼ã€‚</p><p>åœ¨æŒ‡å®šæ—¶é—´é—´éš”åï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥æ•°æ®åº“ ï¼›åœ¨æ¢å¤æ—¶å€™ï¼Œç›´æ¥è¯»å–å¿«ç…§æ–‡ä»¶ï¼Œè¿›è¡Œæ•°æ®çš„æ¢å¤ ï¼› é»˜è®¤æƒ…å†µä¸‹ï¼Œ Redis å°†æ•°æ®åº“å¿«ç…§ä¿å­˜åœ¨åå­—ä¸º <strong>dump.rdb</strong>çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚æ–‡ä»¶åå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè‡ªå®šä¹‰ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632802020120.png" alt="file"></p><h4 id="RDBæŒä¹…åŒ–çš„å¤§è‡´è¿‡ç¨‹"><a href="#RDBæŒä¹…åŒ–çš„å¤§è‡´è¿‡ç¨‹" class="headerlink" title="RDBæŒä¹…åŒ–çš„å¤§è‡´è¿‡ç¨‹"></a>RDBæŒä¹…åŒ–çš„å¤§è‡´è¿‡ç¨‹</h4><p>åœ¨è¿›è¡Œ RDB çš„æ—¶å€™ï¼Œredis çš„ä¸»çº¿ç¨‹æ˜¯ä¸ä¼šåš io æ“ä½œçš„ï¼Œä¸»çº¿ç¨‹ä¼š fork ä¸€ä¸ªå­çº¿ç¨‹æ¥å®Œæˆè¯¥æ“ä½œï¼›</p><ol><li>Redis è°ƒç”¨forksã€‚åŒæ—¶æ‹¥æœ‰çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ã€‚</li><li>å­è¿›ç¨‹å°†æ•°æ®é›†å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶ RDB æ–‡ä»¶ä¸­ã€‚</li><li>å½“å­è¿›ç¨‹å®Œæˆå¯¹æ–° RDB æ–‡ä»¶çš„å†™å…¥æ—¶ï¼ŒRedis ç”¨æ–° RDB æ–‡ä»¶æ›¿æ¢åŸæ¥çš„ RDB æ–‡ä»¶ï¼Œå¹¶åˆ é™¤æ—§çš„ RDB æ–‡ä»¶ã€‚</li></ol><p><strong>è¿™ç§å·¥ä½œæ–¹å¼ä½¿å¾— Redis å¯ä»¥ä»å†™æ—¶å¤åˆ¶ï¼ˆcopy-on-writeï¼‰æœºåˆ¶ä¸­è·ç›Š(å› ä¸ºæ˜¯ä½¿ç”¨å­è¿›ç¨‹è¿›è¡Œå†™æ“ä½œï¼Œè€Œçˆ¶è¿›ç¨‹ä¾ç„¶å¯ä»¥æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚)</strong></p><h3 id="bgsaveï¼š"><a href="#bgsaveï¼š" class="headerlink" title="bgsaveï¼š"></a>bgsaveï¼š</h3><p>å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨BGSAVEå‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªå¿«ç…§,å½“æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„BGSAVEå‘½ä»¤æ—¶,redisä¼šè°ƒç”¨forkæ¥åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹,ç„¶åå­è¿›ç¨‹è´Ÿè´£å°†å¿«ç…§å†™å…¥ç£ç›˜ä¸­,è€Œçˆ¶è¿›ç¨‹åˆ™ç»§ç»­å¤„ç†å‘½ä»¤è¯·æ±‚ã€‚ <strong>bgsave æ˜¯å¼‚æ­¥è¿›è¡Œï¼Œè¿›è¡ŒæŒä¹…åŒ–çš„æ—¶å€™ï¼Œredis è¿˜å¯ä»¥å°†ç»§ç»­å“åº”å®¢æˆ·ç«¯è¯·æ±‚ ï¼›</strong> <img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632802962900.png" alt="file"></p><h3 id="saveï¼š"><a href="#saveï¼š" class="headerlink" title="saveï¼š"></a>saveï¼š</h3><p>ä½¿ç”¨ save å‘½ä»¤ï¼Œä¼šç«‹åˆ»å¯¹å½“å‰å†…å­˜ä¸­çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ– ,ä½†æ˜¯ä¼šé˜»å¡ï¼Œä¹Ÿå°±æ˜¯ä¸æ¥å—å…¶ä»–æ“ä½œäº†ï¼› <strong>ç”±äº save å‘½ä»¤æ˜¯åŒæ­¥å‘½ä»¤ï¼Œä¼šå ç”¨Redisçš„ä¸»è¿›ç¨‹ã€‚è‹¥Redisæ•°æ®éå¸¸å¤šæ—¶ï¼Œsaveå‘½ä»¤æ‰§è¡Œé€Ÿåº¦ä¼šéå¸¸æ…¢ï¼Œé˜»å¡æ‰€æœ‰å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</strong> <img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632802954996.png" alt="file"></p><h3 id="shutdownï¼š"><a href="#shutdownï¼š" class="headerlink" title="shutdownï¼š"></a>shutdownï¼š</h3><p>å½“redisé€šè¿‡shutdownæŒ‡ä»¤æ¥æ”¶åˆ°å…³é—­æœåŠ¡å™¨çš„è¯·æ±‚æ—¶,ä¼šæ‰§è¡Œä¸€ä¸ªsaveå‘½ä»¤,é˜»å¡æ‰€æœ‰çš„å®¢æˆ·ç«¯,ä¸å†æ‰§è¡Œå®¢æˆ·ç«¯æ‰§è¡Œå‘é€çš„ä»»ä½•å‘½ä»¤,å¹¶ä¸”åœ¨saveå‘½ä»¤æ‰§è¡Œå®Œæ¯•ä¹‹åå…³é—­æœåŠ¡å™¨</p><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„:"></a>æ³¨æ„:</h3><p><strong>SAVEå‘½ä»¤å¹¶ä¸å¸¸ç”¨,ä½¿ç”¨SAVEå‘½ä»¤åœ¨å¿«ç…§åˆ›å»ºå®Œæ¯•ä¹‹å‰,rediså¤„äºé˜»å¡çŠ¶æ€,æ— æ³•å¯¹å¤–æœåŠ¡</strong></p><p>å¦‚æœç”¨æˆ·åœ¨redis.confä¸­è®¾ç½®äº†saveé…ç½®é€‰é¡¹,redisä¼šåœ¨saveé€‰é¡¹æ¡ä»¶æ»¡è¶³ä¹‹åè‡ªåŠ¨è§¦å‘ä¸€æ¬¡BGSAVEå‘½ä»¤,å¦‚æœè®¾ç½®å¤šä¸ªsaveé…ç½®é€‰é¡¹,å½“ä»»æ„ä¸€ä¸ªsaveé…ç½®é€‰é¡¹æ¡ä»¶æ»¡è¶³,redisä¹Ÿä¼šè§¦å‘ä¸€æ¬¡BGSAVEå‘½ä»¤</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632802337308.png" alt="file"></p><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ol><li>RDBæ–‡ä»¶ç´§å‡‘ï¼Œå…¨é‡å¤‡ä»½ï¼Œéå¸¸é€‚åˆç”¨äºè¿›è¡Œå¤‡ä»½å’Œç¾éš¾æ¢å¤ã€‚</li><li>ç”ŸæˆRDBæ–‡ä»¶çš„æ—¶å€™ï¼Œredisä¸»è¿›ç¨‹ä¼šfork()ä¸€ä¸ªå­è¿›ç¨‹æ¥å¤„ç†æ‰€æœ‰ä¿å­˜å·¥ä½œï¼Œä¸»è¿›ç¨‹ä¸éœ€è¦è¿›è¡Œä»»ä½•ç£ç›˜IOæ“ä½œã€‚</li><li>RDB åœ¨æ¢å¤å¤§æ•°æ®é›†æ—¶çš„é€Ÿåº¦æ¯” AOF çš„æ¢å¤é€Ÿåº¦è¦å¿«ã€‚</li></ol><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ol><li>éœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›ç¨‹æ“ä½œï¼å¦‚æœredisæ„å¤–å®•æœºäº†ï¼Œè¿™ä¸ªæœ€åä¸€æ¬¡ä¿®æ”¹æ•°æ®å°±æ²¡æœ‰çš„äº†ï¼</li><li>forkè¿›ç¨‹çš„æ—¶å€™ï¼Œä¼šå ç”¨ä¸€å®šçš„å†…å®¹ç©ºé—´ï¼ï¼</li></ol><h4 id="RDBè§¦å‘æœºåˆ¶"><a href="#RDBè§¦å‘æœºåˆ¶" class="headerlink" title="RDBè§¦å‘æœºåˆ¶"></a>RDBè§¦å‘æœºåˆ¶</h4><ol><li>saveçš„è§„åˆ™æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨è§¦å‘rdbè§„åˆ™</li><li>æ‰§è¡Œ flushall å‘½ä»¤ï¼Œä¹Ÿä¼šè§¦å‘æˆ‘ä»¬çš„rdbè§„åˆ™ï¼</li><li>é€€å‡ºredisï¼Œä¹Ÿä¼šäº§ç”Ÿ rdb æ–‡ä»¶ï¼</li></ol><h4 id="é…ç½®ç”Ÿæˆå¿«ç…§åç§°å’Œä½ç½®"><a href="#é…ç½®ç”Ÿæˆå¿«ç…§åç§°å’Œä½ç½®" class="headerlink" title="é…ç½®ç”Ÿæˆå¿«ç…§åç§°å’Œä½ç½®"></a>é…ç½®ç”Ÿæˆå¿«ç…§åç§°å’Œä½ç½®</h4><ol><li>ä¿®æ”¹ç”Ÿæˆå¿«ç…§åç§° dbfilename dump.rdb</li><li>ä¿®æ”¹ç”Ÿæˆä½ç½® dir .&#x2F;</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632802467233.png" alt="file"></p><h4 id="æ¢å¤rdbæ–‡ä»¶"><a href="#æ¢å¤rdbæ–‡ä»¶" class="headerlink" title="æ¢å¤rdbæ–‡ä»¶"></a>æ¢å¤rdbæ–‡ä»¶</h4><ol><li>åªéœ€è¦å°†rdbæ–‡ä»¶æ”¾åœ¨rediså¯åŠ¨ç›®å½•ä¸­ï¼Œrediså¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥dump.rdbæ¢å¤å…¶ä¸­çš„æ•°æ®ã€‚</li><li>æŸ¥çœ‹å…¶å­˜åœ¨çš„ä½ç½®</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632802829210.png" alt="file"> å¦‚æœ&#x2F;var&#x2F;lib&#x2F;redisè¿™ä¸ªç›®å½•å­˜åœ¨dump.rdbæ–‡ä»¶ï¼Œåˆ™å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤æ•°æ®ã€‚</p><h2 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h2><p>Append Only File</p><p>å°†æˆ‘ä»¬æ‰€æœ‰çš„å‘½ä»¤éƒ½è®°å½•ä¸‹æ¥ï¼Œhistoryï¼Œæ¢å¤çš„æ—¶å€™å°±æŠŠè¿™ä¸ªæ–‡ä»¶å…¨éƒ¨å†æ‰§è¡Œä¸€é</p><h4 id="ä»€ä¹ˆæ˜¯AOF"><a href="#ä»€ä¹ˆæ˜¯AOF" class="headerlink" title="ä»€ä¹ˆæ˜¯AOF"></a>ä»€ä¹ˆæ˜¯AOF</h4><p>å¿«ç…§åŠŸèƒ½ï¼ˆRDBï¼‰å¹¶ä¸æ˜¯éå¸¸è€ä¹…ï¼ˆdurableï¼‰ï¼š å¦‚æœ Redis å› ä¸ºæŸäº›åŸå› è€Œé€ æˆæ•…éšœåœæœºï¼Œ é‚£ä¹ˆæœåŠ¡å™¨å°†ä¸¢å¤±æœ€è¿‘å†™å…¥ã€ä»¥åŠæœªä¿å­˜åˆ°å¿«ç…§ä¸­çš„é‚£äº›æ•°æ®ã€‚ ä» 1.1 ç‰ˆæœ¬å¼€å§‹ï¼Œ Redis å¢åŠ äº†ä¸€ç§å®Œå…¨è€ä¹…çš„æŒä¹…åŒ–æ–¹å¼ï¼š AOF æŒä¹…åŒ–ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632815754859.png" alt="file"></p><h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><p>è¿™ç§æ–¹å¼å¯ä»¥å°†æ‰€æœ‰å®¢æˆ·ç«¯æ‰§è¡Œçš„å†™å‘½ä»¤è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­,AOFæŒä¹…åŒ–ä¼šå°†è¢«æ‰§è¡Œçš„å†™å‘½ä»¤å†™åˆ°AOFçš„æ–‡ä»¶æœ«å°¾,ä»¥æ­¤æ¥è®°å½•æ•°æ®å‘ç”Ÿçš„å˜åŒ–,å› æ­¤åªè¦redisä»å¤´åˆ°å°¾æ‰§è¡Œä¸€æ¬¡AOFæ–‡ä»¶æ‰€åŒ…å«çš„æ‰€æœ‰å†™å‘½ä»¤,å°±å¯ä»¥æ¢å¤AOFæ–‡ä»¶çš„è®°å½•çš„æ•°æ®é›†.</p><h4 id="å¼€å¯AOFæŒä¹…åŒ–"><a href="#å¼€å¯AOFæŒä¹…åŒ–" class="headerlink" title="å¼€å¯AOFæŒä¹…åŒ–"></a>å¼€å¯AOFæŒä¹…åŒ–</h4><p>åœ¨redisçš„é»˜è®¤é…ç½®ä¸­AOFæŒä¹…åŒ–æœºåˆ¶æ˜¯æ²¡æœ‰å¼€å¯çš„ï¼Œéœ€è¦åœ¨é…ç½®ä¸­å¼€å¯</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632815844362.png" alt="file"></p><p>appendonly no yesåˆ™è¡¨ç¤ºå¯ç”¨AOF</p><p>é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œç„¶åé‡å¯redisï¼Œå°±å¯ä»¥ç”Ÿæ•ˆäº†ï¼</p><p>å¦‚æœè¿™ä¸ªaofæ–‡ä»¶æœ‰é”™ä½ï¼Œè¿™æ—¶å€™redisæ˜¯å¯åŠ¨ä¸èµ·æ¥çš„ï¼Œæˆ‘éœ€è¦ä¿®æ”¹è¿™ä¸ªaofæ–‡ä»¶</p><p>redisç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå·¥å…·redis-check-aof â€“fix</p><h4 id="æ—¥å¿—è¿½åŠ é¢‘ç‡"><a href="#æ—¥å¿—è¿½åŠ é¢‘ç‡" class="headerlink" title="æ—¥å¿—è¿½åŠ é¢‘ç‡"></a>æ—¥å¿—è¿½åŠ é¢‘ç‡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹æ—¥å¿—åŒæ­¥é¢‘ç‡</span><br><span class="line">- ä¿®æ”¹appendfsync everysecalwaysno æŒ‡å®š</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632815884193.png" alt="file"></p><h4 id="AOFæ–‡ä»¶çš„é‡å†™"><a href="#AOFæ–‡ä»¶çš„é‡å†™" class="headerlink" title="AOFæ–‡ä»¶çš„é‡å†™"></a>AOFæ–‡ä»¶çš„é‡å†™</h4><h3 id="AOFå¸¦æ¥çš„é—®é¢˜"><a href="#AOFå¸¦æ¥çš„é—®é¢˜" class="headerlink" title="AOFå¸¦æ¥çš„é—®é¢˜"></a>AOFå¸¦æ¥çš„é—®é¢˜</h3><p>AOFçš„æ–¹å¼ä¹ŸåŒæ—¶å¸¦æ¥äº†å¦ä¸€ä¸ªé—®é¢˜ã€‚æŒä¹…åŒ–æ–‡ä»¶ä¼šå˜çš„è¶Šæ¥è¶Šå¤§ã€‚ä¾‹å¦‚æˆ‘ä»¬è°ƒç”¨incr testå‘½ä»¤100æ¬¡ï¼Œæ–‡ä»¶ä¸­å¿…é¡»ä¿å­˜å…¨éƒ¨çš„100æ¡å‘½ä»¤ï¼Œå…¶å®æœ‰99æ¡éƒ½æ˜¯å¤šä½™çš„ã€‚å› ä¸ºè¦æ¢å¤æ•°æ®åº“çš„çŠ¶æ€å…¶å®æ–‡ä»¶ä¸­ä¿å­˜ä¸€æ¡set test 100å°±å¤Ÿäº†ã€‚ä¸ºäº†å‹ç¼©aofçš„æŒä¹…åŒ–æ–‡ä»¶Redisæä¾›äº†AOFé‡å†™(ReWriter)æœºåˆ¶ã€‚</p><h3 id="AOFé‡å†™"><a href="#AOFé‡å†™" class="headerlink" title="AOFé‡å†™"></a>AOFé‡å†™</h3><p>ç”¨æ¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°AOFæ–‡ä»¶çš„ä½“ç§¯</p><h3 id="è§¦å‘æœºåˆ¶"><a href="#è§¦å‘æœºåˆ¶" class="headerlink" title="è§¦å‘æœºåˆ¶"></a>è§¦å‘æœºåˆ¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.å®¢æˆ·ç«¯æ–¹å¼è§¦å‘é‡å†™</span></span><br><span class="line">- æ‰§è¡ŒBGREWRITEAOFå‘½ä»¤  ä¸ä¼šé˜»å¡redisçš„æœåŠ¡</span><br><span class="line"><span class="comment">## 2.æœåŠ¡å™¨é…ç½®æ–¹å¼è‡ªåŠ¨è§¦å‘</span></span><br><span class="line">- é…ç½®redis.confä¸­çš„auto-aof-rewrite-percentageé€‰é¡¹ å‚åŠ ä¸‹å›¾â†“â†“â†“</span><br><span class="line">- å¦‚æœè®¾ç½®auto-aof-rewrite-percentageå€¼ä¸º100å’Œauto-aof-rewrite-min-size 64mb,å¹¶ä¸”å¯ç”¨çš„AOFæŒä¹…åŒ–æ—¶,é‚£ä¹ˆå½“AOFæ–‡ä»¶ä½“ç§¯å¤§äº64M,å¹¶ä¸”AOFæ–‡ä»¶çš„ä½“ç§¯æ¯”ä¸Šä¸€æ¬¡é‡å†™ä¹‹åä½“ç§¯å¤§äº†è‡³å°‘ä¸€å€(100%)æ—¶,ä¼šè‡ªåŠ¨è§¦å‘,å¦‚æœé‡å†™è¿‡äºé¢‘ç¹,ç”¨æˆ·å¯ä»¥è€ƒè™‘å°†auto-aof-rewrite-percentageè®¾ç½®ä¸ºæ›´å¤§</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632816040606.png" alt="file"></p><h3 id="é‡å†™åŸç†"><a href="#é‡å†™åŸç†" class="headerlink" title="é‡å†™åŸç†"></a>é‡å†™åŸç†</h3><p><strong>æ³¨æ„ï¼šé‡å†™aofæ–‡ä»¶çš„æ“ä½œï¼Œå¹¶æ²¡æœ‰è¯»å–æ—§çš„aofæ–‡ä»¶ï¼Œè€Œæ˜¯å°†æ•´ä¸ªå†…å­˜ä¸­çš„æ•°æ®åº“å†…å®¹ç”¨å‘½ä»¤çš„æ–¹å¼é‡å†™äº†ä¸€ä¸ªæ–°çš„aofæ–‡ä»¶,æ›¿æ¢åŸæœ‰çš„æ–‡ä»¶è¿™ç‚¹å’Œå¿«ç…§æœ‰ç‚¹ç±»ä¼¼ã€‚</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## é‡å†™æµç¨‹</span></span><br><span class="line">- 1. redisè°ƒç”¨fork ï¼Œç°åœ¨æœ‰çˆ¶å­ä¸¤ä¸ªè¿›ç¨‹ å­è¿›ç¨‹æ ¹æ®å†…å­˜ä¸­çš„æ•°æ®åº“å¿«ç…§ï¼Œå¾€ä¸´æ—¶æ–‡ä»¶ä¸­å†™å…¥é‡å»ºæ•°æ®åº“çŠ¶æ€çš„å‘½ä»¤</span><br><span class="line">- 2. çˆ¶è¿›ç¨‹ç»§ç»­å¤„ç†clientè¯·æ±‚ï¼Œé™¤äº†æŠŠå†™å‘½ä»¤å†™å…¥åˆ°åŸæ¥çš„aofæ–‡ä»¶ä¸­ã€‚åŒæ—¶æŠŠæ”¶åˆ°çš„å†™å‘½ä»¤ç¼“å­˜èµ·æ¥ã€‚è¿™æ ·å°±èƒ½ä¿è¯å¦‚æœå­è¿›ç¨‹é‡å†™å¤±è´¥çš„è¯å¹¶ä¸ä¼šå‡ºé—®é¢˜ã€‚</span><br><span class="line">- 3. å½“å­è¿›ç¨‹æŠŠå¿«ç…§å†…å®¹å†™å…¥å·²å‘½ä»¤æ–¹å¼å†™åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­åï¼Œå­è¿›ç¨‹å‘ä¿¡å·é€šçŸ¥çˆ¶è¿›ç¨‹ã€‚ç„¶åçˆ¶è¿›ç¨‹æŠŠç¼“å­˜çš„å†™å‘½ä»¤ä¹Ÿå†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶ã€‚</span><br><span class="line">- 4. ç°åœ¨çˆ¶è¿›ç¨‹å¯ä»¥ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶æ›¿æ¢è€çš„aofæ–‡ä»¶ï¼Œå¹¶é‡å‘½åï¼Œåé¢æ”¶åˆ°çš„å†™å‘½ä»¤ä¹Ÿå¼€å§‹å¾€æ–°çš„aofæ–‡ä»¶ä¸­è¿½åŠ ã€‚</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632816192423.png" alt="file"></p><h4 id="ä¼˜ç‚¹-1"><a href="#ä¼˜ç‚¹-1" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ol><li>æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½ä¼šåŒæ­¥ï¼Œæ–‡ä»¶çš„å®Œæ•´æ€§ä¼šæ›´åŠ å¥½</li><li>æ²¡ç§’åŒæ­¥ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’çš„æ•°æ®</li><li>ä»ä¸åŒæ­¥ï¼Œæ•ˆç‡æœ€é«˜</li></ol><h4 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ol><li>ç›¸å¯¹äºæ•°æ®æ–‡ä»¶æ¥è¯´ï¼Œaofè¿œè¿œå¤§äºrdbï¼Œä¿®å¤é€Ÿåº¦æ¯”rdbæ…¢ï¼</li><li>Aofè¿è¡Œæ•ˆç‡ä¹Ÿè¦æ¯”rdbæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬redisé»˜è®¤çš„é…ç½®å°±æ˜¯rdbæŒä¹…åŒ–</li></ol><h2 id="å¦‚ä½•é€‰æ‹©å“ªç§æŒä¹…åŒ–æ–¹å¼"><a href="#å¦‚ä½•é€‰æ‹©å“ªç§æŒä¹…åŒ–æ–¹å¼" class="headerlink" title="å¦‚ä½•é€‰æ‹©å“ªç§æŒä¹…åŒ–æ–¹å¼"></a>å¦‚ä½•é€‰æ‹©å“ªç§æŒä¹…åŒ–æ–¹å¼</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œ å¦‚æœæƒ³è¾¾åˆ°è¶³ä»¥åª²ç¾ PostgreSQL çš„æ•°æ®å®‰å…¨æ€§ï¼Œ ä½ åº”è¯¥åŒæ—¶ä½¿ç”¨ä¸¤ç§æŒä¹…åŒ–åŠŸèƒ½ã€‚</p><p>å¦‚æœä½ éå¸¸å…³å¿ƒä½ çš„æ•°æ®ï¼Œ ä½†ä»ç„¶å¯ä»¥æ‰¿å—æ•°åˆ†é’Ÿä»¥å†…çš„æ•°æ®ä¸¢å¤±ï¼Œ é‚£ä¹ˆä½ å¯ä»¥åªä½¿ç”¨ RDB æŒä¹…åŒ–ã€‚</p><p>æœ‰å¾ˆå¤šç”¨æˆ·éƒ½åªä½¿ç”¨ AOF æŒä¹…åŒ–ï¼Œ ä½†å¹¶ä¸æ¨èè¿™ç§æ–¹å¼ï¼š å› ä¸ºå®šæ—¶ç”Ÿæˆ RDB å¿«ç…§ï¼ˆsnapshotï¼‰éå¸¸ä¾¿äºè¿›è¡Œæ•°æ®åº“å¤‡ä»½ï¼Œ å¹¶ä¸” RDB æ¢å¤æ•°æ®é›†çš„é€Ÿåº¦ä¹Ÿè¦æ¯” AOF æ¢å¤çš„é€Ÿåº¦è¦å¿«ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/09/28/rediscjh/">https://blog.jujimeizuo.cn/2021/09/28/rediscjh/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis-äº‹åŠ¡</title>
      <link href="/2021/09/26/redisshiwu/"/>
      <url>/2021/09/26/redisshiwu/</url>
      
        <content type="html"><![CDATA[<h2 id="redisçš„äº‹åŠ¡æ“ä½œ"><a href="#redisçš„äº‹åŠ¡æ“ä½œ" class="headerlink" title="redisçš„äº‹åŠ¡æ“ä½œ"></a>redisçš„äº‹åŠ¡æ“ä½œ</h2><span id="more"></span><p><strong>redisçš„å•æ¡å‘½ä»¤ä¿è¯åŸå­æ€§ï¼Œä½†æ˜¯redisçš„äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§</strong></p><p>redisçš„äº‹åŠ¡æ²¡æœ‰éš”ç¦»çº§åˆ«ã€‚redisäº‹åŠ¡å®é™…ä¸Šå°±æ˜¯ä¸€ç»„å‘½ä»¤çš„é›†åˆï¼Œè¿™äº›å‘½ä»¤åœ¨äº‹åŠ¡ä¸­ä¼šè¢«åºåˆ—åŒ–ï¼Œç„¶åæŒ‰ç…§å‘½ä»¤çš„å…ˆåé¡ºåºä¸€æ¬¡æ€§å…¨éƒ¨æ‰§è¡Œï¼Œåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸èƒ½è¢«æ‰“æ–­ã€‚ å³ï¼šredisçš„äº‹åŠ¡åœ¨æ‰§è¡Œæ—¶æ˜¯ä¸€æ¬¡æ€§ï¼Œé¡ºåºæ€§å’Œæ’ä»–æ€§çš„</p><h3 id="å¼€å¯äº‹åŠ¡ï¼šmulti"><a href="#å¼€å¯äº‹åŠ¡ï¼šmulti" class="headerlink" title="å¼€å¯äº‹åŠ¡ï¼šmulti"></a>å¼€å¯äº‹åŠ¡ï¼šmulti</h3><h3 id="å‘½ä»¤å…¥é˜Ÿ"><a href="#å‘½ä»¤å…¥é˜Ÿ" class="headerlink" title="å‘½ä»¤å…¥é˜Ÿ:"></a>å‘½ä»¤å…¥é˜Ÿ:</h3><h3 id="æ‰§è¡Œäº‹åŠ¡-exec"><a href="#æ‰§è¡Œäº‹åŠ¡-exec" class="headerlink" title="æ‰§è¡Œäº‹åŠ¡:exec"></a>æ‰§è¡Œäº‹åŠ¡:exec</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644879581.png" alt="file"></p><h3 id="æ”¾å¼ƒäº‹åŠ¡ï¼šdiscard"><a href="#æ”¾å¼ƒäº‹åŠ¡ï¼šdiscard" class="headerlink" title="æ”¾å¼ƒäº‹åŠ¡ï¼šdiscard"></a>æ”¾å¼ƒäº‹åŠ¡ï¼šdiscard</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644930162.png" alt="file"></p><h4 id="äº‹åŠ¡å¼‚å¸¸"><a href="#äº‹åŠ¡å¼‚å¸¸" class="headerlink" title="äº‹åŠ¡å¼‚å¸¸"></a>äº‹åŠ¡å¼‚å¸¸</h4><p><strong>åœ¨å¼€å¯äº‹åŠ¡åï¼Œå¦‚æœç¼–å†™çš„å‘½ä»¤æœ‰è¯­æ³•é”™è¯¯ï¼Œåˆ™ä¼šç«‹å³æŠ¥é”™ï¼Œä¸”æ•´ä¸ªäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ.</strong></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632645058718.png" alt="file"></p><p><strong>å¦‚æœåœ¨å¼€å¯äº‹åŠ¡åï¼Œå‘½ä»¤ä¸­æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œä½†æ˜¯å´æœ‰è¿è¡Œé”™è¯¯ï¼Œå³å‘½ä»¤èƒ½å¤ŸæˆåŠŸå…¥é˜Ÿï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿæ‰§è¡Œï¼Œåˆ™åœ¨äº‹åŠ¡æäº¤ååªæœ‰è¯¥å‘½ä»¤æŠ›é”™ï¼Œå…¶ä»–å‘½ä»¤å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚</strong></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632645139695.png" alt="file"></p><h4 id="redisçš„ä¹è§‚é”"><a href="#redisçš„ä¹è§‚é”" class="headerlink" title="redisçš„ä¹è§‚é”"></a>redisçš„ä¹è§‚é”</h4><ul><li>ä¹è§‚é”ï¼šå°±æ˜¯å®ƒä¼šè®¤ä¸ºæ‰€æœ‰çš„äº‹åŠ¡éƒ½ä¸ä¼šå¤±è´¥ï¼Œå› æ­¤å®ƒä¸ä¼šç»™äº‹åŠ¡ä¸Šé”ã€‚å®ƒåªä¼šåœ¨æ›´æ–°çš„æ—¶å€™åˆ¤æ–­åœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡æ•°æ®</li><li>æ‚²è§‚é”ï¼šå®ƒè®¤ä¸ºæ‰€æœ‰çš„äº‹åŠ¡éƒ½ä¼šæ‰§è¡Œå¤±è´¥ï¼Œå› æ­¤åšä»»ä½•äº‹æƒ…å®ƒéƒ½ä¼šåŠ é”ï¼Œè¿™æ ·æ˜¯åŠå…¶å½±å“æ•ˆç‡çš„ã€‚</li></ul><h3 id="redisçš„ä¹è§‚é”å®ç°å‘½ä»¤ï¼šwatch"><a href="#redisçš„ä¹è§‚é”å®ç°å‘½ä»¤ï¼šwatch" class="headerlink" title="redisçš„ä¹è§‚é”å®ç°å‘½ä»¤ï¼šwatch"></a>redisçš„ä¹è§‚é”å®ç°å‘½ä»¤ï¼šwatch</h3><h4 id="å•çº¿ç¨‹ä¸‹è¿è¡Œï¼š"><a href="#å•çº¿ç¨‹ä¸‹è¿è¡Œï¼š" class="headerlink" title="å•çº¿ç¨‹ä¸‹è¿è¡Œï¼š"></a>å•çº¿ç¨‹ä¸‹è¿è¡Œï¼š</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632645356164.png" alt="file"></p><h4 id="å¤šçº¿ç¨‹ä¿®æ”¹å€¼"><a href="#å¤šçº¿ç¨‹ä¿®æ”¹å€¼" class="headerlink" title="å¤šçº¿ç¨‹ä¿®æ”¹å€¼:"></a>å¤šçº¿ç¨‹ä¿®æ”¹å€¼:</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632645487019.png" alt="file"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632645565809.png" alt="file"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632645644690.png" alt="file"></p><h4 id="å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œéœ€è¦å…ˆè§£é”ï¼Œå†åŠ é”ï¼Œè§£é”å‘½ä»¤ä¸ºï¼šunwatch"><a href="#å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œéœ€è¦å…ˆè§£é”ï¼Œå†åŠ é”ï¼Œè§£é”å‘½ä»¤ä¸ºï¼šunwatch" class="headerlink" title="å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œéœ€è¦å…ˆè§£é”ï¼Œå†åŠ é”ï¼Œè§£é”å‘½ä»¤ä¸ºï¼šunwatch"></a>å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œéœ€è¦å…ˆè§£é”ï¼Œå†åŠ é”ï¼Œè§£é”å‘½ä»¤ä¸ºï¼šunwatch</h4><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/09/26/redisshiwu/">https://blog.jujimeizuo.cn/2021/09/26/redisshiwu/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rediss-æ•°æ®ç±»å‹</title>
      <link href="/2021/09/24/redisleixing/"/>
      <url>/2021/09/24/redisleixing/</url>
      
        <content type="html"><![CDATA[<h2 id="1-NoSQL"><a href="#1-NoSQL" class="headerlink" title="1. NoSQL"></a>1. NoSQL</h2><span id="more"></span><p>NoSQL(Not Only SQL )ï¼Œæ„å³ä¸ä»…ä»…æ˜¯SQL, æ³›æŒ‡éå…³ç³»å‹çš„æ•°æ®åº“ã€‚Nosqlè¿™ä¸ªæŠ€æœ¯é—¨ç±»,æ—©æœŸå°±æœ‰äººæå‡º,å‘å±•è‡³2009å¹´è¶‹åŠ¿è¶Šå‘é«˜æ¶¨ã€‚</p><h4 id="1-1-å•æœºMysqlæ—¶ä»£"><a href="#1-1-å•æœºMysqlæ—¶ä»£" class="headerlink" title="1.1 å•æœºMysqlæ—¶ä»£"></a>1.1 å•æœºMysqlæ—¶ä»£</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632646360378.png" alt="file"></p><h4 id="1-2-Memcached-ç¼“å­˜-Mysql-å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰"><a href="#1-2-Memcached-ç¼“å­˜-Mysql-å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰" class="headerlink" title="1.2 Memcached(ç¼“å­˜) + Mysql + å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰"></a>1.2 Memcached(ç¼“å­˜) + Mysql + å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰</h4><p>ç½‘ç«™80%çš„æƒ…å†µéƒ½æ˜¯åœ¨è¯»ï¼Œæ¯æ¬¡éƒ½è¦å»æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±ååˆ†çš„éº»çƒ¦ï¼æ‰€ä»¥è¯´æˆ‘ä»¬å¸Œæœ›å‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿è¯æ•ˆç‡ï¼ <img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632646410269.png" alt="file"></p><h4 id="1-3-åˆ†åº“åˆ†è¡¨-æ°´å¹³æ‹†åˆ†-Mysqlé›†ç¾¤"><a href="#1-3-åˆ†åº“åˆ†è¡¨-æ°´å¹³æ‹†åˆ†-Mysqlé›†ç¾¤" class="headerlink" title="1.3 åˆ†åº“åˆ†è¡¨ + æ°´å¹³æ‹†åˆ† + Mysqlé›†ç¾¤"></a>1.3 åˆ†åº“åˆ†è¡¨ + æ°´å¹³æ‹†åˆ† + Mysqlé›†ç¾¤</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632646422141.png" alt="file"></p><h4 id="1-4-å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£"><a href="#1-4-å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£" class="headerlink" title="1.4 å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£"></a>1.4 å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632646442039.png" alt="file"></p><h2 id="2-ä¸ºä»€ä¹ˆæ˜¯NoSQL"><a href="#2-ä¸ºä»€ä¹ˆæ˜¯NoSQL" class="headerlink" title="2. ä¸ºä»€ä¹ˆæ˜¯NoSQL"></a>2. ä¸ºä»€ä¹ˆæ˜¯NoSQL</h2><p><strong>NoSQL &#x3D; Not Only SQLï¼ˆä¸ä»…ä»…æ˜¯SQLï¼‰</strong></p><p>Not Only Structured Query Language</p><p>å…³ç³»å‹æ•°æ®åº“ï¼šåˆ—+è¡Œï¼ŒåŒä¸€ä¸ªè¡¨ä¸‹æ•°æ®çš„ç»“æ„æ˜¯ä¸€æ ·çš„ã€‚</p><p>éå…³ç³»å‹æ•°æ®åº“ï¼šæ•°æ®å­˜å‚¨æ²¡æœ‰å›ºå®šçš„æ ¼å¼ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚</p><p>NoSQLæ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼Œéšç€web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾å¯¹ä»˜web2.0æ—¶ä»£ï¼å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘çš„ç¤¾åŒºï¼Œæš´éœ²å‡ºæ¥å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ï¼ŒNoSQLåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•çš„ååˆ†è¿…é€Ÿï¼ŒRedisæ˜¯å‘å±•æœ€å¿«çš„ã€‚</p><p>éšç€äº’è”ç½‘ç½‘ç«™çš„å…´èµ·ï¼Œä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“åœ¨åº”ä»˜åŠ¨æ€ç½‘ç«™ï¼Œç‰¹åˆ«æ˜¯è¶…å¤§è§„æ¨¡å’Œé«˜å¹¶å‘çš„çº¯åŠ¨æ€ç½‘ç«™å·²ç»æ˜¾å¾—åŠ›ä¸ä»å¿ƒï¼Œæš´éœ²äº†å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ã€‚å¦‚å•†åŸç½‘ç«™ä¸­å¯¹<strong>å•†å“æ•°æ®é¢‘ç¹æŸ¥è¯¢</strong>ã€<strong>å¯¹çƒ­æœå•†å“çš„æ’è¡Œç»Ÿè®¡</strong>ã€<strong>è®¢å•è¶…æ—¶é—®é¢˜</strong>ã€ä»¥åŠ<strong>å¾®ä¿¡æœ‹å‹åœˆï¼ˆéŸ³é¢‘ï¼Œè§†é¢‘ï¼‰å­˜å‚¨</strong>ç­‰ç›¸å…³ä½¿ç”¨ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å®ç°å°±æ˜¾å¾—éå¸¸å¤æ‚ï¼Œè™½ç„¶èƒ½å®ç°ç›¸åº”åŠŸèƒ½ä½†æ˜¯åœ¨æ€§èƒ½ä¸Šå´ä¸æ˜¯é‚£ä¹ˆä¹è§‚ã€‚nosqlè¿™ä¸ªæŠ€æœ¯é—¨ç±»çš„å‡ºç°ï¼Œæ›´å¥½çš„è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œå®ƒå‘Šè¯‰äº†ä¸–ç•Œä¸ä»…ä»…æ˜¯sqlã€‚</p><p><strong>äº†è§£ï¼š3V + 3é«˜</strong></p><p>å¤§æ•°æ®æ—¶ä»£çš„3V ï¼šä¸»è¦æ˜¯æè¿°é—®é¢˜çš„</p><ol><li>æµ·é‡Velume</li><li>å¤šæ ·Variety</li><li>å®æ—¶Velocity</li></ol><p>å¤§æ•°æ®æ—¶ä»£çš„3é«˜ ï¼š ä¸»è¦æ˜¯å¯¹ç¨‹åºçš„è¦æ±‚</p><ol><li>é«˜å¹¶å‘</li><li>é«˜å¯æ‰©</li><li>é«˜æ€§èƒ½</li></ol><h2 id="3-NoSQLçš„å››å¤§åˆ†ç±»"><a href="#3-NoSQLçš„å››å¤§åˆ†ç±»" class="headerlink" title="3. NoSQLçš„å››å¤§åˆ†ç±»"></a>3. NoSQLçš„å››å¤§åˆ†ç±»</h2><h4 id="3-1-é”®å€¼-Key-Value-å­˜å‚¨æ•°æ®åº“"><a href="#3-1-é”®å€¼-Key-Value-å­˜å‚¨æ•°æ®åº“" class="headerlink" title="3.1 é”®å€¼(Key-Value)å­˜å‚¨æ•°æ®åº“"></a>3.1 é”®å€¼(Key-Value)å­˜å‚¨æ•°æ®åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.è¯´æ˜: </span></span><br><span class="line">- è¿™ä¸€ç±»æ•°æ®åº“ä¸»è¦ä¼šä½¿ç”¨åˆ°ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œè¿™ä¸ªè¡¨ä¸­æœ‰ä¸€ä¸ªç‰¹å®šçš„é”®å’Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ç‰¹å®šçš„æ•°æ®ã€‚</span><br><span class="line"><span class="comment">## 2.ç‰¹ç‚¹</span></span><br><span class="line">- Key/valueæ¨¡å‹å¯¹äºITç³»ç»Ÿæ¥è¯´çš„ä¼˜åŠ¿åœ¨äºç®€å•ã€æ˜“éƒ¨ç½²ã€‚  </span><br><span class="line">- ä½†æ˜¯å¦‚æœDBAåªå¯¹éƒ¨åˆ†å€¼è¿›è¡ŒæŸ¥è¯¢æˆ–æ›´æ–°çš„æ—¶å€™ï¼ŒKey/valueå°±æ˜¾å¾—æ•ˆç‡ä½ä¸‹äº†ã€‚</span><br><span class="line"><span class="comment">## 3.ç›¸å…³äº§å“</span></span><br><span class="line">- Tokyo Cabinet/Tyrant,</span><br><span class="line">- Redis</span><br><span class="line">- SSDB</span><br><span class="line">- Voldemort </span><br><span class="line">- Oracle BDB</span><br></pre></td></tr></table></figure><h4 id="3-2-åˆ—å­˜å‚¨æ•°æ®åº“"><a href="#3-2-åˆ—å­˜å‚¨æ•°æ®åº“" class="headerlink" title="3.2 åˆ—å­˜å‚¨æ•°æ®åº“"></a>3.2 åˆ—å­˜å‚¨æ•°æ®åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.è¯´æ˜</span></span><br><span class="line">- è¿™éƒ¨åˆ†æ•°æ®åº“é€šå¸¸æ˜¯ç”¨æ¥åº”å¯¹åˆ†å¸ƒå¼å­˜å‚¨çš„æµ·é‡æ•°æ®ã€‚</span><br><span class="line"><span class="comment">## 2.ç‰¹ç‚¹</span></span><br><span class="line">- é”®ä»ç„¶å­˜åœ¨ï¼Œä½†æ˜¯å®ƒä»¬çš„ç‰¹ç‚¹æ˜¯æŒ‡å‘äº†å¤šä¸ªåˆ—ã€‚è¿™äº›åˆ—æ˜¯ç”±åˆ—å®¶æ—æ¥å®‰æ’çš„ã€‚</span><br><span class="line"><span class="comment">## 3.ç›¸å…³äº§å“</span></span><br><span class="line">- Cassandraã€HBaseã€Riak.</span><br></pre></td></tr></table></figure><h4 id="3-3-æ–‡æ¡£å‹æ•°æ®åº“"><a href="#3-3-æ–‡æ¡£å‹æ•°æ®åº“" class="headerlink" title="3.3 æ–‡æ¡£å‹æ•°æ®åº“"></a>3.3 æ–‡æ¡£å‹æ•°æ®åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.è¯´æ˜</span></span><br><span class="line">- æ–‡æ¡£å‹æ•°æ®åº“çš„çµæ„Ÿæ˜¯æ¥è‡ªäºLotus NotesåŠå…¬è½¯ä»¶çš„ï¼Œè€Œä¸”å®ƒåŒç¬¬ä¸€ç§é”®å€¼å­˜å‚¨ç›¸ç±»ä¼¼è¯¥ç±»å‹çš„æ•°æ®æ¨¡å‹æ˜¯ç‰ˆæœ¬åŒ–çš„æ–‡æ¡£ï¼ŒåŠç»“æ„åŒ–çš„æ–‡æ¡£ä»¥ç‰¹å®šçš„æ ¼å¼å­˜å‚¨ï¼Œæ¯”å¦‚JSONã€‚æ–‡æ¡£å‹æ•°æ®åº“å¯ ä»¥çœ‹ä½œæ˜¯é”®å€¼æ•°æ®åº“çš„å‡çº§ç‰ˆï¼Œå…è®¸ä¹‹é—´åµŒå¥—é”®å€¼ã€‚è€Œä¸”æ–‡æ¡£å‹æ•°æ®åº“æ¯”é”®å€¼æ•°æ®åº“çš„æŸ¥è¯¢æ•ˆç‡æ›´é«˜</span><br><span class="line"><span class="comment">## 2.ç‰¹ç‚¹</span></span><br><span class="line">- ä»¥æ–‡æ¡£å½¢å¼å­˜å‚¨</span><br><span class="line"><span class="comment">## 3.ç›¸å…³äº§å“</span></span><br><span class="line">- MongoDBã€CouchDBã€ MongoDb(4.x). å›½å†…ä¹Ÿæœ‰æ–‡æ¡£å‹æ•°æ®åº“SequoiaDBï¼Œå·²ç»å¼€æºã€‚  </span><br></pre></td></tr></table></figure><h4 id="3-4-å›¾å½¢-Graph-æ•°æ®åº“"><a href="#3-4-å›¾å½¢-Graph-æ•°æ®åº“" class="headerlink" title="3.4 å›¾å½¢(Graph)æ•°æ®åº“"></a>3.4 å›¾å½¢(Graph)æ•°æ®åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.è¯´æ˜</span></span><br><span class="line">- å›¾å½¢ç»“æ„çš„æ•°æ®åº“åŒå…¶ä»–è¡Œåˆ—ä»¥åŠåˆšæ€§ç»“æ„çš„SQLæ•°æ®åº“ä¸åŒï¼Œå®ƒæ˜¯ä½¿ç”¨çµæ´»çš„å›¾å½¢æ¨¡å‹ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ‰©å±•åˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šã€‚</span><br><span class="line">- NoSQLæ•°æ®åº“æ²¡æœ‰æ ‡å‡†çš„æŸ¥è¯¢è¯­è¨€(SQL)ï¼Œå› æ­¤è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢éœ€è¦åˆ¶å®šæ•°æ®æ¨¡å‹ã€‚è®¸å¤šNoSQLæ•°æ®åº“éƒ½æœ‰RESTå¼çš„æ•°æ®æ¥å£æˆ–è€…æŸ¥è¯¢APIã€‚</span><br><span class="line"><span class="comment">## 2.ç‰¹ç‚¹</span></span><br><span class="line"><span class="comment">## 3.ç›¸å…³äº§å“</span></span><br><span class="line">- Neo4Jã€InfoGridã€ Infinite Graphã€</span><br></pre></td></tr></table></figure><h2 id="4-NoSQLåº”ç”¨åœºæ™¯"><a href="#4-NoSQLåº”ç”¨åœºæ™¯" class="headerlink" title="4. NoSQLåº”ç”¨åœºæ™¯"></a>4. NoSQLåº”ç”¨åœºæ™¯</h2><ul><li>æ•°æ®æ¨¡å‹æ¯”è¾ƒç®€å•</li><li>éœ€è¦çµæ´»æ€§æ›´å¼ºçš„ITç³»ç»Ÿ</li><li>å¯¹æ•°æ®åº“æ€§èƒ½è¦æ±‚è¾ƒé«˜</li><li>ä¸éœ€è¦é«˜åº¦çš„æ•°æ®ä¸€è‡´æ€§</li></ul><h2 id="5-ä»€ä¹ˆæ˜¯Redis"><a href="#5-ä»€ä¹ˆæ˜¯Redis" class="headerlink" title="5. ä»€ä¹ˆæ˜¯Redis"></a>5. ä»€ä¹ˆæ˜¯Redis</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632473946054.png" alt="file"></p><p>Redis å¼€æº éµå¾ªBSD åŸºäºå†…å­˜æ•°æ®å­˜å‚¨ è¢«ç”¨äºä½œä¸º æ•°æ®åº“ ç¼“å­˜ æ¶ˆæ¯ä¸­é—´ä»¶ <strong>redisæ˜¯ä¸€ä¸ªå†…å­˜å‹çš„æ•°æ®åº“</strong></p><h2 id="6-Redisç‰¹ç‚¹"><a href="#6-Redisç‰¹ç‚¹" class="headerlink" title="6. Redisç‰¹ç‚¹"></a>6. Redisç‰¹ç‚¹</h2><ul><li>Redisæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½key&#x2F;valueå†…å­˜å‹æ•°æ®åº“</li><li>Redisæ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹</li><li>Redisæ”¯æŒæŒä¹…åŒ–</li><li>Rediså•çº¿ç¨‹,å•è¿›ç¨‹</li></ul><p><strong>å•çº¿ç¨‹ä¸ä¸€å®šæ¯”å¤šçº¿ç¨‹æ…¢ï¼Œåœ¨CPUä¸­ï¼Œå¤šçº¿ç¨‹éœ€è¦è·³è½¬ï¼Œè€Œå•çº¿ç¨‹ä¸éœ€è¦ï¼Œå‡å°‘äº†è·³è½¬çš„æ¶ˆè€—ï¼Œæ‰€ä»¥åœ¨æŸäº›åœºæ™¯é‡Œå•çº¿ç¨‹å¯èƒ½æ¯”å¤šçº¿ç¨‹å¿«ã€‚</strong></p><h2 id="7-Ridiså®‰è£…"><a href="#7-Ridiså®‰è£…" class="headerlink" title="7. Ridiså®‰è£…"></a>7. Ridiså®‰è£…</h2><p>ç•¥</p><h2 id="8-rediså¸¸ç”¨å‘½ä»¤"><a href="#8-rediså¸¸ç”¨å‘½ä»¤" class="headerlink" title="8. rediså¸¸ç”¨å‘½ä»¤"></a>8. rediså¸¸ç”¨å‘½ä»¤</h2><h4 id="8-1-set-getå‘½ä»¤ï¼Œå­˜å€¼ï¼Œå–å€¼"><a href="#8-1-set-getå‘½ä»¤ï¼Œå­˜å€¼ï¼Œå–å€¼" class="headerlink" title="8.1 set getå‘½ä»¤ï¼Œå­˜å€¼ï¼Œå–å€¼"></a>8.1 set getå‘½ä»¤ï¼Œå­˜å€¼ï¼Œå–å€¼</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474345917.png" alt="file"></p><h4 id="8-2-åˆ‡æ¢æ•°æ®åº“ï¼Œredisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œé»˜è®¤ä½¿ç”¨0å·æ•°æ®åº“ï¼Œå¯ä»¥é€šè¿‡selectåˆ‡æ¢"><a href="#8-2-åˆ‡æ¢æ•°æ®åº“ï¼Œredisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œé»˜è®¤ä½¿ç”¨0å·æ•°æ®åº“ï¼Œå¯ä»¥é€šè¿‡selectåˆ‡æ¢" class="headerlink" title="8.2 åˆ‡æ¢æ•°æ®åº“ï¼Œredisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œé»˜è®¤ä½¿ç”¨0å·æ•°æ®åº“ï¼Œå¯ä»¥é€šè¿‡selectåˆ‡æ¢"></a>8.2 åˆ‡æ¢æ•°æ®åº“ï¼Œredisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œé»˜è®¤ä½¿ç”¨0å·æ•°æ®åº“ï¼Œå¯ä»¥é€šè¿‡selectåˆ‡æ¢</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474418121.png" alt="file"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474452155.png" alt="file"></p><h4 id="8-3-æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼šflushdb-æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ï¼šflushall"><a href="#8-3-æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼šflushdb-æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ï¼šflushall" class="headerlink" title="8.3 æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼šflushdb,æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ï¼šflushall"></a>8.3 æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼šflushdb,æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ï¼šflushall</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474513302.png" alt="file"></p><h4 id="8-4-æŸ¥è¯¢æ‰€æœ‰key-keys"><a href="#8-4-æŸ¥è¯¢æ‰€æœ‰key-keys" class="headerlink" title="8.4 æŸ¥è¯¢æ‰€æœ‰key: keys*"></a>8.4 æŸ¥è¯¢æ‰€æœ‰key: keys*</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474553482.png" alt="file"></p><h4 id="8-5-æŸ¥è¯¢æ•°æ®åº“çš„å¤§å°ï¼šdbsize"><a href="#8-5-æŸ¥è¯¢æ•°æ®åº“çš„å¤§å°ï¼šdbsize" class="headerlink" title="8.5 æŸ¥è¯¢æ•°æ®åº“çš„å¤§å°ï¼šdbsize"></a>8.5 æŸ¥è¯¢æ•°æ®åº“çš„å¤§å°ï¼šdbsize</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474583601.png" alt="file"></p><h4 id="8-6-æŸ¥çœ‹keyæ˜¯å¦å­˜åœ¨ï¼šexists-keyName-å­˜åœ¨è¿”å›1ï¼Œå¦åˆ™è¿”å›0"><a href="#8-6-æŸ¥çœ‹keyæ˜¯å¦å­˜åœ¨ï¼šexists-keyName-å­˜åœ¨è¿”å›1ï¼Œå¦åˆ™è¿”å›0" class="headerlink" title="8.6 æŸ¥çœ‹keyæ˜¯å¦å­˜åœ¨ï¼šexists keyName,å­˜åœ¨è¿”å›1ï¼Œå¦åˆ™è¿”å›0"></a>8.6 æŸ¥çœ‹keyæ˜¯å¦å­˜åœ¨ï¼šexists keyName,å­˜åœ¨è¿”å›1ï¼Œå¦åˆ™è¿”å›0</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474622298.png" alt="file"></p><h4 id="8-7-ç§»é™¤Key-move-keyName-1"><a href="#8-7-ç§»é™¤Key-move-keyName-1" class="headerlink" title="8.7 ç§»é™¤Key: move keyName 1"></a>8.7 ç§»é™¤Key: move keyName 1</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474665561.png" alt="file"></p><h4 id="8-8-ä¸ºkeyè®¾ç½®è¿‡æœŸæ—¶é—´-expire-keyName-timeout"><a href="#8-8-ä¸ºkeyè®¾ç½®è¿‡æœŸæ—¶é—´-expire-keyName-timeout" class="headerlink" title="8.8 ä¸ºkeyè®¾ç½®è¿‡æœŸæ—¶é—´: expire keyName timeout"></a>8.8 ä¸ºkeyè®¾ç½®è¿‡æœŸæ—¶é—´: expire keyName timeout</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474717857.png" alt="file"></p><h4 id="8-9-æŸ¥çœ‹keyçš„å‰©ä½™å­˜æ´»æ—¶é—´ï¼šttl-keyName"><a href="#8-9-æŸ¥çœ‹keyçš„å‰©ä½™å­˜æ´»æ—¶é—´ï¼šttl-keyName" class="headerlink" title="8.9 æŸ¥çœ‹keyçš„å‰©ä½™å­˜æ´»æ—¶é—´ï¼šttl keyName"></a>8.9 æŸ¥çœ‹keyçš„å‰©ä½™å­˜æ´»æ—¶é—´ï¼šttl keyName</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474728589.png" alt="file"></p><h4 id="8-10-æŸ¥çœ‹keyçš„ç±»å‹ï¼štype-keyName"><a href="#8-10-æŸ¥çœ‹keyçš„ç±»å‹ï¼štype-keyName" class="headerlink" title="8.10 æŸ¥çœ‹keyçš„ç±»å‹ï¼štype keyName"></a>8.10 æŸ¥çœ‹keyçš„ç±»å‹ï¼štype keyName</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632474775307.png" alt="file"></p><h2 id="9-Stringè¯¦è§£"><a href="#9-Stringè¯¦è§£" class="headerlink" title="9. Stringè¯¦è§£"></a>9. Stringè¯¦è§£</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632643699298.png" alt="file"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å‘½ä»¤                         è¯´æ˜                      </span><br><span class="line">-------------------------  ----------------------- </span><br><span class="line"><span class="built_in">set</span>                        è®¾ç½®ä¸€ä¸ªkey/value           </span><br><span class="line">get                        æ ¹æ®keyè·å¾—å¯¹åº”çš„value         </span><br><span class="line">mset                       ä¸€æ¬¡è®¾ç½®å¤šä¸ªkey value         </span><br><span class="line">mget                       ä¸€æ¬¡è·å¾—å¤šä¸ªkeyçš„value         </span><br><span class="line">getset                     è·å¾—åŸå§‹keyçš„å€¼ï¼ŒåŒæ—¶è®¾ç½®æ–°å€¼        </span><br><span class="line">strlen                     è·å¾—å¯¹åº”keyå­˜å‚¨valueçš„é•¿åº¦       </span><br><span class="line">append                     ä¸ºå¯¹åº”keyçš„valueè¿½åŠ å†…å®¹        </span><br><span class="line">getrange ç´¢å¼•0å¼€å§‹             æˆªå–valueçš„å†…å®¹              </span><br><span class="line">setex                      è®¾ç½®ä¸€ä¸ªkeyå­˜æ´»çš„æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰        </span><br><span class="line">psetex                     è®¾ç½®ä¸€ä¸ªkeyå­˜æ´»çš„æœ‰æ•ˆæœŸï¼ˆæ¯«ç§’ï¼‰       </span><br><span class="line">setnx                      å­˜åœ¨ä¸åšä»»ä½•æ“ä½œ,ä¸å­˜åœ¨æ·»åŠ           </span><br><span class="line">msetnxåŸå­æ“ä½œ(åªè¦æœ‰ä¸€ä¸ªå­˜åœ¨ä¸åšä»»ä½•æ“ä½œ)  å¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªkey,åªæœ‰æœ‰ä¸€ä¸ªå­˜åœ¨éƒ½ä¸ä¿å­˜ </span><br><span class="line">decr                       è¿›è¡Œæ•°å€¼ç±»å‹çš„-1æ“ä½œ             </span><br><span class="line">decrby                     æ ¹æ®æä¾›çš„æ•°æ®è¿›è¡Œå‡æ³•æ“ä½œ           </span><br><span class="line">Incr                       è¿›è¡Œæ•°å€¼ç±»å‹çš„+1æ“ä½œ             </span><br><span class="line">incrby                     æ ¹æ®æä¾›çš„æ•°æ®è¿›è¡ŒåŠ æ³•æ“ä½œ           </span><br><span class="line">Incrbyfloat                æ ¹æ®æä¾›çš„æ•°æ®åŠ å…¥æµ®ç‚¹æ•°            </span><br></pre></td></tr></table></figure><h4 id="9-1-strlen-æ±‚valueçš„é•¿åº¦ï¼Œappendï¼šè¿½åŠ "><a href="#9-1-strlen-æ±‚valueçš„é•¿åº¦ï¼Œappendï¼šè¿½åŠ " class="headerlink" title="9.1 strlen:æ±‚valueçš„é•¿åº¦ï¼Œappendï¼šè¿½åŠ "></a>9.1 strlen:æ±‚valueçš„é•¿åº¦ï¼Œappendï¼šè¿½åŠ </h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475047844.png" alt="file"></p><h4 id="9-2-è‡ªå¢-è‡ªå‡æ“ä½œï¼šincr-incrby-decr-decrby"><a href="#9-2-è‡ªå¢-è‡ªå‡æ“ä½œï¼šincr-incrby-decr-decrby" class="headerlink" title="9.2 è‡ªå¢,è‡ªå‡æ“ä½œï¼šincr incrby decr decrby"></a>9.2 è‡ªå¢,è‡ªå‡æ“ä½œï¼šincr incrby decr decrby</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475096207.png" alt="file"></p><h4 id="9-3-å­—ç¬¦ä¸²çš„èŒƒå›´æ“ä½œï¼šgetrange-setrange"><a href="#9-3-å­—ç¬¦ä¸²çš„èŒƒå›´æ“ä½œï¼šgetrange-setrange" class="headerlink" title="9.3 å­—ç¬¦ä¸²çš„èŒƒå›´æ“ä½œï¼šgetrange,setrange"></a>9.3 å­—ç¬¦ä¸²çš„èŒƒå›´æ“ä½œï¼šgetrange,setrange</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475184254.png" alt="file"></p><h4 id="9-4-è®¾ç½®è¿‡æœŸæ—¶é—´ï¼šsetexï¼ˆå¦‚æœå­˜åœ¨Keyåˆ™è¦†ç›–ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼Œsetnx-å¦‚æœä¸å­˜åœ¨å°±è®¾ç½®"><a href="#9-4-è®¾ç½®è¿‡æœŸæ—¶é—´ï¼šsetexï¼ˆå¦‚æœå­˜åœ¨Keyåˆ™è¦†ç›–ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼Œsetnx-å¦‚æœä¸å­˜åœ¨å°±è®¾ç½®" class="headerlink" title="9.4 è®¾ç½®è¿‡æœŸæ—¶é—´ï¼šsetexï¼ˆå¦‚æœå­˜åœ¨Keyåˆ™è¦†ç›–ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼Œsetnx(å¦‚æœä¸å­˜åœ¨å°±è®¾ç½®)"></a>9.4 è®¾ç½®è¿‡æœŸæ—¶é—´ï¼šsetexï¼ˆå¦‚æœå­˜åœ¨Keyåˆ™è¦†ç›–ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼Œsetnx(å¦‚æœä¸å­˜åœ¨å°±è®¾ç½®)</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475254467.png" alt="file"></p><h4 id="9-5-æ‰¹é‡è®¾ç½®å’Œè·å–å€¼ï¼šmset-mget-msetnx-æ“ä½œä¸ºåŸå­æ€§ï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥"><a href="#9-5-æ‰¹é‡è®¾ç½®å’Œè·å–å€¼ï¼šmset-mget-msetnx-æ“ä½œä¸ºåŸå­æ€§ï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥" class="headerlink" title="9.5 æ‰¹é‡è®¾ç½®å’Œè·å–å€¼ï¼šmset,mget, msetnx(æ“ä½œä¸ºåŸå­æ€§ï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥)"></a>9.5 æ‰¹é‡è®¾ç½®å’Œè·å–å€¼ï¼šmset,mget, msetnx(æ“ä½œä¸ºåŸå­æ€§ï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥)</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475380084.png" alt="file"></p><h4 id="9-6-å­˜å–å¯¹è±¡"><a href="#9-6-å­˜å–å¯¹è±¡" class="headerlink" title="9.6 å­˜å–å¯¹è±¡"></a>9.6 å­˜å–å¯¹è±¡</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475484205.png" alt="file"></p><h4 id="9-7-ç»„åˆæ“ä½œï¼šgetsetå…ˆè·å–å†è®¾ç½®-å¦‚æœä¸å­˜åœ¨å°±è¿”å›nil"><a href="#9-7-ç»„åˆæ“ä½œï¼šgetsetå…ˆè·å–å†è®¾ç½®-å¦‚æœä¸å­˜åœ¨å°±è¿”å›nil" class="headerlink" title="9.7 ç»„åˆæ“ä½œï¼šgetsetå…ˆè·å–å†è®¾ç½®,å¦‚æœä¸å­˜åœ¨å°±è¿”å›nil"></a>9.7 ç»„åˆæ“ä½œï¼šgetsetå…ˆè·å–å†è®¾ç½®,å¦‚æœä¸å­˜åœ¨å°±è¿”å›nil</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475553716.png" alt="file"></p><blockquote><p>Stringç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ï¼švalueé™¤äº†æ˜¯æˆ‘ä»¬çš„å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯æˆ‘ä»¬çš„æ•°å­—ï¼</p><ul><li>è®¡æ•°å™¨</li><li>ç»Ÿè®¡å¤šå•ä½çš„æ•°é‡</li><li>ç²‰ä¸æ•°</li><li>å¯¹è±¡ç¼“å­˜å­˜å‚¨</li></ul></blockquote><h2 id="10-listè¯¦è§£"><a href="#10-listè¯¦è§£" class="headerlink" title="10. listè¯¦è§£"></a>10. listè¯¦è§£</h2><p>listçš„å‘½ä»¤éƒ½æ˜¯lå¼€å¤´,list åˆ—è¡¨ ç›¸å½“äºjavaä¸­list é›†åˆ ç‰¹ç‚¹ å…ƒç´ æœ‰åº ä¸” å¯ä»¥é‡å¤</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632643911652.png" alt="file"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤       è¯´æ˜                    </span><br><span class="line">-------  --------------------- </span><br><span class="line">lpush    å°†æŸä¸ªå€¼åŠ å…¥åˆ°ä¸€ä¸ªkeyåˆ—è¡¨å¤´éƒ¨      </span><br><span class="line">lpushx   åŒlpush,ä½†æ˜¯å¿…é¡»è¦ä¿è¯è¿™ä¸ªkeyå­˜åœ¨ </span><br><span class="line">rpush    å°†æŸä¸ªå€¼åŠ å…¥åˆ°ä¸€ä¸ªkeyåˆ—è¡¨æœ«å°¾      </span><br><span class="line">rpushx   åŒrpush,ä½†æ˜¯å¿…é¡»è¦ä¿è¯è¿™ä¸ªkeyå­˜åœ¨ </span><br><span class="line">lpop     è¿”å›å’Œç§»é™¤åˆ—è¡¨å·¦è¾¹çš„ç¬¬ä¸€ä¸ªå…ƒç´        </span><br><span class="line">rpop     è¿”å›å’Œç§»é™¤åˆ—è¡¨å³è¾¹çš„ç¬¬ä¸€ä¸ªå…ƒç´        </span><br><span class="line">lrange   è·å–æŸä¸€ä¸ªä¸‹æ ‡åŒºé—´å†…çš„å…ƒç´          </span><br><span class="line">llen     è·å–åˆ—è¡¨å…ƒç´ ä¸ªæ•°              </span><br><span class="line">lset     è®¾ç½®æŸä¸€ä¸ªæŒ‡å®šç´¢å¼•çš„å€¼(ç´¢å¼•å¿…é¡»å­˜åœ¨)   </span><br><span class="line">lindex   è·å–æŸä¸€ä¸ªæŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´         </span><br><span class="line">lrem     åˆ é™¤é‡å¤å…ƒç´                 </span><br><span class="line">ltrim    ä¿ç•™åˆ—è¡¨ä¸­ç‰¹å®šåŒºé—´å†…çš„å…ƒç´          </span><br><span class="line">linsert  åœ¨æŸä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œä¹‹åæ’å…¥æ–°å…ƒç´       </span><br></pre></td></tr></table></figure><h4 id="10-1-å·¦æ’ï¼šlpush-å·¦åˆ ï¼šlpop"><a href="#10-1-å·¦æ’ï¼šlpush-å·¦åˆ ï¼šlpop" class="headerlink" title="10.1 å·¦æ’ï¼šlpush,å·¦åˆ ï¼šlpop"></a>10.1 å·¦æ’ï¼šlpush,å·¦åˆ ï¼šlpop</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632475948773.png" alt="file"></p><h4 id="10-2-å³æ’ï¼šrpush-å³åˆ ï¼šrpop"><a href="#10-2-å³æ’ï¼šrpush-å³åˆ ï¼šrpop" class="headerlink" title="10.2 å³æ’ï¼šrpush,å³åˆ ï¼šrpop"></a>10.2 å³æ’ï¼šrpush,å³åˆ ï¼šrpop</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476072915.png" alt="file"></p><h4 id="10-3-è·å–åˆ—è¡¨å…ƒç´ ï¼šlrange"><a href="#10-3-è·å–åˆ—è¡¨å…ƒç´ ï¼šlrange" class="headerlink" title="10.3 è·å–åˆ—è¡¨å…ƒç´ ï¼šlrange"></a>10.3 è·å–åˆ—è¡¨å…ƒç´ ï¼šlrange</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476697115.png" alt="file"></p><h4 id="10-4-é€šè¿‡ä¸‹æ ‡è·å–å…ƒç´ ï¼šlindex"><a href="#10-4-é€šè¿‡ä¸‹æ ‡è·å–å…ƒç´ ï¼šlindex" class="headerlink" title="10.4 é€šè¿‡ä¸‹æ ‡è·å–å…ƒç´ ï¼šlindex"></a>10.4 é€šè¿‡ä¸‹æ ‡è·å–å…ƒç´ ï¼šlindex</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476474867.png" alt="file"></p><h4 id="10-5-è·å–åˆ—è¡¨é•¿åº¦ï¼šllen"><a href="#10-5-è·å–åˆ—è¡¨é•¿åº¦ï¼šllen" class="headerlink" title="10.5 è·å–åˆ—è¡¨é•¿åº¦ï¼šllen"></a>10.5 è·å–åˆ—è¡¨é•¿åº¦ï¼šllen</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476522194.png" alt="file"></p><h4 id="10-6-ç§»é™¤å…·ä½“çš„å€¼æ‰€åœ¨çš„é”®å€¼å¯¹-lrem-åˆ—è¡¨-ç§»é™¤å‡ ä¸ª-ç§»é™¤çš„å…·ä½“value"><a href="#10-6-ç§»é™¤å…·ä½“çš„å€¼æ‰€åœ¨çš„é”®å€¼å¯¹-lrem-åˆ—è¡¨-ç§»é™¤å‡ ä¸ª-ç§»é™¤çš„å…·ä½“value" class="headerlink" title="10.6 ç§»é™¤å…·ä½“çš„å€¼æ‰€åœ¨çš„é”®å€¼å¯¹:lrem åˆ—è¡¨ ç§»é™¤å‡ ä¸ª ç§»é™¤çš„å…·ä½“value"></a>10.6 ç§»é™¤å…·ä½“çš„å€¼æ‰€åœ¨çš„é”®å€¼å¯¹:lrem åˆ—è¡¨ ç§»é™¤å‡ ä¸ª ç§»é™¤çš„å…·ä½“value</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476605108.png" alt="file"></p><h4 id="10-7-æˆªå–æ“ä½œï¼šltrim-åˆ—è¡¨-æˆªå–çš„å¼€å§‹ä¸‹æ ‡-æˆªå–çš„ç»“æŸä¸‹æ ‡"><a href="#10-7-æˆªå–æ“ä½œï¼šltrim-åˆ—è¡¨-æˆªå–çš„å¼€å§‹ä¸‹æ ‡-æˆªå–çš„ç»“æŸä¸‹æ ‡" class="headerlink" title="10.7 æˆªå–æ“ä½œï¼šltrim åˆ—è¡¨ æˆªå–çš„å¼€å§‹ä¸‹æ ‡ æˆªå–çš„ç»“æŸä¸‹æ ‡"></a>10.7 æˆªå–æ“ä½œï¼šltrim åˆ—è¡¨ æˆªå–çš„å¼€å§‹ä¸‹æ ‡ æˆªå–çš„ç»“æŸä¸‹æ ‡</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476724171.png" alt="file"></p><h4 id="10-8-rpoplpush-ç§»é™¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ å¹¶å°†è¿™ä¸ªå…ƒç´ æ”¾åˆ°ä¸€ä¸ªæ–°çš„åˆ—è¡¨ä¸­"><a href="#10-8-rpoplpush-ç§»é™¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ å¹¶å°†è¿™ä¸ªå…ƒç´ æ”¾åˆ°ä¸€ä¸ªæ–°çš„åˆ—è¡¨ä¸­" class="headerlink" title="10.8 rpoplpush:ç§»é™¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ å¹¶å°†è¿™ä¸ªå…ƒç´ æ”¾åˆ°ä¸€ä¸ªæ–°çš„åˆ—è¡¨ä¸­"></a>10.8 rpoplpush:ç§»é™¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ å¹¶å°†è¿™ä¸ªå…ƒç´ æ”¾åˆ°ä¸€ä¸ªæ–°çš„åˆ—è¡¨ä¸­</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476771483.png" alt="file"></p><h4 id="10-9-åˆ¤æ–­åˆ—è¡¨æ˜¯å¦å­˜åœ¨ï¼šEXISTS-list"><a href="#10-9-åˆ¤æ–­åˆ—è¡¨æ˜¯å¦å­˜åœ¨ï¼šEXISTS-list" class="headerlink" title="10.9 åˆ¤æ–­åˆ—è¡¨æ˜¯å¦å­˜åœ¨ï¼šEXISTS list"></a>10.9 åˆ¤æ–­åˆ—è¡¨æ˜¯å¦å­˜åœ¨ï¼šEXISTS list</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476803379.png" alt="file"></p><h4 id="10-10-lset-æ›´æ–°åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ çš„value-å‰ææ˜¯è¯¥ä¸‹æ ‡å¿…é¡»æœ‰å€¼ï¼Œå¦åˆ™æŠ¥é”™"><a href="#10-10-lset-æ›´æ–°åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ çš„value-å‰ææ˜¯è¯¥ä¸‹æ ‡å¿…é¡»æœ‰å€¼ï¼Œå¦åˆ™æŠ¥é”™" class="headerlink" title="10.10 lset:æ›´æ–°åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ çš„value,å‰ææ˜¯è¯¥ä¸‹æ ‡å¿…é¡»æœ‰å€¼ï¼Œå¦åˆ™æŠ¥é”™"></a>10.10 lset:æ›´æ–°åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ çš„value,å‰ææ˜¯è¯¥ä¸‹æ ‡å¿…é¡»æœ‰å€¼ï¼Œå¦åˆ™æŠ¥é”™</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476840575.png" alt="file"></p><h4 id="10-11-åœ¨åˆ—è¡¨ä¸­æ’å…¥å€¼ï¼šå‰æ’å’Œåæ’ï¼šlinsert"><a href="#10-11-åœ¨åˆ—è¡¨ä¸­æ’å…¥å€¼ï¼šå‰æ’å’Œåæ’ï¼šlinsert" class="headerlink" title="10.11 åœ¨åˆ—è¡¨ä¸­æ’å…¥å€¼ï¼šå‰æ’å’Œåæ’ï¼šlinsert"></a>10.11 åœ¨åˆ—è¡¨ä¸­æ’å…¥å€¼ï¼šå‰æ’å’Œåæ’ï¼šlinsert</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632476896464.png" alt="file"></p><h2 id="11-setè¯¦è§£"><a href="#11-setè¯¦è§£" class="headerlink" title="11. setè¯¦è§£"></a>11. setè¯¦è§£</h2><p>setæ˜¯æ— åºä¸é‡å¤é›†åˆï¼Œsetå‘½ä»¤éƒ½æ˜¯så¼€å¤´ <img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632643954408.png" alt="file"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤           è¯´æ˜                        </span><br><span class="line">-----------  ------------------------- </span><br><span class="line">sadd         ä¸ºé›†åˆæ·»åŠ å…ƒç´                    </span><br><span class="line">smembers     æ˜¾ç¤ºé›†åˆä¸­æ‰€æœ‰å…ƒç´  æ— åº              </span><br><span class="line">scard        è¿”å›é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°                </span><br><span class="line">spop         éšæœºè¿”å›ä¸€ä¸ªå…ƒç´  å¹¶å°†å…ƒç´ åœ¨é›†åˆä¸­åˆ é™¤       </span><br><span class="line">smove        ä»ä¸€ä¸ªé›†åˆä¸­å‘å¦ä¸€ä¸ªé›†åˆç§»åŠ¨å…ƒç´  å¿…é¡»æ˜¯åŒä¸€ç§ç±»å‹ </span><br><span class="line">srem         ä»é›†åˆä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´                 </span><br><span class="line">sismember    åˆ¤æ–­ä¸€ä¸ªé›†åˆä¸­æ˜¯å¦å«æœ‰è¿™ä¸ªå…ƒç´            </span><br><span class="line">srandmember  éšæœºè¿”å›å…ƒç´                     </span><br><span class="line">sdiff        å»æ‰ç¬¬ä¸€ä¸ªé›†åˆä¸­å…¶å®ƒé›†åˆå«æœ‰çš„ç›¸åŒå…ƒç´        </span><br><span class="line">sinter       æ±‚äº¤é›†                       </span><br><span class="line">sunion       æ±‚å’Œé›†                       </span><br></pre></td></tr></table></figure><h4 id="11-1-æ·»åŠ ï¼šsadd"><a href="#11-1-æ·»åŠ ï¼šsadd" class="headerlink" title="11.1 æ·»åŠ ï¼šsadd"></a>11.1 æ·»åŠ ï¼šsadd</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477064797.png" alt="file"></p><h4 id="11-2-æŸ¥çœ‹æ‰€æœ‰-smembers"><a href="#11-2-æŸ¥çœ‹æ‰€æœ‰-smembers" class="headerlink" title="11.2 æŸ¥çœ‹æ‰€æœ‰: smembers"></a>11.2 æŸ¥çœ‹æ‰€æœ‰: smembers</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477127825.png" alt="file"></p><h4 id="11-3-æŸ¥è¯¢setçš„å…ƒç´ ä¸ªæ•°ï¼šscard"><a href="#11-3-æŸ¥è¯¢setçš„å…ƒç´ ä¸ªæ•°ï¼šscard" class="headerlink" title="11.3 æŸ¥è¯¢setçš„å…ƒç´ ä¸ªæ•°ï¼šscard"></a>11.3 æŸ¥è¯¢setçš„å…ƒç´ ä¸ªæ•°ï¼šscard</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477143763.png" alt="file"></p><h4 id="11-4-åˆ¤æ–­setä¸­æ˜¯å¦å­˜åœ¨æŸå…ƒç´ ï¼šsismember"><a href="#11-4-åˆ¤æ–­setä¸­æ˜¯å¦å­˜åœ¨æŸå…ƒç´ ï¼šsismember" class="headerlink" title="11.4 åˆ¤æ–­setä¸­æ˜¯å¦å­˜åœ¨æŸå…ƒç´ ï¼šsismember"></a>11.4 åˆ¤æ–­setä¸­æ˜¯å¦å­˜åœ¨æŸå…ƒç´ ï¼šsismember</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477172245.png" alt="file"></p><h4 id="11-5-ç§»é™¤æŸä¸ªå…ƒç´ ï¼šsrem"><a href="#11-5-ç§»é™¤æŸä¸ªå…ƒç´ ï¼šsrem" class="headerlink" title="11.5 ç§»é™¤æŸä¸ªå…ƒç´ ï¼šsrem"></a>11.5 ç§»é™¤æŸä¸ªå…ƒç´ ï¼šsrem</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477185068.png" alt="file"></p><h4 id="11-6-éšæœºæŠ½å–ä¸€ä¸ªå…ƒç´ ï¼šSRANDMEMBER"><a href="#11-6-éšæœºæŠ½å–ä¸€ä¸ªå…ƒç´ ï¼šSRANDMEMBER" class="headerlink" title="11.6 éšæœºæŠ½å–ä¸€ä¸ªå…ƒç´ ï¼šSRANDMEMBER"></a>11.6 éšæœºæŠ½å–ä¸€ä¸ªå…ƒç´ ï¼šSRANDMEMBER</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477211405.png" alt="file"></p><h4 id="11-7-éšæœºç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼šspop"><a href="#11-7-éšæœºç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼šspop" class="headerlink" title="11.7 éšæœºç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼šspop"></a>11.7 éšæœºç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼šspop</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477222068.png" alt="file"></p><h4 id="11-8-å°†ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼šsmove"><a href="#11-8-å°†ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼šsmove" class="headerlink" title="11.8 å°†ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼šsmove"></a>11.8 å°†ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼šsmove</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477296157.png" alt="file"></p><h4 id="11-9-é›†åˆä¹‹é—´æ±‚äº¤å¹¶è¡¥é›†ï¼šsinter-sunite-sdiff"><a href="#11-9-é›†åˆä¹‹é—´æ±‚äº¤å¹¶è¡¥é›†ï¼šsinter-sunite-sdiff" class="headerlink" title="11.9 é›†åˆä¹‹é—´æ±‚äº¤å¹¶è¡¥é›†ï¼šsinter sunite sdiff"></a>11.9 é›†åˆä¹‹é—´æ±‚äº¤å¹¶è¡¥é›†ï¼šsinter sunite sdiff</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477331468.png" alt="file"></p><h3 id="å·®é›†sdiff"><a href="#å·®é›†sdiff" class="headerlink" title="å·®é›†sdiff"></a>å·®é›†sdiff</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477435541.png" alt="file"></p><h3 id="äº¤é›†sinter"><a href="#äº¤é›†sinter" class="headerlink" title="äº¤é›†sinter"></a>äº¤é›†sinter</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477391019.png" alt="file"></p><h3 id="å¹¶é›†sunion"><a href="#å¹¶é›†sunion" class="headerlink" title="å¹¶é›†sunion"></a>å¹¶é›†sunion</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477447668.png" alt="file"></p><h2 id="12-hashè¯¦è§£"><a href="#12-hashè¯¦è§£" class="headerlink" title="12. hashè¯¦è§£"></a>12. hashè¯¦è§£</h2><p>hashçš„å½¢å¼ï¼škey filed vlaue,ç›¸å½“äºjavaä¸­çš„mapé›†åˆ hashå‘½ä»¤éƒ½æ˜¯hå¼€å¤´</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632643989267.png" alt="file"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤            è¯´æ˜              </span><br><span class="line">------------  --------------- </span><br><span class="line">hset          è®¾ç½®ä¸€ä¸ªkey/valueå¯¹  </span><br><span class="line">hget          è·å¾—ä¸€ä¸ªkeyå¯¹åº”çš„value </span><br><span class="line">hgetall       è·å¾—æ‰€æœ‰çš„key/valueå¯¹ </span><br><span class="line">hdel          åˆ é™¤æŸä¸€ä¸ªkey/valueå¯¹ </span><br><span class="line">hexists       åˆ¤æ–­ä¸€ä¸ªkeyæ˜¯å¦å­˜åœ¨     </span><br><span class="line">hkeys         è·å¾—æ‰€æœ‰çš„key        </span><br><span class="line">hvals         è·å¾—æ‰€æœ‰çš„value      </span><br><span class="line">hmset         è®¾ç½®å¤šä¸ªkey/value   </span><br><span class="line">hmget         è·å¾—å¤šä¸ªkeyçš„value   </span><br><span class="line">hsetnx        è®¾ç½®ä¸€ä¸ªä¸å­˜åœ¨çš„keyçš„å€¼   </span><br><span class="line">hincrby       ä¸ºvalueè¿›è¡ŒåŠ æ³•è¿ç®—    </span><br><span class="line">hincrbyfloat  ä¸ºvalueåŠ å…¥æµ®ç‚¹å€¼     </span><br></pre></td></tr></table></figure><h4 id="12-1-å‘hashä¸­æ·»åŠ å€¼ï¼šhset"><a href="#12-1-å‘hashä¸­æ·»åŠ å€¼ï¼šhset" class="headerlink" title="12.1 å‘hashä¸­æ·»åŠ å€¼ï¼šhset"></a>12.1 å‘hashä¸­æ·»åŠ å€¼ï¼šhset</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477692339.png" alt="file"></p><h4 id="12-2-å¾—åˆ°hashä¸­çš„æŒ‡å®šfiledçš„å€¼ï¼šhget"><a href="#12-2-å¾—åˆ°hashä¸­çš„æŒ‡å®šfiledçš„å€¼ï¼šhget" class="headerlink" title="12.2 å¾—åˆ°hashä¸­çš„æŒ‡å®šfiledçš„å€¼ï¼šhget"></a>12.2 å¾—åˆ°hashä¸­çš„æŒ‡å®šfiledçš„å€¼ï¼šhget</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477703371.png" alt="file"></p><h4 id="12-3-å¾—åˆ°hashä¸­çš„æ‰€æœ‰å€¼-hgetall"><a href="#12-3-å¾—åˆ°hashä¸­çš„æ‰€æœ‰å€¼-hgetall" class="headerlink" title="12.3 å¾—åˆ°hashä¸­çš„æ‰€æœ‰å€¼:hgetall"></a>12.3 å¾—åˆ°hashä¸­çš„æ‰€æœ‰å€¼:hgetall</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477745829.png" alt="file"></p><h4 id="12-4-æ‰¹é‡æ·»åŠ å’Œè·å–ï¼šhmset-hmget"><a href="#12-4-æ‰¹é‡æ·»åŠ å’Œè·å–ï¼šhmset-hmget" class="headerlink" title="12.4 æ‰¹é‡æ·»åŠ å’Œè·å–ï¼šhmset hmget"></a>12.4 æ‰¹é‡æ·»åŠ å’Œè·å–ï¼šhmset hmget</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477816044.png" alt="file"></p><h4 id="12-5-åˆ é™¤æŒ‡å®šçš„å­—æ®µï¼šhdel"><a href="#12-5-åˆ é™¤æŒ‡å®šçš„å­—æ®µï¼šhdel" class="headerlink" title="12.5 åˆ é™¤æŒ‡å®šçš„å­—æ®µï¼šhdel"></a>12.5 åˆ é™¤æŒ‡å®šçš„å­—æ®µï¼šhdel</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477844890.png" alt="file"></p><h4 id="12-6-è·å–hashçš„å­—æ®µé•¿åº¦ï¼šhlen"><a href="#12-6-è·å–hashçš„å­—æ®µé•¿åº¦ï¼šhlen" class="headerlink" title="12.6 è·å–hashçš„å­—æ®µé•¿åº¦ï¼šhlen"></a>12.6 è·å–hashçš„å­—æ®µé•¿åº¦ï¼šhlen</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477866011.png" alt="file"></p><h4 id="12-7-åˆ¤æ–­hashä¸­çš„å­—æ®µæ˜¯å¦å­˜åœ¨ï¼šhexist"><a href="#12-7-åˆ¤æ–­hashä¸­çš„å­—æ®µæ˜¯å¦å­˜åœ¨ï¼šhexist" class="headerlink" title="12.7 åˆ¤æ–­hashä¸­çš„å­—æ®µæ˜¯å¦å­˜åœ¨ï¼šhexist"></a>12.7 åˆ¤æ–­hashä¸­çš„å­—æ®µæ˜¯å¦å­˜åœ¨ï¼šhexist</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477881187.png" alt="file"></p><h4 id="12-8-è·å–æ‰€æœ‰çš„key-å­—æ®µ-hkeys-è·å–æ‰€æœ‰çš„valueï¼šhvals"><a href="#12-8-è·å–æ‰€æœ‰çš„key-å­—æ®µ-hkeys-è·å–æ‰€æœ‰çš„valueï¼šhvals" class="headerlink" title="12.8 è·å–æ‰€æœ‰çš„key(å­—æ®µ)hkeys,è·å–æ‰€æœ‰çš„valueï¼šhvals"></a>12.8 è·å–æ‰€æœ‰çš„key(å­—æ®µ)hkeys,è·å–æ‰€æœ‰çš„valueï¼šhvals</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477896459.png" alt="file"></p><h4 id="12-9-æŒ‡å®šå¢é‡ï¼šhincrby"><a href="#12-9-æŒ‡å®šå¢é‡ï¼šhincrby" class="headerlink" title="12.9 æŒ‡å®šå¢é‡ï¼šhincrby"></a>12.9 æŒ‡å®šå¢é‡ï¼šhincrby</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632477919981.png" alt="file"></p><p><strong>hashå˜æ›´çš„æ•°æ® user name age,å°¤å…¶æ˜¯æ˜¯ç”¨æˆ·ä¿¡æ¯ä¹‹ç±»çš„ï¼Œç»å¸¸å˜åŠ¨çš„ä¿¡æ¯ï¼ hash æ›´é€‚åˆäºå¯¹è±¡çš„å­˜å‚¨ï¼ŒStringæ›´åŠ é€‚åˆå­—ç¬¦ä¸²å­˜å‚¨ï¼</strong></p><h2 id="13-Zsetè¯¦è§£"><a href="#13-Zsetè¯¦è§£" class="headerlink" title="13. Zsetè¯¦è§£"></a>13. Zsetè¯¦è§£</h2><p>zsetæ˜¯æœ‰åºä¸å¯é‡å¤çš„é›†åˆ,zsetå‘½ä»¤éƒ½æ˜¯zå¼€å¤´ <img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644102803.png" alt="file"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤                      è¯´æ˜             </span><br><span class="line">----------------------  -------------- </span><br><span class="line">zadd                    æ·»åŠ ä¸€ä¸ªæœ‰åºé›†åˆå…ƒç´      </span><br><span class="line">zcard                   è¿”å›é›†åˆçš„å…ƒç´ ä¸ªæ•°      </span><br><span class="line">zrange å‡åº zrevrange é™åº  è¿”å›ä¸€ä¸ªèŒƒå›´å†…çš„å…ƒç´      </span><br><span class="line">zrangebyscore           æŒ‰ç…§åˆ†æ•°æŸ¥æ‰¾ä¸€ä¸ªèŒƒå›´å†…çš„å…ƒç´  </span><br><span class="line">zrank                   è¿”å›æ’å           </span><br><span class="line">zrevrank                å€’åºæ’å           </span><br><span class="line">zscore                  æ˜¾ç¤ºæŸä¸€ä¸ªå…ƒç´ çš„åˆ†æ•°     </span><br><span class="line">zrem                    ç§»é™¤æŸä¸€ä¸ªå…ƒç´         </span><br><span class="line">zincrby                 ç»™æŸä¸ªç‰¹å®šå…ƒç´ åŠ åˆ†      </span><br></pre></td></tr></table></figure><h4 id="13-1-æ·»åŠ æ•°æ®ï¼šzadd"><a href="#13-1-æ·»åŠ æ•°æ®ï¼šzadd" class="headerlink" title="13.1 æ·»åŠ æ•°æ®ï¼šzadd"></a>13.1 æ·»åŠ æ•°æ®ï¼šzadd</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632478034715.png" alt="file"></p><h4 id="13-2-è·å–æ‰€æœ‰å€¼-æŒ‰ç…§ç´¢å¼•è·å–ï¼šzrange"><a href="#13-2-è·å–æ‰€æœ‰å€¼-æŒ‰ç…§ç´¢å¼•è·å–ï¼šzrange" class="headerlink" title="13.2 è·å–æ‰€æœ‰å€¼,æŒ‰ç…§ç´¢å¼•è·å–ï¼šzrange"></a>13.2 è·å–æ‰€æœ‰å€¼,æŒ‰ç…§ç´¢å¼•è·å–ï¼šzrange</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632478071159.png" alt="file"></p><h4 id="13-3-è·å–æ‰€æœ‰å€¼ï¼ŒæŒ‰ç…§scoreè·å–ï¼šzrangebyscore"><a href="#13-3-è·å–æ‰€æœ‰å€¼ï¼ŒæŒ‰ç…§scoreè·å–ï¼šzrangebyscore" class="headerlink" title="13.3 è·å–æ‰€æœ‰å€¼ï¼ŒæŒ‰ç…§scoreè·å–ï¼šzrangebyscore"></a>13.3 è·å–æ‰€æœ‰å€¼ï¼ŒæŒ‰ç…§scoreè·å–ï¼šzrangebyscore</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632478107108.png" alt="file"></p><h4 id="13-4-ç§»é™¤å…ƒç´ ï¼šzrem"><a href="#13-4-ç§»é™¤å…ƒç´ ï¼šzrem" class="headerlink" title="13.4 ç§»é™¤å…ƒç´ ï¼šzrem"></a>13.4 ç§»é™¤å…ƒç´ ï¼šzrem</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632478230841.png" alt="file"></p><h4 id="13-5-å¾—åˆ°å…ƒç´ çš„ä¸ªæ•°-zcard"><a href="#13-5-å¾—åˆ°å…ƒç´ çš„ä¸ªæ•°-zcard" class="headerlink" title="13.5 å¾—åˆ°å…ƒç´ çš„ä¸ªæ•°:zcard"></a>13.5 å¾—åˆ°å…ƒç´ çš„ä¸ªæ•°:zcard</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632478172600.png" alt="file"></p><h4 id="13-6-è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ï¼šzcount"><a href="#13-6-è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ï¼šzcount" class="headerlink" title="13.6 è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ï¼šzcount"></a>13.6 è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ï¼šzcount</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632478326343.png" alt="file"></p><p><strong>ZSET å®˜æ–¹ å¯æ’åºSET sortSet</strong></p><h2 id="14-geospatial"><a href="#14-geospatial" class="headerlink" title="14. geospatial"></a>14. geospatial</h2><h2 id="15-bitmaps"><a href="#15-bitmaps" class="headerlink" title="15. bitmaps"></a>15. bitmaps</h2><p><strong>bitmapå³ä½å­˜å‚¨ï¼Œé€‚ç”¨äºåªæœ‰ä¸¤é¢æ€§çš„å†…å®¹ã€‚å¦‚ï¼šå¯ä»¥ç”¨bitmapå­˜å‚¨ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œæ˜¯å¦æ³¨å†Œï¼Œæ˜¯å¦æ‰“å¡ç­‰ç­‰ã€‚bitmapçš„å€¼åªæœ‰0å’Œ1ä¸¤ä¸ªå€¼ã€‚</strong></p><h4 id="15-1-å­˜å‚¨æ•°æ®ï¼šsetbit"><a href="#15-1-å­˜å‚¨æ•°æ®ï¼šsetbit" class="headerlink" title="15.1 å­˜å‚¨æ•°æ®ï¼šsetbit"></a>15.1 å­˜å‚¨æ•°æ®ï¼šsetbit</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644429996.png" alt="file"></p><h4 id="15-2-è·å–æŒ‡å®šä¸‹æ ‡çš„å€¼ï¼šgetbit"><a href="#15-2-è·å–æŒ‡å®šä¸‹æ ‡çš„å€¼ï¼šgetbit" class="headerlink" title="15.2 è·å–æŒ‡å®šä¸‹æ ‡çš„å€¼ï¼šgetbit"></a>15.2 è·å–æŒ‡å®šä¸‹æ ‡çš„å€¼ï¼šgetbit</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644452415.png" alt="file"></p><h4 id="15-3-ç»Ÿè®¡bitmapä¸­1çš„ä½æ•°ï¼šbitcount"><a href="#15-3-ç»Ÿè®¡bitmapä¸­1çš„ä½æ•°ï¼šbitcount" class="headerlink" title="15.3 ç»Ÿè®¡bitmapä¸­1çš„ä½æ•°ï¼šbitcount"></a>15.3 ç»Ÿè®¡bitmapä¸­1çš„ä½æ•°ï¼šbitcount</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644484448.png" alt="file"></p><h2 id="16-hyperloglogs"><a href="#16-hyperloglogs" class="headerlink" title="16. hyperloglogs"></a>16. hyperloglogs</h2><p><strong>ç”¨äºç»Ÿè®¡åŸºæ•°ï¼ˆå³ä¸é‡å¤çš„æ•°æ®ï¼‰,å¯ä»¥ç”¨äºç»Ÿè®¡ç½‘é¡µè®¿é—®é‡</strong></p><h4 id="16-1-æ·»åŠ ï¼špfadd"><a href="#16-1-æ·»åŠ ï¼špfadd" class="headerlink" title="16.1 æ·»åŠ ï¼špfadd"></a>16.1 æ·»åŠ ï¼špfadd</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644672064.png" alt="file"></p><h4 id="16-2-è®¡æ•°ï¼špfcount"><a href="#16-2-è®¡æ•°ï¼špfcount" class="headerlink" title="16.2 è®¡æ•°ï¼špfcount"></a>16.2 è®¡æ•°ï¼špfcount</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644689711.png" alt="file"></p><h4 id="16-3-åˆå¹¶ï¼špfmerge"><a href="#16-3-åˆå¹¶ï¼špfmerge" class="headerlink" title="16.3 åˆå¹¶ï¼špfmerge"></a>16.3 åˆå¹¶ï¼špfmerge</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1632644719576.png" alt="file"></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/09/24/redisleixing/">https://blog.jujimeizuo.cn/2021/09/24/redisleixing/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerç²¾é«“ï¼ˆå®¹å™¨æ•°æ®å·ã€Dockerfileã€Dockerç½‘ç»œï¼‰</title>
      <link href="/2021/09/15/dockerimp/"/>
      <url>/2021/09/15/dockerimp/</url>
      
        <content type="html"><![CDATA[<h2 id="å®¹å™¨æ•°æ®å·"><a href="#å®¹å™¨æ•°æ®å·" class="headerlink" title="å®¹å™¨æ•°æ®å·"></a>å®¹å™¨æ•°æ®å·</h2><h4 id="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"><a href="#ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·" class="headerlink" title="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"></a>ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</h4><h3 id="dockerç†å¿µ"><a href="#dockerç†å¿µ" class="headerlink" title="dockerç†å¿µ"></a>dockerç†å¿µ</h3><ul><li>å°†åº”ç”¨å’Œè¿è¡Œçš„ç¯å¢ƒæ‰“åŒ…å½¢æˆå®¹å™¨è¿è¡Œï¼Œè¿è¡Œå¯ä»¥ä¼´éšç€å®¹å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯¹äºæ•°æ®çš„è¦æ±‚ï¼Œæ˜¯å¸Œæœ›èƒ½å¤ŸæŒä¹…åŒ–çš„ï¼</li><li>å°±å¥½æ¯”ï¼Œä½ å®‰è£…ä¸€ä¸ªMySQLï¼Œç»“æœä½ æŠŠå®¹å™¨åˆ äº†ï¼Œå°±ç›¸å½“äºåˆ åº“è·‘è·¯äº†ï¼Œè¿™TMä¹Ÿå¤ªæ‰¯äº†å§ï¼</li><li>æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›å®¹å™¨ä¹‹é—´æœ‰å¯èƒ½å¯ä»¥å…±äº«æ•°æ®ï¼ŒDockerå®¹å™¨äº§ç”Ÿçš„æ•°æ®ï¼Œå¦‚æœä¸é€šè¿‡docker commit ç”Ÿæˆæ–°çš„é•œåƒï¼Œä½¿å¾—æ•°æ®ä½œä¸ºé•œåƒçš„ä¸€éƒ¨åˆ†ä¿å­˜ä¸‹æ¥ï¼Œé‚£ä¹ˆå½“å®¹å™¨åˆ é™¤åï¼Œæ•°æ®è‡ªç„¶ä¹Ÿå°±æ²¡æœ‰äº†ï¼è¿™æ ·æ˜¯è¡Œä¸é€šçš„ï¼</li><li>ä¸ºäº†èƒ½ä¿å­˜æ•°æ®åœ¨Dockerä¸­æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å·ï¼è®©æ•°æ®æŒ‚è½½åˆ°æˆ‘ä»¬æœ¬åœ°ï¼è¿™æ ·æ•°æ®å°±ä¸ä¼šå› ä¸ºå®¹å™¨åˆ é™¤ è€Œä¸¢å¤±äº†ï¼</li></ul><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>å·å°±æ˜¯ç›®å½•æˆ–è€…æ–‡ä»¶ï¼Œå­˜åœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ä¸­ï¼Œç”±dockeræŒ‚è½½åˆ°å®¹å™¨ï¼Œä½†ä¸å±äºè”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤èƒ½å¤Ÿç»•è¿‡ Union File System ï¼Œ æä¾›ä¸€äº›ç”¨äºæŒç»­å­˜å‚¨æˆ–å…±äº«æ•°æ®çš„ç‰¹æ€§ï¼šå·çš„è®¾è®¡ç›®çš„å°±æ˜¯æ•°æ®çš„æŒä¹…åŒ–ï¼Œå®Œå…¨ç‹¬ç«‹äºå®¹å™¨çš„ç”Ÿå­˜å‘¨æœŸï¼Œå› æ­¤Dockerä¸ä¼šåœ¨å®¹å™¨åˆ é™¤æ—¶åˆ é™¤å…¶æŒ‚è½½çš„æ•°æ®å·ã€‚ ç‰¹ç‚¹ï¼š</p><ol><li>æ•°æ®å·å¯åœ¨å®¹å™¨ä¹‹é—´å…±äº«æˆ–é‡ç”¨æ•°æ®</li><li>å·ä¸­çš„æ›´æ”¹å¯ä»¥ç›´æ¥ç”Ÿæ•ˆ</li><li>æ•°æ®å·ä¸­çš„æ›´æ”¹ä¸ä¼šåŒ…å«åœ¨é•œåƒçš„æ›´æ–°ä¸­</li><li>æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢ æ€»ç»“ï¼š å°±æ˜¯å®¹å™¨çš„æŒä¹…åŒ–ï¼Œä»¥åŠå®¹å™¨é—´çš„ç»§æ‰¿å’Œæ•°æ®å…±äº«ï¼</li></ol><h4 id="ä½¿ç”¨æ•°æ®å·æ–¹å¼ï¼šå®¹å™¨ä¸­ç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æ·»åŠ "><a href="#ä½¿ç”¨æ•°æ®å·æ–¹å¼ï¼šå®¹å™¨ä¸­ç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æ·»åŠ " class="headerlink" title="ä½¿ç”¨æ•°æ®å·æ–¹å¼ï¼šå®¹å™¨ä¸­ç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æ·»åŠ "></a>ä½¿ç”¨æ•°æ®å·æ–¹å¼ï¼šå®¹å™¨ä¸­ç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æ·»åŠ </h4><h3 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="headerlink" title="æŒ‚è½½"></a>æŒ‚è½½</h3><ol><li>å‘½ä»¤</li><li>docker run -it -v å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•:å®¹å™¨å†…ç›®å½• é•œåƒå</li><li>æµ‹è¯•</li><li>docker run -it -v &#x2F;home&#x2F;ceshi:&#x2F;home centos &#x2F;bin&#x2F;bash ##ceshiæ–‡ä»¶å¤¹ä¼šè‡ªå·±ç”Ÿæˆä¸éœ€è¦ç‰¹æ„å»åˆ›å»º</li></ol><p>æ­¤æ—¶ï¼šå®¹å™¨å†…éƒ¨çš„æ–‡ä»¶&#x2F;homeï¼Œå’Œè™šæ‹Ÿæœºä¸Š&#x2F;home&#x2F;ceshiå°±å·²ç»ç›¸å…³è”äº†ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ã€‚ åœ¨è™šæ‹Ÿæœºçš„&#x2F;home&#x2F;ceshiåˆ›å»ºä¸€ä¸ªLH.txtï¼Œçœ‹å®¹å™¨å†…éƒ¨çš„&#x2F;homeä¸­æ˜¯å¦ä¼šç”Ÿæˆè¿™ä¸ªæ–‡ä»¶</p><h3 id="æµ‹è¯•ä¸€ï¼šæŸ¥çœ‹å¯¹åº”è·¯å¾„ä¸‹çš„æ–‡ä»¶"><a href="#æµ‹è¯•ä¸€ï¼šæŸ¥çœ‹å¯¹åº”è·¯å¾„ä¸‹çš„æ–‡ä»¶" class="headerlink" title="æµ‹è¯•ä¸€ï¼šæŸ¥çœ‹å¯¹åº”è·¯å¾„ä¸‹çš„æ–‡ä»¶"></a>æµ‹è¯•ä¸€ï¼šæŸ¥çœ‹å¯¹åº”è·¯å¾„ä¸‹çš„æ–‡ä»¶</h3><ol><li>åœ¨è™šæ‹Ÿæœºä¸Š</li><li>[root@slaves2 ~]## cd &#x2F;home&#x2F;ceshi&#x2F;</li><li>[root@slaves2 ceshi]## ll</li><li>æ€»ç”¨é‡ 0</li><li>[root@slaves2 ceshi]## touch LH.txt</li><li>æŸ¥çœ‹å®¹å™¨å†…éƒ¨</li><li>[root@64760dd67074 &#x2F;]## cd &#x2F;home&#x2F;</li><li>[root@64760dd67074 home]## ls</li><li>LH.txt</li></ol><h3 id="æµ‹è¯•äºŒï¼šæŸ¥çœ‹æ•°æ®å·æ˜¯å¦æŒ‚è½½æˆåŠŸ-docker-inspect-å®¹å™¨id"><a href="#æµ‹è¯•äºŒï¼šæŸ¥çœ‹æ•°æ®å·æ˜¯å¦æŒ‚è½½æˆåŠŸ-docker-inspect-å®¹å™¨id" class="headerlink" title="æµ‹è¯•äºŒï¼šæŸ¥çœ‹æ•°æ®å·æ˜¯å¦æŒ‚è½½æˆåŠŸ docker inspect å®¹å™¨id"></a>æµ‹è¯•äºŒï¼šæŸ¥çœ‹æ•°æ®å·æ˜¯å¦æŒ‚è½½æˆåŠŸ docker inspect å®¹å™¨id</h3><ol><li>æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</li><li>docker ps</li><li>CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES</li><li>15132a4bcd1f centos â€œ&#x2F;bin&#x2F;bashâ€ About an hour ago Up About an hour brave_wilson</li><li>æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯</li><li>docker inspect 151</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631709001004.png" alt="file"></p><h3 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h3><p>å®¹å™¨åœæ­¢è¿è¡Œåï¼Œæ•°æ®ä¹Ÿæ˜¯ä¸€æ ·èƒ½å¤ŸåŒæ­¥è¿‡å»çš„ã€‚</p><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><ol><li>ä½ å¯ä»¥å…ˆå°†å®¹å™¨åœæ­¢</li><li>ä¿®æ”¹è™šæ‹Ÿæœºä¸Šçš„æŒ‚è½½ç›®å½•</li><li>ä½¿ç”¨docker ps -aæŸ¥çœ‹åˆšåœæ­¢çš„å®¹å™¨</li><li>å¯åŠ¨å®¹å™¨docker start å®¹å™¨id</li><li>è¿›å…¥å®¹å™¨docker exec -it å®¹å™¨id &#x2F;bin&#x2F;bashï¼ˆæˆ–è€…docker attach å®¹å™¨IDï¼‰</li></ol><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>ä½¿ç”¨å®¹å™¨æ•°æ®å·çš„å¥½å¤„ï¼Œä»¥åæˆ‘ä»¬ä¿®æ”¹æ–‡ä»¶å°±ç›´æ¥å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸Šæ“ä½œäº†ï¼Œä¸éœ€è¦è¿›å…¥å®¹å™¨å†…éƒ¨äº†ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/09/15/dockerimp/">https://blog.jujimeizuo.cn/2021/09/15/dockerimp/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2021/09/14/dockerml/"/>
      <url>/2021/09/14/dockerml/</url>
      
        <content type="html"><![CDATA[<h2 id="Dockerå¸¸ç”¨å‘½ä»¤"><a href="#Dockerå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Dockerå¸¸ç”¨å‘½ä»¤"></a>Dockerå¸¸ç”¨å‘½ä»¤</h2><h4 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h4><ol><li>docker version ## æ˜¾ç¤ºDockerç‰ˆæœ¬ä¿¡æ¯</li><li>docker info ## æ˜¾ç¤ºDockerç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒæ•°ã€å®¹å™¨æ•°ã€æ­£åœ¨è¿è¡Œçš„é•œåƒæ•°ã€æš‚åœçš„é•œåƒæ•°ã€åœæ­¢çš„é•œåƒæ•°ç­‰</li><li>docker â€“help ## æ˜¾ç¤ºdockeræŒ‡ä»¤çš„ä¿¡æ¯</li><li>docker æŒ‡ä»¤ â€“help ## æ˜¾ç¤ºå…·ä½“æŸä¸€ä¸ªdockeræŒ‡ä»¤çš„å¯é€‰é¡¹docker æŒ‡ä»¤ â€“help ## æ˜¾ç¤ºå…·ä½“æŸä¸€ä¸ªdockeræŒ‡ä»¤çš„å¯é€‰é¡¹</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631619962208.png" alt="file"></p><h4 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h4><h3 id="docker-images"><a href="#docker-images" class="headerlink" title="docker images"></a>docker images</h3><ol><li>docker images ## æ˜¾ç¤ºä½ æœ¬åœ°ä¸»æœºä¸Šï¼ˆä¹°çš„æœåŠ¡å™¨æˆ–å®‰è£…çš„Linuxè™šæ‹Ÿæœºï¼‰æ‰€æœ‰ä¸‹è½½çš„é•œåƒä¿¡æ¯</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620096012.png" alt="file"></p><p>æ‰§è¡Œè¯¥æŒ‡ä»¤ä¹‹åï¼Œä¿¡æ¯æ˜¾ç¤ºå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯¹æ¯ä¸ªæ ‡ç­¾çš„è§£é‡Šå¦‚ä¸‹ï¼š</p><ol><li>REPOSITORY ## é•œåƒçš„ä»“åº“æºï¼ˆä¹Ÿå°±æ˜¯é•œåƒåï¼‰</li><li>TAG ## é•œåƒçš„æ ‡ç­¾ï¼ˆä¹Ÿå°±æ˜¯é•œåƒçš„ç‰ˆæœ¬ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºlastestï¼Œä¹Ÿå°±æ˜¯æœ€æ–°ç‰ˆï¼‰</li><li>IMAGE ID ## é•œåƒçš„IDï¼ˆåŒä¸€ä¸ªé•œåƒçš„ä¸åŒç‰ˆæœ¬ï¼Œæ‹¥æœ‰ä¸åŒçš„é•œåƒIDï¼‰</li><li>CREATED ## é•œåƒçš„åˆ›å»ºæ—¶é—´</li><li>SIZE ## é•œåƒçš„å¤§å°</li></ol><p>é€šè¿‡<strong>docker images â€“help</strong>å¯ä»¥çœ‹åˆ°è¯¥æŒ‡ä»¤çš„ä¸€äº›å¯é€‰é¡¹ï¼Œç°å¯¹å‡ ä¸ªå¸¸ç”¨çš„å¯é€‰é¡¹åšä¸€è§£é‡Šï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620195894.png" alt="file"></p><ol><li>-a ## åˆ—å‡ºæœ¬åœ°æ‰€æœ‰é•œåƒ</li><li>-q ## åªåˆ—å‡ºé•œåƒçš„ID</li><li>--digests ## æ˜¾ç¤ºé•œåƒçš„æ‘˜è¦ä¿¡æ¯</li></ol><h3 id="docker-search"><a href="#docker-search" class="headerlink" title="docker search"></a>docker search</h3><ol><li>docker search æŸä¸ªé•œåƒçš„åç§° ## æœç´¢é•œåƒï¼Œä¾‹å¦‚ï¼šdocker search mysql</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620344810.png" alt="file"></p><ol><li>NAME ## é•œåƒå</li><li>DESCRIPTION ## é•œåƒæè¿°</li><li>STARS ## æ”¶è—æ•°ï¼ˆç±»ä¼¼äºGitHubä¸Šçš„STARSï¼ŒSTARSè¶Šå¤šï¼Œè¡¨ç¤ºè¶Šå—æ¬¢è¿ï¼Œä¸‹è½½æ¬¡æ•°è¶Šå¤šï¼‰</li></ol><p>å¦‚æœæˆ‘ä»¬åªæƒ³æœç´¢STARSä¸å°äº5000çš„é•œåƒå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€äº›è¿‡æ»¤æ¡ä»¶ã€‚</p><p>é€šè¿‡<strong>docker search â€“help</strong>æŒ‡ä»¤æ¥æŸ¥çœ‹ä¸€äº›å¯é€‰å‚æ•°ã€‚ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨<strong>-fæˆ–â€“filter filter</strong>æŒ‡ä»¤æ¥è¿›è¡Œè¿‡æ»¤ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620452939.png" alt="file"></p><ol><li>ä»¥ä¸‹å››ç§æ–¹å¼å‡å¯</li><li>docker search â€“filter&#x3D;stars&#x3D;5000 mysql</li><li>docker search â€“filter stars&#x3D;5000 mysql</li><li>docker search -f&#x3D;stars&#x3D;5000 mysql</li><li>docker search -f stars&#x3D;5000 mysql</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620406980.png" alt="file"></p><h3 id="docker-pull"><a href="#docker-pull" class="headerlink" title="docker pull"></a>docker pull</h3><ol><li>docker pull mysql ## ä¸‹è½½é•œåƒï¼ˆè¿™é‡Œå¦‚æœä¸æŒ‡å®šTAGï¼Œé»˜è®¤å°±æ˜¯lastestæœ€æ–°ç‰ˆï¼‰</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620581235.png" alt="file"></p><ol><li>docker pull mysql:5.7 éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªé•œåƒçš„ç‰ˆæœ¬ä¸€å®šå¾—æ˜¯DockerHubä¸Šæœ‰çš„ç‰ˆæœ¬ã€‚ä¸ç„¶ä¼šä¸‹è½½</li></ol><h3 id="docker-rmi"><a href="#docker-rmi" class="headerlink" title="docker rmi"></a>docker rmi</h3><p>é¦–å…ˆä½¿ç”¨<strong>docker rmi â€“help</strong>æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå‘½ä»¤éƒ½æœ‰å“ªäº›å¯é€‰é¡¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620595815.png" alt="file"></p><p>å¯ä»¥çœ‹åˆ°æœ‰<strong>-f</strong>å‚æ•°</p><ol><li>åˆ é™¤é•œåƒ</li><li>docker rmi -f é•œåƒid ## åˆ é™¤å•ä¸ªé•œåƒ</li><li>docker rmi -f é•œåƒå:tag é•œåƒå:tag ## åˆ é™¤å¤šä¸ª</li><li>docker rmi -f $(docker images -qa) ## åˆ é™¤å…¨éƒ¨</li></ol><h4 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h4><p>æœ‰é•œåƒæ‰èƒ½åˆ›å»ºå®¹å™¨ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨centosçš„é•œåƒæ¥æµ‹è¯•ï¼Œå°±æ˜¯è™šæ‹Ÿä¸€ä¸ªcentos</p><h3 id="æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼ˆdocker-runï¼‰"><a href="#æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼ˆdocker-runï¼‰" class="headerlink" title="æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼ˆdocker runï¼‰"></a>æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼ˆdocker runï¼‰</h3><p><strong>docker run</strong>å‘½ä»¤å°±æ˜¯<strong>docker create</strong>å’Œ<strong>docker start</strong>å‘½ä»¤çš„ç»„åˆ</p><ol><li><p>docker run [OPTIONS] é•œåƒå [COMMAND][ARGSâ€¦]</p></li><li><h2 id="å¸¸ç”¨å¯é€‰å‚æ•°ä»¥åŠè§£é‡Š"><a href="#å¸¸ç”¨å¯é€‰å‚æ•°ä»¥åŠè§£é‡Š" class="headerlink" title="å¸¸ç”¨å¯é€‰å‚æ•°ä»¥åŠè§£é‡Š"></a>å¸¸ç”¨å¯é€‰å‚æ•°ä»¥åŠè§£é‡Š</h2></li><li><p>--name ## ç»™å®¹å™¨å–ä¸€ä¸ªåå­—</p></li><li><p>--rm ## å®¹å™¨é€€å‡ºåï¼Œè‡ªåŠ¨åˆ é™¤å®¹å™¨</p></li><li><p>-i ## ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸-tåŒæ—¶ä½¿ç”¨ï¼Œå³-it</p></li><li><p>-t ## åˆ†é…ä¸€ä¸ªè™šæ‹Ÿçš„ç»ˆç«¯ï¼Œåœ¨dockerä¸­å¯åŠ¨bashå°±ä¼šæœ‰æç¤ºç¬¦ï¼Œé€šå¸¸ä¸-ié€šçŸ¥ä½¿ç”¨ï¼Œå³-it</p></li><li><p>-d ## åœ¨åå°è¿è¡Œå®¹å™¨ã€‚ç­‰åŒäºè¿›å…¥å®¹å™¨åæŒ‰Ctrl+P+Qã€‚æ‰€ä»¥å¯ä»¥docker attachå›å»ã€‚åœ¨åå°è¿è¡Œçš„å®¹å™¨ï¼Œåªèƒ½é€šè¿‡ç½‘ç»œå’Œå®ƒäº¤äº’ã€‚</p></li><li><p>-p ## è®¾ç½®ç«¯å£è½¬å‘ã€‚-p:hostport:containerport</p></li></ol><p>æµ‹è¯•å¦‚ä¸‹ï¼š</p><p>ä½¿ç”¨centosè¿›è¡Œäº¤äº’æ¨¡å¼å¯åŠ¨å®¹å™¨ï¼Œåœ¨å®¹å™¨å†…æ‰§è¡Œ&#x2F;bin&#x2F;bashå‘½ä»¤ <img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620876616.png" alt="file"></p><p>ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œåœ°å€å·²ç»å˜æˆå®¹å™¨å†…éƒ¨äº†ã€‚</p><h3 id="åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨ï¼ˆdocker-psï¼‰"><a href="#åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨ï¼ˆdocker-psï¼‰" class="headerlink" title="åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨ï¼ˆdocker psï¼‰"></a>åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨ï¼ˆdocker psï¼‰</h3><ol><li>docker ps [OPTIONS]</li></ol><p>æˆ‘ä»¬é¦–å…ˆä½¿ç”¨<strong>docker ps â€“help</strong>æŒ‡ä»¤æ¥çœ‹ä¸€ä¸‹éƒ½æœ‰å“ªäº›å¯é€‰å‚æ•°ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631620901664.png" alt="file"></p><ol><li>-a ## åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ + å†å²è¿è¡Œè¿‡çš„å®¹å™¨</li><li>-l ## åˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„ä¸€ä¸ªå®¹å™¨ä»¥åŠè¯¥å®¹å™¨çš„ä¿¡æ¯</li><li>-n int ## åˆ—å‡ºæœ€è¿‘nä¸ªåˆ›å»ºçš„å®¹å™¨ä»¥åŠå®¹å™¨çš„ä¿¡æ¯</li><li>-q ## åˆ—å‡ºå®¹å™¨çš„ç¼–å·</li><li>-s ## åˆ—å‡ºå®¹å™¨çš„å¤§å°</li></ol><h3 id="å®¹å™¨é€€å‡ºï¼ˆexitã€Ctrl-P-Qï¼‰"><a href="#å®¹å™¨é€€å‡ºï¼ˆexitã€Ctrl-P-Qï¼‰" class="headerlink" title="å®¹å™¨é€€å‡ºï¼ˆexitã€Ctrl+P+Qï¼‰"></a>å®¹å™¨é€€å‡ºï¼ˆexitã€Ctrl+P+Qï¼‰</h3><ol><li>exit ## å®¹å™¨åœæ­¢å¹¶é€€å‡º</li><li>Ctrl + P + Q ## å®¹å™¨ä¸åœæ­¢é€€å‡ºï¼Œä¹Ÿå°±æ˜¯è¿›å…¥åå°æ¨¡å¼ï¼Œç­‰åŒäºdocker runçš„å‚æ•° -d</li></ol><h3 id="åˆ é™¤å®¹å™¨ï¼ˆdocker-rmï¼‰"><a href="#åˆ é™¤å®¹å™¨ï¼ˆdocker-rmï¼‰" class="headerlink" title="åˆ é™¤å®¹å™¨ï¼ˆdocker rmï¼‰"></a>åˆ é™¤å®¹å™¨ï¼ˆdocker rmï¼‰</h3><ol><li>docker rm å®¹å™¨id ## åˆ é™¤æŒ‡å®šå®¹å™¨</li><li>docker rm -f $(docker ps -aq) ## åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼ˆå¸¸ç”¨ï¼‰</li><li>docker ps -aq xargs docker -rm ## åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼ˆä¸å¸¸ç”¨ï¼‰</li></ol><h4 id="å¸¸ç”¨å…¶ä»–å‘½ä»¤"><a href="#å¸¸ç”¨å…¶ä»–å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å…¶ä»–å‘½ä»¤"></a>å¸¸ç”¨å…¶ä»–å‘½ä»¤</h4><h3 id="åå°å¯åŠ¨å®¹å™¨-d"><a href="#åå°å¯åŠ¨å®¹å™¨-d" class="headerlink" title="åå°å¯åŠ¨å®¹å™¨ (-d)"></a>åå°å¯åŠ¨å®¹å™¨ (-d)</h3><ol><li>docker run -d å®¹å™¨å ## åå°å¯åŠ¨å®¹å™¨</li><li>é—®é¢˜: ä½¿ç”¨docker ps æŸ¥çœ‹ï¼Œå‘ç°å®¹å™¨å·²ç»é€€å‡ºäº†ï¼</li><li>è§£é‡Šï¼šDockerå®¹å™¨åå°è¿è¡Œï¼Œå°±å¿…é¡»æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œå®¹å™¨è¿è¡Œçš„å‘½ä»¤å¦‚æœä¸æ˜¯é‚£äº›ä¸€ç›´æŒ‚èµ·çš„å‘½ä»¤ï¼Œå°±ä¼šè‡ªåŠ¨é€€å‡ºã€‚</li><li>æ¯”å¦‚ï¼Œä½ è¿è¡Œäº†nginxæœåŠ¡ï¼Œä½†æ˜¯dockerå‰å°æ²¡æœ‰è¿è¡Œåº”ç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå®¹å™¨å¯åŠ¨åï¼Œä¼šç«‹å³è‡ªæ€ï¼Œå› ä¸ºä»–è§‰å¾—æ²¡æœ‰ç¨‹åºäº†ï¼Œæ‰€ä»¥æœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œå°†ä½ çš„åº”ç”¨ä½¿ç”¨å‰å°è¿›ç¨‹çš„æ–¹å¼è¿è¡Œå¯åŠ¨ã€‚</li></ol><h3 id="æŸ¥çœ‹æ—¥å¿—ï¼ˆdocker-logsï¼‰"><a href="#æŸ¥çœ‹æ—¥å¿—ï¼ˆdocker-logsï¼‰" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—ï¼ˆdocker logsï¼‰"></a>æŸ¥çœ‹æ—¥å¿—ï¼ˆdocker logsï¼‰</h3><ol><li>docker logs å®¹å™¨id</li></ol><p><strong>docker logs</strong>æœ‰ä»¥ä¸‹å¯é€‰å‚æ•°ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631621011902.png" alt="file"></p><ol><li>-t ## æ˜¾ç¤ºæ—¶é—´æˆ³</li><li>-f ## æ‰“å°æœ€æ–°çš„æ—¥å¿—</li><li>--tail æ•°å­— ## æ•°å­—â€”æ˜¾ç¤ºå¤šå°‘æ¡</li></ol><h3 id="æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ï¼ˆdocker-topï¼‰"><a href="#æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ï¼ˆdocker-topï¼‰" class="headerlink" title="æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ï¼ˆdocker topï¼‰"></a>æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ï¼ˆdocker topï¼‰</h3><ol><li>docker top å®¹å™¨id</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631621090534.png" alt="file"></p><h3 id="æŸ¥çœ‹å®¹å™¨-é•œåƒçš„å…ƒæ•°æ®ï¼ˆdocker-inspectï¼‰"><a href="#æŸ¥çœ‹å®¹å™¨-é•œåƒçš„å…ƒæ•°æ®ï¼ˆdocker-inspectï¼‰" class="headerlink" title="æŸ¥çœ‹å®¹å™¨ &#x2F; é•œåƒçš„å…ƒæ•°æ®ï¼ˆdocker inspectï¼‰"></a>æŸ¥çœ‹å®¹å™¨ &#x2F; é•œåƒçš„å…ƒæ•°æ®ï¼ˆdocker inspectï¼‰</h3><ol><li>docker inspect å®¹å™¨id</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631621146517.png" alt="file"></p><h3 id="è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a href="#è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨" class="headerlink" title="è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a>è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h3><h4 id="docker-exec"><a href="#docker-exec" class="headerlink" title="docker exec"></a>docker exec</h4><p>è¿™ä¸ªå‘½ä»¤æ˜¯ç”¨å·²ç»è¿è¡Œçš„å®¹å™¨æ‰§è¡Œå‘½ä»¤ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå®¹å™¨å…³é—­åå†æ¬¡è¿è¡Œï¼Œé‚£ä¹ˆç”¨execå‘½ä»¤æ‰§è¡Œçš„å‘½ä»¤æ˜¯ä¸ä¼šè‡ªå·±å†æ¬¡æ‰§è¡Œçš„</p><ol><li>docker exec å®¹å™¨id</li></ol><p><img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631621187935.png" alt="file"></p><ol><li>-d ## è®©å‘½ä»¤åœ¨åå°æ‰§è¡Œ</li><li>-e ## è®¾ç½®ç¯å¢ƒå˜é‡</li><li>-it ## ä½¿ç”¨äº¤äº’æ¨¡å¼è¿›å…¥</li><li>-u -w ## åˆ†åˆ«è®¾ç½®å‘½ä»¤è¿è¡Œçš„ç”¨æˆ·å’Œwork directoryã€‚ä¹Ÿå°±æ˜¯å¦‚æœè¦æ”¹å˜ç”¨æˆ·æˆ–è€…å·¥ä½œç›®å½•ï¼Œå°±æ˜¯ç”¨-uæˆ–-w</li></ol><h4 id="docker-attach"><a href="#docker-attach" class="headerlink" title="docker attach"></a>docker attach</h4><p>attachå‘½ä»¤æŠŠä¸€ä¸ªåå°è¿è¡Œçš„å®¹å™¨æåˆ°å‰å°æ¥ï¼Œè¿™æ ·å°±å¯ä»¥çœ‹åˆ°ä»–ä»¬çš„è¾“å‡ºï¼Œå¹¶ä¸”ä½¿ç”¨è¾“å…¥äº†ã€‚</p><ol><li>docker attach å®¹å™¨id</li></ol><p>attachå‘½ä»¤çš„å¯é€‰å‚æ•°å¦‚ä¸‹ï¼š <img src="https://cdn.jujimeizuo.cn/blog/2021/09/image-1631621235356.png" alt="file"></p><ol><li>--no-stdin ## å…³é—­è¾“å…¥</li><li>--sig-proxy ## ä¿¡å·è½¬å‘ï¼Œé»˜è®¤å¼€å¯ï¼Œè¿™æ ·DMDè¿›ç¨‹å°±å¯ä»¥æ”¶åˆ°ä½ çš„ä¿¡å·äº†</li></ol><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><p><strong>exec</strong>æ˜¯åœ¨å®¹å™¨ä¸­æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œå¹¶ä¸”å¯ä»¥å¯åŠ¨æ–°çš„è¿›ç¨‹</p><p><strong>attach</strong>æ˜¯ç›´æ¥è¿›å…¥å®¹å™¨å¯åŠ¨å‘½ä»¤çš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹</p><h3 id="ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Šï¼ˆdocker-cpï¼‰"><a href="#ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Šï¼ˆdocker-cpï¼‰" class="headerlink" title="ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Šï¼ˆdocker cpï¼‰"></a>ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Šï¼ˆdocker cpï¼‰</h3><ol><li><p>docker cp å®¹å™¨id:å®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„</p></li><li><p>ä¾‹å¦‚ï¼š</p></li><li><p>docker cp f261f17bb39d:&#x2F;home&#x2F;f1 &#x2F;home</p></li></ol><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/09/14/dockerml/">https://blog.jujimeizuo.cn/2021/09/14/dockerml/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mavenå¸¸ç”¨ä¾èµ–</title>
      <link href="/2021/09/13/maven/"/>
      <url>/2021/09/13/maven/</url>
      
        <content type="html"><![CDATA[<h4 id="maven-ä¸‹è½½åŒ…å’Œä¾èµ–çš„ç½‘ç«™ï¼šhttps-mvnrepository-com-æµ‹è¯•ï¼š"><a href="#maven-ä¸‹è½½åŒ…å’Œä¾èµ–çš„ç½‘ç«™ï¼šhttps-mvnrepository-com-æµ‹è¯•ï¼š" class="headerlink" title="maven ä¸‹è½½åŒ…å’Œä¾èµ–çš„ç½‘ç«™ï¼šhttps://mvnrepository.com/æµ‹è¯•ï¼š"></a>maven ä¸‹è½½åŒ…å’Œä¾èµ–çš„ç½‘ç«™ï¼š<a href="https://mvnrepository.com/%E6%B5%8B%E8%AF%95">https://mvnrepository.com/æµ‹è¯•</a>ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.11</span>&lt;/version&gt;</span><br><span class="line">  &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="æ—¥å¿—ï¼š"><a href="#æ—¥å¿—ï¼š" class="headerlink" title="æ—¥å¿—ï¼š"></a>æ—¥å¿—ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.7</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;logback-core&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.1</span><span class="number">.1</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.1</span><span class="number">.1</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®åº“ç›¸å…³ï¼š"><a href="#æ•°æ®åº“ç›¸å…³ï¼š" class="headerlink" title="æ•°æ®åº“ç›¸å…³ï¼š"></a>æ•°æ®åº“ç›¸å…³ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">5.1</span><span class="number">.35</span>&lt;/version&gt;</span><br><span class="line">  &lt;scope&gt;runtime&lt;/scope&gt;&lt;!--ç”Ÿå‘½å‘¨æœŸ--&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;c3p0&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;c3p0&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">0.9</span><span class="number">.1</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="daoæ¡†æ¶ä¾èµ–ï¼Œmybatisä¾èµ–-ï¼š"><a href="#daoæ¡†æ¶ä¾èµ–ï¼Œmybatisä¾èµ–-ï¼š" class="headerlink" title="daoæ¡†æ¶ä¾èµ–ï¼Œmybatisä¾èµ– ï¼š"></a>daoæ¡†æ¶ä¾èµ–ï¼Œmybatisä¾èµ– ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">3.3</span><span class="number">.0</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="mybatisä¸springæ•´åˆï¼š"><a href="#mybatisä¸springæ•´åˆï¼š" class="headerlink" title="mybatisä¸springæ•´åˆï¼š"></a>mybatisä¸springæ•´åˆï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.2</span><span class="number">.3</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="æ ‡ç­¾åº“ä¾èµ–ï¼š"><a href="#æ ‡ç­¾åº“ä¾èµ–ï¼š" class="headerlink" title="æ ‡ç­¾åº“ä¾èµ–ï¼š"></a>æ ‡ç­¾åº“ä¾èµ–ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;taglibs&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;standard&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.1</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;jstl&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;jstl&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">2.5</span><span class="number">.4</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">3.1</span><span class="number">.0</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="springç›¸å…³ä¾èµ–ï¼š"><a href="#springç›¸å…³ä¾èµ–ï¼š" class="headerlink" title="springç›¸å…³ä¾èµ–ï¼š"></a>springç›¸å…³ä¾èµ–ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æ ¸å¿ƒä¾èµ–--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-core&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!--Spring Daoä¾èµ–--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!--Spring Webä¾èµ–--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-web&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="Spring-testä¾èµ–"><a href="#Spring-testä¾èµ–" class="headerlink" title="Spring testä¾èµ–"></a>Spring testä¾èµ–</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">4.1</span><span class="number">.7</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="maven-æ‰“jaråŒ…æ’ä»¶ï¼š"><a href="#maven-æ‰“jaråŒ…æ’ä»¶ï¼š" class="headerlink" title="maven æ‰“jaråŒ…æ’ä»¶ï¼š"></a>maven æ‰“jaråŒ…æ’ä»¶ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;plugin&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</span><br><span class="line">    &lt;configuration&gt;</span><br><span class="line">        &lt;source&gt;<span class="number">1.7</span>&lt;/source&gt;</span><br><span class="line">        &lt;target&gt;<span class="number">1.7</span>&lt;/target&gt;</span><br><span class="line">    &lt;/configuration&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br><span class="line">&lt;plugin&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">    &lt;executions&gt;</span><br><span class="line">        &lt;execution&gt;</span><br><span class="line">            &lt;goals&gt;</span><br><span class="line">                &lt;goal&gt;repackage&lt;/goal&gt;</span><br><span class="line">            &lt;/goals&gt;</span><br><span class="line">        &lt;/execution&gt;</span><br><span class="line">    &lt;/executions&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure><h4 id="springbootä¾èµ–ï¼š"><a href="#springbootä¾èµ–ï¼š" class="headerlink" title="springbootä¾èµ–ï¼š"></a>springbootä¾èµ–ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- å¿…é¡»è¦å¼•å…¥ç»§æ‰¿springboot-parent   å¸®æˆ‘ä»¬å®ç°äº†å¾ˆå¤šjarçš„ç®¡ç†ï¼Œä¸éœ€è¦å†™jarç‰ˆæœ¬--&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.5</span><span class="number">.2</span>.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/parent&gt;</span><br><span class="line">&lt;!-- SpringBoot æ ¸å¿ƒç»„ä»¶ --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt; </span><br><span class="line">&lt;!-- SpringBoot mybatisæ•´åˆ  --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;<span class="number">1.1</span><span class="number">.1</span>&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="çƒ­éƒ¨ç½²ï¼š"><a href="#çƒ­éƒ¨ç½²ï¼š" class="headerlink" title="çƒ­éƒ¨ç½²ï¼š"></a>çƒ­éƒ¨ç½²ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/09/13/maven/">https://blog.jujimeizuo.cn/2021/09/13/maven/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¡Œé¢åº”ç”¨å¼€å‘æœŸæœ«å¤ä¹ â€”â€”VC++</title>
      <link href="/2021/06/25/vc/"/>
      <url>/2021/06/25/vc/</url>
      
        <content type="html"><![CDATA[<h2 id="å¸¸ç”¨å¥æŸ„ç±»å‹åŠå…¶è¯´æ˜"><a href="#å¸¸ç”¨å¥æŸ„ç±»å‹åŠå…¶è¯´æ˜" class="headerlink" title="å¸¸ç”¨å¥æŸ„ç±»å‹åŠå…¶è¯´æ˜"></a>å¸¸ç”¨å¥æŸ„ç±»å‹åŠå…¶è¯´æ˜</h2><p>å¥æŸ„ç±»å‹</p><p>è¯´æ˜</p><p>HWND</p><p>æ ‡è¯†çª—å£å¥æŸ„</p><p>HINSTANCE</p><p>æ ‡è¯†å½“å‰å®ä¾‹å¥æŸ„</p><p>HCURSOR</p><p>æ ‡è¯†å…‰æ ‡å¥æŸ„</p><p>HFONT</p><p>æ ‡è¯†å­—ä½“å¥æŸ„</p><p>HPEN</p><p>æ ‡è¯†ç”»ç¬”å¥æŸ„</p><p>HBRUSH</p><p>æ ‡è¯†ç”»åˆ·å¥æŸ„</p><p>HDC</p><p>æ ‡è¯†è®¾å¤‡ç¯å¢ƒå¥æŸ„</p><p>HBITMAP</p><p>æ ‡è¯†ä½å›¾å¥æŸ„</p><p>HICON</p><p>æ ‡è¯†å›¾æ ‡å¥æŸ„</p><p>HMENU</p><p>æ ‡è¯†èœå•å¥æŸ„</p><p>HFILE</p><p>æ ‡è¯†æ–‡ä»¶å¥æŸ„</p><h2 id="çª—å£"><a href="#çª—å£" class="headerlink" title="çª—å£"></a>çª—å£</h2><p>çª—å£æ˜¯Windowsåº”ç”¨ç¨‹åºåŸºæœ¬çš„æ“ä½œå•å…ƒï¼Œæ˜¯åº”ç”¨ç¨‹åºä¸ç”¨æˆ·ä¹‹é—´äº¤äº’çš„æ¥å£ç¯å¢ƒï¼Œä¹Ÿæ˜¯ç³»ç»Ÿç®¡ç†åº”ç”¨ç¨‹åºçš„åŸºæœ¬å•ä½ã€‚ åº”ç”¨ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹å³çª—å£å†…éƒ¨ã€çª—å£ä¸çª—å£ä¹‹é—´ã€çª—å£ä¸ç³»ç»Ÿä¹‹é—´è¿›è¡Œæ•°æ®å¤„ç†ä¸æ•°æ®äº¤æ¢çš„è¿‡ç¨‹ã€‚</p><h2 id="Windowsåº”ç”¨ç¨‹åºå¸¸ç”¨æ¶ˆæ¯"><a href="#Windowsåº”ç”¨ç¨‹åºå¸¸ç”¨æ¶ˆæ¯" class="headerlink" title="Windowsåº”ç”¨ç¨‹åºå¸¸ç”¨æ¶ˆæ¯"></a>Windowsåº”ç”¨ç¨‹åºå¸¸ç”¨æ¶ˆæ¯</h2><p>WM_KEYDOWNï¼šæŒ‰ä¸‹ä¸€ä¸ªéç³»ç»Ÿé”®æ—¶äº§ç”Ÿçš„æ¶ˆæ¯ã€‚ WM_CHARï¼šæŒ‰ä¸‹ä¸€ä¸ªéç³»ç»Ÿé”®æ—¶äº§ç”Ÿçš„æ¶ˆæ¯ã€‚ WM_CREATEï¼šç”±CreateWindowå‡½æ•°å‘å‡ºçš„æ¶ˆæ¯ã€‚ WM_CLOSEï¼šå…³é—­çª—å£æ—¶äº§ç”Ÿæ­¤æ¶ˆæ¯ã€‚ WM_DESTROYï¼šæ¶ˆé™¤çª—å£æ—¶ç”±DestroyWindowå‡½æ•°å‘å‡ºæ­¤æ¶ˆæ¯ã€‚ WM_QUITï¼šæ¨å‡ºåº”ç”¨ç¨‹åºæ—¶ç”±PostQuitMessageå‡½æ•°å‘å‡ºçš„æ¶ˆæ¯ã€‚ WM_PAINTï¼šå½“å‘ç”Ÿç”¨æˆ·åŒºç§»åŠ¨æˆ–æ˜¾ç¤ºäº‹ä»¶ã€ç”¨æˆ·çª—å£æ”¹å˜å¤§å°çš„äº‹ä»¶ã€ç¨‹åºé€šè¿‡æ»šåŠ¨æ¡æ»šåŠ¨çª—å£æ—¶ï¼Œå‡äº§ç”Ÿä¸€æ¡æ¬¡æ¶ˆæ¯ã€‚</p><h2 id="Windowsä¸­çš„äº‹ä»¶é©±åŠ¨ç¨‹åºè®¾è®¡"><a href="#Windowsä¸­çš„äº‹ä»¶é©±åŠ¨ç¨‹åºè®¾è®¡" class="headerlink" title="Windowsä¸­çš„äº‹ä»¶é©±åŠ¨ç¨‹åºè®¾è®¡"></a>Windowsä¸­çš„äº‹ä»¶é©±åŠ¨ç¨‹åºè®¾è®¡</h2><p>Windowsçš„åº”ç”¨ç¨‹åºæ˜¯äº‹ä»¶é©±åŠ¨çš„ã€‚äº‹ä»¶é©±åŠ¨çš„ç¨‹åºä¸æ˜¯ç”±è¿‡ç¨‹çš„é¡ºåºæ¥æ§åˆ¶ï¼Œè€Œæ˜¯ç”±äº‹ä»¶çš„å‘ç”Ÿæ¥æ§åˆ¶ã€‚ äº‹ä»¶é©±åŠ¨ç¨‹åºè®¾è®¡æ˜¯å›´ç»•ç€ä¿¡æ¯çš„äº§ç”Ÿä¸å¤„ç†è€Œå±•å¼€çš„ã€‚ äº‹ä»¶é©±åŠ¨ç¨‹åºæ–¹æ³•æä¾›äº†è®¸å¤šä¾¿åˆ©ï¼Œå¯¹äºé‚£äº›éœ€è¦å¤§èŒƒå›´ç”¨æˆ·å¹²é¢„çš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œæ›´æ˜¾å…¶ä¼˜è¶Šæ€§ã€‚</p><h2 id="p44-3-3-è¯´æ˜å…¶ä¼˜ç‚¹"><a href="#p44-3-3-è¯´æ˜å…¶ä¼˜ç‚¹" class="headerlink" title="p44 3.3 è¯´æ˜å…¶ä¼˜ç‚¹"></a>p44 3.3 è¯´æ˜å…¶ä¼˜ç‚¹</h2><h2 id="Windowsåº”ç”¨ç¨‹åºçš„ç»„æˆ"><a href="#Windowsåº”ç”¨ç¨‹åºçš„ç»„æˆ" class="headerlink" title="Windowsåº”ç”¨ç¨‹åºçš„ç»„æˆ"></a>Windowsåº”ç”¨ç¨‹åºçš„ç»„æˆ</h2><p>æ‰©å±•å</p><p>æ–‡ä»¶ç±»å‹</p><p>å¤‡æ³¨</p><p>cæˆ–cpp</p><p>Cè¯­è¨€æºç¨‹åºæ–‡ä»¶</p><p>h</p><p>å¤´æ–‡ä»¶</p><p>å¤´æ–‡ä»¶åŒ…å«æºç¨‹åºæ–‡ä»¶éœ€è¦çš„å¤–éƒ¨å¸¸é‡ã€å˜é‡ã€æ•°æ®ç»“æ„å’Œå‡½æ•°å®šä¹‰å’Œè¯´æ˜</p><p>def</p><p>æ¨¡å—å®šä¹‰æ–‡ä»¶</p><p>æ¨¡å—å®šä¹‰æ–‡ä»¶å®šä¹‰ç¨‹åºæ¨¡å—çš„å±æ€§</p><p>rc</p><p>èµ„æºæè¿°æ–‡ä»¶</p><p>èµ„æºæè¿°æ–‡ä»¶å®šä¹‰æºç¨‹åºä½¿ç”¨çš„èµ„æº</p><p>vcproj</p><p>é¡¹ç›®æ–‡ä»¶</p><p>å„ç§æºç¨‹åºæ–‡ä»¶ç¼–è¯‘åç”Ÿæˆé¡¹ç›®æ–‡ä»¶ï¼Œç»è¿›ä¸€æ­¥ç¼–è¯‘æˆä¸ºå¯æ‰§è¡Œæ–‡ä»¶</p><h2 id="æºç¨‹åºç»„æˆç»“æ„"><a href="#æºç¨‹åºç»„æˆç»“æ„" class="headerlink" title="æºç¨‹åºç»„æˆç»“æ„"></a>æºç¨‹åºç»„æˆç»“æ„</h2><ol><li>WinMainå‡½æ•°ï¼ˆå‡½æ•°è¯´æ˜ã€åˆå§‹åŒ–(çª—å£ç±»å®šä¹‰ã€æ³¨å†Œçª—å£ç±»ã€åˆ›å»ºçª—å£ã€æ˜¾ç¤ºçª—å£)ã€æ¶ˆæ¯å¾ªç¯ï¼‰</li><li>çª—å£å‡½æ•°ï¼ˆWndProcï¼‰</li><li>æ•°æ®ç±»å‹ï¼ˆLONGã€DWORDã€UINTã€BOOLã€LOTSTRã€LPCTSTRã€LPSTRã€LPCSTRï¼‰</li><li>æ•°æ®ç»“æ„ï¼ˆMSGã€WNDCLASSEXã€POINTã€RECTï¼‰</li></ol><h2 id="å¸¸ç”¨æ˜¾ç¤ºæ ‡è¯†åŠå…¶è¯´æ˜"><a href="#å¸¸ç”¨æ˜¾ç¤ºæ ‡è¯†åŠå…¶è¯´æ˜" class="headerlink" title="å¸¸ç”¨æ˜¾ç¤ºæ ‡è¯†åŠå…¶è¯´æ˜"></a>å¸¸ç”¨æ˜¾ç¤ºæ ‡è¯†åŠå…¶è¯´æ˜</h2><p>æ ‡è¯†</p><p>è¯´æ˜</p><p>SW_HIDE</p><p>éšè—çª—å£</p><p>SW_SHOW</p><p>æŒ‰å½“å‰çš„ä½ç½®å’Œå¤§å°æ¿€æ´»çª—å£</p><p>SWâ€”â€”SHOWNA</p><p>æŒ‰å½“å‰çš„çŠ¶æ€æ˜¾ç¤ºçª—å£</p><p>SW_SHOWNORMAL</p><p>æ˜¾ç¤ºå¹¶æ¿€æ´»çª—å£</p><h2 id="å›¾åƒåˆ·æ–°"><a href="#å›¾åƒåˆ·æ–°" class="headerlink" title="å›¾åƒåˆ·æ–°"></a>å›¾åƒåˆ·æ–°</h2><p>å›¾å½¢åˆ·æ–°æ˜¯ç»˜å›¾è¿‡ç¨‹ä¸­å¿…é¡»è€ƒè™‘çš„é—®é¢˜ï¼Œå›¾å½¢åˆ·æ–°åŒ…æ‹¬åˆ·æ–°çš„è¯·æ±‚ã€ç³»ç»Ÿå¯¹åˆ·æ–°è¯·æ±‚çš„å“åº”ä»¥åŠå…·ä½“çš„åˆ·æ–°æ–¹æ³•ã€‚</p><h3 id="åˆ·æ–°è¯·æ±‚"><a href="#åˆ·æ–°è¯·æ±‚" class="headerlink" title="åˆ·æ–°è¯·æ±‚"></a>åˆ·æ–°è¯·æ±‚</h3><p>Windowsåº”ç”¨ç¨‹åºå¤§éƒ¨åˆ†çš„ç”¨æˆ·æ“ä½œéƒ½é›†ä¸­åœ¨ç”¨æˆ·åŒºå†…ï¼Œåœ¨çª—å£å¤§å°è°ƒæ•´ã€çª—å£ç§»åŠ¨æˆ–å…¶ä»–å¯¹è±¡è¦†ç›–æ—¶ï¼Œéƒ½å¿…é¡»åˆ·æ–°çª—å£å†…ç”¨æˆ·åŒºçš„å†…å®¹ï¼Œä»¥æ¢å¤ç”¨æˆ·åŒºå†…åº”æœ‰çš„æ˜¾ç¤ºå½¢æ€ã€‚</p><p>Windowsç³»ç»Ÿé€šå¸¸å‘é€WM_PAINTæ¶ˆæ¯å°†åˆ·æ–°è¯·æ±‚ä¼ é€’ç»™åº”ç”¨ç¨‹åºã€‚å½“åˆ·æ–°æ—¶ï¼Œç³»ç»Ÿåœ¨åº”ç”¨ç¨‹åºçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­åŠ å…¥è¯¥æ¶ˆæ¯ï¼Œä»¥é€šçŸ¥çª—å£å‡½æ•°æ‰§è¡Œåˆ·æ–°å¤„ç†ã€‚</p><h3 id="ç³»ç»Ÿå¯¹åˆ·æ–°è¯·æ±‚çš„å“åº”"><a href="#ç³»ç»Ÿå¯¹åˆ·æ–°è¯·æ±‚çš„å“åº”" class="headerlink" title="ç³»ç»Ÿå¯¹åˆ·æ–°è¯·æ±‚çš„å“åº”"></a>ç³»ç»Ÿå¯¹åˆ·æ–°è¯·æ±‚çš„å“åº”</h3><p>çª—å£ç§»åŠ¨åçš„åˆ·æ–° è¢«è¦†ç›–åŒºåŸŸçš„åˆ·æ–° å¯¹è±¡ç©¿è¶Šåçš„åˆ·æ–°</p><h3 id="åˆ·æ–°æ–¹æ³•"><a href="#åˆ·æ–°æ–¹æ³•" class="headerlink" title="åˆ·æ–°æ–¹æ³•"></a>åˆ·æ–°æ–¹æ³•</h3><p>å†…å­˜ä¸­ä¿æŒä¸€ä¸ªæ˜¾ç¤ºè¾“å‡ºçš„å‰¯æœ¬ï¼Œå½“éœ€è¦é‡æ–°ç»˜åˆ¶çª—å£æ—¶ï¼Œå°†å‰¯æœ¬å¤åˆ¶åˆ°ç›¸åº”çš„çª—å£ä¸­ã€‚é€‚ç”¨äºåˆ·æ–°ä½å›¾ç­‰å¤æ‚å›¾å½¢ã€‚ è®°å½•æ›¾ç»å‘ç”Ÿçš„äº‹ä»¶ï¼Œåœ¨çª—å£éœ€è¦åˆ·æ–°æ—¶é‡æ–°è°ƒç”¨çª—å£æ‰§è¡Œè¿™ä¸ªäº‹ä»¶ã€‚ é‡æ–°ç»˜åˆ¶å›¾å½¢ã€‚å¸¸é‡‡ç”¨äºç®€å•å›¾å½¢ï¼Œå°†å›¾å½¢ç»˜åˆ¶å¤„ç†ç¨‹åºæ”¾åœ¨WM_PAINTå“åº”æ¨¡å—ä¸­ã€‚</p><h2 id="BeginPaintä¸GetDCçš„åŒºåˆ«"><a href="#BeginPaintä¸GetDCçš„åŒºåˆ«" class="headerlink" title="BeginPaintä¸GetDCçš„åŒºåˆ«"></a>BeginPaintä¸GetDCçš„åŒºåˆ«</h2><p>é¡¹ç›®\å‡½æ•°</p><p>BeginPaintå‡½æ•°</p><p>GetDCå‡½æ•°</p><p>ä½¿ç”¨ç¯å¢ƒ</p><p>åªç”¨äºå›¾åƒåˆ·æ–°æ—¶è·å–è®¾å¤‡ç¯å¢ƒ</p><p>ä½¿ç”¨è¾ƒå¹¿æ³›</p><p>æ“ä½œåŒºåŸŸ</p><p>æ— æ•ˆåŒºåŸŸ</p><p>ç‰¹å®šçª—å£çš„å®¢æˆ·åŒºæˆ–æ•´ä¸ªçª—å£</p><p>é‡Šæ”¾è®¾å¤‡ç¯å¢ƒæ‰€ç”¨å‡½æ•°</p><p>ç”±EndPaintå‡½æ•°é‡Šæ”¾</p><p>ç”±ReleaseDCå‡½æ•°é‡Šæ”¾</p><h2 id="ç”»ç¬”ã€ç”»åˆ·"><a href="#ç”»ç¬”ã€ç”»åˆ·" class="headerlink" title="ç”»ç¬”ã€ç”»åˆ·"></a>ç”»ç¬”ã€ç”»åˆ·</h2><ol><li>ç”»ç¬”ã€ç”»åˆ·çš„åˆ›å»º å®šä¹‰ï¼šHPEN hP; è·å–Windowsç³»ç»Ÿå®šä¹‰çš„å››ç§ç”»ç¬”ï¼šhP&#x3D;(HPEN)GetStockObject(DC_PEN)ï¼› åˆ›å»ºæ–°ç”»ç¬”ï¼šhP&#x3D;CreatePen();</li></ol><p>å®šä¹‰ï¼šHBRUSH hBr; hBr &#x3D; (HBRUSH)GetStockObject(BLACK_BRUSH); CreateSolidBrush();</p><ol start="2"><li>å°†ç”»ç¬”é€‰å…¥è®¾å¤‡ç¯å¢ƒ hPenOld&#x3D;SelectObject(hdc, hP)ï¼› ç›´åˆ°é€‰å…¥è¥å¤–ä¸€ç§ç”»ç¬”ä¸ºæ­¢ï¼ŒSelectObjectå‡½æ•°çš„è¿”å›å€¼ä¸­ä¿å­˜ä¸Šä¸€æ¬¡ä½¿ç”¨çš„ç”»ç¬”å¥æŸ„hPenOldã€‚</li></ol><p>hBrOld&#x3D;SelectObject(hdc,hBr);</p><ol start="3"><li>åˆ é™¤ç”»ç¬”ã€ç”»åˆ· DeleteObject(hP)ï¼› DeleteObject(hBr);</li></ol><p>æ ·å¼</p><p>è¯´æ˜</p><p>PS_DASH</p><p>è™šçº¿</p><p>PS_DASHDOT</p><p>ç‚¹åˆ’çº¿</p><p>PS_DASHDOTDOT</p><p>åŒç‚¹åˆ’çº¿</p><p>PS_DOT</p><p>ç‚¹çº¿</p><p>PS_INSIDEFRAME</p><p>ç”»ç¬”åœ¨ç”±å°é—­å¯¹è±¡æ¡†ä¸­ç”»å›¾ï¼ˆåœ†ç­‰ï¼‰</p><p>PS_NULL</p><p>ç”»ç¬”ä¸èƒ½ç”»å›¾</p><p>PS_SOLID</p><p>å®çº¿</p><h2 id="æ–‡æœ¬è¾“å‡ºè¿‡ç¨‹"><a href="#æ–‡æœ¬è¾“å‡ºè¿‡ç¨‹" class="headerlink" title="æ–‡æœ¬è¾“å‡ºè¿‡ç¨‹"></a>æ–‡æœ¬è¾“å‡ºè¿‡ç¨‹</h2><p>åœ¨å®šä¹‰äº†å­—ä½“å¥æŸ„ã€å­—ä½“åŠå­—ä½“é¢œè‰²ä¹‹åï¼Œå°±å¯ä»¥æŠŠè®¾ç½®çš„å­—ä½“è¾“å‡ºåˆ°ç›¸åº”çš„è®¾å¤‡ä¸Šã€‚ ç¿å—¯è¾“å‡ºå®šä½æ–¹å¼ï¼šç»å¯¹å®šä½å’Œç›¸å¯¹å®šä½ã€‚</p><h3 id="ç»å¯¹å®šä½"><a href="#ç»å¯¹å®šä½" class="headerlink" title="ç»å¯¹å®šä½"></a>ç»å¯¹å®šä½</h3><p>é€»è¾‘åæ ‡ç¼ºç‚¹ï¼šå·²è¾“å‡ºæ–‡æœ¬å¯¹åç»­çš„ä½ç½®æœ‰å½±å“ï¼Œè¿™ç§å½±å“æ— æ³•ç›´æ¥ä»å®šä½åæ ‡ä¸­ä½“ç°å‡ºæ¥ã€‚è€Œä¸”å½“çª—å£ä½ç½®æˆ–è¾“å‡ºå­—ä½“å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ–‡æœ¬ä¸èƒ½éšç€çª—å£çš„å°ºå¯¸å’Œæ–°çš„å­—ä½“çš„å˜åŒ–çµæ´»è°ƒæ•´ã€‚</p><h3 id="ç›¸å¯¹å®šä½"><a href="#ç›¸å¯¹å®šä½" class="headerlink" title="ç›¸å¯¹å®šä½"></a>ç›¸å¯¹å®šä½</h3><p>æ ¹æ®å·²è¾“å‡ºå†…å®¹ï¼Œé€šè¿‡è·å–å­—ä½“ä¿¡æ¯ï¼Œç„¶åæ ¼å¼åŒ–æ–‡æœ¬ï¼Œç¡®å®šåç»­æ–‡æœ¬çš„è¾“å‡ºçš„ä½ç½®ï¼Œè°ƒç”¨å‡½æ•°åœ¨çª—å£ä¸­è¾“å‡ºæ–‡æœ¬ã€‚</p><ol><li>è·å–å­—ä½“ä¿¡æ¯ GetTextMetrics(hdc, &amp;tm)</li><li>æ ¼å¼åŒ–æ–‡æœ¬ ç¡®å®šåç»­æ–‡æœ¬åæ ‡ï¼Œç¡®å®šæ¢è¡Œæ—¶æ–‡æœ¬åæ ‡ Y &#x3D; y0 + tm.tmHeight + tmExternalLeading;</li><li>æ–‡æœ¬è¾“å‡º TextOut(hdc, x, y, â€œâ€, len);</li></ol><h2 id="ç”¨æˆ·åŒºé¼ æ ‡æ¶ˆæ¯"><a href="#ç”¨æˆ·åŒºé¼ æ ‡æ¶ˆæ¯" class="headerlink" title="ç”¨æˆ·åŒºé¼ æ ‡æ¶ˆæ¯"></a>ç”¨æˆ·åŒºé¼ æ ‡æ¶ˆæ¯</h2><p>æ¶ˆæ¯</p><p>å«ä¹‰</p><p>WM_LBUTTONDOWN &#x2F; UP</p><p>ç”¨æˆ·åŒºå•å‡» &#x2F; é‡Šæ”¾é¼ æ ‡å·¦é”®</p><p>WM_LBUTTONDBLCLK</p><p>ç”¨æˆ·åŒºåŒå‡»é¼ æ ‡å·¦é”®</p><p>WM_MBUTTONDOWN &#x2F; UP</p><p>ç”¨æˆ·åŒºå•å‡» &#x2F; é‡Šæ”¾é¼ æ ‡ä¸­é”®</p><p>WM_MBUTTONDBLCLK</p><p>ç”¨æˆ·åŒºåŒå‡»é¼ æ ‡ä¸­é”®</p><p>WM_RBUTTONDOWN &#x2F; UP</p><p>ç”¨æˆ·åŒºå•å‡» &#x2F; é‡Šæ”¾é¼ æ ‡å³é”®</p><p>WM_RBUTTONDBLCLK</p><p>ç”¨æˆ·åŒºåŒå‡»é¼ æ ‡å³é”®</p><p>WM_MOUSEMOVE</p><p>é¼ æ ‡åœ¨ç”¨æˆ·åŒºå†…ç§»åŠ¨</p><p>WM_MOUSEWHELL</p><p>é¼ æ ‡æ»šè½®ç§»åŠ¨</p><p>WM_MOUSEACTIVATE</p><p>é¼ æ ‡æŒ‡é’ˆåœ¨éæ¿€æ´»çª—å£çš„æ—¶å€™æŒ‰ä¸‹äº†é¼ æ ‡é”®</p><p>WM_MOUSEHOVER</p><p>é¼ æ ‡çš„å…‰æ ‡åœ¨çª—å£çš„ç”¨æˆ·åŒºç›˜æ—‹æ—¶å‘å‡ºçš„æ¶ˆæ¯</p><h2 id="wParamçš„å€¼"><a href="#wParamçš„å€¼" class="headerlink" title="wParamçš„å€¼"></a>wParamçš„å€¼</h2><p>æ¶ˆæ¯</p><p>å«ä¹‰</p><p>MK_CONTROL</p><p>æŒ‰ä¸‹é”®ç›˜Ctrlé”®</p><p>MK_LBUTTON</p><p>æŒ‰ä¸‹é¼ æ ‡å·¦é”®</p><p>MK_MBUTTON</p><p>æŒ‰ä¸‹é¼ æ ‡ä¸­é”®</p><p>MK_RBUTTON</p><p>æŒ‰ä¸‹é¼ æ ‡å³é”®</p><p>MK_SHIFT</p><p>æŒ‰ä¸‹é”®ç›˜Shifté”®</p><p>MK_XBUTTON1</p><p>æŒ‰ä¸‹Windowsç¬¬ä¸€å¾½æ ‡é”®</p><p>MK_XBUTTON2</p><p>æŒ‰ä¸‹Windowsç¬¬äºŒå¾½æ ‡é”®</p><h2 id="é¼ æ ‡åº”ç”¨ç¨‹åºå®ä¾‹"><a href="#é¼ æ ‡åº”ç”¨ç¨‹åºå®ä¾‹" class="headerlink" title="é¼ æ ‡åº”ç”¨ç¨‹åºå®ä¾‹"></a>é¼ æ ‡åº”ç”¨ç¨‹åºå®ä¾‹</h2><p>p &#x3D; (LOWORD(lPARAM), HIWORD(lPARAM)) å½“æ¶ˆæ¯æ˜¯é¼ æ ‡æ¶ˆæ¯æ—¶ï¼Œè·å–åæ ‡</p><h2 id="å¯¹è¯æ¡†"><a href="#å¯¹è¯æ¡†" class="headerlink" title="å¯¹è¯æ¡†"></a>å¯¹è¯æ¡†</h2><p>å¯¹è¯æ¡†æœ‰æ¨¡å¼å¯¹è¯æ¡†å’Œéæ¨¡å¼å¯¹è¯æ¡†ã€‚ æ¨¡å¼å¯¹è¯æ¡†ä¸å…è®¸ç”¨æˆ·åœ¨å…³é—­å¯¹è¯æ¡†ä¹‹å‰åˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºçš„å…¶ä»–çª—å£ï¼Œè€Œéæ¨¡å¼å¯¹è¯æ¡†ç„¶ä¹Ÿã€‚</p><h3 id="æ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•"><a href="#æ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•" class="headerlink" title="æ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•"></a>æ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•</h3><ol><li>å®šä¹‰å¯¹è¯æ¡†èµ„æº STYLE DS_MODALFRAMEWS_POPUP_WS_CAPTION</li><li>è°ƒç”¨å‡½æ•°DialogBoxæ˜¾ç¤ºå¯¹è¯æ¡† DialogBox();</li><li>æ„é€ å¯¹è¯æ¡†æ¶ˆæ¯å¤„ç†å‡½æ•° DlgProc();</li><li>å…³é—­å¯¹è¯æ¡† EndDialog()ï¼›</li></ol><h3 id="éæ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•"><a href="#éæ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•" class="headerlink" title="éæ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•"></a>éæ¨¡å¼å¯¹è¯æ¡†çš„ç¼–ç¨‹æ–¹æ³•</h3><p>éæ¨¡å¼å¯¹è¯æ¡†ä¸æ¨¡å¼å¯¹è¯æ¡†çš„å˜æˆæ¯”è¾ƒç±»ä¼¼ï¼Œä½†åœ¨å¯¹è¯æ¡†çš„å®šä¹‰ã€å¯¹è¯æ¡†çš„åˆ›å»ºåŠæ¶ˆæ¯å¤„ç†ä¸Šç•¥æœ‰å·®åˆ«ã€‚</p><ol><li><p>å®šä¹‰å¯¹è¯æ¡†æ ·å¼ STYLE WS_POPUPWS_CAPTIONWS_VISIBLE</p></li><li><p>åˆ›å»ºå¯¹è¯æ¡†å‡½æ•° CreateDialog();</p></li><li><p>æ¶ˆæ¯å¾ªç¯éƒ¨åˆ†çš„å¤„ç†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="built_in">GetMessage</span>(&amp;Msg, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>)) &#123;</span><br><span class="line"><span class="keyword">if</span>(!<span class="built_in">IsDialogMessage</span>(hdlg, &amp;Msg)) &#123;</span><br><span class="line">    <span class="built_in">TranslateMessage</span>(&amp;Msg);</span><br><span class="line">    <span class="built_in">DispatchMessage</span>(&amp;Msg);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å…³é—­å¯¹è¯æ¡†çš„å‡½æ•° DestroyWindow(HWND hdlg);</p></li></ol><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/25/vc/">https://blog.jujimeizuo.cn/2021/06/25/vc/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ¡Œé¢åº”ç”¨å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆå…«ï¼‰æ§åˆ¶å•å…ƒçš„åŠŸèƒ½</title>
      <link href="/2021/06/20/jizu8/"/>
      <url>/2021/06/20/jizu8/</url>
      
        <content type="html"><![CDATA[<h4 id="8-1-å¾®æ“ä½œå‘½ä»¤çš„åˆ†æ"><a href="#8-1-å¾®æ“ä½œå‘½ä»¤çš„åˆ†æ" class="headerlink" title="8.1 å¾®æ“ä½œå‘½ä»¤çš„åˆ†æ"></a>8.1 å¾®æ“ä½œå‘½ä»¤çš„åˆ†æ</h4><h3 id="8-1-1-å–æŒ‡å‘¨æœŸ"><a href="#8-1-1-å–æŒ‡å‘¨æœŸ" class="headerlink" title="8.1.1 å–æŒ‡å‘¨æœŸ"></a>8.1.1 å–æŒ‡å‘¨æœŸ</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/2D6AC65A-597D-4AC6-92B1-DF95B1F4EF6F.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="8-1-2-é—´å€å‘¨æœŸ"><a href="#8-1-2-é—´å€å‘¨æœŸ" class="headerlink" title="8.1.2 é—´å€å‘¨æœŸ"></a>8.1.2 é—´å€å‘¨æœŸ</h3><p>é—´å€å‘¨æœŸå®Œæˆå–æ“ä½œæ•°æœ‰æ•ˆåœ°å€çš„ä»»åŠ¡ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/867498D7-4CAF-47CC-86D8-F4CA93620BDB.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="8-1-3-æ‰§è¡Œå‘¨æœŸ"><a href="#8-1-3-æ‰§è¡Œå‘¨æœŸ" class="headerlink" title="8.1.3 æ‰§è¡Œå‘¨æœŸ"></a>8.1.3 æ‰§è¡Œå‘¨æœŸ</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/287A4FCE-31E2-4AC0-A483-643F53982B68.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/6F4D6516-67E5-4D3A-A3EC-651064F6C876.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/2CBA798F-1060-4ABF-98C8-8914A5D8F5BC.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/E33C4124-D6BA-4FAE-9C38-8730792D74A0.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="8-2-ä¾‹é¢˜"><a href="#8-2-ä¾‹é¢˜" class="headerlink" title="8.2 ä¾‹é¢˜"></a>8.2 ä¾‹é¢˜</h4><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/7BB164DB-DEA0-468E-864F-41A86D0BC2AF.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>ï¼ˆ1ï¼‰ï¼ˆ2ï¼‰ï¼ˆ3ï¼‰åœ¨ä¸Šé¢</p><p>ï¼ˆ4ï¼‰</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/69C9C3A7-5209-455B-A95E-C66CBCA5AF4E.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/4.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/7FE27029-750B-4D7D-A23B-2244F25BD13E.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/20/jizu8/">https://blog.jujimeizuo.cn/2021/06/20/jizu8/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆä¸ƒï¼‰CPUçš„ç»“æ„å’Œæ€§èƒ½</title>
      <link href="/2021/06/20/jizu7/"/>
      <url>/2021/06/20/jizu7/</url>
      
        <content type="html"><![CDATA[<h4 id="7-1-CPUçš„ç»“æ„"><a href="#7-1-CPUçš„ç»“æ„" class="headerlink" title="7.1 CPUçš„ç»“æ„"></a>7.1 CPUçš„ç»“æ„</h4><h3 id="7-1-1-CPUçš„åŠŸèƒ½"><a href="#7-1-1-CPUçš„åŠŸèƒ½" class="headerlink" title="7.1.1 CPUçš„åŠŸèƒ½"></a>7.1.1 CPUçš„åŠŸèƒ½</h3><p>ï¼ˆ1ï¼‰å–æŒ‡ä»¤ æ§åˆ¶å™¨å¿…é¡»å…·å¤‡èƒ½è‡ªåŠ¨åœ°ä»å­˜å‚¨å™¨ä¸­å–å‡ºæŒ‡ä»¤çš„åŠŸèƒ½</p><p>ï¼ˆ2ï¼‰åˆ†ææŒ‡ä»¤ åˆ†ææŒ‡ä»¤åŒ…æ‹¬ä¸¤éƒ¨åˆ†å†…å®¹ï¼šå…¶ä¸€ï¼Œåˆ†ææ­¤æŒ‡ä»¤è¦å®Œæˆä»€ä¹ˆæ“ä½œï¼Œå³æ§åˆ¶å™¨éœ€å‘å‡ºä»€ä¹ˆæ“ä½œå‘½ä»¤ï¼›å…¶äºŒï¼Œåˆ†æå‚ä¸è¿™æ¬¡æ“ä½œçš„æ“ä½œæ•°åœ°å€ï¼Œå³æ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€ã€‚</p><p>ï¼ˆ3ï¼‰æ‰§è¡ŒæŒ‡ä»¤ æ‰§è¡ŒæŒ‡ä»¤å°±æ˜¯æ ¹æ®åˆ†ææŒ‡ä»¤äº§ç”Ÿçš„â€œæ“ä½œå‘½ä»¤â€å’Œâ€œæ“ä½œæ•°åœ°å€â€çš„è¦æ±‚ï¼Œå½¢æˆæ“ä½œæ§åˆ¶ä¿¡å·åºåˆ—ï¼Œé€šè¿‡å¯¹è¿ç®—å™¨ã€å­˜å‚¨å™¨ä»¥åŠI&#x2F;Oè®¾å¤‡çš„æ“ä½œï¼Œæ‰§è¡Œæ¯æ¡æŒ‡ä»¤ã€‚</p><p>CPUå¿…é¡»å…·æœ‰æ§åˆ¶ç¨‹åºçš„é¡ºåºæ‰§è¡Œï¼ˆç§°æŒ‡ä»¤æ§åˆ¶ï¼‰ã€äº§ç”Ÿå®Œæˆæ¯æ¡æŒ‡ä»¤çš„æ§åˆ¶å‘½ä»¤ï¼ˆç§°æ“ä½œæ§åˆ¶ï¼‰ã€å¯¹å„ç§æ“ä½œåŠ ä»¥æ—¶é—´ä¸Šçš„æ§åˆ¶ï¼ˆç§°æ—¶é—´æ§åˆ¶ï¼‰ã€å¯¹æ•°æ®è¿›è¡Œç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—ï¼ˆç§°æ•°æ®åŠ å·¥ï¼‰ã€å¤„ç†ä¸­æ–­ç­‰åŠŸèƒ½ã€‚</p><h3 id="7-1-2-CPUç»“æ„æ¡†å›¾"><a href="#7-1-2-CPUç»“æ„æ¡†å›¾" class="headerlink" title="7.1.2 CPUç»“æ„æ¡†å›¾"></a>7.1.2 CPUç»“æ„æ¡†å›¾</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-79.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="7-1-3-CPUçš„å¯„å­˜å™¨"><a href="#7-1-3-CPUçš„å¯„å­˜å™¨" class="headerlink" title="7.1.3 CPUçš„å¯„å­˜å™¨"></a>7.1.3 CPUçš„å¯„å­˜å™¨</h3><p>CPUä¸­çš„å¯„å­˜å™¨å¤§è‡´å¯åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç±»å±äº<strong>ç”¨æˆ·å¯è§å¯„å­˜å™¨</strong>ï¼Œç”¨æˆ·å¯å¯¹è¿™ç±»å¯„å­˜å™¨ç¼–ç¨‹ï¼Œä»¥åŠé€šè¿‡ä¼˜åŒ–ä½¿CPUå› ä½¿ç”¨è¿™ç±»å¯„å­˜å™¨è€Œå‡å°‘å¯¹ä¸»å­˜çš„è®¿é—®æ¬¡æ•°ï¼›å¦ä¸€ç±»å±äº<strong>æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨</strong>ï¼Œç”¨æˆ·ä¸å¯å¯¹è¿™ç±»å¯„å­˜å™¨ç¼–ç¨‹ï¼Œå®ƒä»¬è¢«æ§åˆ¶éƒ¨ä»¶ä½¿ç”¨ï¼Œä»¥æ§åˆ¶CPUçš„æ“ä½œï¼Œä¹Ÿå¯è¢«å¸¦æœ‰ç‰¹æƒçš„æ“ä½œç³»ç»Ÿç¨‹åºä½¿ç”¨ï¼Œä»è€Œæ§åˆ¶ç¨‹åºçš„æ‰§è¡Œã€‚</p><h4 id="ç”¨æˆ·å¯è§å¯„å­˜å™¨"><a href="#ç”¨æˆ·å¯è§å¯„å­˜å™¨" class="headerlink" title="ç”¨æˆ·å¯è§å¯„å­˜å™¨"></a>ç”¨æˆ·å¯è§å¯„å­˜å™¨</h4><p>ï¼ˆ1ï¼‰é€šç”¨å¯„å­˜å™¨ é€šç”¨å¯„å­˜å™¨å¯ç”±ç¨‹åºè®¾è®¡è€…æŒ‡å®šè®¸å¤šåŠŸèƒ½ï¼Œå¯ç”¨äºå­˜æ”¾æ“ä½œæ•°ï¼Œä¹Ÿå¯ä½œä¸ºæ»¡è¶³æŸç§å¯»å€æ–¹å¼æ‰€éœ€çš„å¯„å­˜å™¨ã€‚å¯„å­˜å™¨é—´æ¥å¯»å€æ—¶è¿˜å¯ç”¨é€šç”¨å¯„å­˜å™¨å­˜æ”¾æœ‰æ•ˆåœ°å€çš„åœ°å€ã€‚</p><p>ï¼ˆ2ï¼‰æ•°æ®å¯„å­˜å™¨ æ•°æ®å¯„å­˜å™¨ç”¨äºå­˜æ”¾æ“ä½œæ•°ï¼Œå…¶ä½æ•°åº”æ»¡è¶³å¤šæ•°æ•°æ®ç±»å‹çš„æ•°å€¼èŒƒå›´ã€‚</p><p>ï¼ˆ3ï¼‰åœ°å€å¯„å­˜å™¨ åœ°å€å¯„å­˜å™¨ç”¨äºå­˜æ”¾åœ°å€ï¼Œå…¶æœ¬èº«å¯ä»¥å…·æœ‰é€šç”¨æ€§ï¼Œä¹Ÿå¯ç”¨äºç‰¹æ®Šçš„å¯»å€æ–¹å¼ã€‚</p><p>ï¼ˆ4ï¼‰æ¡ä»¶ç å¯„å­˜å™¨ æ¡ä»¶ç æ˜¯CPUæ ¹æ®è¿ç®—ç»“æœç”±ç¡¬ä»¶è®¾ç½®çš„ä½ã€‚å°†æ¡ä»¶ç æ”¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå¯„å­˜å™¨ä¸­ï¼Œå°±æ„æˆäº†æ¡ä»¶ç å¯„å­˜å™¨ã€‚</p><h4 id="æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨"><a href="#æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨" class="headerlink" title="æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨"></a>æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨</h4><p>MARï¼šå­˜å‚¨å™¨åœ°å€å¯„å­˜å™¨ï¼Œç”¨äºå­˜æ”¾å°†è¢«è®¿é—®çš„å­˜å‚¨å•å…ƒçš„åœ°å€ã€‚ MDRï¼šå­˜å‚¨å™¨æ•°æ®å¯„å­˜å™¨ï¼Œç”¨äºå­˜æ”¾æ¬²å­˜å…¥å­˜å‚¨å™¨ä¸­çš„æ•°æ®æˆ–æœ€è¿‘ä»å­˜å‚¨å™¨ä¸­è¯»å‡ºçš„æ•°æ®ã€‚ PCï¼šç¨‹åºè®¡æ•°å™¨ï¼Œå­˜æ”¾ç°è¡ŒæŒ‡ä»¤çš„åœ°å€ï¼Œé€šå¸¸å…·æœ‰è®¡æ•°åŠŸèƒ½ã€‚å½“é‡åˆ°è½¬ç§»ç±»æŒ‡ä»¤æ—¶ï¼ŒPCçš„å€¼å¯è¢«ä¿®æ”¹ã€‚ IRï¼šæŒ‡ä»¤å¯„å­˜å™¨ï¼Œå­˜æ”¾å½“å‰æ¬²æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ PSWï¼šç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨ï¼Œå­˜æ”¾æ¡ä»¶ç å’Œå…¶ä»–çŠ¶æ€ä¿¡æ¯ã€‚ åœ¨å…·æœ‰ä¸­æ–­ç³»ç»Ÿçš„æœºå™¨ä¸­è¿˜æœ‰ä¸­æ–­æ ‡è®°å¯„å­˜å™¨ã€‚</p><h3 id="7-1-4-æ§åˆ¶å•å…ƒå’Œä¸­æ–­ç³»ç»Ÿ"><a href="#7-1-4-æ§åˆ¶å•å…ƒå’Œä¸­æ–­ç³»ç»Ÿ" class="headerlink" title="7.1.4 æ§åˆ¶å•å…ƒå’Œä¸­æ–­ç³»ç»Ÿ"></a>7.1.4 æ§åˆ¶å•å…ƒå’Œä¸­æ–­ç³»ç»Ÿ</h3><p>æ§åˆ¶å•å…ƒï¼ˆCUï¼‰æ˜¯æä¾›å®Œæˆè®¡ç®—æœºå…¨éƒ¨æŒ‡ä»¤æ“ä½œçš„å¾®æ“ä½œå‘½ä»¤åºåˆ—éƒ¨ä»¶ã€‚å¾®æ“ä½œå‘½ä»¤åºåˆ—çš„å½¢æˆæ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯ç»„åˆé€»è¾‘è®¾è®¡æ–¹æ³•ï¼Œä¸º<strong>ç¡¬è¿çº¿é€»è¾‘</strong>ï¼›å¦ä¸€ç§æ˜¯å¾®ç¨‹åºè®¾è®¡æ–¹æ³•ï¼Œä¸º<strong>å­˜å‚¨é€»è¾‘</strong>ã€‚</p><h4 id="7-2-æŒ‡ä»¤å‘¨æœŸ"><a href="#7-2-æŒ‡ä»¤å‘¨æœŸ" class="headerlink" title="7.2 æŒ‡ä»¤å‘¨æœŸ"></a>7.2 æŒ‡ä»¤å‘¨æœŸ</h4><h3 id="7-2-1-æ¦‚å¿µ"><a href="#7-2-1-æ¦‚å¿µ" class="headerlink" title="7.2.1 æ¦‚å¿µ"></a>7.2.1 æ¦‚å¿µ</h3><p>CPUæ¯å–å‡ºå¹¶æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€çš„å…¨éƒ¨æ—¶é—´ç§°ä¸º<strong>æŒ‡ä»¤å‘¨æœŸ</strong>ï¼Œä¹Ÿå³CPUå®Œæˆä¸€æ¡æŒ‡ä»¤çš„æ—¶é—´ã€‚å–æŒ‡é˜¶æ®µå®Œæˆå–æŒ‡ä»¤å’Œåˆ†ææŒ‡ä»¤çš„æ“ä½œï¼Œåˆç§°<strong>å–æŒ‡å‘¨æœŸ</strong>ï¼›æ‰§è¡Œé˜¶æ®µå®Œæˆæ‰§è¡ŒæŒ‡ä»¤çš„æ“ä½œï¼Œåˆç§°<strong>æ‰§è¡Œå‘¨æœŸ</strong>ã€‚</p><h3 id="7-2-2-æŒ‡ä»¤å‘¨æœŸçš„æ•°æ®æµ"><a href="#7-2-2-æŒ‡ä»¤å‘¨æœŸçš„æ•°æ®æµ" class="headerlink" title="7.2.2 æŒ‡ä»¤å‘¨æœŸçš„æ•°æ®æµ"></a>7.2.2 æŒ‡ä»¤å‘¨æœŸçš„æ•°æ®æµ</h3><h4 id="å–å€¼å‘¨æœŸæ•°æ®æµ"><a href="#å–å€¼å‘¨æœŸæ•°æ®æµ" class="headerlink" title="å–å€¼å‘¨æœŸæ•°æ®æµ"></a>å–å€¼å‘¨æœŸæ•°æ®æµ</h4><h4 id="é—´å€å‘¨æœŸçš„æ•°æ®æµ"><a href="#é—´å€å‘¨æœŸçš„æ•°æ®æµ" class="headerlink" title="é—´å€å‘¨æœŸçš„æ•°æ®æµ"></a>é—´å€å‘¨æœŸçš„æ•°æ®æµ</h4><h4 id="æ‰§è¡Œå‘¨æœŸçš„æ•°æ®æµ"><a href="#æ‰§è¡Œå‘¨æœŸçš„æ•°æ®æµ" class="headerlink" title="æ‰§è¡Œå‘¨æœŸçš„æ•°æ®æµ"></a>æ‰§è¡Œå‘¨æœŸçš„æ•°æ®æµ</h4><h4 id="ä¸­æ–­å‘¨æœŸçš„æ•°æ®æµ"><a href="#ä¸­æ–­å‘¨æœŸçš„æ•°æ®æµ" class="headerlink" title="ä¸­æ–­å‘¨æœŸçš„æ•°æ®æµ"></a>ä¸­æ–­å‘¨æœŸçš„æ•°æ®æµ</h4><h4 id="7-3-æŒ‡ä»¤æµæ°´"><a href="#7-3-æŒ‡ä»¤æµæ°´" class="headerlink" title="7.3 æŒ‡ä»¤æµæ°´"></a>7.3 æŒ‡ä»¤æµæ°´</h4><p>ï¼ˆ1ï¼‰æé«˜å™¨ä»¶çš„æ€§èƒ½ ï¼ˆ2ï¼‰æ”¹è¿›ç³»ç»Ÿçš„ç»“æ„ï¼Œå¼€å‘ç³»ç»Ÿçš„å¹¶è¡Œæ€§ å¹¶è¡Œï¼šåŒ…å«åŒæ—¶æ€§å’Œå¹¶å‘æ€§ä¸¤æ–¹é¢ã€‚åŒæ—¶æ€§æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼Œå¹¶å‘æ€§æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´æ®µå‘ç”Ÿã€‚åœ¨åŒä¸€æ—¶åˆ»æˆ–åŒä¸€æ—¶é—´æ®µå†…å®Œæˆä¸¤ç§æˆ–ä¸¤ç§ä»¥ä¸Šæ€§è´¨ç›¸åŒæˆ–ä¸åŒçš„åŠŸèƒ½ï¼Œåªè¦åœ¨æ—¶é—´ä¸Šäº’ç›¸é‡å ï¼Œå°±å­˜åœ¨å¹¶è¡Œæ€§ã€‚ å¹¶è¡Œæ€§ä½“ç°åœ¨ä¸åŒç­‰çº§ä¸Šã€‚é€šå¸¸åˆ†ä¸º4ä¸ªçº§åˆ«ï¼šä½œä¸šçº§æˆ–ç¨‹åºçº§ã€ä»»åŠ¡çº§æˆ–è¿›ç¨‹çº§ã€æŒ‡ä»¤ä¹‹é—´çº§å’ŒæŒ‡ä»¤å†…éƒ¨çº§ã€‚å‰ä¸¤çº§ä¸ºç²—ç²’åº¦ï¼Œåˆç§°ä¸ºè¿‡ç¨‹çº§ï¼›åä¸¤çº§ä¸ºç»†ç²’åº¦ï¼Œåˆç§°ä¸ºæŒ‡ä»¤çº§ã€‚ç²—ç²’åº¦å¹¶è¡Œæ€§ä¸€èˆ¬ç”¨ç®—æ³•å®ç°ï¼Œç»†ç²’åº¦å¹¶è¡Œæ€§ä¸€èˆ¬ç”¨ç¡¬ä»¶å®ç°ã€‚ç²—ç²’åº¦å¹¶è¡Œæ€§æ˜¯åœ¨å¤šä¸ªå¤„ç†æœºä¸Šåˆ†åˆ«è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œç”±å¤šå°å¤„ç†æœºåˆä½œå®Œæˆä¸€ä¸ªç¨‹åºï¼›ç»†ç²’åº¦å¹¶è¡Œæ€§æ˜¯æŒ‡åœ¨å¤„ç†æœºçš„æ“ä½œçº§å’ŒæŒ‡ä»¤çº§çš„å¹¶è¡Œæ€§ï¼Œå…¶ä¸­æŒ‡ä»¤çš„æµæ°´ä½œä¸šå°±æ˜¯ä¸€é¡¹é‡è¦æŠ€æœ¯ã€‚</p><h3 id="7-3-1-æŒ‡ä»¤æµæ°´åŸç†"><a href="#7-3-1-æŒ‡ä»¤æµæ°´åŸç†" class="headerlink" title="7.3.1 æŒ‡ä»¤æµæ°´åŸç†"></a>7.3.1 æŒ‡ä»¤æµæ°´åŸç†</h3><p>æŠŠæŒ‡ä»¤çš„å¤„ç†è¿‡ç¨‹åˆ†ä¸ºå–æŒ‡ä»¤å’Œæ‰§è¡ŒæŒ‡ä»¤ä¸¤ä¸ªé˜¶æ®µï¼Œåœ¨ä¸é‡‡ç”¨æµæ°´æŠ€æœ¯çš„è®¡ç®—æœºé‡Œï¼Œå–æŒ‡ä»¤å’Œæ‰§è¡ŒæŒ‡ä»¤æ˜¯å‘¨è€Œå¤å§‹åœ°å‡ºç°ï¼Œå„æ¡æŒ‡ä»¤æŒ‰é¡ºåºä¸²è¡Œæ‰§è¡Œçš„ã€‚</p><h3 id="7-3-2-å½±å“æµæ°´çº¿æ€§èƒ½çš„å› ç´ "><a href="#7-3-2-å½±å“æµæ°´çº¿æ€§èƒ½çš„å› ç´ " class="headerlink" title="7.3.2 å½±å“æµæ°´çº¿æ€§èƒ½çš„å› ç´ "></a>7.3.2 å½±å“æµæ°´çº¿æ€§èƒ½çš„å› ç´ </h3><p>åœ¨æµæ°´è¿‡ç¨‹ä¸­ä¼šå‡ºç°ä¸‰ç§ç›¸å…³ï¼Œä½¿æµæ°´çº¿ä¸æ–­æµå®ç°èµ·æ¥å¾ˆå›°éš¾ï¼Œå³ç»“æ„ç›¸å…³ã€æ•°æ®ç›¸å…³ã€æ§åˆ¶ç›¸å…³ã€‚ ç»“æ„ç›¸å…³ï¼šå½“å¤šæ¡æŒ‡ä»¤è¿›å…¥æµæ°´çº¿åï¼Œç¡¬ä»¶èµ„æºæ»¡è¶³ä¸äº†æŒ‡ä»¤é‡å æ‰§è¡Œçš„è¦æ±‚æ—¶äº§ç”Ÿçš„ã€‚ æ•°æ®ç›¸å…³ï¼šæŒ‡ä»¤åœ¨æµæ°´çº¿ä¸­é‡å æ‰§è¡Œæ—¶ï¼Œå½“åç»§æŒ‡ä»¤éœ€è¦ç”¨åˆ°å‰é¢çš„æ‰§è¡Œç»“æœæ—¶å‘ç”Ÿçš„ã€‚ æ§åˆ¶ç›¸å…³ï¼šå½“æµæ°´çº¿é‡åˆ°åˆ†æ”¯æŒ‡ä»¤å’Œå…¶ä»–æ”¹å˜PCå€¼çš„æŒ‡ä»¤æ—¶å¼•èµ·çš„ã€‚</p><p>å‡è®¾æµæ°´çº¿ç”±5æ®µç»„æˆï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯å–æŒ‡ä»¤ï¼ˆIFï¼‰ã€æŒ‡ä»¤è¯‘ç &#x2F;è¯»å¯„å­˜å™¨ï¼ˆIDï¼‰ã€æ‰§è¡Œ&#x2F;è®¿å­˜æœ‰æ•ˆåœ°å€è®¡ç®—ï¼ˆEXï¼‰ã€å­˜å‚¨å™¨è®¿é—®ï¼ˆMEMï¼‰ã€ç»“æœå†™å›å¯„å­˜å™¨ï¼ˆWBï¼‰ã€‚</p><h4 id="ç»“æ„ç›¸å…³"><a href="#ç»“æ„ç›¸å…³" class="headerlink" title="ç»“æ„ç›¸å…³"></a>ç»“æ„ç›¸å…³</h4><h4 id="æ•°æ®ç›¸å…³"><a href="#æ•°æ®ç›¸å…³" class="headerlink" title="æ•°æ®ç›¸å…³"></a>æ•°æ®ç›¸å…³</h4><h4 id="æ§åˆ¶ç›¸å…³"><a href="#æ§åˆ¶ç›¸å…³" class="headerlink" title="æ§åˆ¶ç›¸å…³"></a>æ§åˆ¶ç›¸å…³</h4><h3 id="7-3-3-æµæ°´çº¿æ€§èƒ½"><a href="#7-3-3-æµæ°´çº¿æ€§èƒ½" class="headerlink" title="7.3.3 æµæ°´çº¿æ€§èƒ½"></a>7.3.3 æµæ°´çº¿æ€§èƒ½</h3><p>æµæ°´çº¿æ€§èƒ½é€šå¸¸ç”¨<strong>ååç‡ã€åŠ é€Ÿæ¯”ã€æ•ˆç‡</strong>3é¡¹æŒ‡æ ‡æ¥è¡¡é‡ã€‚</p><h4 id="ååç‡"><a href="#ååç‡" class="headerlink" title="ååç‡"></a>ååç‡</h4><p>åœ¨æŒ‡ä»¤çº§æµæ°´çº¿ä¸­ï¼Œ<strong>ååç‡</strong>æ˜¯æŒ‡å•ä½æ—¶é—´å†…æµæ°´çº¿æ‰€å®ŒæˆæŒ‡ä»¤æˆ–è¾“å‡ºç»“æœçš„æ•°é‡ã€‚ååç‡åˆæœ‰<strong>æœ€å¤§ååç‡</strong>å’Œ<strong>å®é™…ååç‡</strong>ä¹‹åˆ†ã€‚</p><p><strong>æœ€å¤§ååç‡</strong>æ˜¯æŒ‡æµæ°´çº¿åœ¨è¿ç»­æµåŠ¨è¾¾åˆ°ç¨³å®šçŠ¶æ€åæ‰€è·å¾—çš„ååç‡ã€‚å¯¹äºmæ®µçš„æŒ‡ä»¤æµæ°´çº¿è€Œè¨€ï¼Œè‹¥å„æ®µçš„æ—¶é—´å‡ä¸ºÎ”tï¼Œåˆ™æœ€å¤§ååç‡ä¸º</p><p><code>T_&#123;pmax&#125;=\frac&#123;1&#125;&#123;\triangle t&#125;</code> æµæ°´çº¿ä»…åœ¨è¿ç»­æµåŠ¨æ—¶æ‰å¯è¾¾åˆ°æœ€å¤§ååç‡ã€‚å®é™…ååç‡æ€»æ˜¯å°äºæœ€å¤§ååç‡ã€‚ å®é™…ååç‡æ˜¯æŒ‡æµæ°´çº¿å®Œæˆnæ¡æŒ‡ä»¤çš„å®é™…ååç‡ã€‚å®é™…ååç‡ä¸º <code>T_p=\frac&#123;T_&#123;pmax&#125;&#125;&#123;1+(m-1)/n&#125;</code></p><h4 id="åŠ é€Ÿæ¯”"><a href="#åŠ é€Ÿæ¯”" class="headerlink" title="åŠ é€Ÿæ¯”"></a>åŠ é€Ÿæ¯”</h4><p>æµæ°´çº¿çš„åŠ é€Ÿæ¯”æ˜¯æŒ‡mæ®µæµæ°´çº¿çš„é€Ÿåº¦ä¸ç­‰åŠŸèƒ½çš„éæµæ°´çº¿çš„é€Ÿåº¦ä¹‹æ¯”ã€‚åŠ é€Ÿæ¯”Spä¸º <code>S_p=\frac&#123;m&#125;&#123;1+(m-1)/n&#125;</code></p><h4 id="æ•ˆç‡"><a href="#æ•ˆç‡" class="headerlink" title="æ•ˆç‡"></a>æ•ˆç‡</h4><p>æ•ˆç‡æ˜¯æŒ‡æµæ°´çº¿ä¸­å„åŠŸèƒ½æ®µçš„åˆ©ç”¨ç‡ã€‚é€šå¸¸ç”¨æµæ°´çº¿å„æ®µå¤„äºå·¥ä½œæ—¶é—´çš„æ—¶ç©ºåŒºä¸æµæ°´çº¿ä¸­å„æ®µæ€»çš„æ—¶ç©ºåŒºä¹‹æ¯”æ¥è¡¡é‡æµæ°´çº¿çš„æ•ˆç‡ã€‚ <code>E=T_p\triangle t</code></p><h3 id="7-3-4-æµæ°´çº¿ç§çš„å¤šå‘æŠ€æœ¯ã€‚"><a href="#7-3-4-æµæ°´çº¿ç§çš„å¤šå‘æŠ€æœ¯ã€‚" class="headerlink" title="7.3.4 æµæ°´çº¿ç§çš„å¤šå‘æŠ€æœ¯ã€‚"></a>7.3.4 æµæ°´çº¿ç§çš„å¤šå‘æŠ€æœ¯ã€‚</h3><p>é™¤äº†é‡‡ç”¨å¥½çš„æŒ‡ä»¤è°ƒåº¦ç®—æ³•ã€é‡æ–°ç»„ç»‡æŒ‡ä»¤æ‰§è¡Œé¡ºåºã€é™ä½ç›¸å…³å¸¦æ¥çš„å¹²æ‰°ä»¥åŠä¼˜åŒ–ç¼–è¯‘å¤–ï¼Œè¿˜å¯å¼€å‘æµæ°´çº¿ä¸­çš„å¤šå‘æŠ€æœ¯ï¼Œè®¾æ³•åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…ï¼Œäº§ç”Ÿæ›´å¤šçš„ç»“æœã€‚å¸¸è§çš„å¤šå‘æŠ€æœ¯æœ‰è¶…æ ‡é‡æŠ€æœ¯ã€è¶…æµæ°´çº¿æŠ€æœ¯ã€è¶…é•¿æŒ‡ä»¤å­—æŠ€æœ¯ã€‚</p><h3 id="7-3-5-æµæ°´çº¿ç»“æ„"><a href="#7-3-5-æµæ°´çº¿ç»“æ„" class="headerlink" title="7.3.5 æµæ°´çº¿ç»“æ„"></a>7.3.5 æµæ°´çº¿ç»“æ„</h3><h4 id="æŒ‡ä»¤æµæ°´çº¿ç»“æ„"><a href="#æŒ‡ä»¤æµæ°´çº¿ç»“æ„" class="headerlink" title="æŒ‡ä»¤æµæ°´çº¿ç»“æ„"></a>æŒ‡ä»¤æµæ°´çº¿ç»“æ„</h4><p>æŒ‡ä»¤æµæ°´çº¿æ˜¯å°†æŒ‡ä»¤çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ç”¨æµæ°´çº¿è¿›è¡Œåˆ†æ®µå¤„ç†ï¼Œå…¸å‹çš„æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸ºâ€œå–æŒ‡ä»¤â€”â€”æŒ‡ä»¤è¯‘ç â€”â€”å½¢æˆåœ°å€â€”â€”å–æ“ä½œæ•°â€”â€”æ‰§è¡ŒæŒ‡ä»¤â€”â€”å›å†™ç»“æœâ€”â€”ä¿®æ”¹æŒ‡ä»¤æŒ‡é’ˆâ€è¿™å‡ ä¸ªé˜¶æ®µã€‚ æŒ‡ä»¤æµæ°´çº¿å¯¹æœºå™¨æ€§èƒ½çš„æ”¹å–„ç¨‹åº¦å–å†³äºæŠŠå¤„ç†è¿‡ç¨‹åˆ†è§£ä¸ºå¤šå°‘ä¸ªç›¸ç­‰çš„æ—¶é—´æ®µæ•°ã€‚</p><h4 id="è¿ç®—æµæ°´çº¿"><a href="#è¿ç®—æµæ°´çº¿" class="headerlink" title="è¿ç®—æµæ°´çº¿"></a>è¿ç®—æµæ°´çº¿</h4><p>æµæ°´çº¿ç›¸é‚»ä¸¤æ®µåœ¨æ‰§è¡Œä¸åŒçš„æ“ä½œï¼Œå› æ­¤åœ¨ç›¸é‚»ä¸¤æ®µä¹‹é—´å¿…é¡»è®¾ç½®é”å­˜å™¨æˆ–å¯„å­˜å™¨ï¼Œä»¥ä¿è¯åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…æµæ°´çº¿çš„è¾“å…¥ä¿¡å·ä¸å˜ã€‚è¿™ä¸€æŒ‡å¯¼æ€æƒ³ä¹Ÿé€‚ç”¨äºæŒ‡ä»¤æµæ°´ã€‚</p><h4 id="7-4-ä¸­æ–­ç³»ç»Ÿ"><a href="#7-4-ä¸­æ–­ç³»ç»Ÿ" class="headerlink" title="7.4 ä¸­æ–­ç³»ç»Ÿ"></a>7.4 ä¸­æ–­ç³»ç»Ÿ</h4><h3 id="7-4-1-æ¦‚è¿°"><a href="#7-4-1-æ¦‚è¿°" class="headerlink" title="7.4.1 æ¦‚è¿°"></a>7.4.1 æ¦‚è¿°</h3><h4 id="å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ "><a href="#å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ " class="headerlink" title="å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ "></a>å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ </h4><p>ï¼ˆ1ï¼‰äººä¸ºè®¾ç½®çš„ä¸­æ–­ è¿™ç§ä¸­æ–­ä¸€èˆ¬ç§°ä¸ºè‡ªæ„¿ä¸­æ–­ï¼Œå› ä¸ºå®ƒæ˜¯ç¨‹åºä¸­äººä¸ºè®¾ç½®çš„ï¼Œæ•…ä¸€æ—¦æœºå™¨æ‰§è¡Œè¿™ç§äººä¸ºä¸­æ–­ï¼Œä¾¿è‡ªæ„¿åœæ­¢ç°è¡Œç¨‹åºè€Œè½¬å…¥ä¸­æ–­å¤„ç†ã€‚ ï¼ˆ2ï¼‰ç¨‹åºæ€§äº‹æ•… å¦‚å®šç‚¹æº¢å‡ºã€æµ®ç‚¹æº¢å‡ºã€æ“ä½œç ä¸èƒ½è¯†åˆ«ã€é™¤æ³•ä¸­å‡ºç°â€œéæ³•â€ç­‰ï¼Œè¿™äº›éƒ½å±äºç”±ç¨‹åºè®¾è®¡ä¸å‘¨è€Œå¼•èµ·çš„ä¸­æ–­ã€‚ ï¼ˆ3ï¼‰ç¡¬ä»¶æ•…éšœ ï¼ˆ4ï¼‰I&#x2F;Oè®¾å¤‡ I&#x2F;Oè®¾å¤‡è¢«å¯åŠ¨ä»¥åï¼Œä¸€æ—¦å‡†å¤‡å°±ç»ªï¼Œä¾¿å‘CPUå‘å‡ºä¸­æ–­è¯·æ±‚ã€‚ ï¼ˆ5ï¼‰å¤–éƒ¨äº‹ä»¶ ç”¨æˆ·é€šè¿‡é”®ç›˜æ¥ä¸­æ–­ç°è¡Œç¨‹åºå±äºå¤–éƒ¨äº‹ä»¶ä¸­æ–­ã€‚</p><p>é€šå¸¸å°†èƒ½å¼•èµ·ä¸­æ–­çš„å„ä¸ªå› ç´ ç§°ä¸ºä¸­æ–­æºã€‚ä¸­æ–­æºå¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼šä¸€ç±»ä¸ºä¸å¯å±è”½ä¸­æ–­ï¼Œè¿™ç±»ä¸­æ–­CPUä¸èƒ½ç¦æ­¢ï¼Œå¦‚ç”µæºæ‰ç”µï¼›å¦ä¸€ç±»ä¸ºå¯å±è”½ä¸­æ–­ï¼Œå¯¹å¯å±è”½ä¸­æ–­æºçš„è¯·æ±‚ï¼ŒCPUå¯æ ¹æ®è¯¥ä¸­æ–­æºæ˜¯å¦è¢«å±è”½æ¥ç¡®å®šæ˜¯å¦ç»™äºˆå“åº”ã€‚è‹¥æœªå±è”½åˆ™èƒ½å“åº”ï¼›è‹¥å·²è¢«å±è”½ï¼Œåˆ™CPUä¸èƒ½å“åº”ã€‚</p><h3 id="7-4-2-ä¸­æ–­è¯·æ±‚æ ‡è®°å’Œä¸­æ–­åˆ¤ä¼˜é€»è¾‘"><a href="#7-4-2-ä¸­æ–­è¯·æ±‚æ ‡è®°å’Œä¸­æ–­åˆ¤ä¼˜é€»è¾‘" class="headerlink" title="7.4.2 ä¸­æ–­è¯·æ±‚æ ‡è®°å’Œä¸­æ–­åˆ¤ä¼˜é€»è¾‘"></a>7.4.2 ä¸­æ–­è¯·æ±‚æ ‡è®°å’Œä¸­æ–­åˆ¤ä¼˜é€»è¾‘</h3><h4 id="ä¸­æ–­è¯·æ±‚æ ‡è®°"><a href="#ä¸­æ–­è¯·æ±‚æ ‡è®°" class="headerlink" title="ä¸­æ–­è¯·æ±‚æ ‡è®°"></a>ä¸­æ–­è¯·æ±‚æ ‡è®°</h4><h4 id="ä¸­æ–­åˆ¤ä¼˜é€»è¾‘"><a href="#ä¸­æ–­åˆ¤ä¼˜é€»è¾‘" class="headerlink" title="ä¸­æ–­åˆ¤ä¼˜é€»è¾‘"></a>ä¸­æ–­åˆ¤ä¼˜é€»è¾‘</h4><h3 id="7-4-3-ä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€çš„å¯»æ‰¾"><a href="#7-4-3-ä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€çš„å¯»æ‰¾" class="headerlink" title="7.4.3 ä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€çš„å¯»æ‰¾"></a>7.4.3 ä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€çš„å¯»æ‰¾</h3><p>é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•å¯»æ‰¾å…¥å£åœ°å€ï¼šç¡¬ä»¶å‘é‡æ³•å’Œè½¯ä»¶æŸ¥è¯¢æ³•ã€‚</p><h3 id="7-4-4-ä¸­æ–­å“åº”"><a href="#7-4-4-ä¸­æ–­å“åº”" class="headerlink" title="7.4.4 ä¸­æ–­å“åº”"></a>7.4.4 ä¸­æ–­å“åº”</h3><h4 id="å“åº”ä¸­æ–­çš„æ¡ä»¶"><a href="#å“åº”ä¸­æ–­çš„æ¡ä»¶" class="headerlink" title="å“åº”ä¸­æ–­çš„æ¡ä»¶"></a>å“åº”ä¸­æ–­çš„æ¡ä»¶</h4><p>å½“EINT&#x3D;1ï¼Œä¸”æœ‰ä¸­æ–­è¯·æ±‚ï¼ˆå³ä¸­æ–­è¯·æ±‚æ ‡è®°è§¦å‘å™¨INTR&#x3D;1ï¼‰æ—¶ï¼ŒCPUå¯ä»¥å“åº”ä¸­æ–­ã€‚</p><h4 id="å“åº”ä¸­æ–­æ—¶é—´"><a href="#å“åº”ä¸­æ–­æ—¶é—´" class="headerlink" title="å“åº”ä¸­æ–­æ—¶é—´"></a>å“åº”ä¸­æ–­æ—¶é—´</h4><p>ä¹‹æ‰€ä»¥CPUåœ¨æŒ‡ä»¤çš„æ‰§è¡Œå‘¨æœŸåè¿›å…¥ä¸­æ–­å‘¨æœŸï¼Œæ˜¯å› ä¸ºCPUåœ¨æ‰§è¡Œå‘¨æœŸçš„ç»“æŸæ—¶åˆ»åŒä¸€å‘æ‰€æœ‰ä¸­æ–­æºå‘ä¸­æ–­æŸ¥è¯¢ä¿¡å·ï¼Œåªæœ‰æ­¤æ—¶CPUæ‰èƒ½è·çŸ¥å“ªä¸ªä¸­æ–­æºæœ‰è¯·æ±‚ã€‚ å¯åœ¨æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­è®¾ç½®è‹¥å¹²ä¸ªæŸ¥è¯¢æ–­ç‚¹ï¼ŒCPUåœ¨æ¯ä¸ªâ€œæŸ¥è¯¢æ–­ç‚¹â€æ—¶åˆ»å‡å‘ä¸­æ–­æŸ¥è¯¢ä¿¡å·ï¼Œä»¥ä¾¿å‘ç°æœ‰ä¸­æ–­è¯·æ±‚ä¾¿å¯åŠæ—¶å“åº”ã€‚</p><h4 id="ä¸­æ–­éšæŒ‡ä»¤"><a href="#ä¸­æ–­éšæŒ‡ä»¤" class="headerlink" title="ä¸­æ–­éšæŒ‡ä»¤"></a>ä¸­æ–­éšæŒ‡ä»¤</h4><p>ï¼ˆ1ï¼‰ä¿æŠ¤ç¨‹åºæ–­ç‚¹ ï¼ˆ2ï¼‰å¯»æ‰¾ä¸­æ–­æœåŠ¡ç¨‹åºçš„å…¥å£åœ°å€ ï¼ˆ3ï¼‰å…³ä¸­æ–­</p><h3 id="7-4-5-ä¿æŠ¤ç°åœºå’Œæ¢å¤ç°åœº"><a href="#7-4-5-ä¿æŠ¤ç°åœºå’Œæ¢å¤ç°åœº" class="headerlink" title="7.4.5 ä¿æŠ¤ç°åœºå’Œæ¢å¤ç°åœº"></a>7.4.5 ä¿æŠ¤ç°åœºå’Œæ¢å¤ç°åœº</h3><p>ä¿æŠ¤ç°åœºï¼šåº”è¯¥åŒ…æ‹¬ä¿æŠ¤ç¨‹åºæ–­ç‚¹å’Œä¿æŠ¤CPUå†…éƒ¨å„å¯„å­˜å™¨å†…å®¹çš„ç°åœºä¸¤ä¸ªæ–¹é¢ã€‚ç¨‹åºæ–­ç‚¹çš„ç°åœºç”±ä¸­æ–­éšæŒ‡ä»¤å®Œæˆï¼Œå„å¯„å­˜å™¨å†…çš„ç°åœºå¯åœ¨ä¸­æ–­æœåŠ¡ç¨‹åºä¸­ç”±ç”¨æˆ·ï¼ˆæˆ–ç³»ç»Ÿï¼‰ç”¨æœºå™¨æŒ‡ä»¤ç¼–ç¨‹å®ç°ã€‚</p><p>æ¢å¤ç°åœºï¼šæ˜¯æŒ‡åœ¨ä¸­æ–­è¿”å›å‰ï¼Œå¿…é¡»å°†å¯„å­˜å™¨çš„å†…å®¹å›å¤åˆ°ä¸­æ–­å¤„ç†å‰çš„çŠ¶æ€ï¼Œè¿™éƒ¨åˆ†å·¥ä½œä¹Ÿç”±ä¸­æ–­æœåŠ¡ç¨‹åºå®Œæˆã€‚</p><h3 id="7-4-6-ä¸­æ–­å±è”½æŠ€æœ¯"><a href="#7-4-6-ä¸­æ–­å±è”½æŠ€æœ¯" class="headerlink" title="7.4.6 ä¸­æ–­å±è”½æŠ€æœ¯"></a>7.4.6 ä¸­æ–­å±è”½æŠ€æœ¯</h3><h4 id="å¤šé‡ä¸­æ–­æ¦‚å¿µ"><a href="#å¤šé‡ä¸­æ–­æ¦‚å¿µ" class="headerlink" title="å¤šé‡ä¸­æ–­æ¦‚å¿µ"></a>å¤šé‡ä¸­æ–­æ¦‚å¿µ</h4><p>å½“CPUæ­£åœ¨æ‰§è¡ŒæŸä¸ªä¸­æ–­æœåŠ¡ç¨‹åºæ—¶ï¼Œå¦ä¸€ä¸ªä¸­æ–­æºåˆæå‡ºäº†æ–°çš„ä¸­æ–­è¯·æ±‚ï¼Œè€ŒCPUåˆå“åº”äº†è¿™ä¸ªç³»éš¾é“è¯·æ±‚ï¼Œæš‚æ—¶åœæ­¢æ­£åœ¨è¿è¡Œçš„æœåŠ¡ç¨‹åºï¼Œè½¬å»æ‰§è¡Œæ–°çš„ä¸­æ–­æœåŠ¡ç¨‹åºï¼Œè¿™ç§°ä¸ºå¤šé‡ä¸­æ–­ï¼Œåˆç§°ä¸ºä¸­æ–­åµŒå¥—ã€‚å¦‚æœçš„CPUå¯¹æ–°è¯·æ±‚ä¸äºˆå“åº”ï¼Œå¾…æ‰§è¡Œå®Œå½“å‰çš„æœåŠ¡ç¨‹åºåå†å“åº”ï¼Œå³ä¸ºå•é‡ä¸­æ–­ã€‚</p><h4 id="å®ç°å¤šé‡ä¸­æ–­çš„æ¡ä»¶"><a href="#å®ç°å¤šé‡ä¸­æ–­çš„æ¡ä»¶" class="headerlink" title="å®ç°å¤šé‡ä¸­æ–­çš„æ¡ä»¶"></a>å®ç°å¤šé‡ä¸­æ–­çš„æ¡ä»¶</h4><p>1.æå‰è®¾ç½®â€œå¼€ä¸­æ–­â€æŒ‡ä»¤ã€‚ å¤šé‡ä¸­æ–­â€œå¼€ä¸­æ–­â€æŒ‡ä»¤çš„ä½ç½®å‰äºå•é‡ä¸­æ–­ï¼Œä»è€Œä¿è¯äº†å¤šé‡ä¸­æ–­å…è®¸å‡ºç°ä¸­æ–­åµŒå¥—ã€‚ 2.ä¼˜å…ˆçº§åˆ«é«˜çš„ä¸­æ–­æºæœ‰æƒä¸­æ–­ä¼˜å…ˆçº§åˆ«ä½çš„ä¸­æ–­æºã€‚ ä¸ºäº†ä¿è¯çº§åˆ«ä½çš„ä¸­æ–­æºä¸å¹²æ‰°çº§åˆ«é«˜çš„ä¸­æ–­æºçš„ä¸­æ–­å¤„ç†è¿‡ç¨‹ï¼Œä¿è¯ä¸Šè¿°2çš„è¯•è¯•ï¼Œå¯é‡‡ç”¨å±è”½æŠ€æœ¯ã€‚</p><h4 id="å±è”½æŠ€æœ¯"><a href="#å±è”½æŠ€æœ¯" class="headerlink" title="å±è”½æŠ€æœ¯"></a>å±è”½æŠ€æœ¯</h4><p>ï¼ˆ1ï¼‰å±è”½è§¦å‘å™¨ä¸å±è”½å­— ï¼ˆ2ï¼‰å±è”½æŠ€æœ¯å¯æ”¹å˜ä¼˜å…ˆç­‰çº§ ï¼ˆ3ï¼‰å±è”½æŠ€æœ¯çš„å…¶ä»–ä½œç”¨</p><h4 id="å¤šé‡ä¸­æ–­çš„æ–­ç‚¹ä¿æŠ¤"><a href="#å¤šé‡ä¸­æ–­çš„æ–­ç‚¹ä¿æŠ¤" class="headerlink" title="å¤šé‡ä¸­æ–­çš„æ–­ç‚¹ä¿æŠ¤"></a>å¤šé‡ä¸­æ–­çš„æ–­ç‚¹ä¿æŠ¤</h4><h4 id="7-5-å°ç»“"><a href="#7-5-å°ç»“" class="headerlink" title="7.5 å°ç»“"></a>7.5 å°ç»“</h4><ol><li><p>CPUå®è´¨åŒ…æ‹¬è¿ç®—å™¨å’Œæ§åˆ¶å™¨ï¼ŒåŠŸèƒ½ï¼šå–æŒ‡ä»¤ã€åˆ†ææŒ‡ä»¤ï¼ˆåˆ†ææ­¤æŒ‡ä»¤è¦å®Œæˆä»€ä¹ˆæ“ä½œï¼Œåˆ†æå‚ä¸è¿™æ¬¡æ“ä½œçš„æ“ä½œæ•°åœ°å€ï¼‰ã€æ‰§è¡ŒæŒ‡ä»¤</p></li><li><p>MARï¼ˆå­˜å‚¨å™¨åœ°å€å¯„å­˜å™¨ï¼‰ã€MDRï¼ˆå­˜å‚¨å™¨æ•°æ®å¯„å­˜å™¨ï¼‰ã€PCï¼ˆç¨‹åºè®¡æ•°å™¨ï¼‰ã€IRï¼ˆæŒ‡ä»¤å¯„å­˜å™¨ï¼‰</p></li><li><p>CPUæ¯å–å‡ºå¹¶æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€çš„å…¨éƒ¨æ—¶é—´ç§°ä¸ºæŒ‡ä»¤å‘¨æœŸã€‚</p><h3 id="å¼•èµ·æµæ°´çº¿æ€§èƒ½çš„å› ç´ "><a href="#å¼•èµ·æµæ°´çº¿æ€§èƒ½çš„å› ç´ " class="headerlink" title="å¼•èµ·æµæ°´çº¿æ€§èƒ½çš„å› ç´ "></a>å¼•èµ·æµæ°´çº¿æ€§èƒ½çš„å› ç´ </h3><p>ç»“æ„ç›¸å…³ã€æ•°æ®ç›¸å…³ã€æ§åˆ¶ç›¸å…³</p><h3 id="å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ -1"><a href="#å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ -1" class="headerlink" title="å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ "></a>å¼•èµ·ä¸­æ–­çš„å„ç§å› ç´ </h3><p>äººä¸ºè®¾ç½®çš„ä¸­æ–­ã€ç¨‹åºæ€§äº‹æ•…ã€ç¡¬ä»¶æ•…éšœã€I&#x2F;Oè®¾å¤‡ã€å¤–éƒ¨äº‹ä»¶</p></li></ol><h4 id="7-6-ä¾‹é¢˜"><a href="#7-6-ä¾‹é¢˜" class="headerlink" title="7.6 ä¾‹é¢˜"></a>7.6 ä¾‹é¢˜</h4><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/1.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/FD0F9CD4-2619-4F9F-95BE-3BF546880A2A.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/2.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/F1DD9958-7255-4ED5-9195-4FFC8E1FACE2.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>8.12 åœ¨5ä¸ªåŠŸèƒ½æ®µçš„æŒ‡ä»¤æµæ°´çº¿ä¸­ï¼Œå‡è®¾æ¯æ®µçš„æ‰§è¡Œæ—¶é—´åˆ†åˆ«ä¸º10nsï¼Œ8nsï¼Œ10nsï¼Œ10nså’Œ7nsã€‚å¯¹äºå®Œæˆ12æ¡æŒ‡ä»¤çš„æµæ°´çº¿è€Œè¨€ï¼Œå…¶åŠ é€Ÿæ¯”ä¸ºå¤šå°‘ï¼Ÿè¯¥æµæ°´çº¿çš„å®é™…ååç‡ä¸ºå¤šå°‘ï¼Ÿ</p><p>æ ¹æ®æµæ°´çº¿æ—¶ç©ºå›¾ï¼Œç¬¬ä¸€æ¡æŒ‡ä»¤å‡ºç»“æœéœ€è¦5ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå½“æµæ°´çº¿æ»¡è½½æ—¶ï¼Œæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸå¯ä»¥å‡ºä¸€ä¸ªç»“æœï¼Œå³æ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤ã€‚å®Œæˆ12æ¡æŒ‡ä»¤éœ€è¦16ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œæ•…å®é™…ååç‡ä¸º:</p><p> 12&#x2F;(10ns* 16)&#x3D;0.75*10^8æ¡æŒ‡ä»¤&#x2F;ç§’</p><p>å¯¹äºæœ¬é¢˜äº”çº§æµæ°´çº¿è€Œè¨€ï¼Œå¤„ç†12æ¡æŒ‡ä»¤æ‰€éœ€çš„æ—¶é’Ÿå‘¨æœŸæ•°ä¸ºT&#x3D;5+ (12-1) &#x3D;16ä¸ªï¼Œ è€Œéæµæ°´çº¿å¤„ç†12æ¡æŒ‡ä»¤éœ€è¦5*12&#x3D;60ä¸ªï¼Œæ•…è¯¥æµæ°´å¤„ç†å™¨çš„åŠ é€Ÿæ¯”ä¸ºÂ  Â 60&#x2F;16&#x3D;3.75ã€‚</p></blockquote><p>Â </p><blockquote><p>8.18 ä»€ä¹ˆæ˜¯ä¸­æ–­éšæŒ‡ä»¤ï¼Œæœ‰å“ªäº›åŠŸèƒ½ï¼Ÿ</p><p><strong>ä¸­æ–­éšæŒ‡ä»¤</strong>ï¼šCPUå“åº”ä¸­æ–­åï¼Œå³è¿›å…¥ä¸­æ–­å‘¨æœŸã€‚</p><p>åŠŸèƒ½ï¼š</p><ol><li>ä¿æŠ¤ç¨‹åºæ–­ç‚¹</li><li>å¯»æ‰¾ä¸­æ–­æœåŠ¡ç¨‹åºçš„å…¥å£åœ°å€</li><li>å…³ä¸­æ–­</li></ol></blockquote><p>Â </p><blockquote><p>8.19 ä¸­æ–­ç³»ç»Ÿä¸­é‡‡ç”¨å±è”½æŠ€æœ¯æœ‰ä½•ä½œç”¨ï¼Ÿ</p><ol><li>å±è”½è§¦å‘å™¨ä¸å±è”½å­—</li><li>å±è”½æŠ€æœ¯å¯æ”¹å˜ä¼˜å…ˆç­‰çº§</li><li>å±è”½æŠ€æœ¯çš„å…¶ä»–ä½œç”¨</li></ol></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/FA7FC9E8-6EDC-4E83-9CE3-5E295976F5C8.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/722BDA51-2D08-4733-BA7B-DDC1E2BC17F8.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/lALPD0sXSsEKvqfNAg7NBWE_1377_526.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/A43F0FDD-6DC3-4920-BB5B-1F5F6CBCD373.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>8.26Â è®¾æŸæœºé…æœ‰Aã€Bã€Cä¸‰å°è®¾å¤‡ï¼Œå…¶ä¼˜å…ˆé¡ºåºæŒ‰A-B-Cé™åºæ’åˆ—ï¼Œä¸ºæ”¹å˜ä¸­æ–­å¤„ç†æ¬¡åºï¼Œå®ƒä»¬çš„ä¸­æ–­å±è”½å­—è®¾ç½®å¦‚ä¸‹ï¼š</p><p>è®¾å¤‡</p><p>å±è”½å­—</p><p>A</p><p>111</p><p>B</p><p>010</p><p>C</p><p>011</p><p>Â </p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/708FAC65-A3D6-4AC1-9F1E-77E702420951.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/455157F9-80F5-4DD7-9C48-297E3A7FBAF8.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/CD48DB4FF87D2E795DEA787F7168187D.jpg"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/F6F2BF88-5357-4DB2-823D-35F47D87F907.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-80.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/20/jizu7/">https://blog.jujimeizuo.cn/2021/06/20/jizu7/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆå…­ï¼‰æŒ‡ä»¤ç³»ç»Ÿ</title>
      <link href="/2021/06/20/jizu6/"/>
      <url>/2021/06/20/jizu6/</url>
      
        <content type="html"><![CDATA[<h4 id="6-1-æœºå™¨æŒ‡ä»¤"><a href="#6-1-æœºå™¨æŒ‡ä»¤" class="headerlink" title="6.1 æœºå™¨æŒ‡ä»¤"></a>6.1 æœºå™¨æŒ‡ä»¤</h4><p>æ¯ä¸€æ¡æœºå™¨è¯­è¨€çš„è¯­å¥ç§°ä¸ºæœºå™¨æŒ‡ä»¤ï¼Œè€Œåˆå°†å…¨éƒ¨æœºå™¨æŒ‡ä»¤çš„é›†åˆç§°ä¸ºæœºå™¨çš„æŒ‡ä»¤ç³»ç»Ÿã€‚</p><h3 id="6-1-1-æŒ‡ä»¤çš„ä¸€èˆ¬æ ¼å¼"><a href="#6-1-1-æŒ‡ä»¤çš„ä¸€èˆ¬æ ¼å¼" class="headerlink" title="6.1.1 æŒ‡ä»¤çš„ä¸€èˆ¬æ ¼å¼"></a>6.1.1 æŒ‡ä»¤çš„ä¸€èˆ¬æ ¼å¼</h3><p>æŒ‡ä»¤æ˜¯ç”±æ“ä½œç å’Œåœ°å€ç ä¸¤éƒ¨åˆ†ç»„æˆçš„ã€‚</p><h4 id="æ“ä½œç "><a href="#æ“ä½œç " class="headerlink" title="æ“ä½œç "></a>æ“ä½œç </h4><p>æ“ä½œç ç”¨æ¥æŒ‡æ˜è¯¥æŒ‡ä»¤ç´¢è¦å®Œæˆçš„æ“ä½œï¼Œå¦‚åŠ æ³•ã€å‡æ³•ã€ä¼ é€ã€ç§»ä½ã€è½¬ç§»ç­‰ã€‚é€šå¸¸ï¼Œå…¶ä½æ•°åæ˜ äº†æœºå™¨çš„æ“ä½œç§ç±»ï¼Œä¹Ÿå³æœºå™¨å…è®¸çš„æŒ‡ä»¤æ¡æ•°ã€‚</p><h4 id="åœ°å€ç "><a href="#åœ°å€ç " class="headerlink" title="åœ°å€ç "></a>åœ°å€ç </h4><p>åœ°å€ç ç”¨æ¥æŒ‡å‡ºè¯¥æŒ‡ä»¤çš„æºæ“ä½œæ•°çš„åœ°å€ï¼ˆä¸€ä¸ªæˆ–ä¸¤ä¸ªï¼‰ã€ç»“æœçš„åœ°å€ä»¥åŠä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚è¿™é‡Œçš„â€œåœ°å€â€å¯ä»¥æ˜¯ä¸»å­˜çš„åœ°å€ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯„å­˜å™¨çš„åœ°å€ï¼Œç”šè‡³å¯ä»¥æ˜¯I&#x2F;Oè®¾å¤‡çš„åœ°å€ã€‚</p><h3 id="å››åœ°å€æŒ‡ä»¤"><a href="#å››åœ°å€æŒ‡ä»¤" class="headerlink" title="å››åœ°å€æŒ‡ä»¤"></a>å››åœ°å€æŒ‡ä»¤</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-72.png"></p><p>å…¶ä¸­ï¼ŒOPä¸ºæ“ä½œç ï¼›A1ä¸ºç¬¬ä¸€æ“ä½œæ•°åœ°å€ï¼›A2ä¸ºç¬¬äºŒæ“ä½œæ•°åœ°å€ï¼›A3ä¸ºç»“æœåœ°å€ï¼›A4ä¸ºä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚ å¦‚æœåœ°å€å­—æ®µå‡æŒ‡ç¤ºä¸»å­˜çš„åœ°å€ï¼Œåˆ™å®Œæˆä¸€æ¡å››åœ°å€æŒ‡ä»¤ï¼Œå…±éœ€è®¿é—®4æ¬¡å­˜å‚¨å™¨ï¼ˆå–æŒ‡ä»¤ä¸€æ¬¡ï¼Œå–ä¸¤ä¸ªæ“ä½œæ•°ä¸¤æ¬¡ï¼Œå­˜æ”¾ç»“æœä¸€æ¬¡ï¼‰ã€‚</p><h3 id="ä¸‰åœ°å€æŒ‡ä»¤"><a href="#ä¸‰åœ°å€æŒ‡ä»¤" class="headerlink" title="ä¸‰åœ°å€æŒ‡ä»¤"></a>ä¸‰åœ°å€æŒ‡ä»¤</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-73.png"></p><h3 id="äºŒåœ°å€æŒ‡ä»¤"><a href="#äºŒåœ°å€æŒ‡ä»¤" class="headerlink" title="äºŒåœ°å€æŒ‡ä»¤"></a>äºŒåœ°å€æŒ‡ä»¤</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-74.png"></p><h3 id="ä¸€åœ°å€æŒ‡ä»¤"><a href="#ä¸€åœ°å€æŒ‡ä»¤" class="headerlink" title="ä¸€åœ°å€æŒ‡ä»¤"></a>ä¸€åœ°å€æŒ‡ä»¤</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-75.png"></p><h3 id="6-1-2-æŒ‡ä»¤å­—é•¿"><a href="#6-1-2-æŒ‡ä»¤å­—é•¿" class="headerlink" title="6.1.2 æŒ‡ä»¤å­—é•¿"></a>6.1.2 æŒ‡ä»¤å­—é•¿</h3><p>æŒ‡ä»¤å­—é•¿å–å†³äºæ“ä½œç çš„é•¿åº¦ã€æ“ä½œæ•°åœ°å€çš„é•¿åº¦å’Œæ“ä½œæ•°åœ°å€çš„ä¸ªæ•°ã€‚ ä¸ºäº†æé«˜æŒ‡ä»¤çš„è¿è¡Œé€Ÿåº¦å’ŒèŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œé€šå¸¸å°½å¯èƒ½æŠŠå¸¸ç”¨çš„æŒ‡ä»¤ï¼ˆå¦‚æ•°æ®ä¼ é€æŒ‡ä»¤ã€ç®—é€»è¿ç®—æŒ‡ä»¤ç­‰ï¼‰è®¾è®¡æˆå•å­—é•¿æˆ–çŸ­å­—é•¿æ ¼å¼çš„æŒ‡ä»¤ã€‚é€šå¸¸æŒ‡ä»¤å­—é•¿å–8çš„æ•´æ•°å€ã€‚</p><h4 id="6-2-æ“ä½œç±»å‹"><a href="#6-2-æ“ä½œç±»å‹" class="headerlink" title="6.2 æ“ä½œç±»å‹"></a>6.2 æ“ä½œç±»å‹</h4><h3 id="6-2-1-æ“ä½œæ•°ç±»å‹"><a href="#6-2-1-æ“ä½œæ•°ç±»å‹" class="headerlink" title="6.2.1 æ“ä½œæ•°ç±»å‹"></a>6.2.1 æ“ä½œæ•°ç±»å‹</h3><p>æœºå™¨ä¸­å¸¸è§çš„æ“ä½œæ•°ç±»å‹æœ‰åœ°å€ã€æ•°å­—ã€å­—ç¬¦ã€é€»è¾‘æ•°æ®ç­‰ã€‚</p><h3 id="6-2-2-æ“ä½œç±»å‹"><a href="#6-2-2-æ“ä½œç±»å‹" class="headerlink" title="6.2.2 æ“ä½œç±»å‹"></a>6.2.2 æ“ä½œç±»å‹</h3><h4 id="è¾“å‡ºä¼ é€"><a href="#è¾“å‡ºä¼ é€" class="headerlink" title="è¾“å‡ºä¼ é€"></a>è¾“å‡ºä¼ é€</h4><p>æ•°æ®ä¼ é€åŒ…æ‹¬å¯„å­˜å™¨ä¸å¯„å­˜å™¨ã€å¯„å­˜å™¨ä¸å­˜å‚¨å•å…ƒã€å­˜å‚¨å•å…ƒä¸å­˜å‚¨å•å…ƒä¹‹é—´çš„ä¼ é€ã€‚</p><h4 id="ç®—æœ¯é€»è¾‘æ“ä½œ"><a href="#ç®—æœ¯é€»è¾‘æ“ä½œ" class="headerlink" title="ç®—æœ¯é€»è¾‘æ“ä½œ"></a>ç®—æœ¯é€»è¾‘æ“ä½œ</h4><p>è¿™ç±»æ“ä½œå¯å®ç°ç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—ã€‚æœ‰äº›æœºå™¨è¿˜å…·æœ‰ä½æ“ä½œåŠŸèƒ½ï¼Œå¦‚ä½æµ‹è¯•ï¼ˆæµ‹è¯•æŒ‡å®šä½çš„å€¼ï¼‰ã€ä½æ¸…é™¤ï¼ˆæ¸…é™¤æŒ‡å®šä½ï¼‰ã€ä½æ±‚åï¼ˆå¯¹æŒ‡å®šä½æ±‚åï¼‰ç­‰ã€‚</p><h4 id="ç§»ä½"><a href="#ç§»ä½" class="headerlink" title="ç§»ä½"></a>ç§»ä½</h4><p>ç§»ä½å¯åˆ†ä¸ºç®—æ•°ç§»ä½ã€é€»è¾‘ç§»ä½ã€å¾ªç¯ç§»ä½ä¸‰ç§ã€‚</p><h4 id="è½¬ç§»"><a href="#è½¬ç§»" class="headerlink" title="è½¬ç§»"></a>è½¬ç§»</h4><p>è½¬ç§»æŒ‡ä»¤æŒ‰å…¶è½¬ç§»ç‰¹å¾åˆå¯åˆ†ä¸ºæ— æ¡ä»¶è½¬ç§»ã€æ¡ä»¶è½¬ç§»ã€è·³è½¬ã€è¿‡ç¨‹è°ƒç”¨ä¸è¿”å›ã€é™·é˜±ç­‰å‡ ç§ã€‚</p><h4 id="è¾“å…¥è¾“å‡º"><a href="#è¾“å…¥è¾“å‡º" class="headerlink" title="è¾“å…¥è¾“å‡º"></a>è¾“å…¥è¾“å‡º</h4><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><h4 id="6-3-å¯»å€æ–¹å¼"><a href="#6-3-å¯»å€æ–¹å¼" class="headerlink" title="6.3 å¯»å€æ–¹å¼"></a>6.3 å¯»å€æ–¹å¼</h4><p>å¯»å€æ–¹å¼åˆ†ä¸ºæŒ‡ä»¤å¯»å€å’Œæ•°æ®å¯»å€ä¸¤å¤§ç±»ã€‚</p><h3 id="6-3-1-æŒ‡ä»¤å¯»å€"><a href="#6-3-1-æŒ‡ä»¤å¯»å€" class="headerlink" title="6.3.1 æŒ‡ä»¤å¯»å€"></a>6.3.1 æŒ‡ä»¤å¯»å€</h3><p>æŒ‡ä»¤å¯»å€åˆ†ä¸ºé¡ºåºå¯»å€å’Œè·³è·ƒå¯»å€ä¸¤ç§ã€‚ é¡ºåºå¯»å€å¯é€šè¿‡ç¨‹åºè®¡æ•°å™¨PCåŠ 1ï¼Œè‡ªåŠ¨å½¢æˆä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼›è·³è·ƒå¯»å€åˆ™é€šè¿‡è½¬ç§»ç±»æŒ‡ä»¤å®ç°ã€‚</p><h3 id="6-3-2-æ•°æ®å¯»å€"><a href="#6-3-2-æ•°æ®å¯»å€" class="headerlink" title="6.3.2 æ•°æ®å¯»å€"></a>6.3.2 æ•°æ®å¯»å€</h3><p>æŒ‡ä»¤çš„åœ°å€ç å­—æ®µé€šå¸¸éƒ½ä¸ä»£è¡¨æ“ä½œæ•°çš„çœŸå®åœ°å€ï¼ŒæŠŠå®ƒç§°ä¸ºå½¢å¼åœ°å€ï¼Œè®°ä½œAã€‚æ“ä½œæ•°çš„çœŸå®åœ°å€ç§°ä¸ºæœ‰æ•ˆåœ°å€ï¼Œè®°ä½œEAï¼Œå®ƒæ˜¯ç”±å¯»å€æ–¹å¼å’Œå½¢å¼åœ°å€å…±åŒæ¥ç¡®å®šçš„ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-76.png"></p><h4 id="ç«‹å³å¯»å€"><a href="#ç«‹å³å¯»å€" class="headerlink" title="ç«‹å³å¯»å€"></a>ç«‹å³å¯»å€</h4><p>ç«‹å³å¯»å€çš„ç‰¹ç‚¹æ˜¯æ“ä½œæ•°æœ¬èº«è®¾åœ¨æŒ‡ä»¤å­—å†…ï¼Œå³å½¢å¼åœ°å€Aä¸æ˜¯æ“ä½œæ•°çš„åœ°å€ï¼Œè€Œæ˜¯æ“ä½œæ•°æœ¬èº«ï¼Œåˆç§°ä¸ºç«‹å³æ•°ã€‚æ•°æ®æ˜¯é‡‡ç”¨è¡¥ç å½¢å¼å­˜æ”¾çš„ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-77.png"></p><p>ä¼˜ç‚¹åœ¨äºåªè¦å–å‡ºæŒ‡ä»¤ï¼Œä¾¿å¯ç«‹å³è·å¾—æ“ä½œæ•°ï¼Œè¿™ç§æŒ‡ä»¤åœ¨æ‰§è¡Œé˜¶æ®µä¸å¿…å†è®¿é—®å­˜å‚¨å™¨ã€‚Açš„ä½æ•°é™åˆ¶äº†è¿™ç±»æŒ‡ä»¤æ‰€èƒ½è¡¨è¿°çš„ç«‹å³æ•°çš„èŒƒå›´ã€‚</p><h4 id="ç›´æ¥å¯»å€"><a href="#ç›´æ¥å¯»å€" class="headerlink" title="ç›´æ¥å¯»å€"></a>ç›´æ¥å¯»å€</h4><p>ç›´æ¥å¯»å€çš„ç‰¹ç‚¹æ˜¯æŒ‡ä»¤å­—ä¸­çš„å½¢å¼åœ°å€Aå°±æ˜¯æ“ä½œæ•°çš„çœŸå®åœ°å€EAï¼Œå³EA&#x3D;Aã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-78.png"></p><p>å®ƒçš„ä¼˜ç‚¹æ˜¯å¯»æ‰¾æ“ä½œæ•°æ¯”è¾ƒç®€å•ï¼Œä¹Ÿä¸éœ€è¦ä¸“é—¨è®¡ç®—æ“ä½œæ•°çš„åœ°å€ï¼Œåœ¨æŒ‡ä»¤æ‰§è¡Œé˜¶æ®µå¯¹ä¸»å­˜åªè®¿é—®ä¸€æ¬¡ã€‚ç¼ºç‚¹åœ¨äºAçš„ä½æ•°é™åˆ¶äº†æ“ä½œæ•°çš„å¯»å€èŒƒå›´ï¼Œè€Œä¸”å¿…é¡»ä¿®æ”¹Açš„å€¼ï¼Œæ‰èƒ½ä¿®æ”¹æ“ä½œæ•°çš„åœ°å€ã€‚</p><h4 id="éšå«å¯»å€"><a href="#éšå«å¯»å€" class="headerlink" title="éšå«å¯»å€"></a>éšå«å¯»å€</h4><h4 id="é—´æ¥å¯»å€"><a href="#é—´æ¥å¯»å€" class="headerlink" title="é—´æ¥å¯»å€"></a>é—´æ¥å¯»å€</h4><h4 id="å¯„å­˜å™¨å¯»å€"><a href="#å¯„å­˜å™¨å¯»å€" class="headerlink" title="å¯„å­˜å™¨å¯»å€"></a>å¯„å­˜å™¨å¯»å€</h4><h4 id="å¯„å­˜å™¨é—´æ¥å¯»å€"><a href="#å¯„å­˜å™¨é—´æ¥å¯»å€" class="headerlink" title="å¯„å­˜å™¨é—´æ¥å¯»å€"></a>å¯„å­˜å™¨é—´æ¥å¯»å€</h4><h4 id="åŸºå€å¯»å€"><a href="#åŸºå€å¯»å€" class="headerlink" title="åŸºå€å¯»å€"></a>åŸºå€å¯»å€</h4><h4 id="å˜å€å¯»å€"><a href="#å˜å€å¯»å€" class="headerlink" title="å˜å€å¯»å€"></a>å˜å€å¯»å€</h4><h4 id="ç›¸å¯¹å¯»å€"><a href="#ç›¸å¯¹å¯»å€" class="headerlink" title="ç›¸å¯¹å¯»å€"></a>ç›¸å¯¹å¯»å€</h4><h4 id="å †æ ˆå¯»å€"><a href="#å †æ ˆå¯»å€" class="headerlink" title="å †æ ˆå¯»å€"></a>å †æ ˆå¯»å€</h4><h4 id="6-4-RISCçš„ä¸»è¦ç‰¹ç‚¹"><a href="#6-4-RISCçš„ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="6.4 RISCçš„ä¸»è¦ç‰¹ç‚¹"></a>6.4 RISCçš„ä¸»è¦ç‰¹ç‚¹</h4><ol><li>é€‰å–ä½¿ç”¨é¢‘åº¦è¾ƒé«˜çš„ä¸€äº›ç®€å•æŒ‡ä»¤ä»¥åŠä¸€äº›å¾ˆæœ‰ç”¨ä½†åˆä¸å¤æ‚çš„æŒ‡ä»¤ï¼Œè®©å¤æ‚æŒ‡ä»¤çš„åŠŸèƒ½ç”±é¢‘åº¦é«˜çš„ç®€å•æŒ‡ä»¤çš„ç»„åˆæ¥å®ç°ã€‚</li><li>æŒ‡ä»¤é•¿åº¦å›ºå®šï¼ŒæŒ‡ä»¤æ ¼å¼ç§ç±»å°‘ï¼Œå¯»å€æ–¹å¼ç§ç±»å°‘ã€‚</li><li>åªæœ‰å–æ•°&#x2F;å­˜æ•°(LOAD&#x2F;STORE)æŒ‡ä»¤è®¿é—®å­˜å‚¨å™¨ï¼Œå…¶ä½™æŒ‡ä»¤çš„æ“ä½œéƒ½åœ¨å¯„å­˜å™¨å†…å®Œæˆã€‚</li><li>CPUä¸­æœ‰å¤šä¸ªé€šç”¨å¯„å­˜å™¨</li><li>é‡‡ç”¨æµæ°´çº¿æŠ€æœ¯ï¼Œå¤§éƒ¨åˆ†æŒ‡ä»¤åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å®Œæˆã€‚é‡‡ç”¨è¶…æ ‡é‡å’Œè¶…æµæ°´çº¿æŠ€æœ¯ï¼Œå¯ä½¿æ¯æ¡æŒ‡ä»¤çš„å¹³å‡æ‰§è¡Œæ—¶é•¿å°äºä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚</li><li>æ§åˆ¶å™¨é‡‡ç”¨ç»„åˆé€»è¾‘æ§åˆ¶ï¼Œä¸ç”¨å¾®ç¨‹åºæ§åˆ¶</li><li>é‡‡ç”¨ä¼˜åŒ–çš„ç¼–è¯‘ç¨‹åº</li></ol><h4 id="6-5-å°ç»“"><a href="#6-5-å°ç»“" class="headerlink" title="6.5 å°ç»“"></a>6.5 å°ç»“</h4><ol><li>æŒ‡ä»¤ç”±æ“ä½œç å’Œåœ°å€ç ç»„æˆ</li><li>æŒ‡ä»¤å­—é•¿å–å†³äºæ“ä½œç çš„é•¿åº¦ã€æ“ä½œæ•°åœ°å€çš„é•¿åº¦å’Œæ“ä½œæ•°åœ°å€çš„ä¸ªæ•°</li><li>åŠå­—åœ°å€æ˜¯2çš„æ•´æ•°å€ï¼Œå­—åœ°å€æ˜¯4çš„æ•´æ•°å€ï¼ŒåŒå­—åœ°å€æ˜¯8çš„æ•´æ•°å€</li><li>ç®—æ•°é€»è¾‘æ“ä½œï¼šåŠ ï¼ˆADDï¼‰ã€å‡ï¼ˆSUBï¼‰ã€ä¹˜ï¼ˆMULï¼‰ã€é™¤ï¼ˆDIVï¼‰ã€ä¸ï¼ˆANDï¼‰ã€æˆ–ï¼ˆORï¼‰ã€éï¼ˆNOTï¼‰ã€å¼‚æˆ–ï¼ˆXORï¼‰ã€å¢1ï¼ˆINCï¼‰ã€å‡1ï¼ˆDECï¼‰ã€åè¿›åˆ¶åŠ å‡ä¹˜é™¤ï¼ˆAAAã€AASã€AAMã€AADï¼‰ã€ä½æµ‹è¯•ï¼ˆBTï¼‰ã€ä½æ¸…é™¤ï¼ˆBTRï¼‰ã€ä½æ±‚åï¼ˆBTCï¼‰</li><li>è°ƒç”¨æŒ‡ä»¤ï¼ˆCALLï¼‰ä¸€èˆ¬ä¸è¿”å›æŒ‡ä»¤ï¼ˆRETURNï¼‰é…åˆä½¿ç”¨</li><li>æ— æ¡ä»¶è½¬ç§»ï¼ˆJMPï¼‰</li><li>å¯»å€æ–¹å¼ï¼šå¯»å€æ–¹å¼æ˜¯æŒ‡ç¡®å®šæœ¬æ¡æŒ‡ä»¤çš„æ•°æ®åœ°å€ä»¥åŠä¸‹ä¸€æ¡å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€çš„æ–¹æ³•ï¼Œå®ƒä¸ç¡¬ä»¶ç»“æ„ç´§å¯†ç›¸å…³ï¼Œè€Œä¸”ç›´æ¥å½±å“æŒ‡ä»¤æ ¼å¼å’ŒæŒ‡ä»¤åŠŸèƒ½ã€‚</li><li>å¯»å€æ–¹å¼åˆ†ä¸ºæŒ‡ä»¤å¯»å€å’Œæ•°æ®å¯»å€ä¸¤å¤§ç±»</li><li>æŒ‡ä»¤å¯»å€åˆ†ä¸ºé¡ºåºå¯»å€å’Œè·³è·ƒå¯»å€ä¸¤ç§</li><li>æ•°æ®å¯»å€åˆ†ä¸ºç«‹å³å¯»å€ï¼ˆæŒ‡ä»¤ä¸­ï¼‰ã€å¯„å­˜å™¨å¯»å€ï¼ˆå¯„å­˜å™¨ä¸­ï¼‰ã€å­˜å‚¨å™¨å¯»å€ï¼ˆå­˜å‚¨å™¨ä¸­ï¼‰</li></ol><h4 id="6-6-ä¾‹é¢˜"><a href="#6-6-ä¾‹é¢˜" class="headerlink" title="6.6 ä¾‹é¢˜"></a>6.6 ä¾‹é¢˜</h4><blockquote><p>7.6 æŸæŒ‡ä»¤ç³»ç»Ÿå­—é•¿ä¸º16ä½ï¼Œåœ°å€ç å–4ä½ï¼Œè¯•æå‡ºä¸€ç§æ–¹æ¡ˆï¼Œä½¿è¯¥æŒ‡ä»¤ç³»ç»Ÿæœ‰8æ¡ä¸‰åœ°å€æŒ‡ä»¤ï¼Œ16æ¡äºŒåœ°å€æŒ‡ä»¤ï¼Œ100æ¡ä¸€åœ°å€æŒ‡ä»¤ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/lALPDgfLRY1zCzrNA-jNBSo_1322_1000.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>7.8 æŸæœºæŒ‡ä»¤å­—é•¿16ä½ï¼Œæ¯ä¸ªæ“ä½œæ•°çš„åœ°å€ç ä¸º6ä½ï¼Œè®¾æ“ä½œç é•¿åº¦å›ºå®šï¼ŒæŒ‡ä»¤åˆ†ä¸ºé›¶åœ°å€ã€ä¸€åœ°å€å’ŒäºŒåœ°å€ä¸‰ç§æ ¼å¼ã€‚è‹¥é›¶åœ°å€æŒ‡ä»¤æœ‰Mç§ï¼Œä¸€åœ°å€æœ‰Nç§ï¼Œåˆ™äºŒåœ°å€æŒ‡ä»¤æœ€å¤šæœ‰å‡ ç§ï¼Ÿè‹¥æ“ä½œç ä½æ•°å¯å˜ï¼Œåˆ™äºŒåœ°å€æŒ‡ä»¤æœ€å¤šå…è®¸æœ‰å‡ ç§ï¼Ÿ</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/lALPDh0cPWoVInLNA-jNByU_1829_1000.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>7.15 ä¸€ç›¸å¯¹å¯»å€çš„è½¬ç§»æŒ‡ä»¤å 3ä¸ªå­—èŠ‚ï¼Œç¬¬ä¸€å­—èŠ‚æ˜¯æ“ä½œç ï¼Œç¬¬äºŒã€ä¸‰å­—èŠ‚ä¸ºç›¸å¯¹ä½ç§»é‡ï¼Œè€Œä¸”æ•°æ®åœ¨å­˜å‚¨å™¨ä¸­é‡‡ç”¨ä»¥é«˜å­—èŠ‚åœ°å€ä¸ºå­—åœ°å€çš„å­˜æ”¾æ–¹å¼ã€‚å‡è®¾PCå½“å‰å€¼ä¸º4000Hã€‚è¯•é—®å½“ç»“æœä¸º0ï¼Œæ‰§è¡Œâ€œJZ <em>+ 35â€å’Œâ€œJZ</em> - 17â€æŒ‡ä»¤æ—¶ï¼Œè¯¥æŒ‡ä»¤çš„ç¬¬äºŒã€ç¬¬ä¸‰å­—èŠ‚çš„æœºå™¨ä»£ç å„ä¸ºå¤šå°‘ï¼Ÿ</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/lADPD4BhtfayWZzNAdDNBNo_1242_464.jpg"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>7.16æŸæœºä¸»å­˜å®¹é‡ä¸º4M*16ä½ï¼Œä¸”å­˜å‚¨å­—é•¿ç­‰äºæŒ‡ä»¤å­—é•¿ï¼Œè‹¥è¯¥æœºæŒ‡ä»¤ç³»ç»Ÿå¯å®Œæˆ108ç§æ“ä½œï¼Œæ“ä½œç ä½æ•°å›ºå®šï¼Œä¸”å…·æœ‰ç›´æ¥ã€é—´æ¥ã€å˜å€ã€åŸºå€ã€ç›¸å¯¹ã€ç«‹å³ç­‰å…­ç§å¯»å€æ–¹å¼ï¼Œè¯•å›ç­”ä»¥ä¸‹é—®é¢˜ã€‚ ï¼ˆ1ï¼‰ç”»å‡ºä¸€åœ°å€æŒ‡ä»¤æ ¼å¼å¹¶æŒ‡å‡ºå„å­—æ®µä½œç”¨ã€‚ ï¼ˆ2ï¼‰è¯¥æŒ‡ä»¤ç›´æ¥å¯»å€çš„æœ€å¤§èŒƒå›´ã€‚ ï¼ˆ3ï¼‰ä¸€æ¬¡é—´æ¥å¯»å€å’Œå¤šæ¬¡é—´æ¥å¯»å€çš„å¯»å€èŒƒå›´ã€‚ ï¼ˆ4ï¼‰ç«‹å³æ•°çš„èŒƒå›´ï¼ˆåè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚ ï¼ˆ5ï¼‰ç›¸å¯¹å¯»å€çš„ä½ç§»é‡ï¼ˆåè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚ ï¼ˆ6ï¼‰ä¸Šè¿°å…­ç§å¯»å€æ–¹å¼çš„æŒ‡ä»¤ä¸­å“ªä¸€ç§æ‰§è¡Œæ—¶é—´æœ€çŸ­ï¼Œå“ªä¸€ç§æœ€é•¿ï¼Œä¸ºä»€ä¹ˆï¼Ÿå“ªä¸€ç§ä¾¿äºç¨‹åºæµ®åŠ¨ï¼Œå“ªä¸€ç§æœ€é€‚åˆå¤„ç†æ•°ç»„é—®é¢˜ï¼Ÿ ï¼ˆ7ï¼‰å¦‚ä½•ä¿®æ”¹æŒ‡ä»¤æ ¼å¼ï¼Œä½¿æŒ‡ä»¤çš„å¯»å€èŒƒå›´å¯è¿‡å¤§åˆ°4Mï¼Ÿ ï¼ˆ8ï¼‰ä½ä½¿ä¸€æ¡è½¬ç§»æŒ‡ä»¤èƒ½å¤Ÿè½¬ç§»åˆ°ä¸»å­˜åˆ°ä»»ä¸€ä½ç½®ï¼Œå¯é‡‡å–ä»€ä¹ˆæªæ–½ï¼Ÿç®€è¦è¯´æ˜ä¹‹ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/63C3215A-F107-4D75-A3E5-F8D9EE134218.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>7.18 æŸæœºå™¨å…±èƒ½å®Œæˆ78ç§æ“ä½œï¼Œè‹¥æŒ‡ä»¤å­—é•¿ä¸º16ä½ï¼Œè¯•é—®ä¸€åœ°å€æ ¼å¼çš„æŒ‡ä»¤åœ°å€ç å¯å–å‡ ä½ï¼Ÿè‹¥æƒ³ä½¿æŒ‡ä»¤å¯»å€èŒƒå›´æ‰©å¤§åˆ°2^16ï¼Œå¯é‡‡å–ä»€ä¹ˆæ–¹æ³•ï¼Ÿ</p><p>æ ¹æ®78ç§æ“ä½œï¼Œå¯æ±‚å‡ºæ“ä½œç ä½æ•°ä¸º7ä½ï¼Œåˆ™å•åœ°å€æ ¼å¼çš„æŒ‡ä»¤åœ°å€ç å 16-7&#x3D; 9ä½ã€‚ç›´æ¥å¯»å€èŒƒå›´ä¸º2^9&#x3D;512ã€‚è‹¥æƒ³ä½¿æŒ‡ä»¤çš„å¯»å€èŒƒå›´æ‰©å¤§åˆ°2^16ï¼Œå¯é‡‡ç”¨ä»¥ä¸‹ä¸‰ç§å¯»å€æ–¹æ³•ï¼š ï¼ˆ1ï¼‰è‹¥æŒ‡ä»¤å­—é•¿ç­‰äºå­˜å‚¨å­—é•¿å‡ä¸º16ä½ï¼Œåˆ™é‡‡ç”¨é—´æ¥å¯»å€å¯ä½¿å¯»å€èŒƒå›´æ‰©å¤§åˆ°2^16ï¼Œå› ä¸ºé—´å€æ—¶ï¼ˆè®¾éå¤šæ¬¡é—´å€ï¼‰ä»å­˜å‚¨å•å…ƒä¸­å–å‡ºçš„æœ‰æ•ˆåœ°å€ä¸º16ä½ã€‚ ï¼ˆ2ï¼‰é‡‡ç”¨å˜å€å¯»å€ï¼Œå¹¶è®¾å˜å€å¯„å­˜å™¨RXä¸º16ä½ï¼Œåˆ™æœ‰æ•ˆåœ°å€EA&#x3D;ï¼ˆRXï¼‰+Aï¼ˆå½¢å¼åœ°å€ï¼‰ï¼Œå³å¯ä½¿å¯»å€èŒƒå›´æ‰©å¤§åˆ°2^16ã€‚ ï¼ˆ3ï¼‰é‡‡ç”¨åŸºå€å¯»å€ï¼Œå¹¶è®¾åŸºå€å¯„å­˜å™¨RBä¸º16ä½ï¼Œåˆ™æœ‰æ•ˆåœ°å€EA&#x3D;ï¼ˆRBï¼‰+Aï¼ˆå½¢å¼åœ°å€ï¼‰ï¼Œå³å¯ä½¿å¯»å€èŒƒå›´æ‰©å¤§åˆ°2^16ã€‚</p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/8869BF19-24ED-4CE0-8CFC-3B639CD2CDD4.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/49ACB5B3-4B12-4CA0-91D7-28177AFB3DA3.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>7.20 ä»€ä¹ˆæ˜¯RISCï¼Ÿç®€è¿°å®ƒçš„ç‰¹ç‚¹ã€‚</p><p>RISCæŠ€æœ¯æ˜¯ç”¨20%çš„ç®€å•æŒ‡ä»¤çš„ç»„åˆæ¥å®ç°ä¸å¸¸ç”¨çš„80%çš„é‚£äº›æŒ‡ä»¤åŠŸèƒ½ã€‚</p><ul><li>é€‰å–ä½¿ç”¨é¢‘åº¦è¾ƒé«˜çš„ä¸€äº›ç®€å•æŒ‡ä»¤ä»¥åŠä¸€äº›å¾ˆæœ‰ç”¨ä½†åˆä¸å¤æ‚çš„æŒ‡ä»¤ï¼Œè®©å¤æ‚æŒ‡ä»¤çš„åŠŸèƒ½ç”±é¢‘åº¦é«˜çš„ç®€å•æŒ‡ä»¤çš„ç»„åˆæ¥å®ç°ã€‚</li><li>æŒ‡ä»¤é•¿åº¦å›ºå®šï¼ŒæŒ‡ä»¤æ ¼å¼ç§ç±»å°‘ï¼Œå¯»å€æ–¹å¼ç§ç±»å°‘ã€‚</li><li>åªæœ‰å–æ•°&#x2F;å­˜æ•°(LOAD&#x2F;STORE)æŒ‡ä»¤è®¿é—®å­˜å‚¨å™¨ï¼Œå…¶ä½™æŒ‡ä»¤çš„æ“ä½œéƒ½åœ¨å¯„å­˜å™¨å†…å®Œæˆã€‚</li><li>CPUä¸­æœ‰å¤šä¸ªé€šç”¨å¯„å­˜å™¨</li><li>é‡‡ç”¨æµæ°´çº¿æŠ€æœ¯ï¼Œå¤§éƒ¨åˆ†æŒ‡ä»¤åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å®Œæˆã€‚é‡‡ç”¨è¶…æ ‡é‡å’Œè¶…æµæ°´çº¿æŠ€æœ¯ï¼Œå¯ä½¿æ¯æ¡æŒ‡ä»¤çš„å¹³å‡æ‰§è¡Œæ—¶é•¿å°äºä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚</li><li>æ§åˆ¶å™¨é‡‡ç”¨ç»„åˆé€»è¾‘æ§åˆ¶ï¼Œä¸ç”¨å¾®ç¨‹åºæ§åˆ¶</li><li>é‡‡ç”¨ä¼˜åŒ–çš„ç¼–è¯‘ç¨‹åº</li></ul></blockquote><p>Â </p><blockquote><p>7.21 æ¯”è¾ƒRISCå’ŒCISCã€‚</p><p>ä¸CISCæœºç›¸æ¯”ï¼ŒRISCæœºçš„ä¸»è¦ä¼˜ç‚¹å¯å½’çº³å¦‚ä¸‹ï¼š</p><ul><li>å……åˆ†åˆ©ç”¨VLSIèŠ¯ç‰‡çš„é¢ç§¯</li><li>æé«˜è®¡ç®—æœºçš„è¿ç®—é€Ÿåº¦</li><li>ä¾¿äºè®¾è®¡ï¼Œå¯é™ä½æˆæœ¬ï¼Œæé«˜å¯é æ€§</li><li>æœ‰æ•ˆæ”¯æŒé«˜çº§è¯­è¨€ç¨‹åº</li></ul></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/20/jizu6/">https://blog.jujimeizuo.cn/2021/06/20/jizu6/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆä¹ï¼‰å½¢æ€å­¦å›¾åƒå¤„ç†</title>
      <link href="/2021/06/20/shuzituxiang9/"/>
      <url>/2021/06/20/shuzituxiang9/</url>
      
        <content type="html"><![CDATA[<h4 id="9-1-é›†åˆè®ºåŸºç¡€"><a href="#9-1-é›†åˆè®ºåŸºç¡€" class="headerlink" title="9.1 é›†åˆè®ºåŸºç¡€"></a>9.1 é›†åˆè®ºåŸºç¡€</h4><h3 id="9-1-1-é›†åˆçš„æ¦‚å¿µ"><a href="#9-1-1-é›†åˆçš„æ¦‚å¿µ" class="headerlink" title="9.1.1 é›†åˆçš„æ¦‚å¿µ"></a>9.1.1 é›†åˆçš„æ¦‚å¿µ</h3><h3 id="9-1-2-é›†åˆé—´çš„å…³ç³»å’Œè¿ç®—"><a href="#9-1-2-é›†åˆé—´çš„å…³ç³»å’Œè¿ç®—" class="headerlink" title="9.1.2 é›†åˆé—´çš„å…³ç³»å’Œè¿ç®—"></a>9.1.2 é›†åˆé—´çš„å…³ç³»å’Œè¿ç®—</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-71.png"></p><h4 id="9-2-äºŒå€¼å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—"><a href="#9-2-äºŒå€¼å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—" class="headerlink" title="9.2 äºŒå€¼å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—"></a>9.2 äºŒå€¼å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—</h4><h3 id="9-2-1-è†¨èƒ€"><a href="#9-2-1-è†¨èƒ€" class="headerlink" title="9.2.1 è†¨èƒ€"></a>9.2.1 è†¨èƒ€</h3><p>é¡¾åæ€ä¹‰ï¼Œè†¨èƒ€å°±æ˜¯ä½¿å›¾åƒä¸­çš„ç›®æ ‡â€œå˜ç²—â€çš„æ“ä½œï¼Œè¿™ç§ç‰¹æ®Šæ–¹å¼å’Œå˜ç²—ç¨‹åº¦ç”±ä¸€ç§è¢«ç§°ä¸ºç»“æ„å…ƒçš„å½¢çŠ¶æ¥æ§åˆ¶ï¼ŒAè¢«Bè†¨èƒ€ï¼Œè¡¨ç¤ºä¸ºAâŠ•Bï¼Œé›†åˆæ“ä½œè¡¨ç¤ºä¸ºï¼š <code>A\oplus B=&#123;x((\hat&#123;B&#125;)_y\cap A)\neq \text&#123;\O&#125;&#125;</code> å…¶ä¸­ï¼ŒAæ˜¯å›¾åƒï¼ŒBæ˜¯ç»“æ„å…ƒï¼Œç»“æ„å…ƒé€šå¸¸æ¯”å›¾åƒå°å¾—å¤šã€‚è†¨èƒ€æ»¡è¶³ç»“åˆå¾‹å’Œäº¤æ¢å¾‹ã€‚</p><h3 id="9-2-2-è…èš€"><a href="#9-2-2-è…èš€" class="headerlink" title="9.2.2 è…èš€"></a>9.2.2 è…èš€</h3><p>è…èš€æ˜¯è†¨èƒ€çš„åæ“ä½œï¼Œæ˜¯å°†å›¾åƒä¸­çš„ç›®æ ‡è¿›è¡Œâ€œç»†åŒ–â€çš„æ“ä½œï¼Œæ”¶ç¼©çš„æ–¹æ³•å’Œç¨‹åº¦ä¹Ÿç”±ç»“æ„å…ƒæ§åˆ¶ã€‚Aè¢«Bè…èš€è¡¨ç¤ºä¸ºAÎ˜Bï¼Œé›†åˆæ“ä½œè¡¨ç¤ºä¸ºï¼š <code>A\ominus B=&#123;x(B)_y\subseteq A &#125;</code></p><h3 id="9-2-3-å¼€è¿ç®—"><a href="#9-2-3-å¼€è¿ç®—" class="headerlink" title="9.2.3 å¼€è¿ç®—"></a>9.2.3 å¼€è¿ç®—</h3><p>ä½¿ç”¨åŒä¸€ç»“æ„å…ƒç´ å¯¹ç›®æ ‡å›¾åƒå…ˆè¿›è¡Œè…èš€è¿ç®—ï¼Œç„¶åå†è¿›è¡Œè†¨èƒ€è¿ç®—ç§°ä¸ºå¼€è¿ç®—ã€‚ <code>A\circ B=(A \ominus B)\oplus B</code></p><h3 id="9-2-4-é—­è¿ç®—"><a href="#9-2-4-é—­è¿ç®—" class="headerlink" title="9.2.4 é—­è¿ç®—"></a>9.2.4 é—­è¿ç®—</h3><p>ä½¿ç”¨åŒä¸€ç»“æ„å…ƒç´ å¯¹ç›®æ ‡å›¾åƒå…ˆè¿›è¡Œè†¨èƒ€è¿ç®—ï¼Œç„¶åå†è¿›è¡Œè…èš€è¿ç®—ç§°ä¸ºé—­è¿ç®—ã€‚ <code>A\cdot B=(A \oplus B)\ominus B</code></p><h4 id="9-3-äºŒå€¼å½¢æ€å­¦åŸºæœ¬è¿ç®—æ€§è´¨"><a href="#9-3-äºŒå€¼å½¢æ€å­¦åŸºæœ¬è¿ç®—æ€§è´¨" class="headerlink" title="9.3 äºŒå€¼å½¢æ€å­¦åŸºæœ¬è¿ç®—æ€§è´¨"></a>9.3 äºŒå€¼å½¢æ€å­¦åŸºæœ¬è¿ç®—æ€§è´¨</h4><ol><li>å•è°ƒæ€§</li><li>æ‰©å±•æ€§</li><li>äº¤æ¢æ€§</li><li>ç»“åˆæ€§</li><li>å¹³ç§»ä¸å˜æ€§</li></ol><h4 id="9-3-ç°åº¦å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—"><a href="#9-3-ç°åº¦å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—" class="headerlink" title="9.3 ç°åº¦å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—"></a>9.3 ç°åº¦å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—</h4><h3 id="9-3-1-ç°åº¦è…èš€"><a href="#9-3-1-ç°åº¦è…èš€" class="headerlink" title="9.3.1 ç°åº¦è…èš€"></a>9.3.1 ç°åº¦è…èš€</h3><p>ç”¨ç»“æ„å…ƒbå¯¹ç°åº¦å›¾åƒfçš„ç°åº¦è¿›è¡Œè…èš€ï¼Œè¡¨ç¤ºä¸ºï¼š <code>(f\ominus b)(s,t)=min&#123;f(s+x,t+y)-b(x,y)(s+x),(t+y)\in D_f;(x,y)\in D_b&#125;</code></p><h3 id="9-3-2-ç°åº¦è†¨èƒ€"><a href="#9-3-2-ç°åº¦è†¨èƒ€" class="headerlink" title="9.3.2 ç°åº¦è†¨èƒ€"></a>9.3.2 ç°åº¦è†¨èƒ€</h3><p>ç”¨ç»“æ„å…ƒbå¯¹ç°åº¦å›¾åƒfçš„ç°åº¦è¿›è¡Œè†¨èƒ€ï¼Œè¡¨ç¤ºä¸ºï¼š <code>(f\oplus b)(s,t)=max&#123;f(s-x,t-y)+b(x,y)(s-t),(t-y)\in D_f;(x,y)\in D_b&#125;</code></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/20/shuzituxiang9/">https://blog.jujimeizuo.cn/2021/06/20/shuzituxiang9/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆå…«ï¼‰å›¾åƒç‰¹å¾æå–</title>
      <link href="/2021/06/20/shuzituxiang8/"/>
      <url>/2021/06/20/shuzituxiang8/</url>
      
        <content type="html"><![CDATA[<h4 id="8-1-å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•"><a href="#8-1-å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•" class="headerlink" title="8.1 å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•"></a>8.1 å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•</h4><h3 id="8-1-1-å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾"><a href="#8-1-1-å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾" class="headerlink" title="8.1.1 å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾"></a>8.1.1 å›¾åƒçº¹ç†çš„ä¸»è¦ç‰¹å¾</h3><ol><li>ç²—ç³™åº¦</li><li>æ–¹å‘æ€§</li><li>è§„åˆ™æ€§</li></ol><h3 id="8-1-2-å›¾åƒçº¹ç†ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•"><a href="#8-1-2-å›¾åƒçº¹ç†ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•" class="headerlink" title="8.1.2 å›¾åƒçº¹ç†ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•"></a>8.1.2 å›¾åƒçº¹ç†ç‰¹å¾åŠæè¿°ä¸æå–æ–¹æ³•</h3><ol><li>ç»Ÿè®¡åˆ†ææ³•</li><li>ç»“æ„åˆ†ææ³•</li><li>æ¨¡å‹åˆ†ææ³•</li><li>é¢‘è°±åˆ†ææ³•</li></ol><h4 id="8-2-åŸºäºç°åº¦å…±ç”ŸçŸ©é˜µçš„çº¹ç†ç‰¹å¾æå–æ–¹æ³•"><a href="#8-2-åŸºäºç°åº¦å…±ç”ŸçŸ©é˜µçš„çº¹ç†ç‰¹å¾æå–æ–¹æ³•" class="headerlink" title="8.2 åŸºäºç°åº¦å…±ç”ŸçŸ©é˜µçš„çº¹ç†ç‰¹å¾æå–æ–¹æ³•"></a>8.2 åŸºäºç°åº¦å…±ç”ŸçŸ©é˜µçš„çº¹ç†ç‰¹å¾æå–æ–¹æ³•</h4><h3 id="8-2-1-æ¦‚å¿µåŠå®šä¹‰"><a href="#8-2-1-æ¦‚å¿µåŠå®šä¹‰" class="headerlink" title="8.2.1 æ¦‚å¿µåŠå®šä¹‰"></a>8.2.1 æ¦‚å¿µåŠå®šä¹‰</h3><p>ç°åº¦å…±ç”ŸçŸ©é˜µå®šä¹‰ä¸ºåƒç´ å¯¹çš„è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œæ˜¯ä¸€ä¸ªå¯¹ç§°çŸ©é˜µï¼Œå®ƒä¸ä»…åæ˜ å›¾åƒç°åº¦åœ¨ç›¸é‚»çš„æ–¹å‘ã€ç›¸é‚»é—´éš”ã€å˜åŒ–å¹…åº¦çš„ç»¼åˆä¿¡æ¯ï¼Œä½†ä¹Ÿåæ˜ äº†ç›¸åŒçš„ç°åº¦çº§åƒç´ ä¹‹é—´çš„ä½ç½®åˆ†å¸ƒç‰¹å¾ï¼Œæ˜¯è®¡ç®—çº¹ç†ç‰¹å¾çš„åŸºç¡€ã€‚</p><p>åœ¨å›¾åƒä¸­ä»»æ„å–ä¸€ç‚¹(x,y)åŠåç¦»å®ƒçš„ä¸€ç‚¹(x+a,y+b)(å…¶ä¸­ï¼Œaã€bä¸ºæ•´æ•°ï¼Œäººä¸ºå®šä¹‰)æ„æˆç‚¹å¯¹ã€‚è®¾è¯¥ç‚¹å¯¹çš„ç°åº¦å€¼ä¸º(f1,f2)ï¼Œå†ä»¤ç‚¹(x,y)åœ¨æ•´å¹…å›¾åƒä¸Šç§»åŠ¨ï¼Œåˆ™ä¼šå¾—åˆ°ä¸åŒçš„(f1,f2)å€¼ã€‚</p><p>è®¾å›¾åƒçš„æœ€å¤§ç°åº¦çº§ä¸ºLï¼Œåˆ™f2ä¸f2çš„ç»„åˆå…±æœ‰L*Lç§ã€‚å¯¹äºæ•´å¹…å›¾åƒï¼Œç»Ÿè®¡å‡ºæ¯ä¸€ç§(f1,f2)å€¼å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åæ’åˆ—æˆä¸€ä¸ªæ–¹é˜µï¼Œå†ç”¨(f1,f2)å‡ºç°çš„æ€»æ¬¡æ•°å°†ä»–ä»¬å½’ä¸€åŒ–ä¸ºå‡ºç°çš„æ¦‚ç‡P(f1,f2)ï¼Œç”±æ­¤äº§ç”Ÿçš„çŸ©é˜µä¸ºç°åº¦å…±ç”ŸçŸ©é˜µã€‚Î¸æ–¹å‘ä¸Šçš„é—´éš”ä¸ºdçš„ç°åº¦å…±ç”ŸçŸ©é˜µå®é™…ä¸Šæ˜¯Î¸æ–¹å‘é—´éš”ä¸ºdçš„ç°åº¦å˜åŒ–é‡çš„è”åˆæ¦‚ç‡åˆ†å¸ƒã€‚</p><h3 id="8-2-2-å…±ç”ŸçŸ©é˜µçš„è®¡ç®—"><a href="#8-2-2-å…±ç”ŸçŸ©é˜µçš„è®¡ç®—" class="headerlink" title="8.2.2 å…±ç”ŸçŸ©é˜µçš„è®¡ç®—"></a>8.2.2 å…±ç”ŸçŸ©é˜µçš„è®¡ç®—</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-65.png"> å…¬å¼(1)ä¸­dè¡¨ç¤ºåƒç´ é—´éš”ï¼Œ(k,l), (m,n)åˆ†åˆ«ä¸ºåŸåƒç´ å’Œåç§»åçš„åƒç´ åæ ‡ï¼Œå…¶ä¸­k,mä¸ºçºµåæ ‡ï¼ŒDä¸ºå›¾åƒèŒƒå›´ã€‚ ä¸¾ä¾‹è¯´æ˜ï¼Œå‡è®¾åŸå›¾åƒå¦‚å›¾1.aæ‰€ç¤º <img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-66.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-67.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-68.png"> å¯¹1.bä¸­è“è‰²å­—è¡¨ç¤ºåŸåƒç´ ç°åº¦å€¼ï¼Œçº¢å­—ä¸ºåç§»ååƒç´ ç°åº¦å€¼ã€‚åˆ™å¯¹çŸ©é˜µå…ƒç´ P0Â°,1 (0,0)è¡¨ç¤º1.aä¸­åœ¨0Â°æ–¹å‘ä¸Šï¼ˆåŒ…æ‹¬æ­£å’Œè´Ÿæ–¹å‘ï¼‰ç›¸è·ä¸º1çš„(0,0)ç‚¹å¯¹æœ‰ä¸¤å¯¹ï¼Œè€ƒè™‘æ­£è´Ÿæ–¹å‘çš„åŠ å€æ•ˆæœï¼ŒP0Â°,1 (0,0)&#x3D;4ã€‚åŒæ ·ç”±äºå…¬å¼(1)å¯¹è·ç¦»då®šä¹‰çš„åŒå‘æ€§ï¼Œä½¿å¾—ç°åº¦å…±ç”ŸçŸ©é˜µä¸ºå¯¹ç§°çŸ©é˜µã€‚</p><p>ä¸ºäº†å‡å°è®¡ç®—é‡ï¼Œå¯å°†då®šä¹‰ä¸ºæ²¿Î¸æ­£æ–¹å‘ã€‚åˆ™(1)å¼å˜ä¸º <img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-69.png"> ç”±1.aå¾—åˆ°çš„æ–°çš„ç°åº¦å…±ç”ŸçŸ©é˜µä¸º <img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-70.png"></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/20/shuzituxiang8/">https://blog.jujimeizuo.cn/2021/06/20/shuzituxiang8/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆå…­ï¼‰å›¾åƒå‹ç¼©ç¼–ç </title>
      <link href="/2021/06/20/shuzituxiang6/"/>
      <url>/2021/06/20/shuzituxiang6/</url>
      
        <content type="html"><![CDATA[<h4 id="6-1-DCTå˜æ¢"><a href="#6-1-DCTå˜æ¢" class="headerlink" title="6.1 DCTå˜æ¢"></a>6.1 DCTå˜æ¢</h4><ol><li>DCTå˜æ¢é¿å…äº†å¤è¿°è¿ç®—ã€‚ç”±äºå›¾åƒçŸ©é˜µæ˜¯å®æ•°çŸ©é˜µï¼Œé‚£ä¹ˆå®ƒçš„DCTä¹Ÿæ˜¯å®æ•°ã€‚</li><li>DCTæ˜¯æ­£äº¤å˜æ¢ï¼Œå…¶å˜æ¢çŸ©é˜µæ˜¯æ­£äº¤é˜µï¼Œå˜æ¢æ ¸æ˜¯å¯åˆ†ç¦»çš„ã€‚</li><li>DCTä¸IDCTå…·æœ‰ç›¸åŒçš„å˜æ¢æ ¸ï¼Œå› æ­¤å…·æœ‰ç›¸åŒçš„å˜æ¢çŸ©é˜µï¼Œå³æ­£å˜æ¢ä¸é€†å˜æ¢å…¬ç”¨åŒä¸€ä¸ªç®—æ³•æ¨¡å—ã€‚</li><li>DCTå…·æœ‰æ›´å¼ºçš„ä¿¡æ¯é›†ä¸­èƒ½åŠ›ï¼Œèƒ½å°†æœ€å¤šçš„ä¿¡æ¯æ”¾åˆ°æœ€å°‘çš„ç³»æ•°ä¸Šã€‚</li></ol><h3 id="6-1-1-ä¸€ç»´DCTå˜æ¢"><a href="#6-1-1-ä¸€ç»´DCTå˜æ¢" class="headerlink" title="6.1.1 ä¸€ç»´DCTå˜æ¢"></a>6.1.1 ä¸€ç»´DCTå˜æ¢</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/FC7284B1-8860-46E4-AA9E-B5AB73ECB065.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/09173FD0-ADDC-47AD-A0C1-55A12999B95C.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/4B5C21E1-BED8-4025-AC63-E59CEC6FF34A.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="6-1-2-äºŒç»´DCTå˜æ¢"><a href="#6-1-2-äºŒç»´DCTå˜æ¢" class="headerlink" title="6.1.2 äºŒç»´DCTå˜æ¢"></a>6.1.2 äºŒç»´DCTå˜æ¢</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/32B44907-962B-4F73-B56A-426757C572A3.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="6-2-å›¾åƒç¼–ç åŸºç¡€"><a href="#6-2-å›¾åƒç¼–ç åŸºç¡€" class="headerlink" title="6.2 å›¾åƒç¼–ç åŸºç¡€"></a>6.2 å›¾åƒç¼–ç åŸºç¡€</h4><h3 id="6-2-1-å›¾åƒå‹ç¼©çš„åŸºæœ¬æ¦‚å¿µ"><a href="#6-2-1-å›¾åƒå‹ç¼©çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="6.2.1 å›¾åƒå‹ç¼©çš„åŸºæœ¬æ¦‚å¿µ"></a>6.2.1 å›¾åƒå‹ç¼©çš„åŸºæœ¬æ¦‚å¿µ</h3><h4 id="å®šä¹‰ï¼š-å‡å°‘è¡¨ç¤ºå›¾åƒçš„æ•°æ®é‡"><a href="#å®šä¹‰ï¼š-å‡å°‘è¡¨ç¤ºå›¾åƒçš„æ•°æ®é‡" class="headerlink" title="å®šä¹‰ï¼šÂ å‡å°‘è¡¨ç¤ºå›¾åƒçš„æ•°æ®é‡"></a>å®šä¹‰ï¼šÂ å‡å°‘è¡¨ç¤ºå›¾åƒçš„æ•°æ®é‡</h4><ol><li>åœ¨å›¾åƒä¼ è¾“çš„æ—¶å€™ï¼Œå¯ä¼ è¾“è¾ƒå°‘çš„æ•°æ®é‡ï¼Œä½†ä¸å‡å°‘å›¾åƒæ‰€è¡¨è¾¾çš„ä¿¡æ¯é‡</li><li>åœ¨å›¾åƒå­˜å‚¨æ—¶ï¼Œå¯å‡å°‘æ‰€éœ€çš„å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶è¾ƒå°‘å­˜å‚¨æ‰€éœ€çš„æ—¶é—´</li></ol><h4 id="å›¾åƒä¿¡æ¯å¯ä»¥å‹ç¼©çš„æ ¹æ®"><a href="#å›¾åƒä¿¡æ¯å¯ä»¥å‹ç¼©çš„æ ¹æ®" class="headerlink" title="å›¾åƒä¿¡æ¯å¯ä»¥å‹ç¼©çš„æ ¹æ®"></a>å›¾åƒä¿¡æ¯å¯ä»¥å‹ç¼©çš„æ ¹æ®</h4><ol><li>å›¾åƒä¿¡å·å­˜åœ¨å¤§é‡çš„å†—ä½™</li><li>å¯ä»¥åˆ©ç”¨äººçš„è§†è§‰ç‰¹æ€§</li></ol><p>å›¾åƒä¿¡æ¯çš„å†—ä½™åº¦è¡¨ç°åœ¨ç»“æ„å’Œç»Ÿè®¡ä¸¤ä¸ªæ–¹é¢</p><p>å›¾åƒä¿¡æ¯ç»“æ„ä¸Šå†—ä½™åº¦è¡¨ç°ä¸ºï¼šå›¾åƒå…·æœ‰å¾ˆå¼ºçš„ç©ºé—´ï¼ˆå¸§å†…ï¼‰ç›¸å…³æ€§å’Œæ—¶é—´ï¼ˆå¸§é—´ï¼‰ç›¸å…³æ€§ã€‚</p><p><strong>ç¼–ç å†—ä½™ã€åƒç´ é—´å†—ä½™ã€å¿ƒç†-è§†è§‰å†—ä½™ã€å¸§é—´å†—ä½™ã€‚</strong></p><p>è·å–å›¾åƒå‹ç¼©è´¨é‡çš„å¥½åæ˜¯é€šè¿‡è®¡ç®—å…¶<strong>å‹ç¼©æ¯”</strong>å¾—åˆ°çš„ï¼Œå…¬å¼ä¸ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-62.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><strong>å›¾åƒç†µæ•°å­¦å…¬å¼</strong>ä¸ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-2.gif"> Â <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="6-2-2-å›¾åƒç¼–ç æ¨¡å‹"><a href="#6-2-2-å›¾åƒç¼–ç æ¨¡å‹" class="headerlink" title="6.2.2 å›¾åƒç¼–ç æ¨¡å‹"></a>6.2.2 å›¾åƒç¼–ç æ¨¡å‹</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-61.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="6-3-éœå¤«æ›¼ç "><a href="#6-3-éœå¤«æ›¼ç " class="headerlink" title="6.3 éœå¤«æ›¼ç "></a>6.3 éœå¤«æ›¼ç </h4><h3 id="6-3-1-æ¦‚å¿µ"><a href="#6-3-1-æ¦‚å¿µ" class="headerlink" title="6.3.1 æ¦‚å¿µ"></a>6.3.1 æ¦‚å¿µ</h3><p>å“ˆå¤«æ›¼ç¼–ç æ˜¯<strong>å¯å˜å­—é•¿ç¼–ç </strong>(VLC)çš„ä¸€ç§ã€‚è¯¥æ–¹æ³•<strong>å®Œå…¨ä¾æ®å­—ç¬¦å‡ºç°æ¦‚ç‡</strong>æ¥æ„é€ å¼‚å­—å¤´çš„å¹³å‡é•¿åº¦æœ€çŸ­çš„ç å­—ï¼Œæœ‰æ—¶ç§°ä¹‹ä¸º<strong>æœ€ä½³ç¼–ç </strong>ï¼Œä¸€èˆ¬å°±å«åšHuffmanç¼–ç ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸ºéœå¤«æ›¼ç¼–ç ï¼‰ã€‚é€šä¿—æ¥è¯´å°±æ˜¯ï¼Œ<strong>ä¿¡æºç¬¦å·å‡ºç°é¢‘ç‡è¶Šé«˜ï¼Œä½¿ç”¨çš„ç å­—å°±è¶Šå°‘ã€‚</strong></p><h3 id="6-3-2-ç¼–ç è¿‡ç¨‹"><a href="#6-3-2-ç¼–ç è¿‡ç¨‹" class="headerlink" title="6.3.2 ç¼–ç è¿‡ç¨‹"></a>6.3.2 ç¼–ç è¿‡ç¨‹</h3><ol><li>å¯¹ç¬¦å·çš„æ¦‚ç‡è¿›è¡Œæ’åºï¼Œå»ºç«‹ä¿¡æºé€’å‡åºåˆ—ï¼›</li><li>å¯¹æ¯ä¸ªçº¦ç®€çš„ä¿¡æºè¿›è¡Œç¼–ç ï¼Œä»æœ€å°çš„ä¿¡æºå¼€å§‹ï¼Œå·²çŸ¥åˆ°åŸå§‹ä¿¡æºã€‚</li></ol><h3 id="6-3-3-éœå¤«æ›¼ç¼–ç "><a href="#6-3-3-éœå¤«æ›¼ç¼–ç " class="headerlink" title="6.3.3 éœå¤«æ›¼ç¼–ç "></a>6.3.3 éœå¤«æ›¼ç¼–ç </h3><p>éœå¤«æ›¼ç çš„äº§ç”Ÿä¸æ˜¯å‹ç¼©è¿‡ç¨‹ã€‚ä¸ºäº†å®ç°æˆä¸ºéœå¤«æ›¼ç çš„å‹ç¼©ï¼Œå¯¹äºäº§ç”Ÿç å­—çš„ç¬¦å·ï¼Œä¸ç®¡å®ƒä»¬çš„ç°åº¦çº§ã€è¡Œç¨‹é•¿åº¦ï¼Œè¿˜æ˜¯å…¶ä»–ç°åº¦æ˜ å°„æ“ä½œçš„è¾“å‡ºï¼Œéƒ½å¿…é¡»åœ¨ç”Ÿæˆç å­—ä¸€è‡´çš„æƒ…å†µä¸‹è¢«å˜æ¢æˆ–æ˜ å°„ã€‚</p><p>éœå¤«æ›¼æ ‘â”€å³<strong>æœ€ä¼˜äºŒå‰æ ‘</strong>ï¼Œå¸¦æƒè·¯å¾„é•¿åº¦æœ€å°çš„äºŒå‰æ ‘ï¼Œç»å¸¸åº”ç”¨äº<strong>æ•°æ®å‹ç¼©</strong>ã€‚ åœ¨è®¡ç®—æœºä¿¡æ¯å¤„ç†ä¸­ï¼Œâ€œéœå¤«æ›¼ç¼–ç â€æ˜¯ä¸€ç§<strong>ä¸€è‡´æ€§ç¼–ç æ³•</strong>ï¼ˆåˆç§°â€œç†µç¼–ç æ³•â€ï¼‰ï¼Œç”¨äºæ•°æ®çš„<strong>æ— æŸè€—å‹ç¼©</strong>ã€‚</p><p>éœå¤«æ›¼ç¼–ç çš„åŸç†ï¼š éœå¤«æ›¼æ–¹æ³•çš„ç¬¬ä¸€æ­¥æ˜¯é€šè¿‡å¯¹æ‰€è€ƒè™‘ç¬¦å·çš„æ¦‚ç‡è¿›è¡Œæ’åºï¼Œå¹¶å°†å…·æœ‰æœ€å°æ¦‚ç‡çš„ç¬¦å·åˆå¹¶ä¸ºä¸€ä¸ªç¬¦å·æ¥æ›¿ä»£ä¸‹æ¬¡ä¿¡æºåŒ–ç®€è¿‡ç¨‹ä¸­çš„ç¬¦å·ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªç®€åŒ–ä¿¡æºç³»åˆ—ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºé‚£æ ·ï¼Œè½½æœ€å·¦è¾¹ä¸€ç»„è™šæ„çš„ä¿¡æºç¬¦å·é›†åˆåŠå®ƒä»¬çš„æ¦‚ç‡æ ¹æ®æ¦‚ç‡å€¼çš„å‡å°‘ä»ä¸Šåˆ°ä¸‹æ’åˆ—ï¼Œä¸ºäº†å½¢æˆç¬¬ä¸€æ¬¡ä¿¡æºç®€åŒ–ï¼Œåº•éƒ¨çš„ä¸¤ä¸ªæ¦‚ç‡0.06å’Œ0.04è¿›è¡Œåˆå¹¶ï¼Œå½¢æˆä¸€ä¸ªæ¦‚ç‡å€¼ä¸º0.1çš„â€œå¤åˆç¬¦å·â€ï¼Œè¿™ä¸ªå¤åˆç¬¦å·åŠå…¶å¯¹åº”çš„æ¦‚ç‡è¢«ç½®äºç¬¬ä¸€ä¸ªä¿¡æºç®€åŒ–çš„åˆ—ä¸­ï¼Œä»¥ä¾¿ç®€åŒ–åçš„ä¿¡æºæ¦‚ç‡ä»ç„¶æŒ‰ç…§å…¶å€¼ä»å¤§åˆ°å°è¿›è¡Œæ’åˆ—ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€ç›´é‡å¤æŒç»­åˆ°ä¿¡æºåªæœ‰ä¸¤ä¸ªç¬¦å·çš„ç®€åŒ–ä¿¡æºä¸ºæ­¢ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-64.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="6-3-4-éœå¤«æ›¼è¯‘ç "><a href="#6-3-4-éœå¤«æ›¼è¯‘ç " class="headerlink" title="6.3.4 éœå¤«æ›¼è¯‘ç "></a>6.3.4 éœå¤«æ›¼è¯‘ç </h3><p>ç»è¿‡éœå¤«æ›¼ç¼–ç å†è¯‘ç ä¹‹åï¼Œæ‰è·å¾—æœ‰ç”¨çš„å›¾åƒï¼Œè¯‘ç å™¨å¿…é¡»è®¡ç®—ç”¨æ¥ç¼–ç xçš„éœå¤«æ›¼ç ï¼Œå†åæ˜ å°„å·²ç¼–ç çš„æ•°æ®æ¥é‡å»ºxï¼Œè¿™æ˜¯ä¸€ç§é€†è¿‡ç¨‹ï¼Œä½†æ˜¯ç¼ºå°‘äº†åé‡åŒ–çš„æ­¥éª¤ï¼ˆè¿™æ˜¯ä¸å¯é€†è½¬çš„ä¸€æ­¥ï¼‰ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/20/shuzituxiang6/">https://blog.jujimeizuo.cn/2021/06/20/shuzituxiang6/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆä¸ƒï¼‰å›¾åƒåˆ†å‰²</title>
      <link href="/2021/06/18/shuzituxiang7/"/>
      <url>/2021/06/18/shuzituxiang7/</url>
      
        <content type="html"><![CDATA[<h4 id="7-1-å›¾åƒåˆ†å‰²æ¦‚è¿°"><a href="#7-1-å›¾åƒåˆ†å‰²æ¦‚è¿°" class="headerlink" title="7.1 å›¾åƒåˆ†å‰²æ¦‚è¿°"></a>7.1 å›¾åƒåˆ†å‰²æ¦‚è¿°</h4><h3 id="7-1-1-å®šä¹‰"><a href="#7-1-1-å®šä¹‰" class="headerlink" title="7.1.1 å®šä¹‰"></a>7.1.1 å®šä¹‰</h3><p>å°†æ•°å­—å›¾åƒåˆ’åˆ†æˆäº’ä¸ç›¸äº¤ï¼Œæœ‰æ„ä¹‰çš„ï¼Œå…·æœ‰ç›¸åŒæ€§è´¨çš„åŒºåŸŸçš„è¿‡ç¨‹ã€‚</p><p>å›¾åƒçš„åˆ†å‰²ä¸€ç§æ˜¯åŸºäºç°åº¦çš„ä¸è¿ç»­å˜æ¥åˆ†å‰²ï¼ˆå›¾åƒè¾¹ç¼˜ï¼‰ï¼›</p><p>ä¸€ç§æ˜¯åŸºäºå®ç°åˆ¶å®šçš„å‡†åˆ™å°†å›¾åƒåˆ†å‰²ä¸ºç›¸ä¼¼çš„åŒºåŸŸã€‚</p><p>æ•°å­¦å®šä¹‰ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-58.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><ol><li>è¡¨æ˜åˆ†å‰²åŒºåŸŸè¦è¦†ç›–æ•´ä¸ªå›¾åƒä¸”å„åŒºåŸŸäº’ä¸é‡å ï¼›</li><li>è¡¨æ˜æ¯ä¸€ä¸ªåŒºåŸŸéƒ½å…·æœ‰ç›¸åŒçš„æ€§è´¨ï¼›</li><li>è¡¨æ˜ä¸¤ä¸ªåŒºåŸŸæ€§è´¨ç›¸å¼‚ä¸èƒ½åˆå¹¶ä¸ºä¸€ä¸ªåŒºåŸŸã€‚</li></ol><h3 id="7-1-2-å‡†åˆ™"><a href="#7-1-2-å‡†åˆ™" class="headerlink" title="7.1.2 å‡†åˆ™"></a>7.1.2 å‡†åˆ™</h3><p>å‡†åˆ™ï¼š<strong>æ¯ä¸ªåŒºåŸŸå†…éƒ¨çš„ç‰¹å¾æˆ–å±æ€§æ˜¯ç›¸åŒæˆ–ç›¸ä¼¼çš„</strong>ã€‚</p><p>ç‰¹å¾å¯ä»¥æ˜¯ï¼šåƒç´ ç°åº¦å€¼ã€è¾¹ç¼˜è½®å»“æ›²çº¿ã€çº¹ç†ç‰¹å¾ã€å½¢çŠ¶å’Œé¢œè‰²â€¦</p><h3 id="7-1-3-æ„ä¹‰"><a href="#7-1-3-æ„ä¹‰" class="headerlink" title="7.1.3 æ„ä¹‰"></a>7.1.3 æ„ä¹‰</h3><p>å›¾åƒåˆ†å‰²æ˜¯å›¾åƒå¤„ç†ä¸ç†è§£ã€æ¨¡å¼è¯†åˆ«å’Œäººå·¥æ™ºèƒ½ç­‰å¤šä¸ªé¢†åŸŸä¸­ä¸€ä¸ªååˆ†é‡è¦ä¸”åˆååˆ†å›°éš¾çš„é—®é¢˜ï¼Œæ˜¯è®¡ç®—æœºè§†è§‰æŠ€æœ¯ä¸­å…³é”®æ­¥éª¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å›¾åƒåˆ†å‰²åº”ç”¨åœ¨è®¸å¤šæ–¹é¢ã€‚</p><p><strong>åº”ç”¨</strong>ï¼šæ±½è½¦è½¦å‹è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿã€æ£€æŸ¥ç™Œç»†èƒã€ç²¾å¯†é›¶ä»¶è¡¨é¢ç¼ºé™·æ£€æµ‹ï¼Œå¤„ç†å«æ˜Ÿæ‹æ‘„çš„åœ°å½¢åœ°è²Œç…§ç‰‡ç­‰ã€‚åœ¨æ‰€æœ‰è¿™äº›åº”ç”¨é¢†åŸŸä¸­ï¼Œæœ€ç»ˆç»“æœå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºå›¾åƒåˆ†å‰²çš„ç»“æœã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-57.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="7-2-åŸºäºè¾¹ç¼˜æ£€æµ‹çš„å›¾åƒåˆ†å‰²"><a href="#7-2-åŸºäºè¾¹ç¼˜æ£€æµ‹çš„å›¾åƒåˆ†å‰²" class="headerlink" title="7.2 åŸºäºè¾¹ç¼˜æ£€æµ‹çš„å›¾åƒåˆ†å‰²"></a>7.2 åŸºäºè¾¹ç¼˜æ£€æµ‹çš„å›¾åƒåˆ†å‰²</h4><p>å…ˆæå–åŒºåŸŸè¾¹ç•Œï¼Œå†ç¡®å®šè¾¹ç•Œé™å®šçš„åŒºåŸŸï¼›æ¶‰åŠåˆ°è¾¹ç¼˜æ£€æµ‹æ ¸è¾¹ç¼˜è¿æ¥ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šå…ˆæ£€æµ‹å›¾åƒä¸­çš„è¾¹ç¼˜ç‚¹å†æŒ‰ä¸€å®šç­–ç•¥é“¾æ¥æˆè½®å»“ï¼Œä»è€Œæ„æˆåˆ†å‰²åŒºåŸŸã€‚</p><h3 id="7-2-1-è¾¹ç¼˜æ£€æµ‹"><a href="#7-2-1-è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="7.2.1 è¾¹ç¼˜æ£€æµ‹"></a>7.2.1 è¾¹ç¼˜æ£€æµ‹</h3><h4 id="æ„ä¹‰"><a href="#æ„ä¹‰" class="headerlink" title="æ„ä¹‰"></a>æ„ä¹‰</h4><p>è¾¹ç•Œå­˜åœ¨äºç›®æ ‡ä¸èƒŒæ™¯ã€ç›®æ ‡ä¸ç›®æ ‡ã€åŒºåŸŸä¸åŒºåŸŸä¹‹é—´ï¼Œæ˜¯å›¾åƒæœ€åŸºæœ¬çš„ç‰¹å¾ï¼ŒåŒ…å«äº†åœ¨å®é™…åº”ç”¨ä¸­ç”¨äºåˆ†å‰²çš„åŸºæœ¬ä¿¡æ¯ã€‚äººç‰©ä½“æ—¶ï¼Œé¦–å…ˆæ„Ÿè§‰åˆ°çš„ä¾¿æ˜¯è¾¹ç¼˜ã€‚</p><h4 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h4><p>æ£€æµ‹ç°åº¦çº§æˆ–è€…ç»“æ„å…·æœ‰çªå˜çš„åœ°æ–¹ï¼Œè¿™ç§ç°åº¦æˆ–è€…ç»“æ„ä¸è¿ç»­æ€§ç§°ä¸ºè¾¹ç¼˜ã€‚</p><h4 id="å¤„ç†æ–¹æ³•"><a href="#å¤„ç†æ–¹æ³•" class="headerlink" title="å¤„ç†æ–¹æ³•"></a>å¤„ç†æ–¹æ³•</h4><p>å›¾åƒä¸­ç›¸é‚»çš„ä¸åŒåŒºåŸŸé—´æ€»å­˜åœ¨è¾¹ç¼˜ï¼Œè¾¹ç¼˜å¤„åƒç´ çš„ç°åº¦å€¼ä¸è¿ç»­ï¼Œè¿™ç§ä¸è¿ç»­æ€§å¯é€šè¿‡æ±‚å¯¼æ•°æ¥æ£€æµ‹åˆ°ï¼Œå› æ­¤å¸¸ç”¨ç°åº¦çš„ä¸€é˜¶æˆ–äºŒé˜¶å¾®åˆ†ç®—å­è¿›è¡Œè¾¹ç¼˜æ£€æµ‹ã€‚ç›´è§‚ç†è§£å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸€é˜¶å¯¼æ•°çš„å³°å€¼ï¼ŒäºŒé˜¶å¯¼æ•°çš„é›¶ç‚¹å€¼ã€‚</p><h3 id="7-2-2-Houghå˜æ¢"><a href="#7-2-2-Houghå˜æ¢" class="headerlink" title="7.2.2 Houghå˜æ¢"></a>7.2.2 Houghå˜æ¢</h3><p>åŸç†ï¼šæŠŠç›´çº¿ä¸Šçš„ç‚¹çš„åæ ‡å˜æ¢åˆ°è¿‡ç‚¹çš„ç›´çº¿çš„ç³»æ•°åŸŸï¼Œé€šè¿‡åˆ©ç”¨å…±çº¿å’Œç›´çº¿ç›¸äº¤çš„å…³ç³»ï¼Œä½¿ç›´çº¿çš„æå–é—®é¢˜è½¬åŒ–ä¸ºè®¡æ•°é—®é¢˜</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-59.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="7-3-åŸºäºé˜ˆå€¼çš„å›¾åƒåˆ†å‰²"><a href="#7-3-åŸºäºé˜ˆå€¼çš„å›¾åƒåˆ†å‰²" class="headerlink" title="7.3 åŸºäºé˜ˆå€¼çš„å›¾åƒåˆ†å‰²"></a>7.3 åŸºäºé˜ˆå€¼çš„å›¾åƒåˆ†å‰²</h4><p>ç¡®å®šæ¯ä¸ªåƒç´ çš„å½’å±åŒºåŸŸï¼Œä»è€Œå®Œæˆåˆ†å‰²ï¼›é˜ˆå€¼åˆ†å‰²æ³•ï¼ˆæœ¬æ–‡ä»‹ç»ï¼‰ã€åŒºåŸŸç”Ÿé•¿æ³•å’Œåˆ†è£‚åˆå¹¶æ³•ç­‰ã€‚</p><h3 id="7-3-1-é˜ˆå€¼åˆ†å‰²æ³•"><a href="#7-3-1-é˜ˆå€¼åˆ†å‰²æ³•" class="headerlink" title="7.3.1Â é˜ˆå€¼åˆ†å‰²æ³•"></a>7.3.1Â <strong>é˜ˆå€¼åˆ†å‰²æ³•</strong></h3><p>åŸºæœ¬åŸç†ï¼šé€šè¿‡è®¾å®šä¸åŒçš„ç‰¹å¾é˜ˆå€¼ï¼ŒæŠŠå›¾åƒåƒç´ ç‚¹åˆ†ä¸ºè‹¥å¹²ç±»</p><ul><li>ç¡®å®šä¸€ä¸ªç°åº¦é˜ˆå€¼</li><li>å°†ç°åº¦å€¼å¤§äºç»™å®šé˜ˆå€¼çš„åƒå…ƒåˆ¤å½’ä¸ºæŸä¸€ä¸ªç‰©ä½“ï¼Œèµ‹äºˆåŒä¸€ä¸ªç¼–å·</li><li>å°†ç°åº¦å€¼å°äºç»™å®šé˜ˆå€¼çš„åƒå…ƒç»Ÿä¸€åˆ¤å½’ä¸ºå¦ä¸€ç±»ç‰©ä½“ï¼Œèµ‹äºå¦å¤–ä¸€ä¸ªç¼–å·ã€‚</li></ul><p><strong>é€‚ç”¨ï¼š</strong>è¦åˆ†å‰²çš„ç‰©ä½“ä¸å›¾åƒçš„èƒŒæ™¯æœ‰è¾ƒå¼ºå¯¹æ¯”åº¦çš„å›¾åƒã€‚è¢«åˆ†å‰²çš„ç‰©ä½“å†…éƒ¨ç°åº¦å€¼æ¯”è¾ƒå‡ä¸€ä¸”å®ƒå‘¨å›´çš„èƒŒæ™¯ç°åº¦å€¼ä¹Ÿæ¯”è¾ƒå‡ä¸€ï¼Œè¯¥æ³•æ•ˆæœæ¯”è¾ƒç†æƒ³ã€‚</p><p><strong>å…³é”®ï¼š</strong>å¦‚ä½•æ‰¾åˆ°åˆé€‚çš„é˜ˆå€¼ã€‚</p><p><strong>ç®€å•ç›´æ–¹å›¾åˆ†å‰²æ³•ï¼š</strong>60å¹´ä»£ä¸­æœŸï¼ŒPrewittæå‡ºäº†ç›´æ–¹å›¾åŒå³°æ³•ï¼Œå³å¦‚æœç°åº¦çº§ç›´æ–¹å›¾å‘ˆæ˜æ˜¾çš„åŒå³°çŠ¶ï¼Œåˆ™é€‰å–ä¸¤å³°ä¹‹é—´çš„è°·åº•æ‰€å¯¹åº”çš„ç°åº¦çº§ä½œä¸ºé˜ˆå€¼ã€‚</p><p>ç›´æ–¹å›¾é˜ˆå€¼åˆ†å‰²æ³•å¯ç”¨æ•°å­¦è¡¨è¾¾å¼æ¥æè¿°ã€‚è®¾å›¾åƒf(i, j)ï¼Œå…¶ç°åº¦çº§èŒƒå›´ä¸º[z1, z2]ï¼Œè®¾Tä¸ºé˜ˆå€¼ï¼Œæ˜¯z1å’Œz2å†…ä»»ä¸€å€¼ï¼Œå¯å¾—ä¸€å¹…äºŒå€¼å›¾åƒï¼Œå…¶æ•°å­¦è¡¨è¾¾å¼ä¸º:</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-60.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>å…¨å±€é˜ˆå€¼çš„é€‰æ‹©æ–¹æ³•æœ‰ï¼š<strong>äººå·¥é€‰æ‹©æ³•ï¼Œç›´æ–¹å›¾æŠ€æœ¯é€‰æ‹©æ³•ï¼Œè¿­ä»£å¼é˜ˆå€¼é€‰æ‹©æ³•ï¼Œæœ€å¤§ç±»é—´æ–¹å·®æ³•</strong>ã€‚</p><h4 id="7-4-åŸºäºè·Ÿè¸ªçš„å›¾åƒåˆ†å‰²"><a href="#7-4-åŸºäºè·Ÿè¸ªçš„å›¾åƒåˆ†å‰²" class="headerlink" title="7.4 åŸºäºè·Ÿè¸ªçš„å›¾åƒåˆ†å‰²"></a>7.4 åŸºäºè·Ÿè¸ªçš„å›¾åƒåˆ†å‰²</h4><h3 id="7-4-1-è½®å»“è·Ÿè¸ªæ³•"><a href="#7-4-1-è½®å»“è·Ÿè¸ªæ³•" class="headerlink" title="7.4.1 è½®å»“è·Ÿè¸ªæ³•"></a>7.4.1 è½®å»“è·Ÿè¸ªæ³•</h3><h3 id="7-4-2-å…‰æ …è·Ÿè¸ªæ³•"><a href="#7-4-2-å…‰æ …è·Ÿè¸ªæ³•" class="headerlink" title="7.4.2 å…‰æ …è·Ÿè¸ªæ³•"></a>7.4.2 å…‰æ …è·Ÿè¸ªæ³•</h3><h4 id="7-5-åŸºäºåŒºåŸŸçš„å›¾åƒåˆ†å‰²"><a href="#7-5-åŸºäºåŒºåŸŸçš„å›¾åƒåˆ†å‰²" class="headerlink" title="7.5 åŸºäºåŒºåŸŸçš„å›¾åƒåˆ†å‰²"></a>7.5 åŸºäºåŒºåŸŸçš„å›¾åƒåˆ†å‰²</h4><h3 id="7-5-1-åŒºåŸŸç”Ÿé•¿æ³•"><a href="#7-5-1-åŒºåŸŸç”Ÿé•¿æ³•" class="headerlink" title="7.5.1 åŒºåŸŸç”Ÿé•¿æ³•"></a>7.5.1 åŒºåŸŸç”Ÿé•¿æ³•</h3><h3 id="7-5-2-åˆ†è£‚åˆå¹¶æ³•"><a href="#7-5-2-åˆ†è£‚åˆå¹¶æ³•" class="headerlink" title="7.5.2 åˆ†è£‚åˆå¹¶æ³•"></a>7.5.2 åˆ†è£‚åˆå¹¶æ³•</h3><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/18/shuzituxiang7/">https://blog.jujimeizuo.cn/2021/06/18/shuzituxiang7/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆäº”ï¼‰è®¡ç®—æœºçš„è¿ç®—æ–¹æ³•</title>
      <link href="/2021/06/17/jizu5/"/>
      <url>/2021/06/17/jizu5/</url>
      
        <content type="html"><![CDATA[<h2 id="5-1-æœ‰ç¬¦å·æ•°"><a href="#5-1-æœ‰ç¬¦å·æ•°" class="headerlink" title="5.1 æœ‰ç¬¦å·æ•°"></a>5.1 æœ‰ç¬¦å·æ•°</h2><h3 id="5-1-1-åŸç è¡¨ç¤ºæ³•"><a href="#5-1-1-åŸç è¡¨ç¤ºæ³•" class="headerlink" title="5.1.1 åŸç è¡¨ç¤ºæ³•"></a>5.1.1 åŸç è¡¨ç¤ºæ³•</h3><p>åŸç æ˜¯æœºå™¨æ•°ä¸­æœ€ç®€å•çš„ä¸€ç§è¡¨ç¤ºå½¢å¼ï¼Œç¬¦å·ä½ä¸º0è¡¨ç¤ºæ­£æ•°ï¼Œç¬¦å·ä½ä¸º1è¡¨ç¤ºè´Ÿæ•°ï¼Œæ•°å€¼ä½å³ä¸ºçœŸå€¼çš„ç»å¯¹å€¼ï¼Œæ•…åŸç è¡¨ç¤ºåˆç§°ä¸ºå¸¦ç¬¦å·çš„ç»å¯¹å€¼è¡¨ç¤ºã€‚</p><h4 id="æ•´æ•°åŸç å®šä¹‰"><a href="#æ•´æ•°åŸç å®šä¹‰" class="headerlink" title="æ•´æ•°åŸç å®šä¹‰"></a><strong>æ•´æ•°åŸç å®šä¹‰</strong></h4><p><code>[x]_åŸ=\left&#123;\begin&#123;matrix&#125; 0,x&amp; 2^n&gt;x&gt;0&amp; \ 2^n-x,&amp; 0\ge x&gt;-2^n &amp; \end&#123;matrix&#125;\right.</code></p><p>å¼ä¸­ï¼Œxä¸ºçœŸå€¼ï¼Œnä¸ºæ•´æ•°çš„ä½æ•°ã€‚</p><h4 id="å°æ•°åŸç å®šä¹‰"><a href="#å°æ•°åŸç å®šä¹‰" class="headerlink" title="å°æ•°åŸç å®šä¹‰"></a><strong>å°æ•°åŸç å®šä¹‰</strong></h4><p><code>[x]_åŸ=\left&#123;\begin&#123;matrix&#125; x,&amp; 1&gt;x \ge 0&amp; \ 1-x,&amp; 0\ge x&gt;-1 &amp; \end&#123;matrix&#125;\right.</code></p><p>å½“xä¸º0æ—¶ï¼Œ[+0.0000]åŸ=0.0000ï¼Œ[âˆ’0.0000]åŸ=1.0000 å¯è§åŸç ä¸­çš„â€œé›¶â€æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼ã€‚</p><h3 id="5-1-2-è¡¥ç è¡¨ç¤ºæ³•"><a href="#5-1-2-è¡¥ç è¡¨ç¤ºæ³•" class="headerlink" title="5.1.2 è¡¥ç è¡¨ç¤ºæ³•"></a>5.1.2 è¡¥ç è¡¨ç¤ºæ³•</h3><h4 id="è¡¥æ•°çš„æ¦‚å¿µ"><a href="#è¡¥æ•°çš„æ¦‚å¿µ" class="headerlink" title="è¡¥æ•°çš„æ¦‚å¿µ"></a>è¡¥æ•°çš„æ¦‚å¿µ</h4><p>åªè¦ç¡®å®šäº†â€œæ¨¡â€ï¼Œå°±å¯æ‰¾åˆ°ä¸€ä¸ªä¸è´Ÿæ•°ç¯æ¶çš„æ•´æ•°æ¥ä»£æ›¿æ­¤è´Ÿæ•°ï¼Œè¿™æ ·å°±å¯æŠŠå‡æ³•è¿ç®—ç”¨åŠ æ³•å®ç°ã€‚</p><ol><li>ä¸€ä¸ªè´Ÿæ•°å¯ç”¨å®ƒçš„æ­£è¡¥æ•°æ¥ä»£æ›¿ï¼Œè€Œè¿™ä¸ªæ­£è¡¥æ•°å¯ä»¥ç”¨æ¨¡åŠ ä¸Šè´Ÿæ•°æœ¬èº«æ±‚å¾—ã€‚</li><li>ä¸€ä¸ªæ­£æ•°å’Œä¸€ä¸ªè´Ÿæ•°äº’ä¸ºè¡¥æ•°æ—¶ï¼Œå®ƒä»¬ç»å¯¹å€¼ä¹‹å’Œå³ä¸ºæ¨¡æ•°ã€‚</li><li>æ­£æ•°çš„è¡¥æ•°å³è¯¥æ­£æ•°æœ¬èº«ã€‚</li></ol><h4 id="æ•´æ•°è¡¥ç å®šä¹‰"><a href="#æ•´æ•°è¡¥ç å®šä¹‰" class="headerlink" title="æ•´æ•°è¡¥ç å®šä¹‰"></a>æ•´æ•°è¡¥ç å®šä¹‰</h4><p><code>[x]_è¡¥=\left&#123;\begin&#123;matrix&#125; 0,x&amp; 2^n&gt;x \ge 0&amp; \ 2^&#123;n+1&#125;+x,&amp; 0&gt; x \ge -2^n (mod\;2^&#123;n+1&#125;) &amp; \end&#123;matrix&#125;\right.</code></p><h4 id="å°æ•°è¡¥ç å®šä¹‰"><a href="#å°æ•°è¡¥ç å®šä¹‰" class="headerlink" title="å°æ•°è¡¥ç å®šä¹‰"></a>å°æ•°è¡¥ç å®šä¹‰</h4><p><code>[x]_è¡¥=\left&#123;\begin&#123;matrix&#125; x&amp; 1&gt;x \ge 0&amp; \ 2+x,&amp; 0&gt;x \ge -1(mod\;2^&#123;n+1&#125;) &amp; \end&#123;matrix&#125;\right.</code></p><p>å½“xä¸º0æ—¶ï¼Œ[+0]è¡¥=[âˆ’0]è¡¥=0.0000ï¼Œå³è¡¥ç ä¸­çš„â€œé›¶â€åªæœ‰ä¸€ç§è¡¨ç¤ºå½¢å¼ã€‚ç”±äºè¡¥ç ä¸­çš„é›¶åªæœ‰ä¸€ç§è¡¨ç¤ºå½¢å¼ï¼Œæ•…å®ƒæ¯”åŸç èƒ½å¤šè¡¨ç¤ºä¸€ä¸ªâ€œ-1â€ã€‚</p><p>å½“æ¨¡æ•°ä¸º4æ—¶ï¼Œå½¢æˆåŒç¬¦å·ä½çš„è¡¥ç ã€‚è¿™ç§åŒç¬¦å·ä½çš„è¡¥ç åˆç§°ä¸º<strong>å˜å½¢è¡¥ç </strong>ï¼Œå®ƒåœ¨é˜¶ç è¿ç®—å’Œæº¢å‡ºåˆ¤æ–­ä¸­æœ‰å…¶ç‰¹æ®Šä½œç”¨ã€‚å¦‚x&#x3D;-0.1001ï¼Œå¯¹mod 22è€Œè¨€ï¼Œ</p><p>å¯¹äºè´Ÿæ•°ï¼Œç”±[x]è¡¥æ±‚[x]åŸå’Œç”±[x]åŸæ±‚[x]è¡¥éƒ½å¯ç”¨è§„åˆ™<strong>é™¤ç¬¦å·ä½å¤–ï¼Œæ¯ä½æ±‚åï¼Œæœ«å°¾åŠ ä¸€</strong>ã€‚</p><p>è®ºçœŸå€¼æ˜¯æ­£è¿˜æ˜¯è´Ÿï¼Œç”±[x]è¡¥æ±‚[âˆ’x]è¡¥æ±‚éƒ½æ˜¯é‡‡ç”¨è§„åˆ™<strong>è¿åŒç¬¦å·ä½åœ¨å†…ï¼Œæ¯ä½å–åï¼Œæœ«å°¾åŠ ä¸€</strong>ã€‚</p><h3 id="5-1-3-åç è¡¨ç¤ºæ³•"><a href="#5-1-3-åç è¡¨ç¤ºæ³•" class="headerlink" title="5.1.3 åç è¡¨ç¤ºæ³•"></a>5.1.3 åç è¡¨ç¤ºæ³•</h3><p>åç åŒè¡Œç”¨æ¥ä½œä¸ºç”±åŸç æ±‚è¡¥ç æˆ–è€…ç”±è¡¥ç æ±‚åŸç çš„ä¸­é—´è¿‡æ¸¡ã€‚</p><h4 id="æ•´æ•°åç å®šä¹‰"><a href="#æ•´æ•°åç å®šä¹‰" class="headerlink" title="æ•´æ•°åç å®šä¹‰"></a>æ•´æ•°åç å®šä¹‰</h4><p><code>[x]_å=\left&#123;\begin&#123;matrix&#125; 0,x&amp; 2^n&gt;x \ge 0&amp; \ (2^&#123;n+1&#125;-1)+x,&amp; 0 \ge x &gt; -2^n (mod\;(2^&#123;n+1&#125;-1)) &amp; \end&#123;matrix&#125;\right.</code></p><h4 id="å°æ•°åç å®šä¹‰"><a href="#å°æ•°åç å®šä¹‰" class="headerlink" title="å°æ•°åç å®šä¹‰"></a>å°æ•°åç å®šä¹‰</h4><p><code>[x]_å=\left&#123;\begin&#123;matrix&#125; x&amp; 1&gt;x \ge 0&amp; \ (2-2^&#123;-n&#125;)+x,&amp; 0 \ge x &gt; -1(mod\;(2-2^&#123;-n&#125;)) &amp; \end&#123;matrix&#125;\right.</code></p><p>å½“xä¸º0æ—¶ï¼Œ[+0.0000]å=0.0000Â [âˆ’0.0000]å=(10.0000âˆ’0.0001)âˆ’0.0000&#x3D;1.1111 å¯è§[+0]åä¸ç­‰äº[âˆ’0]åï¼Œåç ä¸­çš„â€œé›¶â€æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼ã€‚</p><p>å®é™…ä¸Šï¼Œåç ä¹Ÿå¯çœ‹ä½œæ˜¯mod(2âˆ’2âˆ’n)ï¼ˆå¯¹äºå°æ•°ï¼‰æˆ–modï¼ˆ2n+1âˆ’1ï¼‰ï¼ˆå¯¹äºæ•´æ•°ï¼‰çš„è¡¥ç ã€‚ä¸è¡¥ç ç›¸æ¯”ï¼Œä»…åœ¨æœ«å°¾å·®1ï¼Œæ•…ä¹Ÿç§°å°æ•°çš„è¡¥ç ä¸º2çš„è¡¥ç ï¼Œå°æ•°çš„åç ä¸º1çš„è¡¥ç ã€‚</p><p>å¯¹äºè´Ÿæ•°ï¼Œç”±[x]åæ±‚[x]åŸå’Œç”±[x]åŸæ±‚[x]åéƒ½å¯ç”¨è§„åˆ™<strong>é™¤ç¬¦å·ä½å¤–ï¼Œæ¯ä½æ±‚å</strong>ã€‚</p><blockquote><p>ä¸‰ç§æœºå™¨æ•°çš„ç‰¹ç‚¹å¯å½’çº³å¦‚ä¸‹ï¼š</p><ul><li>ä¸‰ç§æœºå™¨æ•°çš„æœ€é«˜ä½å‡ä¸ºç¬¦å·ä½ã€‚ç¬¦å·ä½å’Œæ•°å€¼éƒ¨åˆ†ä¹‹é—´å¯ç”¨â€œ.â€(å¯¹äºå°æ•°)æˆ–â€œ,â€ï¼ˆå¯¹äºæ•´æ•°ï¼‰éš”å¼€</li><li>å½“çœŸå€¼ä¸ºæ­£æ—¶ï¼ŒåŸç ã€è¡¥ç å’Œåç çš„è¡¨ç¤ºå½¢å¼å‡ç›¸åŒï¼Œå³ç¬¦å·ä½ç”¨â€œ0â€è¡¨ç¤ºï¼Œæ•°å€¼éƒ¨åˆ†ä¸çœŸå€¼ç›¸åŒã€‚</li><li>å½“çœŸå€¼ä¸ºè´Ÿæ—¶ï¼ŒåŸç ã€è¡¥ç å’Œåç çš„è¡¨ç¤ºå½¢å¼ä¸åŒï¼Œä½†å…¶ç¬¦å·ä½ç”¨â€œ1â€è¡¨ç¤ºï¼Œè€Œæ•°å€¼éƒ¨åˆ†æœ‰è¿™æ ·çš„å…³ç³»ï¼š<strong>è¡¥ç æ˜¯åŸç çš„â€œæ±‚ååŠ ä¸€â€ï¼Œåç æ˜¯åŸç çš„â€œæ¯ä½æ±‚åâ€</strong>ã€‚</li></ul></blockquote><h3 id="5-1-4-ç§»ç è¡¨ç¤ºæ³•"><a href="#5-1-4-ç§»ç è¡¨ç¤ºæ³•" class="headerlink" title="5.1.4 ç§»ç è¡¨ç¤ºæ³•"></a>5.1.4 ç§»ç è¡¨ç¤ºæ³•</h3><h4 id="ç§»ç å®šä¹‰"><a href="#ç§»ç å®šä¹‰" class="headerlink" title="ç§»ç å®šä¹‰"></a>ç§»ç å®šä¹‰</h4><p>[x]ç§»=2n+x(2n&gt;xâ‰¥-2n)</p><p>å…¶å®ç§»ç å°±æ˜¯åœ¨çœŸå€¼ä¸ŠåŠ ä¸€ä¸ªå¸¸æ•°2nã€‚åœ¨æ•°è½´ä¸Šç§»ç æ‰€è¡¨ç¤ºçš„èŒƒå›´æ°å¥½å¯¹åº”äºçœŸå€¼åœ¨æ•°è½´ä¸Šçš„èŒƒå›´å‘è½´çš„æ­£æ–¹å‘ç§»åŠ¨2nä¸ªå•å…ƒï¼Œæ•…ç§°ä¸ºç§»ç ã€‚</p><p>å½“xä¸º0æ—¶ï¼Œ[+0]ç§»=[âˆ’0]ç§»=1.0000ï¼Œå³ç§»ç ä¸­çš„â€œé›¶â€åªæœ‰ä¸€ç§è¡¨ç¤ºå½¢å¼ï¼Œæ•…å®ƒæ¯”åŸç èƒ½å¤šè¡¨ç¤ºä¸€ä¸ªè´Ÿæ•°ã€‚</p><p>ç§»ç çš„æœ€å°çœŸå€¼ä¸ºå…¨0ã€‚åˆ©ç”¨ç§»ç çš„è¿™ä¸€ç‰¹ç‚¹ï¼Œå½“æµ®ç‚¹æ•°çš„é˜¶ç ç”¨ç§»ç è¡¨ç¤ºæ—¶ï¼Œå°±èƒ½å¾ˆæ–¹ä¾¿åœ°åˆ¤æ–­é˜¶ç çš„å¤§å°ã€‚</p><p>åŒä¸€ä¸ªçœŸå€¼çš„ç§»ç å’Œè¡¥ç ä»…å·®ä¸€ä¸ªç¬¦å·ä½ï¼Œè‹¥å°†è¡¥ç çš„ç¬¦å·ä½ç”±â€œ0â€æ”¹ä¸ºâ€œ1â€æˆ–ä»â€œ1â€æ”¹ä¸ºâ€œ0â€ï¼Œå³å¯å¾—è¯¥çœŸå€¼çš„ç§»ç ã€‚</p><h2 id="5-2-æ•°çš„å®šç‚¹è¡¨ç¤ºå’Œæµ®ç‚¹è¡¨ç¤º"><a href="#5-2-æ•°çš„å®šç‚¹è¡¨ç¤ºå’Œæµ®ç‚¹è¡¨ç¤º" class="headerlink" title="5.2 æ•°çš„å®šç‚¹è¡¨ç¤ºå’Œæµ®ç‚¹è¡¨ç¤º"></a>5.2 æ•°çš„å®šç‚¹è¡¨ç¤ºå’Œæµ®ç‚¹è¡¨ç¤º</h2><p>å…±æœ‰ä¸¤ç§æ–¹æ³•è¡¨ç¤ºå°æ•°ç‚¹çš„å­˜åœ¨ï¼Œå³å®šç‚¹è¡¨ç¤ºå’Œæµ®ç‚¹è¡¨ç¤ºã€‚å®šç‚¹è¡¨ç¤ºçš„æ•°ç§°ä¸º<strong>å®šç‚¹æ•°</strong>ï¼Œæµ®ç‚¹è¡¨ç¤ºçš„æ•°ç§°ä¸º<strong>æµ®ç‚¹æ•°</strong>ã€‚</p><h3 id="5-2-1-å®šç‚¹è¡¨ç¤º"><a href="#5-2-1-å®šç‚¹è¡¨ç¤º" class="headerlink" title="5.2.1 å®šç‚¹è¡¨ç¤º"></a>5.2.1 å®šç‚¹è¡¨ç¤º</h3><p>å°æ•°ç‚¹åœ¨æŸä¸€ä½ç½®çš„æ•°ä¸º<strong>å®šç‚¹æ•°</strong>ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ ¼å¼ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-40.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>å½“å°æ•°ç‚¹ä½äºæ•°ç¬¦å’Œç¬¬ä¸€æ•°å€¼ä½ä¹‹é—´æ—¶ï¼Œæœºå™¨å†…çš„æ•°ä¸ºçº¯å°æ•°ï¼›å½“å°æ•°ç‚¹ä½äºæ•°å€¼ä½ä¹‹åæ—¶ï¼Œæœºå™¨å†…çš„æ•°ä¸ºçº¯æ•´æ•°ã€‚é‡‡ç”¨å®šç‚¹æ•°çš„æœºå™¨ç§°ä¸ºå®šç‚¹æœºã€‚æ•°å€¼éƒ¨åˆ†çš„ä½æ•°nå†³å®šäº†å®šç‚¹æœºä¸­æ•°çš„è¡¨ç¤ºèŒƒå›´ã€‚è‹¥æœºå™¨æ•°é‡‡ç”¨åŸç ï¼Œå°æ•°å®šç‚¹æœºä¸­çš„æ•°çš„è¡¨ç¤ºèŒƒå›´æ˜¯âˆ’(1âˆ’2âˆ’n)<del>(1âˆ’2âˆ’n)ï¼Œæ•´æ•°å®šç‚¹æœºä¸­æ•°çš„è¡¨ç¤ºèŒƒå›´æ˜¯âˆ’(2nâˆ’1)</del>(2nâˆ’1)ã€‚ åœ¨å®šç‚¹æœºä¸­ï¼Œç”±äºå°æ•°ç‚¹çš„ä½ç½®å›ºå®šä¸å®šï¼Œæ•…å½“æœºå™¨å¤„ç†çš„æ•°ä¸æ˜¯çº¯å°æ•°æˆ–çº¯æ•´æ•°æ—¶ï¼Œå¿…é¡»ä¹˜ä¸Šä¸€ä¸ª<strong>æ¯”ä¾‹å› å­</strong>ï¼Œå¦åˆ™ä¼šäº§ç”Ÿâ€œæº¢å‡ºâ€ã€‚</p><h3 id="5-2-2-æµ®ç‚¹è¡¨ç¤º"><a href="#5-2-2-æµ®ç‚¹è¡¨ç¤º" class="headerlink" title="5.2.2 æµ®ç‚¹è¡¨ç¤º"></a>5.2.2 æµ®ç‚¹è¡¨ç¤º</h3><p><strong>æµ®ç‚¹æ•°</strong>å³å°æ•°ç‚¹çš„ä½ç½®å¯ä»¥æµ®åŠ¨çš„æ•°ã€‚</p><p>é€šå¸¸æµ®ç‚¹æ•°è¢«è¡¨ç¤ºæˆ</p><p>N&#x3D;SÃ—rj</p><p>å¼ä¸­ï¼ŒSä¸ºå°¾æ•°ï¼Œjä¸ºé˜¶ç ï¼Œræ˜¯åŸºæ•°ã€‚åœ¨è®¡ç®—æœºä¸­ï¼ŒåŸºæ•°å¯å–2ã€4ã€8ã€16ç­‰ã€‚ ä¸ºäº†æé«˜æ•°æ®ç²¾åº¦ä»¥åŠä¾¿äºæµ®ç‚¹æ•°çš„æ¯”è¾ƒï¼Œåœ¨è®¡ç®—æœºä¸­è§„å®šæµ®ç‚¹æ•°çš„å°¾æ•°ç”¨çº¯å°æ•°å½¢å¼ã€‚å°†å°¾æ•°æœ€é«˜ä½ä¸º1çš„æµ®ç‚¹æ•°ç§°ä¸º <strong>è§„æ ¼åŒ–æ•°</strong>ã€‚æµ®ç‚¹æ•°è¡¨ç¤ºæˆè§„æ ¼åŒ–å½¢å¼åï¼Œå…¶ç²¾åº¦æœ€é«˜ã€‚</p><h3 id="5-2-3-æµ®ç‚¹æ•°çš„è¡¨ç¤ºå½¢å¼"><a href="#5-2-3-æµ®ç‚¹æ•°çš„è¡¨ç¤ºå½¢å¼" class="headerlink" title="5.2.3 æµ®ç‚¹æ•°çš„è¡¨ç¤ºå½¢å¼"></a>5.2.3 æµ®ç‚¹æ•°çš„è¡¨ç¤ºå½¢å¼</h3><p>é‡‡ç”¨è¿™ç§æ•°æ®æ ¼å¼çš„æœºå™¨ç§°ä¸º<strong>æµ®ç‚¹æœº</strong>ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-41.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æµ®ç‚¹æ•°ç”±é˜¶ç jå’Œå°¾æ•°Sä¸¤éƒ¨åˆ†ç»„æˆã€‚é˜¶ç æ˜¯æ•´æ•°ï¼Œé˜¶ç¬¦å’Œé˜¶ç çš„ä½æ•°måˆèµ·æ¥åæ˜ æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´åŠå°æ•°ç‚¹çš„å®é™…ä½ç½®ï¼›å°¾æ•°æ˜¯å°æ•°ï¼Œå…¶ä½æ•°nåæ˜ äº†æµ®ç‚¹æ•°çš„ç²¾åº¦ï¼›å°¾æ•°çš„ç¬¦å·Sfä»£è¡¨æµ®ç‚¹æ•°çš„æ­£è´Ÿã€‚</p><h3 id="5-2-4-æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´"><a href="#5-2-4-æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´" class="headerlink" title="5.2.4 æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´"></a>5.2.4 æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´</h3><p>è®¾æµ®ç‚¹æ•°é˜¶ç çš„æ•°å€¼ä½å–mä½ï¼Œå°¾æ•°çš„æ•°å€¼ä½å–nä½ï¼Œå½“æµ®ç‚¹æ•°ä¸ºéè§„æ ¼åŒ–æ•°æ—¶ï¼Œå®ƒåœ¨æ•°è½´ä¸Šçš„è¡¨ç¤ºèŒƒå›´å¦‚ä¸‹ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-42.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æœ€å¤§æ­£æ•°ä¸º22mâˆ’1Ã—(1âˆ’2âˆ’n)ï¼›æœ€å°æ­£æ•°ä¸º2(-2mâˆ’1)Ã—2âˆ’nï¼›æœ€å¤§è´Ÿæ•°ä¸ºâˆ’2(-2mâˆ’1)Ã—2âˆ’nï¼›æœ€å°è´Ÿæ•°ä¸ºâˆ’22mâˆ’1Ã—(1âˆ’2âˆ’n)ã€‚</p><p>å½“æµ®ç‚¹æ•°é˜¶ç å¤§äºæœ€å¤§é˜¶ç æ—¶ï¼Œç§°ä¸ºä¸Šæº¢ï¼Œæ­¤æ—¶æœºå™¨åœæ­¢è¿ç®—ï¼Œè¿›è¡Œä¸­æ–­æº¢å‡ºå¤„ç†ï¼›å½“æµ®ç‚¹æ•°é˜¶ç å°äºæœ€å°é˜¶ç æ—¶ï¼Œç§°ä¸ºä¸‹æº¢ï¼Œæ­¤æ—¶æº¢å‡ºçš„æ•°ç»å¯¹å€¼å¾ˆå°ï¼Œé€šå¸¸å°†å°¾æ•°å„ä½å¼ºç½®ä¸º0ï¼ŒæŒ‰æœºå™¨é›¶å¤„ç†ï¼Œæ­¤æ—¶æœºå™¨å¯ä»¥ç»§ç»­è¿è¡Œã€‚</p><p>ä¸€æ—¦æµ®ç‚¹æ•°çš„ä½æ•°ç¡®å®šåï¼Œåˆç†åˆ†é…é˜¶ç å’Œå°¾æ•°çš„ä½æ•°ï¼Œç›´æ¥å½±å“æµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´å’Œç²¾åº¦ã€‚å¯¹äºçŸ­å®æ•°ï¼ˆæ€»ä½æ•°ä¸º32ä½ï¼‰ï¼Œé˜¶ç å–8ä½ï¼ˆå«é˜¶ç¬¦1ä½ï¼‰ï¼Œå°¾æ•°å–24ä½ï¼ˆå«æ•°ç¬¦1ä½ï¼‰ï¼›å¯¹äºé•¿å®æ•°ï¼ˆæ€»ä½æ•°ä¸º64ä½ï¼‰ï¼Œé˜¶ç å–11ä½ï¼ˆå«é˜¶ç¬¦1ä½ï¼‰ï¼Œå°¾æ•°å–53ä½ï¼ˆå«æ•°ç¬¦1ä½ï¼‰ï¼›å¯¹äºä¸´æ—¶å®æ•°ï¼ˆæ€»ä½æ•°ä¸º80ä½ï¼‰ï¼Œé˜¶ç å–15ä½ï¼ˆå«é˜¶ç¬¦1ä½ï¼‰ï¼Œå°¾æ•°å–65ä½ï¼ˆå«æ•°ç¬¦1ä½ï¼‰ã€‚</p><p>å½“ä¸€ä¸ªæµ®ç‚¹æ•°å°¾æ•°ä¸º0æ—¶ï¼Œä¸è®ºå…¶é˜¶ç ä¸ºä½•å€¼ï¼›æˆ–é˜¶ç ç­‰äºæˆ–å°äºå®ƒæ‰€èƒ½è¡¨ç¤ºçš„æœ€å°æ•°æ—¶ï¼Œä¸ç®¡å…¶å°¾æ•°ä¸ºä½•å€¼ï¼Œæœºå™¨éƒ½æŠŠè¯¥æµ®ç‚¹æ•°ä½œä¸ºé›¶çœ‹å¾…ï¼Œå¹¶ç§°ä¹‹ä¸ºæœºå™¨é›¶ã€‚å¦‚æœæµ®ç‚¹æ•°çš„é˜¶ç ç”¨ç§»ç è¡¨ç¤ºï¼Œå°¾æ•°ç”¨è¡¥ç è¡¨ç¤ºï¼Œåˆ™å½“é˜¶ç ä¸ºå®ƒæ‰€èƒ½è¡¨ç¤ºçš„æœ€å°æ•°2âˆ’mä¸”å°¾æ•°ä¸º0æ—¶ï¼Œå…¶é˜¶ç ï¼ˆç§»ç ï¼‰å…¨ä¸º0ï¼Œå°¾æ•°ï¼ˆè¡¥ç ï¼‰ä¹Ÿå…¨ä¸º0ï¼Œè¿™æ ·çš„æœºå™¨é›¶ä¸º000â€¦00000ï¼Œå…¨é›¶è¡¨ç¤ºæœ‰åˆ©äºç®€åŒ–æœºå™¨ä¸­åˆ¤â€œ0â€ç”µè·¯ã€‚</p><h3 id="5-2-4-æµ®ç‚¹æ•°çš„è§„æ ¼åŒ–"><a href="#5-2-4-æµ®ç‚¹æ•°çš„è§„æ ¼åŒ–" class="headerlink" title="5.2.4 æµ®ç‚¹æ•°çš„è§„æ ¼åŒ–"></a>5.2.4 æµ®ç‚¹æ•°çš„è§„æ ¼åŒ–</h3><p>å°†éè§„æ ¼åŒ–æ•°è½¬æ¢æˆè§„æ ¼åŒ–æ•°çš„è¿‡ç¨‹ç§°ä¸ºè§„æ ¼åŒ–ã€‚å¯¹äºæŠ€æœ¯ä¸åŒçš„æµ®ç‚¹æ•°ï¼Œå› å…¶è§„æ ¼åŒ–æ•°çš„å½¢å¼ä¸åŒï¼Œè§„æ ¼åŒ–è¿‡ç¨‹ä¹Ÿä¸åŒã€‚</p><ol><li>å½“åŸºæ•°ä¸º2æ—¶ï¼Œå°¾æ•°æœ€é«˜ä½ä¸º1çš„æ•°ä¸ºè§„æ ¼åŒ–æ•°ã€‚è§„æ ¼åŒ–æ—¶ï¼Œå°¾æ•°å·¦ç§»ä¸€ä½ï¼Œé˜¶ç å‡1ï¼ˆç§°ä¸ºå·¦è§„ï¼‰ï¼›å°¾æ•°å³ç§»ä¸€ä½ï¼Œé˜¶ç åŠ 1ï¼ˆç§°ä¸ºå³è§„ï¼‰ã€‚</li><li>å½“åŸºæ•°ä¸º4æ—¶ï¼Œå°¾æ•°æœ€é«˜ä¸¤ä½ä¸å…¨ä¸ºé›¶çš„æ•°ä¸ºè§„æ ¼åŒ–æ•°ã€‚è§„æ ¼åŒ–æ—¶ï¼Œå°¾æ•°å·¦ç§»ä¸¤ä½ï¼Œé˜¶ç å‡1ï¼›å°¾æ•°å³ç§»ä¸¤ä½ï¼Œé˜¶ç åŠ 1ã€‚</li><li>å½“åŸºæ•°ä¸º8æ—¶ï¼Œå°¾æ•°æœ€é«˜ä¸‰ä½ä¸å…¨ä¸ºé›¶çš„æ•°ä¸ºè§„æ ¼åŒ–æ•°ã€‚è§„æ ¼åŒ–æ—¶ï¼Œå°¾æ•°å·¦ç§»ä¸‰ä½ï¼Œé˜¶ç å‡1ï¼›å°¾æ•°å³ç§»ä¸‰ä½ï¼Œé˜¶ç åŠ 1ã€‚</li></ol><p>ä¸€èˆ¬æ¥è¯´ï¼ŒåŸºæ•°rè¶Šå¤§ï¼Œå¯è¡¨ç¤ºçš„æµ®ç‚¹æ•°èŒƒå›´è¶Šå¤§ï¼Œè€Œä¸”æ‰€è¡¨ç¤ºçš„æ•°çš„ä¸ªæ•°ä¹Ÿè¶Šå¤šã€‚ä½†rè¶Šå¤šï¼Œæµ®ç‚¹æ•°çš„ç²¾åº¦åè€Œä¸‹é™ã€‚</p><h2 id="5-3-å®šç‚¹æ•°å’Œæµ®ç‚¹æ•°çš„æ¯”è¾ƒ"><a href="#5-3-å®šç‚¹æ•°å’Œæµ®ç‚¹æ•°çš„æ¯”è¾ƒ" class="headerlink" title="5.3 å®šç‚¹æ•°å’Œæµ®ç‚¹æ•°çš„æ¯”è¾ƒ"></a>5.3 å®šç‚¹æ•°å’Œæµ®ç‚¹æ•°çš„æ¯”è¾ƒ</h2><ul><li>å½“æµ®ç‚¹æœºå’Œå®šç‚¹æœºä¸­æ•°çš„ä½æ•°ç›¸åŒæ—¶ï¼Œæµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´æ¯”å®šç‚¹æ•°å¤§å¾—å¤šã€‚</li><li>å½“æµ®ç‚¹æ•°ä¸ºè§„æ ¼åŒ–æ•°æ—¶ï¼Œå…¶ç›¸å¯¹ç²¾åº¦è¿œæ¯”å®šç‚¹æ•°é«˜ã€‚</li><li>æµ®ç‚¹æ•°è¿ç®—è¦åˆ†é˜¶ç éƒ¨åˆ†å’Œå°¾æ•°éƒ¨åˆ†ï¼Œè€Œä¸”è¿ç®—ç»“æœéƒ½è¦æ±‚è§„æ ¼åŒ–ï¼Œæ•…æµ®ç‚¹è¿ç®—æ­¥éª¤æ¯”å®šç‚¹è¿ç®—æ­¥éª¤å¤šï¼Œè¿ç®—é€Ÿåº¦æ¯”å®šç‚¹è¿ç®—çš„ä½ï¼Œè¿ç®—çº¿è·¯æ¯”å®šç‚¹è¿ç®—çš„å¤æ‚ã€‚</li><li>åœ¨æº¢å‡ºçš„åˆ¤æ–­æ–¹æ³•ä¸Šï¼Œæµ®ç‚¹æ•°æ˜¯å¯¹è§„æ ¼åŒ–æ•°çš„é˜¶ç è¿›è¡Œåˆ¤æ–­ï¼Œè€Œå®šç‚¹æ•°æ˜¯å¯¹æ•°å€¼æœ¬èº«è¿›è¡Œåˆ¤æ–­ã€‚</li></ul><p>æµ®ç‚¹æ•°åœ¨æ•°çš„è¡¨ç¤ºèŒƒå›´ã€æ•°çš„ç²¾åº¦ã€æº¢å‡ºå¤„ç†å’Œç¨‹åºç¼–ç¨‹æ–¹é¢ï¼ˆä¸å–æ¯”ä¾‹å› å­ï¼‰å‡ä¼˜äºå®šç‚¹æ•°ã€‚åˆ°å“ªåœ¨è¿ç®—è§„åˆ™ã€è¿ç®—é€Ÿåº¦åŠç¡¬ä»¶æˆæœ¬æ–¹é¢åˆä¸å¦‚å®šç‚¹æ•°ã€‚</p><h2 id="5-4-IEEE-754æ ‡å‡†"><a href="#5-4-IEEE-754æ ‡å‡†" class="headerlink" title="5.4 IEEE 754æ ‡å‡†"></a>5.4 IEEE 754æ ‡å‡†</h2><p>æµ®ç‚¹æ•°ä¸€èˆ¬é‡‡ç”¨IEEEæŒ‡å®šçš„å›½é™…æ ‡å‡†ï¼Œè¿™ç§æ ‡æ³¨å½¢å¼å¦‚ä¸‹ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-43.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æŒ‰IEEEæ ‡å‡†ï¼Œå¸¸ç”¨çš„æµ®ç‚¹æ•°æœ‰ä¸‰ç§ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-44.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><strong>é˜¶ç ç”¨ç§»ç è¡¨ç¤º</strong>ï¼Œé˜¶ç çš„çœŸå€¼éƒ½è¢«åŠ ä¸Šä¸€ä¸ªå¸¸æ•°ï¼ˆåç§»é‡ï¼‰ï¼Œå¦‚çŸ­å®æ•°ã€é•¿å®æ•°ã€ä¸´æ—¶å®æ•°çš„åç§»é‡ç”¨åå…­è¿›åˆ¶æ•°è¡¨ç¤ºåˆ†åˆ«ä¸º7FHã€3FFHã€3FFFHã€‚å°¾æ•°éƒ¨åˆ†é€šå¸¸éƒ½æ˜¯è§„æ ¼åŒ–è¡¨ç¤ºï¼Œå³éâ€œ0â€çš„æœ‰æ•ˆä½æœ€é«˜ä½æ€»æ˜¯â€œ1â€ï¼Œä½†åœ¨IEEEæ ‡å‡†ä¸­ï¼Œæœ‰æ•ˆä½å‘ˆå¦‚ä¸‹å½¢å¼ã€‚</p><p>1â™ ffffâ€¦â€¦fff</p><p>å…¶ä¸­ â™ è¡¨ç¤ºå‡æƒ³çš„äºŒè¿›åˆ¶å°æ•°ç‚¹ã€‚åœ¨å®é™…è¡¨ç¤ºä¸­ï¼Œå¯¹çŸ­å®æ•°å’Œé•¿å®æ•°ï¼Œè¿™ä¸ªæ•´æ•°ä½çš„1çœç•¥ï¼Œç§° <strong>éšè—ä½</strong>ï¼›å¯¹äºä¸´æ—¶å®æ•°ä¸é‡‡ç”¨éšè—ä½æ–¹æ¡ˆã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-45.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h2 id="5-5-å®šç‚¹è¿ç®—"><a href="#5-5-å®šç‚¹è¿ç®—" class="headerlink" title="5.5 å®šç‚¹è¿ç®—"></a>5.5 å®šç‚¹è¿ç®—</h2><h3 id="5-5-1-ç§»ä½è¿ç®—"><a href="#5-5-1-ç§»ä½è¿ç®—" class="headerlink" title="5.5.1 ç§»ä½è¿ç®—"></a>5.5.1 ç§»ä½è¿ç®—</h3><h4 id="ç§»ä½çš„æ„ä¹‰"><a href="#ç§»ä½çš„æ„ä¹‰" class="headerlink" title="ç§»ä½çš„æ„ä¹‰"></a>ç§»ä½çš„æ„ä¹‰</h4><p>äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœºå™¨æ•°åœ¨ç›¸å¯¹äºå°æ•°ç‚¹ä½œnä½å·¦ç§»æˆ–å³ç§»æ—¶ï¼Œå…¶å®è´¨å°±æ˜¯è¯¥æ•°ä¹˜ä»¥æˆ–é™¤ä»¥2nã€‚å½“æŸè®¡ç®—æœºæ²¡æœ‰ä¹˜é™¤æ³•è¿ç®—çº¿è·¯æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ç§»ä½å’ŒåŠ æ³•ç›¸ç»“åˆï¼Œå®ç°ä¹˜é™¤è¿ç®—ã€‚</p><p>è®¡ç®—æœºä¸­æœºå™¨æ•°çš„å­—é•¿å¾€å¾€æ˜¯å›ºå®šçš„ï¼Œå½“æœºå™¨æ•°å·¦ç§»nä½æˆ–å³ç§»nä½æ—¶ï¼Œå¿…ç„¶ä¼šä½¿å…¶nä½ä½ä½æˆ–nä½é«˜ä½å‡ºç°ç©ºä½ã€‚å¯¹æœ‰ç¬¦å·æ•°çš„ç§»ä½ç§°ä¸ºç®—æ•°ç§»ä½ã€‚</p><h4 id="ç®—æ•°ç§»ä½çš„è§„åˆ™"><a href="#ç®—æ•°ç§»ä½çš„è§„åˆ™" class="headerlink" title="ç®—æ•°ç§»ä½çš„è§„åˆ™"></a>ç®—æ•°ç§»ä½çš„è§„åˆ™</h4><p>å¯¹äºæ­£æ•°ï¼Œç”±äº[x]åŸ=[x]è¡¥=[x]å=çœŸå€¼ï¼Œæ•…ç§»ä½åå‡ºç°çš„ç©ºä½å‡ä»¥0æ·»ä¹‹ã€‚å¯¹äºè´Ÿæ•°ï¼Œç”±äºåŸç ã€è¡¥ç å’Œåç çš„è¡¨ç¤ºå½¢å¼ä¸åŒï¼Œæ•…å½“æœºå™¨æ•°ç§»ä½æ—¶ï¼Œå¯¹å…¶ç©ºä½çš„å¡«è¡¥è§„åˆ™ä¹Ÿä¸åŒã€‚ <strong>ä¸è®ºæ˜¯æ•´æ•°è¿˜æ˜¯è´Ÿæ•°ï¼Œç§»ä½åå…¶ç¬¦å·ä½å‡ä¸å˜ã€‚</strong></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-46.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><ol><li>æœºå™¨æ•°ä¸ºæ­£æ—¶ï¼Œä¸è®ºæ˜¯å·¦ç§»è¿˜æ˜¯å³ç§»ï¼Œæ·»è¡¥çš„ä»£ç å‡ä¸º0.</li><li>ç”±äºè´Ÿæ•°çš„åŸç æ•°å€¼éƒ¨åˆ†ä¸çœŸå€¼ç›¸åŒï¼Œæ•…åœ¨ç§»ä½æ—¶åªè¦ä½¿ç¬¦å·ä½ä¸å˜ï¼Œå…¶ç©ºä½å‡æ·»0å³å¯ã€‚</li><li>ç”±äºè´Ÿæ•°çš„åç å„ä½é™¤ç¬¦å·ä½å¤–ä¸è´Ÿæ•°çš„åŸç æ­£å¥½ç›¸åï¼Œæ•…ç§»ä½åæ‰€èˆ”ä»£ç åº”ä¸åŸç ç›¸åï¼Œå³å…¨éƒ¨æ·»1ã€‚</li><li>è´Ÿæ•°çš„è¡¥ç å·¦ç§»æ—¶ï¼Œå› ç©ºä½å‡ºç°åœ¨ä½ä½ï¼Œåˆ™æ·»è¡¥çš„ä»£ç ä¸åŸç ç›¸åŒï¼Œå³æ·»0ï¼›å³ç§»æ—¶å› ç©ºä½å‡ºç°åœ¨é«˜ä½ï¼Œåˆ™å¡«è¡¥çš„ä»£ç åº”ä¸åç ç›¸åŒï¼Œå³æ·»1ã€‚</li></ol><p>å¯¹äºæ­£æ•°ï¼Œä¸‰ç§æœºå™¨æ•°ç§»ä½åç¬¦å·ä½å‡ä¸å˜ï¼Œå·¦ç§»æ—¶æœ€é«˜æ•°ä½ä¸¢1ï¼Œç»“æœå‡ºé”™ï¼›å³ç§»æ—¶æœ€ä½æ•°ä½ä¸¢1ï¼Œå½±å“ç²¾åº¦ã€‚</p><p>å¯¹äºè´Ÿæ•°ï¼Œä¸‰ç§æœºå™¨æ•°ç®—æœ¯ç§»ä½åç¬¦å·ä½å‡ä¸å˜ã€‚è´Ÿæ•°çš„åŸç å·¦ç§»æ—¶ï¼Œé«˜ä½ä¸¢1ï¼Œç»“æœå‡ºé”™ï¼›å³ç§»æ—¶ï¼Œä½ä½ä¸¢1ï¼Œå½±å“ç²¾åº¦ã€‚è´Ÿæ•°çš„è¡¥ç å·¦ç§»æ—¶ï¼Œé«˜ä½ä¸¢0ï¼Œç»“æœå‡ºé”™ï¼›å³ç§»æ—¶ï¼Œä½ä½ä¸¢1ï¼Œå½±å“ç²¾åº¦ã€‚è´Ÿæ•°çš„åç å·¦ç§»æ—¶ï¼Œé«˜ä½ä¸¢0ï¼Œç»“æœå‡ºé”™ï¼›å³ç§»æ—¶ï¼Œä½ä½ä¸¢0ï¼Œå½±å“ç²¾åº¦ã€‚</p><h4 id="ç®—æ•°ç§»ä½å’Œé€»è¾‘ç§»ä½çš„åŒºåˆ«"><a href="#ç®—æ•°ç§»ä½å’Œé€»è¾‘ç§»ä½çš„åŒºåˆ«" class="headerlink" title="ç®—æ•°ç§»ä½å’Œé€»è¾‘ç§»ä½çš„åŒºåˆ«"></a>ç®—æ•°ç§»ä½å’Œé€»è¾‘ç§»ä½çš„åŒºåˆ«</h4><p>æœ‰ç¬¦å·æ•°çš„ç§»ä½ç§°ä¸º<strong>ç®—æ•°ç§»ä½</strong>ï¼Œæ— ç¬¦å·æ•°çš„ç§»ä½ç§°ä¸º<strong>é€»è¾‘ç§»ä½</strong>ã€‚é€»è¾‘ç§»ä½çš„è§„åˆ™æ˜¯ï¼š<strong>é€»è¾‘å·¦ç§»æ—¶ï¼Œé«˜ä½ç§»ä¸¢ï¼Œä½ä½æ·»0ï¼›é€»è¾‘å³ç§»æ—¶ï¼Œä½ä½ç§»ä¸¢ï¼Œé«˜ä½æ·»0ã€‚</strong>ä¸ºäº†é¿å…ç®—æœ¯å·¦ç§»æ—¶æœ€é«˜æ•°ä½ä¸¢1ï¼Œå¯é‡‡ç”¨å¸¦è¿›ä½ï¼ˆCyï¼‰çš„ç§»ä½ã€‚ç®—æœ¯å·¦ç§»æ—¶ï¼Œç¬¦å·ä½ç§»è‡³Cyï¼Œæœ€é«˜æ•°ä½å°±å¯é¿å…ç§»ä¸¢ã€‚</p><h3 id="5-5-2-åŠ æ³•ä¸å‡æ³•è¿ç®—"><a href="#5-5-2-åŠ æ³•ä¸å‡æ³•è¿ç®—" class="headerlink" title="5.5.2 åŠ æ³•ä¸å‡æ³•è¿ç®—"></a>5.5.2 åŠ æ³•ä¸å‡æ³•è¿ç®—</h3><h4 id="è¡¥ç åŠ æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼"><a href="#è¡¥ç åŠ æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼" class="headerlink" title="è¡¥ç åŠ æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼"></a>è¡¥ç åŠ æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/B5835E24-2341-425E-BB10-EE866F9A69FE.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="è¡¥ç å‡æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼"><a href="#è¡¥ç å‡æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼" class="headerlink" title="è¡¥ç å‡æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼"></a>è¡¥ç å‡æ³•è¿ç®—çš„åŸºæœ¬å…¬å¼</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/75AED03B-5911-4E6D-A63F-C27DC678BFDA.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="æº¢å‡ºåˆ¤æ–­"><a href="#æº¢å‡ºåˆ¤æ–­" class="headerlink" title="æº¢å‡ºåˆ¤æ–­"></a>æº¢å‡ºåˆ¤æ–­</h4><h5 id="ç”¨ä¸€ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º"><a href="#ç”¨ä¸€ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º" class="headerlink" title="ç”¨ä¸€ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º"></a>ç”¨ä¸€ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º</h5><p>åªè¦å®é™…å‚åŠ æ“ä½œçš„ä¸¤ä¸ªæ•°ç¬¦å·ç›¸åŒï¼Œç»“æœåˆä¸åŸæ“ä½œæ•°çš„ç¬¦å·ä¸åŒï¼Œå³ä¸ºæº¢å‡ºã€‚</p><h5 id="ç”¨ä¸¤ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º"><a href="#ç”¨ä¸¤ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º" class="headerlink" title="ç”¨ä¸¤ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º"></a>ç”¨ä¸¤ä½ç¬¦å·ä½åˆ¤æ–­æº¢å‡º</h5><p>2ä¸ºç¬¦å·ä½çš„è¡¥ç ï¼Œå³å˜å½¢è¡¥ç ï¼Œå®ƒæ˜¯ä»¥4ä¸ºæ¨¡çš„ï¼Œå…¶å®šä¹‰ä¸º</p><p><code>[x]_&#123;è¡¥&#125;=\left\&#123;\begin&#123;matrix&#125; x&amp; 1&gt;x \ge 0&amp; \\ 4+x,&amp; 0&gt; x \ge -1 (mod\;4) &amp; \end&#123;matrix&#125;\right.</code></p><p>åœ¨ç”¨å˜å½¢è¡¥ç ä½œåŠ æ³•æ—¶ï¼Œ2ä½ç¬¦å·ä½è¦è¿åŒæ•°å€¼éƒ¨åˆ†ä¸€èµ·å‚åŠ è¿ç®—ï¼Œè€Œä¸”é«˜ä½ç¬¦å·ä½äº§ç”Ÿçš„è¿›ä½è‡ªåŠ¨ä¸¢å¤±ï¼Œä¾¿å¯å¾—æ­£ç¡®ç»“æœï¼Œå³</p><p>[x]è¡¥â€™+[y]è¡¥â€™=[x+y]è¡¥â€™(mod 4)</p><p>å˜å½¢è¡¥ç åˆ¤æ–­æº¢å‡ºçš„åŸåˆ™æ˜¯ï¼š <strong>å½“2ä½ç¬¦å·ä½ä¸åŒæ—¶ï¼Œè¡¨ç¤ºæº¢å‡ºï¼Œå¦åˆ™æ— æº¢å‡ºã€‚</strong>ä¸è®ºæ˜¯å¦å‘ç”Ÿæº¢å‡ºï¼Œé«˜ä½ï¼ˆç¬¬1ä½ï¼‰ç¬¦å·ä½æ°¸è¿œä»£è¡¨çœŸæ­£çš„ç¬¦å·ã€‚</p><h4 id="è¡¥ç åŠ å‡è¿ç®—æ§åˆ¶æµç¨‹"><a href="#è¡¥ç åŠ å‡è¿ç®—æ§åˆ¶æµç¨‹" class="headerlink" title="è¡¥ç åŠ å‡è¿ç®—æ§åˆ¶æµç¨‹"></a>è¡¥ç åŠ å‡è¿ç®—æ§åˆ¶æµç¨‹</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-47.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="5-5-3-ä¹˜æ³•è¿ç®—"><a href="#5-5-3-ä¹˜æ³•è¿ç®—" class="headerlink" title="5.5.3 ä¹˜æ³•è¿ç®—"></a>5.5.3 ä¹˜æ³•è¿ç®—</h3><h4 id="ç¬”ç®—ä¹˜æ³•çš„æ”¹è¿›"><a href="#ç¬”ç®—ä¹˜æ³•çš„æ”¹è¿›" class="headerlink" title="ç¬”ç®—ä¹˜æ³•çš„æ”¹è¿›"></a>ç¬”ç®—ä¹˜æ³•çš„æ”¹è¿›</h4><p>ä¸¤æ•°ç›¸ä¹˜çš„è¿‡ç¨‹ï¼Œå¯è§†ä¸ºåŠ æ³•å’Œç§»ä½ä¸¤ç§è¿ç®—ã€‚</p><p>ä¾‹ï¼šè®¾A&#x3D;0.1101ï¼ŒB&#x3D;0.1011ï¼Œæ±‚AÃ—Bã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-48.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>è¿ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>ä¹˜æ³•è¿ç®—å¯ç”¨ç§»ä½å’ŒåŠ æ³•æ¥å®ç°ï¼Œä¸¤ä¸ª4ä½æ•°ç›¸ä¹˜ï¼Œæ€»å…±éœ€è¦4æ¬¡åŠ æ³•è¿ç®—å’Œ4æ¬¡ç§»ä½ã€‚</li><li>ç”±ä¹˜æ•°çš„æœ«å°¾å€¼ç¡®å®šè¢«ä¹˜æ•°æ˜¯å¦ä¸åŸéƒ¨åˆ†ç§¯ç›¸åŠ ï¼Œç„¶åå³ç§»ä¸€ä½ï¼Œå½¢æˆæ–°çš„éƒ¨åˆ†ç§¯ï¼›åŒæ—¶ä¹˜æ•°ä¹Ÿå³ç§»ä¸€ä½ï¼Œç”±æ¬¡ä½ä½ä½œä¸ºæ–°çš„æœ«ä½ï¼Œç©ºå‡ºæœ€é«˜ä½æ”¾éƒ¨åˆ†ç§¯çš„æœ€ä½ä½ã€‚</li><li>æ¯æ¬¡ä½œåŠ æ³•æ—¶ï¼Œè¢«ä¹˜æ•°ä»…ä»…ä¸åŸéƒ¨åˆ†ç§¯çš„é«˜ä½ç›¸åŠ ï¼Œå…¶ä½ä½è¢«ç§»è‡³æˆä¹˜æ•°æ‰€ç©ºå‡ºçš„é«˜ä½ä½ç½®ã€‚</li></ul><p>ç”¨ä¸€ä¸ªå¯„å­˜å™¨å­˜æ”¾è¢«ä¹˜æ•°ï¼Œä¸€ä¸ªå¯„å­˜å™¨å­˜æ”¾ä¹˜ç§¯çš„é«˜ä½ï¼Œå¦ä¸€ä¸ªå¯„å­˜å™¨å­˜æ”¾ä¹˜æ•°åŠä¹˜ç§¯çš„ä½ä½ï¼Œå†é…ä¸ŠåŠ æ³•å™¨åŠå…¶ä»–ç›¸åº”ç”µè·¯ï¼Œå°±å¯ç»„æˆä¹˜æ³•å™¨ã€‚åˆå› åŠ æ³•åªåœ¨éƒ¨åˆ†ç§¯çš„é«˜ä½è¿›è¡Œï¼Œæ•…ä¸ä½†èŠ‚çœäº†å™¨æï¼Œè€Œä¸”è¿˜ç¼©çŸ­äº†è¿ç®—æ—¶é—´ã€‚</p><h4 id="åŸç ä¹˜æ³•"><a href="#åŸç ä¹˜æ³•" class="headerlink" title="åŸç ä¹˜æ³•"></a>åŸç ä¹˜æ³•</h4><p>ä¸Šè¿°è®¨è®ºç»“æœå¯ç›´æ¥ç”¨äºåŸç ä¸€ä½ä¹˜ï¼Œåªéœ€åŠ ä¸Šç¬¦å·ä½å¤„ç†å³å¯ã€‚</p><h5 id="åŸç ä¸€ä½ä¹˜è¿ç®—åŸåˆ™"><a href="#åŸç ä¸€ä½ä¹˜è¿ç®—åŸåˆ™" class="headerlink" title="åŸç ä¸€ä½ä¹˜è¿ç®—åŸåˆ™"></a>åŸç ä¸€ä½ä¹˜è¿ç®—åŸåˆ™</h5><p>ä»¥å°æ•°ä¸ºä¾‹ï¼š è®¾â€ƒâ€ƒ[x]åŸ=x0.x1x2â€¦xn [y]åŸ=y0.y1y2â€¦yn</p><p>åˆ™[x]åŸâ‹…[y]åŸ=x0âŠ•y0.(0.x1x2â€¦xn)(0.y1y2â€¦yn) å¼ä¸­ï¼Œ0.x1x2â€¦xnä¸ºxçš„ç»å¯¹å€¼ï¼Œè®°ä½œx*ï¼›0.y1y2â€¦ynä¸ºyçš„ç»å¯¹å€¼ï¼Œè®°ä½œyâˆ—ã€‚</p><p>åŸç ä¸€ä½ä¹˜è¿ç®—è§„åˆ™ï¼š</p><ul><li>ä¹˜ç§¯çš„ç¬¦å·ä½ç”±ä¸¤åŸç ç¬¦å·ä½å¼‚æˆ–è¿ç®—ç»“æœå†³å®šã€‚</li><li>ä¹˜ç§¯çš„æ•°å€¼éƒ¨åˆ†ç”±ä¸¤æ•°ç»å¯¹å€¼ç›¸ä¹˜ï¼Œå…¶é€šå¼ä¸ºï¼šxâˆ—â‹…yâˆ—=2âˆ’1(y1xâˆ—+(â€¦+2âˆ’1(ynâˆ’1xâˆ—+2âˆ’1(ynxâˆ—+0))â€¦))</li></ul><h5 id="ä¾‹ï¼šå·²çŸ¥x-0-1110ï¼Œy-0-1101ï¼Œæ±‚-xâ‹…y-åŸã€‚"><a href="#ä¾‹ï¼šå·²çŸ¥x-0-1110ï¼Œy-0-1101ï¼Œæ±‚-xâ‹…y-åŸã€‚" class="headerlink" title="ä¾‹ï¼šå·²çŸ¥x&#x3D;-0.1110ï¼Œy&#x3D;-0.1101ï¼Œæ±‚[xâ‹…y]åŸã€‚"></a>ä¾‹ï¼šå·²çŸ¥x&#x3D;-0.1110ï¼Œy&#x3D;-0.1101ï¼Œæ±‚[xâ‹…y]åŸã€‚</h5><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-49.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æ•…[xâ‹…y]åŸ=0.10110110</p><h4 id="è¡¥ç ä¹˜æ³•"><a href="#è¡¥ç ä¹˜æ³•" class="headerlink" title="è¡¥ç ä¹˜æ³•"></a>è¡¥ç ä¹˜æ³•</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/05F7859F-4788-4F3B-97E0-0D9172E88BEB.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h5 id="ä¾‹ï¼šå·²çŸ¥-x-è¡¥-1-0101ï¼Œ-y-è¡¥-0-1101ï¼Œæ±‚-xâ‹…y-è¡¥ã€‚"><a href="#ä¾‹ï¼šå·²çŸ¥-x-è¡¥-1-0101ï¼Œ-y-è¡¥-0-1101ï¼Œæ±‚-xâ‹…y-è¡¥ã€‚" class="headerlink" title="ä¾‹ï¼šå·²çŸ¥[x]è¡¥=1.0101ï¼Œ[y]è¡¥=0.1101ï¼Œæ±‚[xâ‹…y]è¡¥ã€‚"></a>ä¾‹ï¼šå·²çŸ¥[x]è¡¥=1.0101ï¼Œ[y]è¡¥=0.1101ï¼Œæ±‚[xâ‹…y]è¡¥ã€‚</h5><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-50.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æ•…ä¹˜ç§¯[xâ‹…y]è¡¥=1.01110001ã€‚</p><h4 id="Boothç®—æ³•"><a href="#Boothç®—æ³•" class="headerlink" title="Boothç®—æ³•"></a>Boothç®—æ³•</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/FCB3A323-8652-4E7B-B48A-9B8D25765330.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h5 id="ä¾‹ï¼šå·²çŸ¥-x-è¡¥-0-1101ï¼Œ-y-è¡¥-0-1011ï¼Œæ±‚-xâ‹…y-è¡¥ã€‚"><a href="#ä¾‹ï¼šå·²çŸ¥-x-è¡¥-0-1101ï¼Œ-y-è¡¥-0-1011ï¼Œæ±‚-xâ‹…y-è¡¥ã€‚" class="headerlink" title="ä¾‹ï¼šå·²çŸ¥[x]è¡¥=0.1101ï¼Œ[y]è¡¥=0.1011ï¼Œæ±‚[xâ‹…y]è¡¥ã€‚"></a>ä¾‹ï¼šå·²çŸ¥[x]è¡¥=0.1101ï¼Œ[y]è¡¥=0.1011ï¼Œæ±‚[xâ‹…y]è¡¥ã€‚</h5><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-51.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æ•…[xâ‹…y]è¡¥=0.10001111ã€‚</p><h3 id="5-5-3-é™¤æ³•è¿ç®—"><a href="#5-5-3-é™¤æ³•è¿ç®—" class="headerlink" title="5.5.3 é™¤æ³•è¿ç®—"></a>5.5.3 é™¤æ³•è¿ç®—</h3><h4 id="åˆ†æç¬”ç®—é™¤æ³•"><a href="#åˆ†æç¬”ç®—é™¤æ³•" class="headerlink" title="åˆ†æç¬”ç®—é™¤æ³•"></a>åˆ†æç¬”ç®—é™¤æ³•</h4><p>ç‰¹ç‚¹å¯å½’çº³å¦‚ä¸‹ï¼š</p><ul><li>æ¯æ¬¡ä¸Šå•†éƒ½æ˜¯ç”±å¿ƒç®—æ¥æ¯”è¾ƒä½™æ•°ï¼ˆè¢«é™¤æ•°ï¼‰å’Œé™¤æ•°çš„å¤§å°ï¼Œç¡®å®šå•†ä¸ºâ€œ1â€è¿˜æ˜¯ä¸ºâ€œ0â€ã€‚</li><li>æ¯åšä¸€æ¬¡å‡æ³•ï¼Œæ€»æ˜¯ä¿æŒä½™æ•°ä¸æ‡‚ï¼Œä½ä½è¡¥0ï¼Œå†å‡å»å³ç§»åçš„é™¤æ•°ã€‚</li><li>ä¸Šå•†çš„ä½ç½®ä¸å›ºå®šã€‚</li><li>å•†ç¬¦å•ç‹¬å¤„ç†ã€‚</li></ul><p>ä¸Šè¿°è§„åˆ™è‹¥ç…§æ¬åˆ°è®¡ç®—æœºé‡Œå®ç°æœ‰ä¸€å®šå›°éš¾ï¼š</p><ul><li>æœºå™¨ä¸èƒ½â€œå¿ƒç®—â€ä¸Šå•†ï¼Œå¿…é¡»é€šè¿‡æ¯”è¾ƒè¢«é™¤æ•°ï¼ˆæˆ–ä½™æ•°ï¼‰å’Œé™¤æ•°ç»å¯¹å€¼å¤§å°æ¥ç¡®å®šå•†å€¼ã€‚</li><li>æŒ‰ç…§æ¯æ¬¡å‡æ³•æ€»æ˜¯ä¿æŒä½™æ•°ä¸æ‡‚ä½ä½è¡¥0ï¼Œå†å‡å»å³ç§»åçš„é™¤æ•°è¿™ä¸€è§„åˆ™ï¼Œåœ¨è¦æ±‚åŠ æ³•å™¨çš„ä½æ•°å¿…é¡»ä¸ºé™¤æ•°çš„ä¸¤å€ã€‚</li><li>ç¬”ç®—æ±‚å•†æ—¶æ˜¯ä»é«˜ä½å‘ä½ä½é€ä½æ±‚çš„ï¼Œè€Œè¦æ±‚æœºå™¨æŠŠæ¯ä½å•†ç›´æ¥å†™åˆ°å¯„å­˜å™¨çš„ä¸åŒä½ç½®ä¹Ÿæ˜¯ä¸å¯å–çš„ã€‚</li></ul><h4 id="åŸç é™¤æ³•"><a href="#åŸç é™¤æ³•" class="headerlink" title="åŸç é™¤æ³•"></a>åŸç é™¤æ³•</h4><p>å°æ•°å®šç‚¹é™¤æ³•å¯¹è¢«é™¤æ•°å’Œé™¤æ•°æœ‰ä¸€å®šçš„çº¦æŸï¼Œå³å¿…é¡»æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ï¼š</p><ul><li>0&lt;è¢«é™¤æ•°â‰¤é™¤æ•°</li></ul><p>å®ç°é™¤æ³•è¿ç®—æ—¶ï¼Œè¿˜åº”é¿å…é™¤æ•°ä¸º0æˆ–è¢«é™¤æ•°ä¸º0ã€‚ åŸç é™¤æ³•ä¸­ç”±äºå¯¹ä½™æ•°çš„å¤„ç†ä¸åŒï¼Œåˆå¯åˆ†ä¸º æ¢å¤ä½™æ•°æ³•å’Œ ä¸æ¢å¤ä½™æ•°æ³•ï¼ˆåŠ å‡äº¤æ›¿æ³•ï¼‰ä¸¤ç§ã€‚</p><h5 id="æ¢å¤ä½™æ•°æ³•"><a href="#æ¢å¤ä½™æ•°æ³•" class="headerlink" title="æ¢å¤ä½™æ•°æ³•"></a>æ¢å¤ä½™æ•°æ³•</h5><p>ç‰¹ç‚¹æ˜¯ï¼šå½“ä½™æ•°ä¸ºè´Ÿæ—¶ï¼Œéœ€åŠ ä¸Šé™¤æ•°ï¼Œå°†å…¶æ¢å¤æˆåŸæ¥çš„ä½™æ•°ã€‚</p><p>ä¾‹ï¼šå·²çŸ¥x=âˆ’0.1011ï¼Œy=âˆ’0.1101ï¼Œæ±‚[x&#x2F;y]åŸã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-52.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æ•…å•†å€¼ä¸º0.1101ï¼Œå•†çš„ç¬¦å·ä½ä¸ºx0âŠ•y0=1âŠ•1=0ï¼Œæ•…[x&#x2F;y]åŸ=0.1101ã€‚</p><p>ç¬¬ä¸€æ¬¡ä¸Šçš„å•†åœ¨å•†çš„æ•´æ•°ä½ä¸Šï¼Œè¿™å¯¹å°æ•°é™¤æ³•è€Œè¨€ï¼Œå¯ç”¨å®ƒä½œæº¢å‡ºåˆ¤æ–­ã€‚å³å½“è¯¥ä½ä¸ºâ€œ1â€æ—¶ï¼Œè¡¨ç¤ºæ­¤é™¤æ³•æº¢å‡ºï¼Œä¸èƒ½è¿›è¡Œï¼Œåº”ç”±ç¨‹åºè¿›è¡Œå¤„ç†ï¼›å½“è¯¥ä½ä¸ºâ€œ0â€æ—¶ï¼Œè¯´æ˜é™¤æ³•åˆæ³•ï¼Œå¯ä»¥è¿›è¡Œã€‚ åœ¨æ¢å¤ä½™æ•°æ³•ä¸­ï¼Œæ¯å½“ä½™æ•°ä¸ºè´Ÿæ—¶ï¼Œéƒ½éœ€æ¢å¤ä½™æ•°ï¼Œè¿™å°±å»¶é•¿äº†æœºå™¨å‡ºå‘çš„æ—¶é—´ï¼Œæ“ä½œä¹Ÿå¾ˆä¸è§„åˆ™ï¼Œå¯¹çº¿è·¯ç»“æ„ä¸åˆ©ã€‚åŠ å‡äº¤æ›¿æ³•å¯å…‹æœè¿™äº›ç¼ºç‚¹ã€‚</p><h5 id="åŠ å‡äº¤æ›¿æ³•"><a href="#åŠ å‡äº¤æ›¿æ³•" class="headerlink" title="åŠ å‡äº¤æ›¿æ³•"></a>åŠ å‡äº¤æ›¿æ³•</h5><p>åŠ å‡äº¤æ›¿æ³•åˆç§°ä¸ºä¸æ¢å¤ä½™æ•°æ³•ï¼Œå¯ä»¥è®¤ä¸ºå®ƒæ˜¯æ¢å¤ä½™æ•°æ³•çš„ä¸€ç§æ”¹è¿›ç®—æ³•ã€‚</p><p>åˆ†æåŸç æ¢å¤ä½™æ•°æ³•å¾—çŸ¥ï¼š</p><ul><li>å½“ä½™æ•°Ri&gt;0æ—¶ï¼Œå¯ä¸Šå•†â€œ1â€ï¼Œå†å¯¹Riå·¦ç§»ä¸€ä½åå‡é™¤æ•°ï¼Œå³2Riâˆ’yâˆ—ã€‚</li><li>å½“ä½™æ•°Ri&lt;0æ—¶ï¼Œå¯ä¸Šå•†â€œ0â€ï¼Œç„¶åå…ˆåšRi+yâˆ—ï¼Œå³å®Œæˆæ¢å¤ä½™æ•°çš„è¿ç®—ï¼Œå†åš2(Ri+yâˆ—)âˆ’yâˆ—ï¼Œå³2Ri+yâˆ—ã€‚</li></ul><p>æ•…åŸç æ¢å¤ä½™æ•°æ³•å¯å½’çº³ä¸ºï¼š</p><ul><li>å½“Ri&gt;0æ—¶ï¼Œä¸Šå•†â€œ1â€ï¼Œåš2Riâˆ’yâˆ—çš„è¿ç®—ã€‚</li><li>å½“Ri&lt;0æ—¶ï¼Œä¸Šå•†â€œ0â€ï¼Œåš2Ri+yâˆ—çš„è¿ç®—ã€‚</li></ul><p>ä¾‹ï¼šå·²çŸ¥x=âˆ’0.1011ï¼Œy=âˆ’0.1101ï¼Œæ±‚[x&#x2F;y]åŸã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-53.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æ•…å•†å€¼ä¸º0.1101ï¼Œå•†çš„ç¬¦å·ä½ä¸ºx0âŠ•y0=1âŠ•0=1ï¼Œæ•…[x&#x2F;y]åŸ=1.1101ã€‚</p><h4 id="è¡¥ç é™¤æ³•"><a href="#è¡¥ç é™¤æ³•" class="headerlink" title="è¡¥ç é™¤æ³•"></a>è¡¥ç é™¤æ³•</h4><h5 id="è¡¥ç åŠ å‡äº¤æ›¿æ³•è¿ç®—è§„åˆ™"><a href="#è¡¥ç åŠ å‡äº¤æ›¿æ³•è¿ç®—è§„åˆ™" class="headerlink" title="è¡¥ç åŠ å‡äº¤æ›¿æ³•è¿ç®—è§„åˆ™"></a>è¡¥ç åŠ å‡äº¤æ›¿æ³•è¿ç®—è§„åˆ™</h5><p>è¡¥ç é™¤æ³•çš„ç¬¦å·ä½å’Œæ•°å€¼éƒ¨åˆ†æ˜¯ä¸€èµ·å‚åŠ è¿ç®—çš„ã€‚ <strong>1.æ¬²ç¡®å®šå•†å€¼ï¼Œå¿…é¡»å…ˆæ¯”è¾ƒè¢«é™¤æ•°å’Œé™¤æ•°çš„å¤§å°ï¼Œç„¶åæ‰èƒ½æ±‚å¾—å•†å€¼ã€‚</strong> æ¯”è¾ƒè¢«é™¤æ•°å’Œé™¤æ•°çš„å¤§å°</p><ul><li>å½“è¢«é™¤æ•°ä¸é™¤æ•°åŒå·æ—¶ï¼Œåšå‡æ³•ï¼Œè‹¥å¾—åˆ°çš„ä½™æ•°ä¸é™¤æ•°åŒå·ï¼Œè¡¨ç¤ºâ€œå¤Ÿå‡â€ï¼Œå¦åˆ™è¡¨ç¤ºâ€œä¸å¤Ÿå‡â€ã€‚</li><li>å½“è¢«é™¤æ•°ä¸é™¤æ•°å¼‚å·æ—¶ï¼ŒåšåŠ æ³•ï¼Œè‹¥å¾—åˆ°çš„ä½™æ•°ä¸é™¤æ•°åŒå·ï¼Œè¡¨ç¤ºâ€œå¤Ÿå‡â€ï¼Œå¦åˆ™è¡¨ç¤ºâ€œä¸å¤Ÿå‡â€ã€‚</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-54.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>å•†å€¼çš„ç¡®å®š</p><ul><li>å¦‚æœ[x]è¡¥ä¸[y]è¡¥åŒå·ï¼Œå•†ä¸ºæ­£ï¼Œåˆ™â€œå¤Ÿå‡â€æ—¶ä¸Šå•†â€œ1â€ï¼Œâ€œä¸å¤Ÿå‡â€æ—¶ä¸Šå•†â€œ0â€ã€‚</li><li>å¦‚æœ[x]è¡¥ä¸[y]è¡¥å¼‚å·ï¼Œå•†ä¸ºè´Ÿï¼Œåˆ™â€œå¤Ÿå‡â€æ—¶ä¸Šå•†â€œ0â€ï¼Œâ€œä¸å¤Ÿå‡â€æ—¶ä¸Šå•†â€œ1â€ã€‚</li></ul><p><strong>2.åœ¨è¡¥ç é™¤æ³•ä¸­ï¼Œå•†ç¬¦æ˜¯åœ¨æ±‚å•†çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨å½¢æˆçš„ã€‚</strong></p><p><strong>3.æ–°ä½™æ•°[Ri+1]è¡¥çš„è·å¾—æ–¹æ³•ä¸åŸç åŠ å‡äº¤æ›¿æ³•æç›¸ä¼¼</strong></p><p>ä¾‹ï¼šå·²çŸ¥x=0.1001ï¼Œy=0.1101ï¼Œæ±‚[x&#x2F;y]è¡¥ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-55.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æ‰€ä»¥[x&#x2F;y]è¡¥=0.1011ã€‚</p><h2 id="5-6-æµ®ç‚¹å››åˆ™è¿ç®—"><a href="#5-6-æµ®ç‚¹å››åˆ™è¿ç®—" class="headerlink" title="5.6 æµ®ç‚¹å››åˆ™è¿ç®—"></a>5.6 æµ®ç‚¹å››åˆ™è¿ç®—</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/71A0406B-20D9-4D80-98BE-02E695E0FCFF.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="5-6-1-æµ®ç‚¹åŠ å‡è¿ç®—"><a href="#5-6-1-æµ®ç‚¹åŠ å‡è¿ç®—" class="headerlink" title="5.6.1 æµ®ç‚¹åŠ å‡è¿ç®—"></a>5.6.1 æµ®ç‚¹åŠ å‡è¿ç®—</h3><p>æµ®ç‚¹æ•°åŠ å‡è¿ç®—å¿…é¡»æŒ‰ä»¥ä¸‹å‡ æ­¥è¿›è¡Œï¼š</p><ol><li>å¯¹é˜¶ï¼Œä½¿ä¸¤æ•°çš„å°æ•°ç‚¹ä½ç½®å¯¹é½ã€‚</li><li>å°¾æ•°æ±‚å’Œï¼Œå°†å¯¹é˜¶åçš„ä¸¤å°¾æ•°æŒ‰å®šç‚¹åŠ å‡è¿ç®—è§„åˆ™æ±‚å’Œï¼ˆå·®ï¼‰ã€‚</li><li>è§„æ ¼åŒ–ï¼Œä¸ºå¢åŠ æœ‰æ•ˆæ•°å­—çš„ä½æ•°ï¼Œæé«˜è¿ç®—ç²¾åº¦ï¼Œå¿…é¡»å°†æ±‚å’Œï¼ˆå·®ï¼‰åçš„å°¾æ•°è§„æ ¼åŒ–ã€‚</li><li>èˆå…¥ï¼Œä¸ºæé«˜ç²¾åº¦ï¼Œè¦è€ƒè™‘å°¾æ•°å³ç§»æ—¶ä¸¢å¤±çš„æ•°å€¼ä½ã€‚</li><li>æº¢å‡ºåˆ¤æ–­ï¼Œå³åˆ¤æ–­ç»“æœæ˜¯å¦æº¢å‡ºã€‚</li></ol><h3 id="5-6-2-æµ®ç‚¹ä¹˜é™¤æ³•è¿ç®—"><a href="#5-6-2-æµ®ç‚¹ä¹˜é™¤æ³•è¿ç®—" class="headerlink" title="5.6.2 æµ®ç‚¹ä¹˜é™¤æ³•è¿ç®—"></a>5.6.2 æµ®ç‚¹ä¹˜é™¤æ³•è¿ç®—</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-56.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="é˜¶ç è¿ç®—"><a href="#é˜¶ç è¿ç®—" class="headerlink" title="é˜¶ç è¿ç®—"></a>é˜¶ç è¿ç®—</h4><h4 id="å°¾æ•°è¿ç®—"><a href="#å°¾æ•°è¿ç®—" class="headerlink" title="å°¾æ•°è¿ç®—"></a>å°¾æ•°è¿ç®—</h4><h2 id="5-ä¾‹é¢˜"><a href="#5-ä¾‹é¢˜" class="headerlink" title="5.ä¾‹é¢˜"></a>5.ä¾‹é¢˜</h2><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/481B6F94FE975A975197523BC7B72FBB.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/4DF787DD-4AC7-4C39-8B30-4F32AD558C76.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>6.5Â å·²çŸ¥[x]è¡¥ï¼Œæ±‚[x]åŸå’Œxã€‚</p><p>[x1]è¡¥=1.1100; Â [x2]è¡¥=1.1001; Â [x3]è¡¥=0.1110;Â  [x4]è¡¥=1.0000;</p><p>[x5]è¡¥=1,0101; Â [x6]è¡¥=1,1100; Â [x7]è¡¥=0,0111; Â [x8]è¡¥=1,0000</p><p>[x]è¡¥ä¸[x]åŸã€xçš„å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p><p>[x]è¡¥</p><p>1.1100</p><p>1.1001</p><p>0.1110</p><p>1.0000</p><p>1,0101</p><p>1,1100</p><p>0,0111</p><p>1,0000</p><p>[x]åŸ</p><p>1.0100</p><p>1.0111</p><p>0.1110</p><p>æ— </p><p>1,1011</p><p>1,0100</p><p>0,0111</p><p>æ— </p><p>x</p><p>-0.0100</p><p>-0.0111</p><p>0.1110</p><p>-1</p><p>-1011</p><p>-100</p><p>0,0111</p><p>-10000</p></blockquote><p>Â </p><blockquote><p>6.11Â å·²çŸ¥æœºå™¨æ•°å­—é•¿ä¸º4ä½ï¼ˆå«1ä½ç¬¦å·ä½ï¼‰ï¼Œå†™å‡ºæ•´æ•°å®šç‚¹æœºå’Œå°æ•°å®šç‚¹æœºä¸­åŸç ã€è¡¥ç å’Œåç çš„å…¨éƒ¨å½¢å¼ï¼Œå¹¶æ³¨æ˜å…¶å¯¹åº”çš„åè¿›åˆ¶çœŸå€¼ã€‚</p><p>æ•´æ•°å®šç‚¹æœº</p><p>å°æ•°å®šç‚¹æœº</p><p>åŸç </p><p>è¡¥ç </p><p>åç </p><p>çœŸå€¼</p><p>åŸç </p><p>è¡¥ç </p><p>åç </p><p>çœŸå€¼</p><p>0,000</p><p>0,000</p><p>0,000</p><p>+0</p><p>0.000</p><p>0.000</p><p>0.000</p><p>+0</p><p>0,001</p><p>0,001</p><p>0,001</p><p>1</p><p>0.001</p><p>0.001</p><p>0.001</p><p>0.125</p><p>0,010</p><p>0,010</p><p>0,010</p><p>2</p><p>0.010</p><p>0.010</p><p>0.010</p><p>0.250</p><p>0,011</p><p>0,011</p><p>0,011</p><p>3</p><p>0.011</p><p>0.011</p><p>0.011</p><p>0.375</p><p>0,100</p><p>0,100</p><p>0,100</p><p>4</p><p>0.100</p><p>0.100</p><p>0.100</p><p>0.500</p><p>0,101</p><p>0,101</p><p>0,101</p><p>5</p><p>0.101</p><p>0.101</p><p>0.101</p><p>0.625</p><p>0,110</p><p>0,110</p><p>0,110</p><p>6</p><p>0.110</p><p>0.110</p><p>0.110</p><p>0.750</p><p>0,111</p><p>0,111</p><p>0,111</p><p>7</p><p>0.111</p><p>0.111</p><p>0.111</p><p>0.875</p><p>1,000</p><p>0,000</p><p>1,111</p><p>-0</p><p>1.000</p><p>0.000</p><p>1.111</p><p>-0</p><p>1,001</p><p>1,111</p><p>1,110</p><p>-1</p><p>1.001</p><p>1.111</p><p>1.110</p><p>-0.125</p><p>1,010</p><p>1,110</p><p>1,101</p><p>-2</p><p>1.010</p><p>1.110</p><p>1.101</p><p>-0.250</p><p>1,011</p><p>1,101</p><p>1,100</p><p>-3</p><p>1.011</p><p>1.101</p><p>1.100</p><p>-0.375</p><p>1,100</p><p>1,100</p><p>1,011</p><p>-4</p><p>1.100</p><p>1.100</p><p>1.011</p><p>-0.500</p><p>1,101</p><p>1,011</p><p>1,010</p><p>-5</p><p>1.101</p><p>1.011</p><p>1.010</p><p>-0.625</p><p>1,110</p><p>1,010</p><p>1,001</p><p>-6</p><p>1.110</p><p>1.010</p><p>1.001</p><p>-0.750</p><p>1,111</p><p>1,001</p><p>1,000</p><p>-7</p><p>1.111</p><p>1.001</p><p>1.000</p><p>-0.875</p><p>æ— </p><p>1,000</p><p>æ— </p><p>-8</p><p>æ— </p><p>1.000</p><p>æ— </p><p>-1</p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/732D658E-6A92-4FD6-8132-69FEC87BE802.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/958ADDA5-10FD-4D21-A717-65D6F5012EC6.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>6.20Â ç”¨åŸç ä¸€ä½ä¹˜ã€ä¸¤ä½ä¹˜å’Œè¡¥ç ä¸€ä½ä¹˜ï¼ˆBoothç®—æ³•ï¼‰ã€ä¸¤ä½ä¹˜è®¡ç®—xÂ·yã€‚</p><p>ï¼ˆ1ï¼‰x&#x3D; 0.110 111ï¼Œy&#x3D; -0.101 110ï¼›</p><p>ï¼ˆ2ï¼‰x&#x3D; -0.010 111ï¼Œy&#x3D; -0.010 101ï¼›</p><p>ï¼ˆ3ï¼‰x&#x3D; 19ï¼Œy&#x3D; 35ï¼›</p><p>ï¼ˆ4ï¼‰x&#x3D; 0.110 11ï¼Œy&#x3D; -0.111 01ã€‚</p></blockquote><p>Â </p><blockquote><p>6.27 </p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/ECD3F4E1-7DB6-4B56-B4B7-FAD58240D999.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>ï¼ˆ1ï¼‰</p><p>x&#x3D;2101*0.101100. Â  Â  Â y&#x3D;2100*(-0.100100).</p><p>[x]è¡¥=00,101;00.101100. Â [y]è¡¥=00,100;1.011100</p><p>1)å¯¹é˜¶</p><p>[E]è¡¥=[Jx]è¡¥+[-Jy]è¡¥=00,101+11,100&#x3D;00,001&gt;0</p><p>åº”Jyå‘Jxå¯¹é½ï¼Œåˆ™</p><p>[Jy]è¡¥=00,100+00,001&#x3D;[Jx]è¡¥</p><p>[y]è¡¥=00,101;11.101110</p><p>2)å°¾æ•°è¿ç®—</p><p>[Sx]è¡¥+[Sy]è¡¥=00.101100+11.101110&#x3D;00.011010&gt;0</p><p>3)è§„æ ¼åŒ–</p><p>å·¦è§„1ä½ï¼Œé˜¶ç å‡1</p><p>4)èˆå…¥ï¼šæ— </p><p>5)æº¢å‡ºï¼šæ— </p><p>åˆ™x+y&#x3D;2100*0.110100&#x3D;24*(13&#x2F;16)</p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/17/jizu5/">https://blog.jujimeizuo.cn/2021/06/17/jizu5/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆäº”ï¼‰é¢‘ç‡åŸŸå›¾åƒå¤„ç†</title>
      <link href="/2021/06/17/shuzituxiang5/"/>
      <url>/2021/06/17/shuzituxiang5/</url>
      
        <content type="html"><![CDATA[<h4 id="5-1-å›¾åƒå˜æ¢"><a href="#5-1-å›¾åƒå˜æ¢" class="headerlink" title="5.1 å›¾åƒå˜æ¢"></a>5.1 å›¾åƒå˜æ¢</h4><p>å°†å›¾åƒä»ç©ºé—´2Då¹³é¢å˜æ¢åˆ°é¢‘ç‡åŸŸï¼Œç›®çš„æ˜¯æ›´å…·å›¾åƒåœ¨é¢‘ç‡åŸŸä¸­çš„æŸäº›æ€§è´¨å¯¹å›¾åƒè¿›è¡Œå¤„ç†ã€‚</p><h3 id="5-1-1-å‚…ç«‹å¶å˜æ¢"><a href="#5-1-1-å‚…ç«‹å¶å˜æ¢" class="headerlink" title="5.1.1 å‚…ç«‹å¶å˜æ¢"></a>5.1.1 å‚…ç«‹å¶å˜æ¢</h3><h4 id="ä¸€ç»´å‚…ç«‹å¶å˜æ¢"><a href="#ä¸€ç»´å‚…ç«‹å¶å˜æ¢" class="headerlink" title="ä¸€ç»´å‚…ç«‹å¶å˜æ¢"></a>ä¸€ç»´å‚…ç«‹å¶å˜æ¢</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/039736FC-7200-4336-804D-F51D50A62E40.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="äºŒç»´å‚…ç«‹å¶å˜æ¢"><a href="#äºŒç»´å‚…ç«‹å¶å˜æ¢" class="headerlink" title="äºŒç»´å‚…ç«‹å¶å˜æ¢"></a>äºŒç»´å‚…ç«‹å¶å˜æ¢</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/AF0586B8-7401-4B68-A963-912543AB90D6.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="5-2-é¢‘ç‡åŸŸå›¾åƒå¤„ç†"><a href="#5-2-é¢‘ç‡åŸŸå›¾åƒå¤„ç†" class="headerlink" title="5.2 é¢‘ç‡åŸŸå›¾åƒå¤„ç†"></a>5.2 é¢‘ç‡åŸŸå›¾åƒå¤„ç†</h4><p>åœ¨é¢‘ç‡åŸŸï¼Œå›¾åƒä¿¡æ¯è¡¨ç°ä¸ºä¸åŒé¢‘ç‡çš„ç»„åˆ</p><p>å¦‚æœè®©æŸäº›é¢‘ç‡çš„åˆ†é‡å—åˆ°æŠ‘åˆ¶ï¼Œè€Œå…¶ä»–çš„é¢‘ç‡åˆ†é‡ä¿æŒä¸å˜ï¼Œåˆ™å¯ä»¥æ”¹å˜è¾“å‡ºå›¾åƒçš„é¢‘ç‡åˆ†å¸ƒï¼Œä»è€Œè¾¾åˆ°ä¸åŒçš„å¢å¼ºç›®çš„ã€‚</p><p>é¢‘ç‡åŸŸå¢å¼ºæœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ol><li>å°†å›¾åƒä»å›¾åƒç©ºé—´è½¬æ¢æˆé¢‘ç‡ç©ºé—´</li><li>åœ¨é¢‘åŸŸè¿›è¡Œä¸€äº›æ“ä½œï¼Œä»¥è¾¾åˆ°å¢å¼ºçš„ç›®çš„</li><li>å°†å¢å¼ºåçš„å›¾åƒä»é¢‘ç‡åŸŸè½¬æ¢æˆç©ºé—´åŸŸ</li></ol><p>é¢‘åŸŸæŠ€æœ¯çš„åŸºç¡€æ˜¯<strong>å·ç§¯</strong>ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/EDD0C800-F83B-4316-9CC7-E41AFD0819D3.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>ä»£è¡¨ç©ºé—´åŸŸçš„å·ç§¯ç›¸å½“äºé¢‘ç‡åŸŸçš„ä¹˜ç§¯ã€‚å› æ­¤å¯ä»¥åœ¨é¢‘ç‡åŸŸä¸­ç›´æ¥è®¾è®¡æ»¤æ³¢å™¨ï¼Œå¯¹ä¿¡å·è¿›è¡ŒåŠ å¼ºã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-39.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="5-3-åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå™ªå£°æ¶ˆé™¤â€”â€”é¢‘ç‡åŸŸä½é€šæ»¤æ³¢"><a href="#5-3-åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå™ªå£°æ¶ˆé™¤â€”â€”é¢‘ç‡åŸŸä½é€šæ»¤æ³¢" class="headerlink" title="5.3 åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå™ªå£°æ¶ˆé™¤â€”â€”é¢‘ç‡åŸŸä½é€šæ»¤æ³¢"></a>5.3 åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå™ªå£°æ¶ˆé™¤â€”â€”é¢‘ç‡åŸŸä½é€šæ»¤æ³¢</h4><p><strong>é¢‘ç‡åŸŸä¸­çš„ä½é€šæ»¤æ³¢ä¸ç©ºé—´åŸŸçš„å¹³æ»‘å¤„ç†ç±»ä¼¼ã€‚</strong></p><p>ä½é€šæ»¤æ³¢å™¨ï¼šèƒ½æŠ‘åˆ¶é«˜é¢‘æˆåˆ†å¹…åº¦çš„æ»¤æ³¢å™¨ã€‚</p><ul><li>å›¾åƒçš„è¾¹ç¼˜å’Œå™ªå£°éƒ½å¯¹åº”å‚…ç«‹å¶é¢‘è°±çš„é«˜é¢‘æˆåˆ†</li><li>é¢‘ç‡åŸŸä¸­çš„ä½é€šæ»¤æ³¢å¯ä»¥å»é™¤æˆ–å‰Šå¼±å™ªå£°çš„å½±å“ï¼Œä½†åŒæ—¶ä¹Ÿä¼šæ¨¡ç³Šè¾¹ç¼˜ç»†èŠ‚ï¼Œé™ä½å›¾åƒçš„æ¸…æ™°ç¨‹åº¦</li></ul><h3 id="5-3-1-ç†æƒ³ä½é€šæ»¤æ³¢å™¨"><a href="#5-3-1-ç†æƒ³ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="5.3.1 ç†æƒ³ä½é€šæ»¤æ³¢å™¨"></a>5.3.1 ç†æƒ³ä½é€šæ»¤æ³¢å™¨</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/E88C5C16-BF58-4891-A276-59394127EFE0.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="5-3-2-å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨"><a href="#5-3-2-å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="5.3.2 å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨"></a>5.3.2 å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/35906C8E-9202-4890-8979-08D4EBD3E54A.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>å½“H(uï¼Œv)&#x3D;0.5æ—¶ï¼Œä»–çš„ç‰¹æ€§æ˜¯ä¼ é€’å‡½æ•°æ¯”è¾ƒå…‰æ»‘ï¼Œè¿ç»­æ€§è¡°å‡ï¼Œä¸é™¡å³­ï¼Œé‡‡ç”¨è¿™ä¸ªæ»¤æ³¢å™¨å¹³æ»‘æŠ‘åˆ¶å™ªå£°æ—¶ï¼Œå›¾åƒçš„è¾¹ç¼˜æ¨¡ç³Šç¨‹åº¦å¤§å¤§å‡å°ï¼Œæ²¡æœ‰æŒ¯é“ƒæ•ˆåº”ã€‚</p><h3 id="5-3-3-é«˜æ–¯ä½é€šæ»¤æ³¢å™¨"><a href="#5-3-3-é«˜æ–¯ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="5.3.3 é«˜æ–¯ä½é€šæ»¤æ³¢å™¨"></a>5.3.3 é«˜æ–¯ä½é€šæ»¤æ³¢å™¨</h3><h3 id="5-3-4-æ¢¯å½¢ä½é€šæ»¤æ³¢å™¨"><a href="#5-3-4-æ¢¯å½¢ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="5.3.4 æ¢¯å½¢ä½é€šæ»¤æ³¢å™¨"></a>5.3.4 æ¢¯å½¢ä½é€šæ»¤æ³¢å™¨</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/D5CA54EB-F42C-41BF-9ACB-4299CAAE7D56.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="5-3-5-æŒ‡æ•°ä½é€šæ»¤æ³¢å™¨"><a href="#5-3-5-æŒ‡æ•°ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="5.3.5 æŒ‡æ•°ä½é€šæ»¤æ³¢å™¨"></a>5.3.5 æŒ‡æ•°ä½é€šæ»¤æ³¢å™¨</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/E96DF0E3-DFF7-4AF6-9296-8D736B5E8CCA.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="5-4-åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå¢å¼ºâ€”â€”é¢‘ç‡åŸŸé«˜é€šæ»¤æ³¢"><a href="#5-4-åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå¢å¼ºâ€”â€”é¢‘ç‡åŸŸé«˜é€šæ»¤æ³¢" class="headerlink" title="5.4 åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå¢å¼ºâ€”â€”é¢‘ç‡åŸŸé«˜é€šæ»¤æ³¢"></a>5.4 åŸºäºé¢‘ç‡åŸŸçš„å›¾åƒå¢å¼ºâ€”â€”é¢‘ç‡åŸŸé«˜é€šæ»¤æ³¢</h4><p><strong>é¢‘ç‡åŸŸä¸­çš„é«˜é€šæ»¤æ³¢ä¸ç©ºé—´åŸŸçš„é”åŒ–å¤„ç†ç±»ä¼¼ã€‚</strong></p><p>å›¾åƒçš„è¾¹ç¼˜å¯¹åº”é«˜é¢‘åˆ†é‡ï¼Œé”åŒ–å›¾åƒå°±éœ€è¦ä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨ã€‚</p><p>é«˜é€šæ»¤æ³¢å™¨ä¿ç•™å›¾åƒçš„é«˜é¢‘æˆåˆ†ï¼Œé™¤å»ä½é¢‘æˆåˆ†ã€‚</p><p>å¦‚æœHlp(u,v)æ˜¯ä¸€ä¸ªä½é€šæ»¤æ³¢å™¨ï¼Œå¯¹åº”çš„é«˜é€šæ»¤æ³¢å™¨å¯ä»¥æ˜¯Hhp(u,v)&#x3D;1-Hlp(u,v)</p><h3 id="5-4-1-ç†æƒ³é«˜é€šæ»¤æ³¢å™¨"><a href="#5-4-1-ç†æƒ³é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="5.4.1 ç†æƒ³é«˜é€šæ»¤æ³¢å™¨"></a>5.4.1 ç†æƒ³é«˜é€šæ»¤æ³¢å™¨</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/C5D9CF87-9AD0-40C3-9468-729BFB4A5106.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="5-4-2-å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨"><a href="#5-4-2-å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="5.4.2 å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨"></a>5.4.2 å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/A2E9B5A3-9EB3-4DC8-8240-71BD71B43273.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="5-4-3-é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨"><a href="#5-4-3-é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="5.4.3 é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨"></a>5.4.3 é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨</h3><h4 id="5-5-å¸¦é˜»æ»¤æ³¢å’Œå¸¦é€šæ»¤æ³¢"><a href="#5-5-å¸¦é˜»æ»¤æ³¢å’Œå¸¦é€šæ»¤æ³¢" class="headerlink" title="5.5 å¸¦é˜»æ»¤æ³¢å’Œå¸¦é€šæ»¤æ³¢"></a>5.5 å¸¦é˜»æ»¤æ³¢å’Œå¸¦é€šæ»¤æ³¢</h4><p>å¸¦é˜»æ»¤æ³¢å™¨é˜»æ­¢ä¸€å®šé¢‘ç‡èŒƒå›´å†…çš„ä¿¡å·ï¼Œå…è®¸å…¶ä»–é¢‘ç‡èŒƒå›´çš„ä¿¡å·é€šè¿‡ã€‚</p><p>å¸¦é€šæ»¤æ³¢å™¨å…è®¸ä¸€å®šé¢‘ç‡èŒƒå›´å†…çš„ä¿¡å·é€šè¿‡ï¼Œé˜»æ­¢å…¶ä»–é¢‘ç‡èŒƒå›´çš„ä¿¡å·ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/17/shuzituxiang5/">https://blog.jujimeizuo.cn/2021/06/17/shuzituxiang5/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆå››ï¼‰ç©ºé—´åŸŸå›¾åƒå¢å¼º</title>
      <link href="/2021/06/17/shuzituxiang4/"/>
      <url>/2021/06/17/shuzituxiang4/</url>
      
        <content type="html"><![CDATA[<h4 id="4-1-å›¾åƒå¢å¼ºæ¦‚è¿°"><a href="#4-1-å›¾åƒå¢å¼ºæ¦‚è¿°" class="headerlink" title="4.1 å›¾åƒå¢å¼ºæ¦‚è¿°"></a>4.1 å›¾åƒå¢å¼ºæ¦‚è¿°</h4><p>ç›®çš„ï¼š<strong>æ”¹å–„å›¾åƒæ¸…æ™°åº¦ï¼Œå°†å›¾åƒè½¬æ¢æˆä¸€ç§æ›´é€‚åˆäººæ´»ç€æœºå™¨è¿›è¡Œåˆ†æå¤„ç†çš„å½¢å¼</strong>ã€‚</p><p>æŠ‘åˆ¶æ²¡æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæé«˜å›¾åƒä½¿ç”¨ä»·å€¼ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-38.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="4-2-åŸºäºç‚¹è¿ç®—çš„å›¾åƒå¢å¼ºæ–¹æ³•"><a href="#4-2-åŸºäºç‚¹è¿ç®—çš„å›¾åƒå¢å¼ºæ–¹æ³•" class="headerlink" title="4.2 åŸºäºç‚¹è¿ç®—çš„å›¾åƒå¢å¼ºæ–¹æ³•"></a>4.2 åŸºäºç‚¹è¿ç®—çš„å›¾åƒå¢å¼ºæ–¹æ³•</h4><p>è¯·çœ‹ä¸ŠèŠ‚<a href="http://121.196.156.71/blog/wordpress/index.php/2021/06/16/shuzituxiang3/">æ•°å­—å›¾åƒçš„åŸºæœ¬è¿ç®—ä¹‹ç‚¹è¿ç®—</a></p><h4 id="4-3-åŸºäºç›´æ–¹å›¾çš„å›¾åƒå¢å¼ºæ–¹æ³•"><a href="#4-3-åŸºäºç›´æ–¹å›¾çš„å›¾åƒå¢å¼ºæ–¹æ³•" class="headerlink" title="4.3 åŸºäºç›´æ–¹å›¾çš„å›¾åƒå¢å¼ºæ–¹æ³•"></a>4.3 åŸºäºç›´æ–¹å›¾çš„å›¾åƒå¢å¼ºæ–¹æ³•</h4><p>é€šè¿‡å›¾åƒç°åº¦ç›´æ–¹å›¾å‡è¡¡åŒ–å¤„ç†,ä½¿å¾—å›¾åƒçš„ç°åº¦åˆ†å¸ƒè¶‹å‘å‡åŒ€,å›¾åƒæ‰€å æœ‰çš„åƒç´ ç°åº¦é—´è·æ‹‰å¼€,åŠ å¤§äº†å›¾åƒåå·®ï¼Œæ”¹å–„è§†è§‰æ•ˆæœ,è¾¾åˆ°å¢å¼ºç›®çš„ã€‚</p><p>ä¸»è¦çš„ä¸¤ä¸ªæ“ä½œï¼š<strong>ç›´æ–¹å›¾å‡è¡¡åŒ–ã€ç›´æ–¹å›¾è§„å®šåŒ–</strong></p><h3 id="4-3-1-ç›´æ–¹å›¾å‡è¡¡åŒ–"><a href="#4-3-1-ç›´æ–¹å›¾å‡è¡¡åŒ–" class="headerlink" title="4.3.1 ç›´æ–¹å›¾å‡è¡¡åŒ–"></a>4.3.1 ç›´æ–¹å›¾å‡è¡¡åŒ–</h3><p>ä¸»è¦ç”¨äºå¢å¼ºåŠ¨æ€èŒƒå›´åå°çš„å›¾åƒçš„å¯¹æ¯”åº¦ï¼›</p><p>åŸºæœ¬æ€æƒ³ï¼š<strong>å¯¹å›¾åƒæ–½åŠ ä¸€ç§å˜æ¢ï¼Œä½¿å¾—å˜æ¢åçš„å›¾åƒçš„ç›´æ–¹å›¾æˆä¸ºå‡åŒ€åˆ†å¸ƒçš„å½¢å¼ã€‚</strong></p><p>p53 ä¾‹4.2.1</p><h3 id="4-3-2-ç›´æ–¹å›¾è§„å®šåŒ–"><a href="#4-3-2-ç›´æ–¹å›¾è§„å®šåŒ–" class="headerlink" title="4.3.2 ç›´æ–¹å›¾è§„å®šåŒ–"></a>4.3.2 ç›´æ–¹å›¾è§„å®šåŒ–</h3><p>ç›´æ–¹å›¾å‡è¡¡æ–¹æ³•èƒ½æ˜¾è‘—åœ°å¢å¼ºå›¾åƒçš„å¯¹æ¯”åº¦ï¼Œä½†å…¶å¢å¼ºæ•ˆæœä¸æ˜“æ§åˆ¶</p><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¸Œæœ›å¯ä»¥äººä¸ºåœ°æ”¹å˜ç›´æ–¹å›¾å½¢çŠ¶ï¼Œä½¿ä¹‹æˆä¸ºæŸä¸ªç‰¹å®šçš„å½¢çŠ¶</p><p>p58 ä¾‹4.2.2</p><h4 id="4-4-ç©ºé—´æ»¤æ³¢"><a href="#4-4-ç©ºé—´æ»¤æ³¢" class="headerlink" title="4.4 ç©ºé—´æ»¤æ³¢"></a>4.4 ç©ºé—´æ»¤æ³¢</h4><p>åˆ©ç”¨åƒç´ æœ¬èº«ä»¥åŠé‚»åŸŸåƒç´ çš„ç°åº¦è¿›è¡Œå¢å¼ºçš„æ–¹æ³•ä¸€èˆ¬ç§°ä½œæ»¤æ³¢ã€‚</p><p>æ»¤æ³¢ä¸€èˆ¬ä½œä¸ºä¸€ç§ä¸å¤„ç†æ–¹æ³•ï¼Œå³é€šè¿‡å¯¹æŸä¸ªåƒç´ é‚»åŸŸå†…çš„åƒç´ è¿›è¡ŒæŸç§è®¡ç®—ï¼Œå¾—åˆ°è¯¥åƒç´ çš„ä¸€ä¸ªæ»¤æ³¢å€¼ã€‚</p><h4 id="4-5-çº¿æ€§æ»¤æ³¢ï¼šæ¨¡æ¿å·ç§¯"><a href="#4-5-çº¿æ€§æ»¤æ³¢ï¼šæ¨¡æ¿å·ç§¯" class="headerlink" title="4.5 çº¿æ€§æ»¤æ³¢ï¼šæ¨¡æ¿å·ç§¯"></a>4.5 çº¿æ€§æ»¤æ³¢ï¼šæ¨¡æ¿å·ç§¯</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/6990A4A5-BAB2-49FB-93C6-3E4D1F98A51A.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="4-6-åŸºäºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•"><a href="#4-6-åŸºäºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•" class="headerlink" title="4.6 åŸºäºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•"></a>4.6 åŸºäºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•</h4><ol><li>ä»¥æŠ‘åˆ¶å™ªå£°ä¸ºä¸»è¦ç›®çš„çš„é¢„å¤„ç†ç®—æ³•</li><li>è¿ç®—çš„æœ¬è´¨æ˜¯åœ¨åƒç´ é‚»åŸŸèŒƒå›´å†…çš„ç°åº¦å€¼çš„ï¼ˆåŠ æƒï¼‰å¹³å‡</li><li>å¹³æ»‘æ»¤æ³¢ä¼šå¼•å…¥è¾¹ç¼˜æ¨¡ç³Šï¼Œä½¿å›¾åƒçš„æ¸…æ™°åº¦ä¸‹é™ï¼Œæ‰€ä»¥ç ”ç©¶è¾¹ç¼˜ä¿æŒçš„å¹³æ»‘æ»¤æ³¢æ˜¯æœ‰æ„ä¹‰çš„</li><li>å¹³æ»‘æ»¤æ³¢å¯¹æŠ‘åˆ¶å†²æ¿€å™ªå£°å’Œç»†æ–‘çº¹éå¸¸æœ‰æ•ˆï¼Œä½†å¯¹å¤§çš„å—çŠ¶å™ªå£°å’Œç²—æ¡çº¹æ— æ•ˆ</li></ol><h3 id="4-6-1-é‚»åŸŸå¹³å‡æ³•"><a href="#4-6-1-é‚»åŸŸå¹³å‡æ³•" class="headerlink" title="4.6.1 é‚»åŸŸå¹³å‡æ³•"></a>4.6.1 é‚»åŸŸå¹³å‡æ³•</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/138D1E5C-CA39-4C26-B8CF-D0FB7DE76D43.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="4-7-åŸºäºç©ºé—´é”åŒ–æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•"><a href="#4-7-åŸºäºç©ºé—´é”åŒ–æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•" class="headerlink" title="4.7 åŸºäºç©ºé—´é”åŒ–æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•"></a>4.7 åŸºäºç©ºé—´é”åŒ–æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•</h4><p>ç›®çš„ï¼š<strong>ä½¿è¾¹ç¼˜å’Œè½®å»“æ¨¡ç³Šçš„å›¾åƒå˜å¾—æ¸…æ™°</strong></p><ol><li>å›¾åƒæ¨¡ç³Šå¾€å¾€æ˜¯ç”±äºå¯¹å›¾åƒçš„å¹³å‡æˆ–ç§¯åˆ†è¿ç®—å¼•èµ·çš„ï¼Œå¯¹å›¾åƒè¿›è¡Œç§¯åˆ†è¿ç®—çš„é€†è¿ç®—ï¼Œå¦‚å¾®åˆ†è¿ç®—å¯ä»¥è¾¾åˆ°é”åŒ–çš„ç›®çš„</li><li>ä»é¢‘è°±åˆ†æçš„è§’åº¦ï¼Œå›¾åƒæ¨¡ç³Šçš„å®è´¨æ˜¯é«˜é¢‘åˆ†é‡ç¼ºå¤±</li><li>èƒ½è¿›è¡Œé”åŒ–å¤„ç†çš„å›¾åƒå¿…é¡»è¦æœ‰è¾ƒé«˜çš„ä¿¡å™ªæ¯”ï¼Œå¦åˆ™è¿›è¡Œé”åŒ–å¤„ç†åï¼Œä¿¡å™ªæ¯”ä¼šé™å¾—æ›´ä½</li><li>é”åŒ–å¤„ç†è¿˜ç»å¸¸è·Ÿè¾¹ç¼˜æ£€æµ‹è”ç³»åœ¨ä¸€èµ·</li></ol><h3 id="4-7-1-Robertsç®—å­"><a href="#4-7-1-Robertsç®—å­" class="headerlink" title="4.7.1 Robertsç®—å­"></a>4.7.1 Robertsç®—å­</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/C2DF2FB3-1559-408E-8D6B-891DD680F7B2.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-7-2-Laplaceç®—å­"><a href="#4-7-2-Laplaceç®—å­" class="headerlink" title="4.7.2 Laplaceç®—å­"></a>4.7.2 Laplaceç®—å­</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/9E71B9D2-5A3D-40D2-9918-683B86EBEAC2.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/60E43746-0D38-45CB-B46E-8DCACA59B376.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-7-3-Sobelç®—å­"><a href="#4-7-3-Sobelç®—å­" class="headerlink" title="4.7.3 Sobelç®—å­"></a>4.7.3 Sobelç®—å­</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/1EBC63D0-39B7-4851-8929-E731029ADC72.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-7-4-Prewittç®—å­"><a href="#4-7-4-Prewittç®—å­" class="headerlink" title="4.7.4 Prewittç®—å­"></a>4.7.4 Prewittç®—å­</h3><h3 id=""><a href="#" class="headerlink" title=" "></a><img src="https://cdn.jujimeizuo.cn/blog/2021/06/AEED8104-AB50-4DA5-B684-3D684B01EE79.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></h3><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/17/shuzituxiang4/">https://blog.jujimeizuo.cn/2021/06/17/shuzituxiang4/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆå››ï¼‰è¾“å…¥è¾“å‡ºç³»ç»Ÿ</title>
      <link href="/2021/06/17/jizu4/"/>
      <url>/2021/06/17/jizu4/</url>
      
        <content type="html"><![CDATA[<h4 id="4-1-ç«¯å£ã€æ¥å£çš„åŒºåˆ«"><a href="#4-1-ç«¯å£ã€æ¥å£çš„åŒºåˆ«" class="headerlink" title="4.1 ç«¯å£ã€æ¥å£çš„åŒºåˆ«"></a>4.1 ç«¯å£ã€æ¥å£çš„åŒºåˆ«</h4><p>æ¥å£(Interface)å’Œç«¯å£(Port)æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µã€‚ç«¯å£æ˜¯æŒ‡æ¥å£ç”µè·¯ä¸­çš„ä¸€äº›å¯„å­˜å™¨ï¼Œè¿™äº›å¯„å­˜å™¨åˆ†åˆ«ç”¨æ¥å­˜æ”¾æ•°æ®ä¿¡æ¯ã€æ§åˆ¶ä¿¡æ¯å’ŒçŠ¶æ€ä¿¡æ¯ï¼Œç›¸åº”çš„ç«¯å£åˆ†åˆ«ç§°ä¸ºæ•°æ®ç«¯å£ã€æ§åˆ¶ç«¯å£å’ŒçŠ¶æ€ç«¯å£ã€‚è‹¥å¹²ä¸ªç«¯å£åŠ ä¸Šç›¸åº”çš„æ§åˆ¶é€»è¾‘æ‰èƒ½ç»„æˆæ¥å£ã€‚CPUé€šè¿‡è¾“å…¥æŒ‡ä»¤ï¼Œä»ç«¯å£è¯»å…¥ä¿¡æ¯ï¼Œé€šè¿‡è¾“å‡ºæŒ‡ä»¤ï¼Œå¯å°†ä¿¡æ¯å†™å…¥ç«¯å£ä¸­ã€‚</p><h4 id="4-2-ä¸ç¨‹åºä¸­æ–­æ–¹å¼ç›¸æ¯”ï¼ŒDMAæ–¹å¼çš„ç‰¹ç‚¹"><a href="#4-2-ä¸ç¨‹åºä¸­æ–­æ–¹å¼ç›¸æ¯”ï¼ŒDMAæ–¹å¼çš„ç‰¹ç‚¹" class="headerlink" title="4.2 ä¸ç¨‹åºä¸­æ–­æ–¹å¼ç›¸æ¯”ï¼ŒDMAæ–¹å¼çš„ç‰¹ç‚¹"></a>4.2 ä¸ç¨‹åºä¸­æ–­æ–¹å¼ç›¸æ¯”ï¼ŒDMAæ–¹å¼çš„ç‰¹ç‚¹</h4><ol><li>ä»<strong>æ•°æ®ä¼ é€</strong>çœ‹ï¼Œç¨‹åºä¸­æ–­é <strong>ç¨‹åºä¼ é€</strong>ï¼ŒDMAæ–¹å¼é ç¡¬ä»¶ä¼ é€</li><li>ä»<strong>CPUå“åº”æ—¶é—´</strong>çœ‹ï¼Œç¨‹åºä¸­æ–­æ–¹å¼æ˜¯åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œç»“æŸæ—¶å“åº”ï¼Œè€ŒDMAæ–¹å¼å¯åœ¨å‘½ä»¤å‘¨æœŸå†…çš„<strong>ä»»æ„</strong>å­˜å‚¨å‘¨æœŸç»“æŸæ—¶å“åº”</li><li>ç¨‹åºä¸­æ–­æ–¹å¼æœ‰<strong>å¤„ç†å¼‚å¸¸äº‹ä»¶</strong>çš„èƒ½åŠ›ï¼ŒDMAæ–¹å¼æ²¡æœ‰è¿™ç§èƒ½åŠ›ï¼Œä¸»è¦ç”¨äºå¤§æ‰¹æ•°æ®çš„ä¼ é€ï¼Œå¦‚ç£ç›˜å­˜å–ã€å›¾åƒå¤„ç†ã€é«˜é€Ÿæ•°æ®é‡‡é›†ç³»ç»Ÿç­‰ï¼Œå¯æé«˜æ•°æ®ååé‡</li><li>ç¨‹åºä¸­æ–­æ–¹å¼éœ€è¦ä¸­æ–­ç°è¡Œç¨‹åºï¼Œæ•…éœ€ä¿æŠ¤ç°åœºï¼›DMAæ–¹å¼ä¸ä¸­æ–­ç°è¡Œç¨‹åºï¼Œæ— éœ€ä¿æŠ¤ç°åœº</li><li>DMAçš„ä¼˜å…ˆçº§æ¯”ç¨‹åºä¸­æ–­ä¼˜å…ˆçº§é«˜</li></ol><h4 id="4-3-å°ç»“"><a href="#4-3-å°ç»“" class="headerlink" title="4.3 å°ç»“"></a>4.3 å°ç»“</h4><ol><li>I&#x2F;Oè®¾å¤‡ä¸ä¸»æœºä¿¡æ¯ä¼ é€çš„æ§åˆ¶æ–¹å¼ï¼š<strong>ç¨‹åºæŸ¥è¯¢æ–¹å¼ã€ç¨‹åºä¸­æ–­æ–¹å¼ã€DMAæ–¹å¼</strong></li><li>è®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œå½“å‡ºç°å¼‚å¸¸æƒ…å†µæˆ–ç‰¹æ®Šè¯·æ±‚æ—¶ï¼Œè®¡ç®—æœºåœæ­¢ç°è¡Œç¨‹åºçš„è¿è¡Œï¼Œè½¬å‘å¯¹è¿™äº›å¼‚å¸¸æƒ…å†µæˆ–ç‰¹æ®Šè¯·æ±‚å¯¹å¤„ç†ï¼Œå¤„ç†ç»“æŸåå†è¿”å›åˆ°ç°è¡Œç¨‹åºçš„é—´æ–­å¤„ï¼Œç»§ç»­æ‰§è¡ŒåŸç¨‹åºï¼Œè¿™å°±æ˜¯â€œä¸­æ–­â€</li><li>å‡¡æ˜¯èƒ½å‘CPUæå‡ºä¸­æ–­è¯·æ±‚çš„å„ç§å› ç´ ç»Ÿç§°ä¸º<strong>ä¸­æ–­æº</strong></li><li>CPUæ€»æ˜¯åœ¨ç»Ÿä¸€çš„æ—¶é—´ï¼Œå³æ¯æ¡æŒ‡ä»¤æ‰§è¡Œé˜¶æ®µçš„æœ€åæ—¶åˆ»ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„è®¾å¤‡æ˜¯å¦æœ‰ä¸­æ–­è¯·æ±‚</li></ol><h4 id="4-4-ä¾‹é¢˜"><a href="#4-4-ä¾‹é¢˜" class="headerlink" title="4.4 ä¾‹é¢˜"></a>4.4 ä¾‹é¢˜</h4><blockquote><p>5.1 I&#x2F;Oè®¾å¤‡æœ‰å“ªäº›ç¼–å€æ–¹å¼ï¼Œå„æœ‰ä½•ç‰¹ç‚¹ï¼Ÿ</p><p>ç»Ÿä¸€ç¼–å€ï¼šé‡‡ç”¨ä¸»å­˜å•å…ƒåœ°å€å®Œå…¨ä¸€æ ·çš„æ ¼å¼ï¼ŒI&#x2F;Oè®¾å¤‡å’Œä¸»å­˜å ç”¨åŒä¸€ä¸ªåœ°å€ç©ºé—´ï¼ŒCPUå¯åƒè®¿é—®ä¸»å­˜ä¸€æ ·è®¿é—®I&#x2F;Oè®¾å¤‡ï¼Œä¸éœ€è¦å®‰æ’ä¸“é—¨çš„I&#x2F;OæŒ‡ä»¤</p><p>ç‹¬ç«‹ç¼–å€ï¼šæœ‰å®Œå…¨ä¸åŒäºä¸»å­˜åœ°å€æ ¼å¼çš„åœ°å€ç¼–ç ï¼Œæ­¤æ—¶I&#x2F;Oåœ°å€ä¸ä¸»å­˜åœ°å€æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ç©ºé—´ï¼ŒCPUéœ€è¦é€šè¿‡ä¸“é—¨çš„æŒ‡ä»¤æ¥è®¿é—®è¯¥åœ°å€ç©ºé—´ã€‚</p></blockquote><p>Â </p><blockquote><p>5.4 è¯•æ¯”è¾ƒç¨‹åºæŸ¥è¯¢æ–¹å¼ã€ç¨‹åºä¸­æ–­æ–¹å¼å’ŒDMAæ–¹å¼å¯¹CPUæ•ˆç‡çš„å½±å“ã€‚</p><p>ç¨‹åºæŸ¥è¯¢æ–¹å¼ï¼šéœ€è¦cpuæ—¶åˆ»å’¨è¯¢ioï¼Œç›´åˆ°ioå‡†å¤‡å¥½å“åº”ï¼Œå·¥ä½œæ•ˆç‡å¾ˆä½ã€‚</p><p>ç¨‹åºä¸­æ–­æ–¹å¼ï¼šä¸å’¨è¯¢è®¾å¤‡æ˜¯å¦å·²ç»å‡†å¤‡å°±ç»ªï¼Œç»§ç»­æ‰§è¡Œè‡ªèº«ç¨‹åºï¼Œåªæœ‰å½“ioè®¾å¤‡å‡†å¤‡å°±ç»ªcpuå‘å‡ºä¸­æ–­è¯·æ±‚åæ‰äºˆä»¥å“åº”ã€‚è¿™ç§æ–¹å¼æ¶ˆé™¤äº†è¸æ­¥ç°è±¡ï¼Œæ¯”ç¨‹åºå’¨è¯¢æ–¹å¼æ•ˆç‡æ›´é«˜ï¼Œæé«˜äº†CPUèµ„æºåˆ©ç”¨ç‡å’Œå·¥ä½œæ•ˆç‡ã€‚</p><p>DMAæ–¹å¼ï¼šDMAæ§åˆ¶å™¨ä»cpuå®Œå…¨æ¥ç®¡å¯¹æ€»çº¿çš„æ§åˆ¶ï¼Œæ•°æ®äº¤æ¢ä¸ç»è¿‡cpuï¼Œç›´æ¥åœ¨å†…å­˜å’Œå¤–å›´è®¾å¤‡ä¹‹é—´è¿›è¡Œï¼Œä»¥é«˜é€Ÿä¼ é€æ•°æ®ï¼Œå¤§å¤§å‡è½»äº†cpuçš„æ•°æ®äº¤æ¢å·¥ä½œå‹åŠ›ï¼Œcpuå·¥ä½œæ•ˆç‡æ›´é«˜ã€‚</p></blockquote><p>Â </p><blockquote><p>è¯´æ˜ä¸­æ–­å‘é‡åœ°å€å’Œå…¥å£åœ°å€çš„åŒºåˆ«å’Œè”ç³»ã€‚</p><p>ä¸­æ–­å‘é‡åœ°å€å’Œå…¥å£åœ°å€çš„åŒºåˆ«ï¼š</p><p>å‘é‡åœ°å€æ˜¯ç¡¬ä»¶ç”µè·¯ï¼ˆå‘é‡ç¼–ç å™¨ï¼‰äº§ç”Ÿçš„ä¸­æ–­æºçš„å†…å­˜åœ°å€ç¼–å·ï¼Œä¸­æ–­å…¥å£åœ°å€æ˜¯ä¸­æ–­æœåŠ¡ç¨‹åºé¦–å€ã€‚</p><p>ä¸­æ–­å‘é‡åœ°å€å’Œå…¥å£åœ°å€çš„è”ç³»ï¼š</p><p>ä¸­æ–­å‘é‡åœ°å€å¯ç†è§£ä¸ºä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€æŒ‡ç¤ºå™¨ï¼ˆå…¥å£åœ°å€çš„åœ°å€ï¼‰ï¼Œé€šè¿‡å®ƒè®¿å­˜å¯è·å¾—ä¸­æ–­æœåŠ¡ç¨‹åºå…¥å£åœ°å€ã€‚ (ä¸¤ç§æ–¹æ³•ï¼šåœ¨å‘é‡åœ°å€æ‰€æŒ‡å•å…ƒå†…æ”¾ä¸€æ¡JMPæŒ‡ä»¤ï¼›ä¸»å­˜ä¸­è®¾å‘é‡åœ°å€è¡¨ã€‚ï¼‰</p></blockquote><p>Â </p><blockquote><p>ä»€ä¹ˆæ˜¯å¤šé‡ä¸­æ–­ï¼Ÿå®ç°å¤šé‡ä¸­æ–­çš„å¿…è¦æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å¤šé‡ä¸­æ–­æ˜¯æŒ‡ï¼šå½“CPUæ‰§è¡ŒæŸä¸ªä¸­æ–­æœåŠ¡ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç”Ÿäº†æ›´é«˜çº§ã€æ›´ç´§è¿«çš„äº‹ä»¶ï¼ŒCPUæš‚åœç°è¡Œä¸­æ–­æœåŠ¡ç¨‹åºçš„æ‰§è¡Œï¼Œè½¬å»å¤„ç†è¯¥äº‹ä»¶çš„ä¸­æ–­ï¼Œå¤„ç†å®Œè¿”å›ç°è¡Œä¸­æ–­æœåŠ¡ç¨‹åºç»§ç»­æ‰§è¡Œçš„è¿‡ç¨‹ã€‚</p><p>å®ç°å¤šé‡ä¸­æ–­çš„å¿…è¦æ¡ä»¶æ˜¯ï¼šåœ¨ç°è¡Œä¸­æ–­æœåŠ¡æœŸé—´ï¼Œä¸­æ–­å…è®¸è§¦å‘å™¨ä¸º1ï¼Œå³å¼€ä¸­æ–­ã€‚</p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/17/jizu4/">https://blog.jujimeizuo.cn/2021/06/17/jizu4/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆä¸‰ï¼‰å­˜å‚¨å™¨</title>
      <link href="/2021/06/16/jizu3/"/>
      <url>/2021/06/16/jizu3/</url>
      
        <content type="html"><![CDATA[<h4 id="4-1-å­˜å‚¨å™¨"><a href="#4-1-å­˜å‚¨å™¨" class="headerlink" title="4.1 å­˜å‚¨å™¨"></a>4.1 å­˜å‚¨å™¨</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image.jpeg"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-1.jpeg"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="4-2-å­˜å‚¨å™¨çš„åˆ†ç±»"><a href="#4-2-å­˜å‚¨å™¨çš„åˆ†ç±»" class="headerlink" title="4.2 å­˜å‚¨å™¨çš„åˆ†ç±»"></a>4.2 å­˜å‚¨å™¨çš„åˆ†ç±»</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/4DD85DCB-F5EF-45C4-8F91-792A83F4341A.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-2-1-å­˜å‚¨ä»‹è´¨"><a href="#4-2-1-å­˜å‚¨ä»‹è´¨" class="headerlink" title="4.2.1 å­˜å‚¨ä»‹è´¨"></a>4.2.1 å­˜å‚¨ä»‹è´¨</h3><p>åŠå¯¼ä½“å™¨ä»¶ï¼ˆåŠå¯¼ä½“å­˜å‚¨å™¨ï¼‰ï¼šéšæœºå­˜å‚¨å™¨</p><p>ç£æ€§ææ–™ï¼ˆç£è¡¨é¢å­˜å‚¨å™¨ï¼‰ï¼šç£ç›˜å­˜å‚¨å™¨å’Œç£å¸¦å­˜å‚¨å™¨</p><h3 id="4-2-2-å­˜å‚¨æ–¹å¼"><a href="#4-2-2-å­˜å‚¨æ–¹å¼" class="headerlink" title="4.2.2 å­˜å‚¨æ–¹å¼"></a>4.2.2 å­˜å‚¨æ–¹å¼</h3><p>éšæœºå­˜å‚¨å™¨RAM</p><p>åªè¯»å­˜å‚¨å™¨ROM</p><p>ä¸²è¡Œè®¿é—®å­˜å‚¨å™¨</p><h3 id="4-2-3-å­˜å‚¨ä½œç”¨"><a href="#4-2-3-å­˜å‚¨ä½œç”¨" class="headerlink" title="4.2.3 å­˜å‚¨ä½œç”¨"></a>4.2.3 å­˜å‚¨ä½œç”¨</h3><p>ä¸»è¦åˆ†ä¸ºä¸»å­˜å‚¨å™¨ã€è¾…åŠ©å­˜å‚¨å™¨ã€ç¼“å­˜å­˜å‚¨å™¨</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-28.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="4-3-å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„"><a href="#4-3-å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„" class="headerlink" title="4.3 å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„"></a>4.3 å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-27.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="4-4-ä¸»å­˜å‚¨å™¨"><a href="#4-4-ä¸»å­˜å‚¨å™¨" class="headerlink" title="4.4 ä¸»å­˜å‚¨å™¨"></a>4.4 ä¸»å­˜å‚¨å™¨</h4><h3 id="4-4-1-ä¸»å­˜çš„åŸºæœ¬ç»„æˆ"><a href="#4-4-1-ä¸»å­˜çš„åŸºæœ¬ç»„æˆ" class="headerlink" title="4.4.1 ä¸»å­˜çš„åŸºæœ¬ç»„æˆ"></a>4.4.1 ä¸»å­˜çš„åŸºæœ¬ç»„æˆ</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-29.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-4-2-ä¸»å­˜å’ŒCPUçš„è”ç³»"><a href="#4-4-2-ä¸»å­˜å’ŒCPUçš„è”ç³»" class="headerlink" title="4.4.2 ä¸»å­˜å’ŒCPUçš„è”ç³»"></a>4.4.2 ä¸»å­˜å’ŒCPUçš„è”ç³»</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-30.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>å¤‡æ³¨ï¼šMDRã€MARåœ¨CPUé‡Œã€‚</p><h3 id="4-4-3-ä¸»å­˜ä¸­å­˜å‚¨å•å…ƒåœ°å€çš„åˆ†é…"><a href="#4-4-3-ä¸»å­˜ä¸­å­˜å‚¨å•å…ƒåœ°å€çš„åˆ†é…" class="headerlink" title="4.4.3 ä¸»å­˜ä¸­å­˜å‚¨å•å…ƒåœ°å€çš„åˆ†é…"></a>4.4.3 ä¸»å­˜ä¸­å­˜å‚¨å•å…ƒåœ°å€çš„åˆ†é…</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-31.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-4-4-ä¸»å­˜çš„æŠ€æœ¯æŒ‡æ ‡"><a href="#4-4-4-ä¸»å­˜çš„æŠ€æœ¯æŒ‡æ ‡" class="headerlink" title="4.4.4 ä¸»å­˜çš„æŠ€æœ¯æŒ‡æ ‡"></a>4.4.4 ä¸»å­˜çš„æŠ€æœ¯æŒ‡æ ‡</h3><ol><li>å­˜å‚¨å®¹é‡ï¼šä¸»å­˜å­˜æ”¾äºŒè¿›åˆ¶ä»£ç çš„æ€»ä½æ•°ï¼Œå³å­˜å‚¨å•å…ƒä¸ªæ•°* å­˜å‚¨å­—é•¿</li><li>å­˜å‚¨é€Ÿåº¦ï¼šå­˜å–æ—¶é—´æ˜¯å­˜å‚¨å™¨çš„è®¿é—®æ—¶é—´ï¼ˆè¯»å‡ºæ—¶é—´ã€å†™å…¥æ—¶é—´ï¼‰ï¼›å­˜å–å‘¨æœŸæ˜¯è¿ç»­ä¸¤æ¬¡ç‹¬ç«‹çš„å­˜å‚¨å™¨æ“ä½œï¼ˆè¯»æˆ–å†™ï¼‰æ‰€éœ€çš„æœ€å°é—´éš”æ—¶é—´ã€‚é€šå¸¸ï¼Œå­˜å‚¨å‘¨æœŸ&gt;å­˜å–æ—¶é—´</li><li>å­˜å‚¨å™¨çš„å¸¦å®½ï¼šä½&#x2F;ç§’</li></ol><p>Â </p><h4 id="4-5-é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨"><a href="#4-5-é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨" class="headerlink" title="4.5 é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨"></a>4.5 é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨</h4><h3 id="4-5-1-é—®é¢˜çš„æå‡º"><a href="#4-5-1-é—®é¢˜çš„æå‡º" class="headerlink" title="4.5.1 é—®é¢˜çš„æå‡º"></a>4.5.1 é—®é¢˜çš„æå‡º</h3><p>é¿å…CPUâ€œç©ºç­‰â€ç°è±¡</p><p>CPUå’Œä¸»å­˜ï¼ˆDRAMï¼‰çš„é€Ÿåº¦å·®å¼‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-32.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-5-2-Cacheçš„å·¥ä½œåŸç†"><a href="#4-5-2-Cacheçš„å·¥ä½œåŸç†" class="headerlink" title="4.5.2 Cacheçš„å·¥ä½œåŸç†"></a>4.5.2 Cacheçš„å·¥ä½œåŸç†</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-36.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="4-5-3-Cache-ä¸»å­˜åœ°å€æ˜ å°„"><a href="#4-5-3-Cache-ä¸»å­˜åœ°å€æ˜ å°„" class="headerlink" title="4.5.3 Cache-ä¸»å­˜åœ°å€æ˜ å°„"></a>4.5.3 Cache-ä¸»å­˜åœ°å€æ˜ å°„</h3><h4 id="ç›´æ¥æ˜ å°„"><a href="#ç›´æ¥æ˜ å°„" class="headerlink" title="ç›´æ¥æ˜ å°„"></a>ç›´æ¥æ˜ å°„</h4><p>æŸä¸€ä¸»å­˜å—åªèƒ½å›ºå®šæ˜ å°„åˆ°æŸä¸€ç¼“å­˜å—</p><p>ä¸»å­˜å­—å—æ ‡è®°</p><p>Cacheå­—å—æ ‡è®°</p><p>å­—å—å†…åœ°å€</p><p>â€”â€”â€”â€”â€”â€”</p><p>â€”â€”â€”â€”â€”â€”-</p><p>â€”â€”â€”â€”â€”</p><p>Â </p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-33.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="å…¨ç›¸è”æ˜ å°„"><a href="#å…¨ç›¸è”æ˜ å°„" class="headerlink" title="å…¨ç›¸è”æ˜ å°„"></a>å…¨ç›¸è”æ˜ å°„</h4><p>ä¸»å­˜ä¸­çš„ä»»ä¸€å—å¯ä»¥æ˜ å°„åˆ°ç¼“å­˜ä¸­çš„ä»»ä¸€å—</p><p>ä¸»å­˜å­—å—æ ‡è®°</p><p>å­—å—å†…åœ°å€</p><p>â€”â€”â€”â€”â€”â€”</p><p>â€”â€”â€”â€”â€”</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-34.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="ç»„ç›¸è¿æ˜ å°„"><a href="#ç»„ç›¸è¿æ˜ å°„" class="headerlink" title="ç»„ç›¸è¿æ˜ å°„"></a>ç»„ç›¸è¿æ˜ å°„</h4><p>æŸä¸€ä¸»å­˜å—åªèƒ½æ˜ å°„åˆ°æŸä¸€ç¼“å­˜ç»„ä¸­çš„ä»»ä¸€å—</p><p>ä¸»å­˜å­—å—æ ‡è®°</p><p>ç»„åœ°å€</p><p>å­—å—å†…åœ°å€</p><p>â€”â€”â€”â€”â€”â€”</p><p>â€”â€”â€”</p><p>â€”â€”â€”â€”â€”</p><p>Â </p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-35.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="4-6-å°ç»“"><a href="#4-6-å°ç»“" class="headerlink" title="4.6 å°ç»“"></a>4.6 å°ç»“</h4><ol><li>åœ¨ä¸»å­˜å’ŒCPUä¹‹é—´å¢åŠ é«˜é€Ÿç¼“å­˜çš„ç›®çš„æ˜¯<strong>è§£å†³ä¸»å­˜å’ŒCPUé€Ÿåº¦ä¸åŒ¹é…é—®é¢˜</strong>ã€‚</li><li>å­˜å‚¨å™¨æ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­çš„è®°å¿†è®¾å¤‡ï¼ŒåŒæ¥å­˜æ”¾ç¨‹åºå’Œæ•°æ®ã€‚</li><li>å­˜å‚¨å™¨é€Ÿåº¦ã€å®¹é‡ã€ä½ä»·çš„å…³ç³»ï¼š<strong>å¯„å­˜å™¨&gt;ç¼“å­˜&gt;ä¸»å­˜&gt;ç£ç›˜&gt;ç£å¸¦</strong>ã€‚</li><li>é€šå¸¸ç”¨<strong>8ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚</strong>ã€‚</li><li><strong>å‚¨å­˜å®¹é‡</strong>æ˜¯æŒ‡ä¸»å­˜èƒ½å­˜æ”¾çš„äºŒè¿›åˆ¶ä»£ç çš„<strong>æ€»ä½æ•°</strong>ã€‚</li><li>å­˜å‚¨é€Ÿåº¦ç”±<strong>å­˜å‚¨æ—¶é—´</strong>å’Œ<strong>å­˜å‚¨å‘¨æœŸ</strong>æ¥è¡¨ç¤ºã€‚</li><li>æé«˜å­˜å‚¨å™¨å¸¦å®½çš„æ–¹æ³•ï¼šç¼©çŸ­å­˜å‚¨å‘¨æœŸã€å¢åŠ å­˜å‚¨å­—é•¿ã€å¢åŠ å­˜å‚¨ä½“ã€‚</li><li>é™æ€RAMæ˜¯ç”¨<strong>è§¦å‘å™¨</strong>å·¥ä½œåŸç†å­˜å‚¨ä¿¡æ¯ï¼ŒåŠ¨æ€RAMæ˜¯é <strong>ç”µå®¹å­˜å‚¨ç”µè·</strong>çš„åŸç†æ¥å¯„å­˜ä¿¡æ¯ã€‚</li><li><strong>é›†ä¸­åˆ·æ–°</strong>æ˜¯åœ¨è§„å®šçš„ä¸€ä¸ªåˆ·æ–°å‘¨æœŸå†…ï¼Œå¯¹å…¨éƒ¨å­˜å‚¨å•å…ƒé›†ä¸­ä¸€æ®µæ—¶é—´é€è¡Œè¿›è¡Œåˆ·æ–°ï¼Œæ­¤åˆ»å¿…é¡»åœæ­¢<strong>è¯»&#x2F;å†™æ“ä½œ</strong>ã€‚</li></ol><p>Â </p><h4 id="4-7-ä¾‹é¢˜"><a href="#4-7-ä¾‹é¢˜" class="headerlink" title="4.7 ä¾‹é¢˜"></a>4.7 ä¾‹é¢˜</h4><blockquote><p>4.5 ä»€ä¹ˆæ˜¯å­˜å‚¨å™¨çš„å¸¦å®½ï¼Ÿè‹¥å­˜å‚¨å™¨çš„æ•°æ®æ€»çº¿å®½åº¦ä¸º32ä½ï¼Œå­˜å–å‘¨æœŸä½200nsï¼Œåˆ™å­˜å‚¨å™¨çš„å¸¦å®½æ˜¯å¤šå°‘ï¼Ÿ</p><p>å­˜å‚¨å™¨çš„å¸¦å®½æŒ‡å•ä½æ—¶é—´å†…ä»å­˜å‚¨å™¨è¿›å‡ºä¿¡æ¯çš„æœ€å¤§æ•°é‡ã€‚</p><p>å­˜å‚¨å™¨çš„å¸¦å®½&#x3D;æ—¶é’Ÿé¢‘ç‡*æ€»çº¿å®½åº¦&#x3D;1&#x2F;200ns*32ä½&#x3D;160M ä½&#x2F;ç§’&#x3D;20MB&#x2F;ç§’</p><p>æ³¨æ„ï¼šå­—é•¿32ä½ï¼Œä¸æ˜¯16ä½ã€‚</p></blockquote><p>Â </p><blockquote><p>4.6 æŸæœºå­—é•¿ä¸º32ä½ï¼Œå…¶å­˜å‚¨å®¹é‡ä¸º64KBï¼ŒæŒ‰å­—ç¼–å€å…¶å¯»å€èŒƒå›´æ˜¯å¤šå°‘ï¼Ÿè‹¥ä»¥ä¸»å­˜ä»¥å­—èŠ‚ç¼–å€ï¼Œè¯•ç”»å‡ºä¸»å­˜å­—åœ°å€å’Œå­—èŠ‚åœ°å€çš„åˆ†é…æƒ…å†µã€‚</p><p> å­˜å‚¨å®¹é‡ä¸º64KBæ—¶ï¼ŒæŒ‰å­—ç¼–å€å…¶å¯»å€èŒƒå›´å°±æ˜¯64Kï¼Œè‹¥ä»¥ä¸»å­˜ä»¥å­—èŠ‚ç¼–å€ï¼Œå…¶å¯»å€èŒƒå›´ä¸º64K&#x2F;ï¼ˆ32&#x2F;8ï¼‰&#x3D;16K</p><p>ä¸»å­˜å­—åœ°å€å’Œå­—èŠ‚åœ°å€çš„åˆ†é…æƒ…å†µï¼šå¦‚å›¾</p><p> <img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-37.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"> </p></blockquote><p>Â </p><blockquote><p>4.7 ä¸€ä¸ªå®¹é‡ä¸º16K*32ä½çš„å­˜å‚¨å™¨ï¼Œå…¶åœ°å€çº¿å’Œæ•°æ®çº¿çš„æ€»å’Œæ˜¯å¤šå°‘ï¼Ÿå½“é€‰ç”¨ä¸‹åˆ—ä¸åŒè§„æ ¼çš„å­˜å‚¨èŠ¯ç‰‡æ—¶ï¼Œå„éœ€è¦å¤šå°‘ç‰‡ï¼Ÿ1K*4ä½ï¼Œ2K*8ä½ï¼Œ4K*4ä½ï¼Œ16K*1ä½ï¼Œ4K*8ä½ï¼Œ8K*8ä½ã€‚</p><p>16K&#x3D;2^14ï¼Œæ‰€ä»¥åœ°å€çº¿æœ‰14æ ¹ï¼Œæ•°æ®çº¿æœ‰32æ ¹ï¼Œä¸€å…±46æ ¹ã€‚</p><p>é€‰æ‹©ä¸åŒèŠ¯ç‰‡æ—¶ï¼Œå„éœ€è¦çš„ç‰‡æ•°ä¸ºï¼š</p><p> 1K*4ä½ï¼šï¼ˆ16K*32ï¼‰&#x2F;ï¼ˆÂ 1K*4ï¼‰&#x3D;16*8&#x3D;128ç‰‡</p><p>2K*8ä½ï¼šï¼ˆ16K*32ï¼‰&#x2F;ï¼ˆ2K*8ï¼‰&#x3D;8*4&#x3D;32ç‰‡</p><p>4K*4ä½ï¼šï¼ˆ16K*32ï¼‰&#x2F;ï¼ˆ4K*4ï¼‰&#x3D;4*8&#x3D;32ç‰‡</p><p>16K*1ä½ï¼šï¼ˆ16K*32ï¼‰&#x2F;ï¼ˆ16K*1ï¼‰&#x3D;1*32&#x3D;32ç‰‡</p><p>4K*8ä½ï¼šï¼ˆ16K*32ï¼‰&#x2F;ï¼ˆ4K*8ï¼‰&#x3D;4*4&#x3D;16ç‰‡</p><p>8K*8ä½ï¼šï¼ˆ16K*32ï¼‰&#x2F;ï¼ˆ8K*8ï¼‰&#x3D;2*4&#x3D;8ç‰‡</p></blockquote><p>Â </p><blockquote><p>4.9 ä»€ä¹ˆå«åˆ·æ–°ï¼Ÿä¸ºä»€ä¹ˆè¦åˆ·æ–°ï¼Ÿè¯´æ˜åˆ·æ–°çš„å‡ ç§æ–¹æ³•ã€‚</p><p>åˆ·æ–°æŒ‡å¯¹DRAMå®šæœŸè¿›è¡Œçš„å…¨éƒ¨é‡å†™è¿‡ç¨‹ï¼›</p><p>åˆ·æ–°åŸå› ï¼šå› ç”µå®¹æ³„æ¼è€Œå¼•èµ·çš„DRAMæ‰€å­˜ä¿¡æ¯çš„è¡°å‡éœ€è¦åŠæ—¶è¡¥å……ï¼Œå› æ­¤å®‰æ’äº†å®šæœŸåˆ·æ–°æ“ä½œï¼›</p><p>ç§ç±»ï¼š</p><p>é›†ä¸­å¼ï¼šåœ¨æœ€å¤§åˆ·æ–°é—´éš”æ—¶é—´å†…ï¼Œé›†ä¸­å®‰æ’ä¸€æ®µæ—¶é—´è¿›è¡Œåˆ·æ–°ï¼Œå­˜åœ¨CPUè®¿å­˜æ­»æ—¶é—´ï¼› </p><p>åˆ†æ•£å¼ï¼šåœ¨æ¯ä¸ªè¯»&#x2F;å†™å‘¨æœŸä¹‹åæ’å…¥ä¸€ä¸ªåˆ·æ–°å‘¨æœŸï¼Œæ— CPUè®¿å­˜æ­»æ—¶é—´ï¼› </p><p>å¼‚æ­¥å¼ï¼šæ˜¯é›†ä¸­å¼å’Œåˆ†æ•£å¼çš„æŠ˜è¡·ã€‚</p></blockquote><p>Â </p><blockquote><p>4.15 </p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/3D86EB37-F424-44F0-B368-BD1E61C7E1C3.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/lALPDg7mQdVHZPfNBD_NA-c_999_1087.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>4.18 å·²çŸ¥æ¥æ”¶åˆ°çš„æ±‰æ˜ç ï¼ˆæŒ‰é…å¶åŸåˆ™é…ç½®ï¼‰ä¸º1100100ã€1100111ã€1100000ã€1100001ã€æ£€æŸ¥ä¸Šè¿°ä»£ç æ˜¯å¦å‡ºé”™ï¼Ÿç¬¬å‡ ä½å‡ºé”™ï¼Ÿ</p><p>1100100:</p><p>p1 &#x3D; C1 ^ 3 ^ 5 ^ 7 &#x3D; 0; p2 &#x3D; C2 ^ 3 ^ 6 ^ 7 &#x3D; 1; p3 &#x3D; C4 ^ 5 ^ 6 ^ 7 &#x3D; 1</p><p>p3p2p1 &#x3D; 110 å³ç¬¬6ä½å‡ºé”™ï¼Œæœ‰æ•ˆä¿¡æ¯ä¸º0110</p><p>1100111ï¼š</p><p>p1 &#x3D; C1 ^ 3 ^ 5 ^ 7 &#x3D; 1; p2 &#x3D; C2 ^ 3 ^ 6 ^ 7 &#x3D; 1; p3 &#x3D; C4 ^ 5 ^ 6 ^ 7 &#x3D; 1</p><p>p3p2p1 &#x3D; 111 å³ç¬¬7ä½å‡ºé”™ï¼Œæœ‰æ•ˆä¿¡æ¯ä¸º0110</p><p>1100000:</p><p>p1 &#x3D; C1 ^ 3 ^ 5 ^ 7 &#x3D; 1; p2 &#x3D; C2 ^ 3 ^ 6 ^ 7 &#x3D; 1; p3 &#x3D; C4 ^ 5 ^ 6 ^ 7 &#x3D; 0</p><p>p3p2p1 &#x3D; 011 å³ç¬¬3ä½å‡ºé”™ï¼Œæœ‰æ•ˆä¿¡æ¯ä¸º1000</p><p>1100001:</p><p>p1 &#x3D; C1 ^ 3 ^ 5 ^ 7 &#x3D; 0; p2 &#x3D; C2 ^ 3 ^ 6 ^ 7 &#x3D; 0; p3 &#x3D; C4 ^ 5 ^ 6 ^ 7 &#x3D; 1</p><p>p3p2p1 &#x3D; 100 å³ç¬¬4ä½å‡ºé”™ï¼Œæœ‰æ•ˆä¿¡æ¯ä¸º0001</p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/16D014C8-6918-496C-AAD0-9E41425D9443.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/0F821F49-7E90-426E-AF93-0B275BB2EC2C.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/lALPDiQ3ObHyGP7NBFXNA-c_999_1109.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>4.28 è®¾ä¸»å­˜å®¹é‡ä¸º256Kå­—ï¼ŒCacheå®¹é‡ä¸º2Kå­—ï¼Œå—é•¿ä¸º4ï¼Œ</p><p>ï¼ˆ1ï¼‰è®¾è®¡Cacheåœ°å€æ ¼å¼ï¼Œè®¾è®¡ä¸»å­˜åœ°å€æ ¼å¼ ï¼ˆ2ï¼‰åœ¨ç›´æ¥æ˜ å°„æ–¹å¼ä¸‹ï¼Œè®¾è®¡ä¸»å­˜åœ°å€æ ¼å¼ ï¼ˆ3ï¼‰åœ¨å››è·¯ç»„ç›¸è¿æ˜ å°„æ–¹å¼ä¸‹ï¼Œè®¾è®¡ä¸»å­˜åœ°å€æ ¼å¼ ï¼ˆ4ï¼‰åœ¨å…¨ç›¸è¿æ˜ å°„æ–¹å¼ä¸‹ï¼Œè®¾è®¡ä¸»å­˜åœ°å€æ ¼å¼ ï¼ˆ5ï¼‰è‹¥å­˜å‚¨å­—é•¿ä¸º32ä½ï¼Œæ˜¯å­˜å‚¨å™¨æŒ‰å­—èŠ‚å¯»å€ï¼Œå†™å‡ºä¸Šè¿°ä¸‰ç§æ˜ å°„æ–¹å¼ä¸‹ä¸»å­˜çš„åœ°å€æ ¼å¼ã€‚</p><p>ï¼ˆ1ï¼‰Cacheå®¹é‡ä¸º2Kå­—èŠ‚ï¼Œå—é•¿ä¸º4ï¼ŒCacheå…±æœ‰2K&#x2F;4&#x3D;2^11&#x2F;2^2&#x3D;2^9&#x3D;512å—</p><p>Cacheå­—åœ°å€9ä½ï¼Œå­—å—å†…åœ°å€ä¸º2ä½</p><p>å› æ­¤ï¼ŒCacheåœ°å€æ ¼å¼è®¾è®¡å¦‚ä¸‹ï¼š</p><p>Cacheå­—å—åœ°å€ï¼ˆ9ä½ï¼‰å­—å—å†…åœ°å€ï¼ˆ2ä½ï¼‰</p><p>ï¼ˆ2ï¼‰ä¸»å­˜å®¹é‡ä¸º256Kå­—èŠ‚&#x3D;2^18å­—èŠ‚ï¼Œä¸»å­˜åœ°å€å…±18ä½ï¼Œå…±åˆ†256K&#x2F;4&#x3D;2^16å—</p><p>ä¸»å­˜å­—å—æ ‡è®°ä¸º18-9-2&#x3D;7ä½</p><p>ç›´æ¥æ˜ å°„æ–¹å¼ä¸‹ä¸»å­˜åœ°å€æ ¼å¼å¦‚ä¸‹ï¼š</p><p>ä¸»å­˜å­—å—æ ‡è®°ï¼ˆ7ä½ï¼‰Cacheå­—å—åœ°å€ï¼ˆ9ä½ï¼‰å­—å—å†…åœ°å€ï¼ˆ2ä½ï¼‰</p><p>ï¼ˆ3ï¼‰æ ¹æ®å››è·¯ç»„ç›¸è”çš„æ¡ä»¶ï¼Œä¸€ç»„å†…å…±æœ‰4å—ï¼Œå¾—Cacheå…±åˆ†ä¸º512&#x2F;4&#x3D;2^7å—</p><p>ä¸»å­˜å­—å—æ ‡è®°ä¸º18-7-2&#x3D;9ä½</p><p>ä¸»å­˜åœ°å€æ ¼å¼è®¾è®¡å¦‚ä¸‹ï¼š</p><p>ä¸»å­˜å­—å—æ ‡è®°ï¼ˆ9ä½ï¼‰ç»„åœ°å€ï¼ˆ7ä½ï¼‰å­—å—å†…åœ°å€ï¼ˆ2ä½ï¼‰</p><p>ï¼ˆ4ï¼‰åœ¨å…¨ç›¸è”æ˜ å°„æ–¹å¼ä¸‹ï¼Œä¸»å­˜å­—å—æ ‡è®°ä¸º18-2&#x3D;16ä½ï¼Œå…¶åœ°å€æ ¼å¼å¦‚ä¸‹ï¼š</p><p>ä¸»å­˜å­—å—æ ‡è®°ï¼ˆ16ä½ï¼‰å­—å—å†…åœ°å€ï¼ˆ2ä½ï¼‰</p><p>ï¼ˆ5ï¼‰è‹¥å­˜å‚¨å­—é•¿ä¸º32ä½ï¼Œå­˜å‚¨å™¨æŒ‰å­—èŠ‚å¯»å€ï¼Œåˆ™ä¸»å­˜å®¹é‡ä¸º256K*32&#x2F;8&#x3D;2^20B</p><p>Cacheå®¹é‡ä¸º2K*32&#x2F;8&#x3D;2^13Bï¼Œå—é•¿ä¸º4*32&#x2F;8&#x3D;2^4Bï¼Œå­—å—å†…åœ°å€ä¸º4ä½ã€‚</p><p>åœ¨ç›´æ¥æ˜ å°„æ–¹å¼ä¸‹ï¼Œä¸»å­˜å­—å—æ ‡è®°ä¸º20-9-4&#x3D;7ä½ï¼Œä¸»å­˜åœ°å€æ ¼å¼ä¸ºï¼š</p><p>ä¸»å­˜å­—å—æ ‡è®°ï¼ˆ7ä½ï¼‰Cacheå­—å—åœ°å€ï¼ˆ9ä½ï¼‰å­—å—å†…åœ°å€ï¼ˆ4ä½ï¼‰</p><p>åœ¨å››è·¯ç»„ç›¸è”æ˜ å°„æ–¹å¼ä¸‹ï¼Œä¸»å­˜å­—å—æ ‡è®°ä¸º20-7-4&#x3D;9ä½ï¼Œä¸»å­˜åœ°å€æ ¼å¼ä¸ºï¼š</p><p>ä¸»å­˜å­—å—æ ‡è®°ï¼ˆ9ä½ï¼‰ç»„åœ°å€ï¼ˆ7ä½ï¼‰å­—å—å†…åœ°å€ï¼ˆ4ä½ï¼‰</p><p>åœ¨å…¨ç›¸è”æ˜ å°„æ–¹å¼ä¸‹ï¼Œä¸»å­˜å­—å—æ ‡è®°ä¸º20-4&#x3D;16ä½ï¼Œä¸»å­˜åœ°å€æ ¼å¼ä¸ºï¼š</p><p>ä¸»å­˜å­—å—æ ‡è®°ï¼ˆ16ä½ï¼‰å­—å—å†…åœ°å€ï¼ˆ4ä½ï¼‰</p></blockquote><p>Â </p><blockquote><p>4.29 å‡è®¾CPUæ‰§è¡ŒæŸæ®µç¨‹åºæ—¶å…±è®¿é—®Cacheå‘½ä¸­4800æ¬¡ï¼Œè®¿é—®ä¸»å­˜200æ¬¡ï¼Œå·²çŸ¥Cacheçš„å­˜å–å‘¨æœŸæ˜¯30nsï¼Œä¸»å­˜çš„å­˜å–å‘¨æœŸæ˜¯150nsï¼Œæ±‚Cacheçš„å‘½ä¸­ç‡ä»¥åŠCache-ä¸»å­˜ç³»ç»Ÿçš„å¹³å‡è®¿é—®æ—¶é—´å’Œæ•ˆç‡ï¼Œè¯•é—®è¯¥ç³»ç»Ÿçš„æ€§èƒ½æé«˜äº†å¤šå°‘ï¼Ÿ</p><p>å‘½ä¸­ç‡&#x3D;4800&#x2F;(4800+200)&#x3D;0.96</p><p>å¹³å‡è®¿é—®æ—¶é—´&#x3D;0.96*30+(1-0.96)*150&#x3D;34.8ns</p><p>æ•ˆç‡&#x3D;30&#x2F;34.8*100%&#x3D;86.2%</p><p>æ€§èƒ½å˜ä¸ºåŸæ¥çš„150&#x2F;34.8&#x3D;4.31å€ï¼Œå³æé«˜äº†3.31å€</p></blockquote><p>Â </p><blockquote><p>4.31 è®¾ä¸»å­˜å®¹é‡ä¸º1MBï¼Œé‡‡ç”¨ç›´æ¥æ˜ å°„æ–¹å¼çš„Cacheå®¹é‡ä¸º16KBï¼Œå—é•¿ä¸º4ï¼Œæ¯å­—32ä½ã€‚è¯•é—®ä¸»å­˜åœ°å€ä¸ºABCDEHçš„å­˜å‚¨å•å…ƒåœ¨Cacheä¸­çš„ä»€ä¹ˆä½ç½®ï¼Ÿ</p><p>å‡è®¾æŒ‰ç…§å­—èŠ‚ç¼–å€ã€‚</p><p>4*32&#x2F;8&#x3D;16B&#x3D;2^4B å¾—å­—å—å†…åœ°å€ä¸º4ä½</p><p>16KB&#x2F;16B&#x3D;2^10 å¾—Cacheå­—å—åœ°å€ä¸º10ä½</p><p>1MB&#x2F;16B&#x3D;2^16 å¾—ç›´æ¥æ˜ å°„ä¸‹ä¸»å­˜åœ°å€ä¸º6ä½</p><p>ABCDEH&#x3D;1010 1011 1100 1101 1110 â€¦</p><p>æ•…è¯¥ä¸»å­˜å•å…ƒåº”æ˜ å°„åˆ°Cacheçš„101010å—çš„ç¬¬1110å­—èŠ‚ï¼Œå³ç¬¬42å—ç¬¬14å­—èŠ‚ä½ç½®</p></blockquote><p>Â </p><blockquote><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/E25F5759-9D3B-4513-8407-7A0BDFC400D5.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/lALPDiCpvA7gppnNA-fNA_I_1010_999.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>4.38 ç£ç›˜ç»„æœ‰6ç‰‡ç£ç›˜ï¼Œæœ€å¤–ä¸¤ä¾§ç›˜é¢å¯ä»¥è®°å½•ï¼Œå­˜å‚¨åŒºåŸŸå†…å¾„22cmï¼Œå¤–å¾„33cmï¼Œé“å¯†åº¦ä¸º40é“&#x2F;cmï¼Œå†…å±‚å¯†åº¦ä¸º400ä½&#x2F;cmï¼Œè½¬é€Ÿ3600è½¬&#x2F;åˆ†ã€‚</p><p>ï¼ˆ1ï¼‰å…±æœ‰å¤šå°‘å­˜å‚¨é¢å¯ç”¨ï¼Ÿ</p><p>ï¼ˆ2ï¼‰å…±æœ‰å¤šå°‘æŸ±é¢ï¼Ÿ</p><p>ï¼ˆ3ï¼‰ç›˜ç»„æ€»å­˜å‚¨å®¹é‡æ˜¯å¤šå°‘ï¼Ÿ</p><p>ï¼ˆ4ï¼‰æ•°æ®ä¼ è¾“ç‡æ˜¯å¤šå°‘ï¼Ÿ</p><p>ï¼ˆ1ï¼‰å…±æœ‰6*2&#x3D;12ä¸ªå‚¨å­˜é¢å¯ç”¨</p><p>ï¼ˆ2ï¼‰æœ‰æ•ˆå­˜å‚¨åŒºåŸŸ&#x3D;ï¼ˆ33-22ï¼‰&#x2F;2&#x3D;5.5cmï¼ŒæŸ±é¢æ•°&#x3D;40*5.5&#x3D;220é“</p><p>ï¼ˆ3ï¼‰å†…å±‚é“å‘¨é•¿&#x3D;PI*22&#x3D;69.08cm</p><p>é“å®¹é‡&#x3D;400ä½&#x2F;cm*69.08cm&#x3D;3454B</p><p>é¢å®¹é‡&#x3D;3454B*220é“&#x3D;759880B</p><p>ç›˜ç»„æ€»å®¹é‡&#x3D;759880B*12é¢&#x3D;9118560B</p><p>ï¼ˆ4ï¼‰è½¬é€Ÿ&#x3D;3600è½¬&#x2F;åˆ†&#x3D;60è½¬&#x2F;ç§’</p><p>æ•°æ®ä¼ è¾“ç‡&#x3D;3454B*60è½¬&#x2F;ç§’ &#x3D; 207240B&#x2F;s</p></blockquote><p>Â </p><blockquote><p>4.39 æŸç£ç›˜å­˜å‚¨å™¨è½¬é€Ÿä½3000è½¬&#x2F;åˆ†ï¼Œå…±æœ‰4ä¸ªè®°å½•ç›˜é¢ï¼Œæ¯æ¯«ç±³5é“ï¼Œæ¯é“è®°å½•ä¿¡æ¯12288å­—èŠ‚ï¼Œæœ€å°ç£é“ç›´å¾„ä½230mmï¼Œå…±æœ‰275é“ï¼Œæ±‚ï¼š</p><p>ï¼ˆ1ï¼‰ç£ç›˜å­˜å‚¨å™¨çš„å­˜å‚¨å®¹é‡ã€‚</p><p>ï¼ˆ2ï¼‰æœ€é«˜ä½å¯†åº¦ï¼ˆæœ€å°ç£é“çš„ä½å¯†åº¦ï¼‰å’Œæœ€ä½ä½å¯†åº¦ã€‚</p><p>ï¼ˆ3ï¼‰ç£ç›˜æ•°æ®ä¼ è¾“ç‡ã€‚</p><p>ï¼ˆ4ï¼‰å¹³å‡ç­‰å¾…æ—¶é—´ã€‚</p><p>ï¼ˆ1ï¼‰å­˜å‚¨å®¹é‡&#x3D;275*12288*4&#x3D;13516800B</p><p>ï¼ˆ2ï¼‰æœ€é«˜ä½å¯†åº¦&#x3D;12288B&#x2F;ï¼ˆPI*230mmï¼‰&#x3D;17B&#x2F;mm</p><p>æœ€å¤§ç£é“ç›´å¾„&#x3D;230+2*275&#x2F;5&#x3D;230+110&#x3D;340mm</p><p>æœ€ä½ä½å¯†åº¦&#x3D;12288B&#x2F;ï¼ˆPI*340ï¼‰&#x3D;11.5B&#x2F;mm</p><p>ï¼ˆ3ï¼‰3000è½¬&#x2F;åˆ†&#x3D;50è½¬&#x2F;ç§’</p><p>ç£ç›˜æ•°æ®ä¼ è¾“ç‡&#x3D;12288B*50è½¬&#x2F;ç§’&#x3D;614400B&#x2F;s</p><p>ï¼ˆ4ï¼‰å¹³å‡ç­‰å¾…æ—¶é—´&#x3D;1&#x2F;ï¼ˆ2*50è½¬&#x2F;ç§’ï¼‰&#x3D;10ms</p></blockquote><p>Â </p><blockquote><p>å‡è®¾CPUæ‰§è¡ŒæŸæ®µç¨‹åºæ—¶ï¼Œå…±è®¿é—®Cacheå‘½ä¸­20 00æ¬¡ï¼Œè®¿é—®ä¸»å­˜50æ¬¡ã€‚å·²çŸ¥Cacheçš„å­˜å‚¨å‘¨æœŸä¸º50nsï¼Œä¸»å­˜çš„å­˜å‚¨å‘¨æœŸä¸º200nsã€‚æ±‚Cache-ä¸»å­˜ç³»ç»Ÿçš„å‘½ä¸­ç‡ã€æ•ˆç‡å’Œå¹³å‡è®¿é—®æ—¶é—´ã€‚</p><p>ï¼ˆ1ï¼‰2000&#x2F;ï¼ˆ2000+50ï¼‰*100%&#x3D;97%</p><p>ï¼ˆ2ï¼‰è®¾è®¿é—®Cacheçš„æ—¶é—´ä¸ºtï¼Œè®¿é—®ä¸»å­˜æ—¶é—´ä¸º4tï¼Œåˆ™æ•ˆç‡e &#x3D; t&#x2F;(0.97*t+(1-0.97)*4t)*100%&#x3D;91.7%</p><p>ï¼ˆ3ï¼‰å¹³å‡è®¿é—®æ—¶é—´&#x3D;50ns*0.97+200ns*(1-0.97)&#x3D;54.5ns</p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/16/jizu3/">https://blog.jujimeizuo.cn/2021/06/16/jizu3/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆäºŒï¼‰ç³»ç»Ÿæ€»çº¿</title>
      <link href="/2021/06/16/jizu2/"/>
      <url>/2021/06/16/jizu2/</url>
      
        <content type="html"><![CDATA[<h4 id="3-1-ç³»ç»Ÿæ€»çº¿"><a href="#3-1-ç³»ç»Ÿæ€»çº¿" class="headerlink" title="3.1 ç³»ç»Ÿæ€»çº¿"></a>3.1 ç³»ç»Ÿæ€»çº¿</h4><ol><li>ä¸»å­˜æ€»çº¿ä¸DMAæ€»çº¿<strong>ä¸èƒ½åŒæ—¶</strong>å¯¹ä¸»å­˜è¿›è¡Œå­˜å–ï¼Œ</li><li>æ€»çº¿åˆ†ç±»ï¼ˆæŒ‰ç…§è¿æ¥éƒ¨ä»¶ä¸åŒåˆ’åˆ†ï¼‰ï¼š<strong>ç‰‡å†…æ€»çº¿ã€ç³»ç»Ÿæ€»çº¿ã€é€šä¿¡æ€»çº¿</strong>ã€‚</li><li>ç³»ç»Ÿæ€»çº¿æŒ‰ç…§ä¼ è¾“ä¿¡æ¯ä¸åŒï¼Œåˆ†<strong>æ•°æ®æ€»çº¿ã€åŒå‘ä¼ è¾“æ€»çº¿ã€‘ã€åœ°å€æ€»çº¿ã€æ§åˆ¶æ€»çº¿ã€ä¸€èˆ¬æ¥è¯´æ˜¯å•å‘çš„ã€‘</strong>ã€‚</li><li>é€šä¿¡æ€»çº¿æŒ‰ç…§ä¼ è¾“æ–¹å¼ä¸åŒï¼Œåˆ†<strong>ä¸²è¡Œé€šä¿¡ã€è¿œè·ç¦»ä¼ è¾“ã€‘ã€å¹¶è¡Œé€šä¿¡ã€è¿‘è·ç¦»ä¼ è¾“ã€‘</strong>ã€‚</li><li>æ€»çº¿ç‰¹æ€§ï¼š<strong>æœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ã€æ—¶é—´ç‰¹æ€§</strong>ã€‚</li><li>æ€»çº¿å‘¨æœŸåˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š<strong>ç”³è¯·åˆ†é…é˜¶æ®µã€å¯»å€é˜¶æ®µã€ä¼ æ•°é˜¶æ®µã€ç»“æŸé˜¶æ®µ</strong>ã€‚</li><li>æ€»çº¿é€šä¿¡æ–¹å¼ï¼š<strong>åŒæ­¥é€šä¿¡ã€å¼‚æ­¥é€šä¿¡ã€åŠåŒæ­¥é€šä¿¡ã€åˆ†ç¦»å¼é€šä¿¡</strong>ã€‚</li><li>å¯¹å„ä¸ç›¸åŒé€Ÿåº¦çš„éƒ¨ä»¶è€Œè¨€ï¼Œå¿…é¡»æŒ‰<strong>æœ€æ…¢é€Ÿåº¦</strong>çš„éƒ¨ä»¶æ¥è®¾ç½®å…¬å…±æ—¶é’Ÿã€‚</li><li><strong>æ³¢ç‰¹ç‡</strong>æ˜¯æŒ‡å•ä½æ—¶é—´å†…ä¼ é€äºŒçº§åˆ¶æ•°çš„ä½æ•°ï¼Œå•ä½ç”¨**bps(ä½&#x2F;ç§’)**ï¼Œè®°ä½œæ³¢ç‰¹ã€‚</li><li><strong>æ¯”ç‰¹ç‡</strong>æ˜¯æŒ‡å•ä½æ—¶é—´å†…ä¼ é€äºŒè¿›åˆ¶<strong>æœ‰æ•ˆæ•°æ®</strong>çš„ä½æ•°ï¼Œå•ä½ç”¨<strong>bps</strong>è¡¨ç¤ºã€‚</li></ol><p>Â </p><h4 id="3-2-ä¾‹é¢˜"><a href="#3-2-ä¾‹é¢˜" class="headerlink" title="3.2 ä¾‹é¢˜"></a>3.2 ä¾‹é¢˜</h4><blockquote><p>3.1 ä»€ä¹ˆæ˜¯æ€»çº¿ï¼Ÿæ€»çº¿ä¼ è¾“æœ‰ä½•ç‰¹ç‚¹ï¼Ÿä¸ºäº†å‡è½»æ€»çº¿çš„è´Ÿè½½ï¼Œæ€»çº¿ä¸Šçš„éƒ¨ä»¶éƒ½åº”å…·å¤‡ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</p><p>æ€»çº¿æ˜¯å¤šä¸ªéƒ¨ä»¶å…±äº«çš„ä¼ è¾“éƒ¨ä»¶ã€‚</p><p>æ€»çº¿ä¼ è¾“çš„ç‰¹ç‚¹æ˜¯ï¼šæŸä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€è·¯ä¿¡æ¯åœ¨æ€»çº¿ä¸Šä¼ è¾“ï¼Œå³åˆ†æ—¶ä½¿ç”¨ã€‚</p><p>ä¸ºäº†å‡è½»æ€»çº¿è´Ÿè½½ï¼Œæ€»çº¿ä¸Šçš„éƒ¨ä»¶åº”é€šè¿‡ä¸‰æ€é©±åŠ¨ç¼“å†²ç”µè·¯ä¸æ€»çº¿è¿é€šã€‚</p></blockquote><p>Â </p><blockquote><p>3.2 æ€»çº¿å¦‚ä½•åˆ†ç±»ï¼Ÿä»€ä¹ˆæ˜¯ç³»ç»Ÿæ€»çº¿ï¼Ÿç³»ç»Ÿæ€»çº¿åˆåˆ†ä¸ºå‡ ç±»ï¼Œå®ƒä»¬å„åˆä½•ä½œç”¨ï¼Œæ˜¯å•å‘çš„ï¼Œè¿˜æ˜¯åŒå‘çš„ï¼Œå®ƒä»¬ä¸æœºå™¨å­—é•¿ã€å­˜å‚¨å­—é•¿ã€å­˜å‚¨å•å…ƒæœ‰ä½•å…³ç³»ï¼Ÿ</p><p>æŒ‰ç…§è¿æ¥éƒ¨ä»¶çš„ä¸åŒï¼Œæ€»çº¿å¯ä»¥åˆ†ä¸ºç‰‡å†…æ€»çº¿ã€ç³»ç»Ÿæ€»çº¿å’Œé€šä¿¡æ€»çº¿ã€‚</p><p>ç³»ç»Ÿæ€»çº¿æ˜¯è¿æ¥CPUã€ä¸»å­˜ã€I&#x2F;Oå„éƒ¨ä»¶ä¹‹é—´çš„ä¿¡æ¯ä¼ è¾“çº¿ã€‚</p><p>ç³»ç»Ÿæ€»çº¿æŒ‰ç…§ä¼ è¾“ä¿¡æ¯ä¸åŒåˆåˆ†ä¸ºåœ°å€çº¿ã€æ•°æ®çº¿å’Œæ§åˆ¶çº¿ã€‚åœ°å€çº¿æ˜¯å•å‘çš„ï¼Œå…¶æ ¹æ•°è¶Šå¤šï¼Œå¯»å€ç©ºé—´è¶Šå¤§ï¼Œå³CPUèƒ½è®¿é—®çš„å­˜å‚¨å•å…ƒçš„ä¸ªæ•°è¶Šå¤šï¼›æ•°æ®çº¿æ˜¯åŒå‘çš„ï¼Œå…¶æ ¹æ•°ä¸å­˜å‚¨å­—é•¿ç›¸åŒï¼Œæ˜¯æœºå™¨å­—é•¿çš„æ•´æ•°å€ã€‚</p></blockquote><p>Â </p><blockquote><p>3.4 ä¸ºä»€ä¹ˆè¦è®¾ç½®æ€»çº¿åˆ¤ä¼˜æ§åˆ¶ï¼Ÿå¸¸è§çš„é›†ä¸­å¼æ€»çº¿æ§åˆ¶æœ‰å‡ ç§ï¼Œå„æœ‰ä½•ç‰¹ç‚¹ï¼Œå“ªç§æ–¹å¼å“åº”æ—¶é—´æœ€å¿«ï¼Œå“ªç§æ–¹å¼å¯¹ç”µè·¯æ•…éšœæœ€æ•æ„Ÿï¼Ÿ</p><p>æ€»çº¿åˆ¤ä¼˜æ§åˆ¶è§£å†³å¤šä¸ªéƒ¨ä»¶åŒæ—¶ç”³è¯·æ€»çº¿æ—¶çš„ä½¿ç”¨æƒåˆ†é…é—®é¢˜ã€‚</p><p>å¸¸è§çš„é›†ä¸­å¼æ€»çº¿æ§åˆ¶æœ‰ä¸‰ç§ï¼š</p><ol><li>é“¾å¼æŸ¥è¯¢ï¼šè¿çº¿ç®€å•ï¼Œæ˜“äºæ‰©å……ï¼Œå¯¹ç”µè·¯æ•…éšœæœ€æ•æ„Ÿã€‚</li><li>è®¡æ•°å™¨å®šæ—¶æŸ¥è¯¢ï¼šä¼˜å…ˆçº§è®¾ç½®è¾ƒçµæ´»ï¼Œå¯¹æ•…éšœä¸æ•æ„Ÿï¼Œè¿çº¿åŠæ§åˆ¶è¿‡ç¨‹è¾ƒå¤æ‚ã€‚</li><li>ç‹¬ç«‹è¯·æ±‚ï¼šé€Ÿåº¦æœ€å¿«ï¼Œä½†ç¡¬ä»¶å™¨ä»¶ç”¨é‡å¤§ï¼Œè¿çº¿å¤šï¼Œæˆæœ¬è¾ƒé«˜ã€‚<img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></li></ol></blockquote><p>Â </p><blockquote><p>3.5 è§£é‡Šæ¦‚å¿µï¼šæ€»çº¿å®½åº¦ã€æ€»çº¿å¸¦å®½ã€æ€»çº¿å¤ç”¨ã€æ€»çº¿çš„ä¸»è®¾å¤‡ï¼ˆæˆ–ä¸»æ¨¡å—ï¼‰ã€æ€»çº¿çš„ä»è®¾å¤‡ï¼ˆæˆ–ä»æ¨¡å—ï¼‰ã€æ€»çº¿çš„ä¼ è¾“å‘¨æœŸã€æ€»çº¿çš„é€šä¿¡æ§åˆ¶ã€‚</p><p>æ€»çº¿å®½åº¦ï¼šé€šå¸¸æŒ‡æ•°æ®æ€»çº¿çš„æ€»æ ¹æ•°ï¼›</p><p>æ€»çº¿å¸¦å®½ï¼šæ€»çº¿çš„æ•°æ®ä¼ è¾“ç‡ï¼ŒæŒ‡å•ä½æ—¶é—´å†…æ€»çº¿ä¸Šä¼ è¾“æ•°æ®çš„ä½æ•°ï¼›</p><p>æ€»çº¿å¤ç”¨ï¼šæŒ‡åŒä¸€æ¡ä¿¡å·çº¿å¯ä»¥åˆ†æ—¶ä¼ è¾“ä¸åŒçš„ä¿¡å·ï¼›</p><p>æ€»çº¿çš„ä¸»è®¾å¤‡ï¼ˆæˆ–ä¸»æ¨¡å—ï¼‰ï¼šæŒ‡ä¸€æ¬¡æ€»çº¿ä¼ è¾“æœŸé—´ï¼Œæ‹¥æœ‰æ€»çº¿æ§åˆ¶æƒçš„è®¾å¤‡ï¼ˆæ¨¡å—ï¼‰ï¼›</p><p>æ€»çº¿çš„ä»è®¾å¤‡ï¼ˆæˆ–ä»æ¨¡å—ï¼‰ï¼šæŒ‡ä¸€æ¬¡æ€»çº¿ä¼ è¾“æœŸé—´ï¼Œé…åˆä¸»è®¾å¤‡å®Œæˆæ•°æ®ä¼ è¾“çš„è®¾å¤‡ï¼ˆæ¨¡å—ï¼‰ï¼Œä»–åªèƒ½è¢«åŠ¨æ¥å—ä¸»è®¾å¤‡å‘æ¥çš„å‘½ä»¤ï¼›</p><p>æ€»çº¿çš„ä¼ è¾“å‘¨æœŸï¼šæŒ‡æ€»çº¿å®Œæˆä¸€æ¬¡å®Œæ•´è€Œå¯é çš„ä¼ è¾“æ‰€éœ€æ—¶é—´ï¼›</p><p>æ€»çº¿çš„é€šä¿¡æ§åˆ¶ï¼šæŒ‡æ€»çº¿ä¼ é€è¿‡ç¨‹ä¸­åŒæ–¹çš„æ—¶é—´é…åˆæ–¹å¼ã€‚</p></blockquote><p>Â </p><blockquote><p>3.14 è®¾æ€»çº¿çš„æ—¶é’Ÿé¢‘ç‡ä¸º8MHzï¼Œä¸€ä¸ªæ€»çº¿å‘¨æœŸç­‰äºä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå¦‚æœä¸€ä¸ªæ€»çº¿å‘¨æœŸä¸­å¹¶è¡Œä¼ è¾“16ä½æ•°æ®ï¼Œè¯•é—®æ€»çº¿çš„å¸¦å®½æ˜¯å¤šå°‘ï¼Ÿ</p><p>ç”±é¢˜æ„ 1sæœ‰8Mä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå³æ€»çº¿å‘¨æœŸï¼Œ</p><p>æ€»çº¿å¸¦å®½&#x3D;8M*16&#x2F;8B&#x3D;16MBps</p></blockquote><p>Â </p><blockquote><p>3.15 åœ¨ä¸€ä¸ª32ä½çš„æ€»çº¿ç³»ç»Ÿä¸­ï¼Œæ€»çº¿çš„æ—¶é’Ÿé¢‘ç‡ä¸º66MHzï¼Œå‡è®¾æ€»çº¿æœ€çŸ­ä¼ è¾“å‘¨æœŸä¸º4ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œè¯•è®¡ç®—æ€»çº¿çš„æœ€å¤§æ•°æ®ä¼ è¾“ç‡ã€‚è‹¥æƒ³æé«˜æ•°æ®ä¼ è¾“ç‡ï¼Œå¯é‡‡å–ä»€ä¹ˆæªæ–½ï¼Ÿ</p><p>ç”±é¢˜æ„ 1sæœ‰66Mä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œ</p><p>å³æœ‰66M&#x2F;4ä¸ªæ€»çº¿æœ€çŸ­ä¼ è¾“å‘¨æœŸï¼Œ</p><p>æ•°æ®ä¼ è¾“ç‡&#x3D;66M&#x2F;4*32&#x2F;8B&#x3D;66MBps</p><p>å¦‚æœæƒ³è¦æé«˜æ•°æ®ä¼ è¾“ç‡ï¼Œå¯ä»¥å¢åŠ æ€»çº¿ä½æ•°ã€æé«˜æ—¶é’Ÿé¢‘ç‡ã€‚</p></blockquote><p>Â </p><blockquote><p>3.16 å¼‚æ­¥ä¸²è¡Œä¼ é€ç³»ç»Ÿä¸­ï¼Œå­—ç¬¦æ ¼å¼ä¸ºï¼š1ä¸ªèµ·å§‹ä½ã€8ä¸ªæ•°æ®ä½ã€1ä¸ªæ ¡éªŒä½ã€2ä¸ªç»ˆå€¼ä½ã€‚è‹¥è¦æ±‚æ¯ç§’ä¼ é€120ä¸ªå­—ç¬¦ï¼Œè¯•æ±‚ä¼ é€çš„æ³¢ç‰¹ç‡å’Œæ¯”ç‰¹ç‡ã€‚</p><p>æ³¢ç‰¹ç‡&#x3D;120*(1+8+1+2)&#x3D;1440bps</p><p>æ¯”ç‰¹ç‡&#x3D;120*8&#x3D;960bps</p></blockquote><p>Â </p><blockquote><p>å‡è®¾æ€»çº¿çš„æ—¶é’Ÿé¢‘ç‡ä¸º100MHzï¼Œæ€»çº¿çš„ä¼ è¾“å‘¨æœŸä¸º4ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œæ€»çº¿çš„å®½åº¦ä¸º32ä½ï¼Œè¯•æ±‚æ€»çº¿çš„æ•°æ®ä¼ è¾“ç‡ã€‚</p><p>ç”±é¢˜æ„ 1s æœ‰100Mä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œ</p><p>å³æœ‰100M&#x2F;4&#x3D;25Mä¸ªæ€»çº¿å‘¨æœŸï¼Œ</p><p>æ•°æ®ä¼ è¾“ç‡&#x3D;25M*32&#x2F;8B&#x3D;100MBps</p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/16/jizu2/">https://blog.jujimeizuo.cn/2021/06/16/jizu2/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†æœŸæœ«å¤ä¹ ï¼ˆä¸€ï¼‰æ¦‚è®ºå’Œè®¡ç®—æœºçš„å‘å±•å’Œåº”ç”¨</title>
      <link href="/2021/06/16/jizu1/"/>
      <url>/2021/06/16/jizu1/</url>
      
        <content type="html"><![CDATA[<h4 id="1-1-åŸºæœ¬æ¦‚å¿µ"><a href="#1-1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1.1 åŸºæœ¬æ¦‚å¿µ"></a>1.1 åŸºæœ¬æ¦‚å¿µ</h4><ol><li>è®¡ç®—æœºç³»ç»Ÿç”±<strong>ç¡¬ä»¶</strong>å’Œ<strong>è½¯ä»¶</strong>ä¸¤å¤§éƒ¨åˆ†ç»„æˆã€‚</li><li>è®¡ç®—æœºçš„è½¯ä»¶åˆ†ä¸º<strong>ç³»ç»Ÿè½¯ä»¶</strong>å’Œ<strong>åº”ç”¨è½¯ä»¶</strong>ã€‚</li><li>ç¿»è¯‘ç¨‹åºæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯<strong>ç¼–è¯‘ç¨‹åº</strong>ï¼Œå¦ä¸€ç§æ˜¯<strong>è§£é‡Šç¨‹åº</strong>ã€‚</li><li>å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºæ˜¯ä»¥<strong>è¿ç®—å™¨</strong>ä¸ºä¸­å¿ƒçš„ï¼Œç°ä»£è®¡ç®—æœºä»¥<strong>å‚¨å­˜å™¨</strong>ä¸ºä¸­å¿ƒçš„ã€‚</li><li><strong>è¿ç®—å™¨</strong>å’Œ<strong>æ§åˆ¶å™¨</strong>å’Œèµ·æ¥ç»Ÿç§°ä¸º<strong>ä¸­å¤®å¤„ç†å™¨ï¼ˆCPUï¼‰</strong>ã€‚</li><li>ç°ä»£è®¡ç®—æœºå¯è®¤ä¸ºç”±ä¸‰å¤§éƒ¨ä»¶ç»„æˆï¼š<strong>CPUã€I&#x2F;Oè®¾å¤‡</strong>ä»¥åŠ<strong>ä¸»å­˜å‚¨å™¨</strong>ã€‚</li><li><strong>CPU</strong>å’Œ<strong>ä¸»å­˜å‚¨å™¨</strong>åˆèµ·æ¥ç§°ä¸º<strong>ä¸»æœºã€‚</strong></li><li><strong>ALUç®—æœ¯é€»è¾‘å•å…ƒ</strong>å’Œ<strong>CUæ§åˆ¶å•å…ƒ</strong>æ˜¯CPUçš„æ ¸å¿ƒéƒ¨ä»¶ã€‚</li><li>æœºå™¨å­—é•¿æ˜¯æŒ‡CPUä¸€æ¬¡èƒ½å¤„ç†æ•°æ®çš„ä½æ•°ï¼Œé€šå¸¸ä¸CPUçš„<strong>å¯„å­˜å™¨ä½æ•°</strong>æœ‰å…³ã€‚</li><li>å­˜å‚¨å™¨çš„å®¹é‡åŒ…æ‹¬<strong>ä¸»å­˜å®¹é‡</strong>å’Œ<strong>è¾…å­˜å®¹é‡</strong>ã€‚</li><li>ä¸»å­˜å®¹é‡-å­˜å‚¨å•å…ƒä¸ªæ•°*å­˜å‚¨å­—é•¿ã€‚</li><li>ç°åœ¨è®¡ç®—æœºçš„è¿ç®—é€Ÿåº¦æ™®éé‡‡ç”¨å•ä½æ—¶é—´å†…æ‰§è¡ŒæŒ‡ä»¤çš„å¹³å‡æ¡æ•°æ¥è¡¡é‡ï¼Œå¹¶é‡‡ç”¨<strong>MIPS</strong>ä½œä¸ºè®¡é‡å•ä½ã€‚CPIï¼šæ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€çš„æ—¶é’Ÿå‘¨æœŸï¼›IPCï¼šæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸæ•°æ‰§è¡Œçš„æŒ‡ä»¤æ•°ç›®ã€‚</li></ol><h4 id="1-2-å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹"><a href="#1-2-å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹" class="headerlink" title="1.2Â å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹"></a>1.2Â å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-24.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><ol><li>è®¡ç®—æœºç”±<strong>è¿ç®—å™¨ã€å­˜å‚¨å™¨ã€æ§åˆ¶å™¨ã€è¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡</strong>äº”å¤§éƒ¨ä»¶ç»„æˆã€‚</li><li>æŒ‡ä»¤å’Œæ•°æ®ä»¥<strong>åŒç­‰åœ°ä½</strong>å­˜æ”¾äº<strong>å­˜å‚¨å™¨</strong>å†…ï¼Œå¹¶å¯æŒ‰<strong>åœ°å€</strong>å¯»è®¿ã€‚</li><li>æŒ‡ä»¤å’Œæ•°æ®å‡ä»¥<strong>äºŒè¿›åˆ¶æ•°</strong>è¡¨ç¤ºã€‚</li><li>æŒ‡ä»¤ç”±<strong>æ“ä½œç </strong>å’Œ<strong>åœ°å€ç </strong>ç»„æˆï¼Œæ“ä½œç ç”¨æ¥è¡¨ç¤ºæ“ä½œçš„æ€§è´¨ï¼Œåœ°å€ç ç”¨æ¥è¡¨ç¤ºæ“ä½œæ•°åœ¨å­˜å‚¨å™¨ä¸­çš„ä½ç½®ã€‚</li><li>æŒ‡ä»¤åœ¨å­˜å‚¨å™¨å†…æŒ‰<strong>é¡ºåº</strong>å­˜æ”¾ã€‚é€šå¸¸ï¼ŒæŒ‡ä»¤æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œåœ¨ç‰¹å®šæ¡ä»¶ä¸‹ï¼Œå¯ä¾æ®è¿ç®—ç»“æœæˆ–æ ¹æ®è®¾å®šçš„æ¡ä»¶æ”¹å˜æ‰§è¡Œé¡ºåºã€‚</li><li>æœºå™¨ä»¥<strong>è¿ç®—å™¨</strong>ä¸ºä¸­å¿ƒï¼Œè¾“å…¥è¾“å‡ºè®¾å¤‡ä¸å­˜å‚¨å™¨é—´çš„æ•°æ®ä¼ é€é€šè¿‡è¿ç®—å™¨å®Œæˆã€‚</li></ol><p>æœ€é‡è¦çš„ç‰¹ç‚¹æ˜¯<strong>å­˜å‚¨ç¨‹åº</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´<strong>æŒ‡ä»¤</strong>å’Œ<strong>æ•°æ®</strong>éƒ½å­˜å‚¨åœ¨<strong>å­˜å‚¨å™¨</strong>ä¸­ï¼ŒCPUè¿è¡Œç¨‹åºæ—¶ä»å­˜å‚¨å™¨ä¸­è¯»åˆ°æ¯ä¸€æ¡æŒ‡ä»¤ ç„¶åè¿è¡Œå®ƒï¼Œè¿™å°±æ˜¯å­˜å‚¨ç¨‹åºçš„åŸºæœ¬åŸç†(å®šä¹‰)ã€‚</p><blockquote><p>I&#x2F;Oè®¾å¤‡èƒ½å¤Ÿç›´æ¥è¿æ¥CPUå—ï¼Ÿ</p><p>ä¸èƒ½ï¼Œå› ä¸ºä¸¤è€…é€Ÿåº¦ä¸åŒ¹é…ï¼Œéœ€è¦é€šè¿‡æ¥å£è¿æ¥ã€‚</p></blockquote><p>Â </p><blockquote><p>ç”¨ä»€ä¹ˆéƒ¨ä»¶åŒºåˆ†Mä¸­å­˜æ”¾çš„æ˜¯æŒ‡ä»¤è¿˜æ˜¯æ•°æ®ï¼Ÿ</p><p>æ§åˆ¶å™¨ã€‚</p><p>æ§åˆ¶å™¨åŠŸèƒ½ï¼šäº¤æ¢ã€æ£€æµ‹åŠæä¾›ä¿¡å·</p><ol><li>æ§åˆ¶æœºå™¨ï¼Œæ§åˆ¶å„ä¸ªéƒ¨ä»¶åè°ƒä¸€è‡´åœ°å·¥ä½œã€‚</li><li>æ§åˆ¶å™¨å…·å¤‡æ•°æ®äº¤æ¢åŠŸèƒ½ï¼Œè¿™æ˜¯æŒ‡å®ç°CPUä¸æ§åˆ¶å™¨ä¹‹é—´ã€æ§åˆ¶å™¨ä¸è®¾å¤‡ä¹‹é—´çš„æ•°æ®äº¤æ¢ã€‚</li><li>å°†ç”µè¯æ¯”å–»æˆäººä½“ï¼Œé‚£ä¹ˆæ§åˆ¶å™¨å°±å¥½æ¯”æ˜¯äººçš„å¤§è„‘ï¼Œè¾“å‡ºå„ç§æŒ‡ä»¤ï¼Œæ˜¯é›¶ä»¶çµæ´»è¿è¡Œã€‚</li><li>è¿ç®—å™¨åªèƒ½å®Œæˆè¿ç®—ï¼Œè€Œæ§åˆ¶å™¨èƒ½ç”¨äºæ§åˆ¶æ•´ä¸ªCPUçš„å·¥ä½œã€‚</li><li>é€šè¿‡æ•°æ®æ€»çº¿ï¼Œç”±CPUå¹¶è¡Œåœ°æŠŠæ•°æ®å†™å…¥æ§åˆ¶å™¨ï¼Œæˆ–ä»æ§åˆ¶å™¨ä¸­å¹¶è¡Œåœ°è¯»å‡ºæ•°æ®ã€‚</li></ol></blockquote><h4 id="1-3-è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„"><a href="#1-3-è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„" class="headerlink" title="1.3 è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„"></a>1.3 è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„</h4><p>ç°ä»£è®¡ç®—æœºç³»ç»Ÿå¯åˆ†ä¸º<strong>äº”ä¸ªå±‚æ¬¡</strong>ï¼Œ <strong>ç¬¬ä¸€çº§</strong>æ˜¯<strong>å¾®ç¨‹åºè®¾è®¡çº§</strong> <strong>ç¬¬äºŒçº§</strong>æ˜¯<strong>ä¸€èˆ¬æœºå™¨çº§</strong> <strong>ç¬¬ä¸‰çº§</strong>æ˜¯<strong>æ“ä½œç³»ç»Ÿçº§</strong> <strong>ç¬¬å››çº§</strong>æ˜¯<strong>æ±‡ç¼–è¯­è¨€çº§</strong> <strong>ç¬¬äº”çº§</strong>æ˜¯<strong>é«˜çº§è¯­è¨€çº§</strong></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-25.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-26.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="1-4-ä¾‹é¢˜"><a href="#1-4-ä¾‹é¢˜" class="headerlink" title="1.4 ä¾‹é¢˜"></a>1.4 ä¾‹é¢˜</h4><blockquote><p>1.1 ä»€ä¹ˆæ˜¯è®¡ç®—æœºç³»ç»Ÿã€è®¡ç®—æœºç¡¬ä»¶å’Œè®¡ç®—æœºè½¯ä»¶ï¼Ÿç¡¬ä»¶å’Œè½¯ä»¶å“ªä¸ªé‡è¦ï¼Ÿ</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/B7CF3F95-3833-4D90-9F8D-75E77915E57D.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>1.2 å¦‚ä½•ç†è§£è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„ï¼Ÿ</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/0CDF6E09-9D50-408B-B0DC-E55C0D64BA33.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>1.3 è¯´æ˜é«˜çº§è¯­è¨€ã€æ±‡ç¼–è¯­è¨€å’Œæœºå™¨è¯­è¨€çš„å·®åˆ«åŠå…¶è”ç³»ã€‚ <strong>æœºå™¨è¯­è¨€æ˜¯è®¡ç®—æœºç¡¬ä»¶èƒ½å¤Ÿç›´æ¥è¯†åˆ«çš„è¯­è¨€ï¼Œæ±‡ç¼–è¯­è¨€æ˜¯æœºå™¨è¯­è¨€çš„ç¬¦å·è¡¨ç¤ºï¼Œé«˜çº§è¯­è¨€æ˜¯é¢å‘ç®—æ³•çš„è¯­è¨€ã€‚é«˜çº§è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼ˆæºç¨‹åºï¼‰å¤„äºæœ€é«˜å±‚ï¼Œå¿…é¡»ç¿»è¯‘æˆæ±‡ç¼–è¯­è¨€ï¼Œå†ç”±æ±‡ç¼–ç¨‹åºæ±‡ç¼–æˆæœºå™¨è¯­è¨€ï¼ˆç›®æ ‡ç¨‹åºï¼‰ä¹‹åæ‰èƒ½è¢«æ‰§è¡Œã€‚</strong></p></blockquote><p>Â </p><blockquote><p>1.5 å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/511FC64B-7E09-4A53-99A6-5AA908D9D26E.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p></blockquote><p>Â </p><blockquote><p>2.1 é€šå¸¸ï¼Œè®¡ç®—æœºçš„æ›´æ–°æ¢ä»£ä»¥ä»€ä¹ˆä¸ºä¾æ®ï¼Ÿ</p><p><strong>ä¸»è¦ä»¥ç»„æˆè®¡ç®—æœºåŸºæœ¬ç”µè·¯çš„å…ƒå™¨ä»¶ä¸ºä¾æ®ï¼Œå¦‚ç”µå­ç®¡ã€æ™¶ä½“ç®¡ã€é›†æˆç”µè·¯ç­‰ã€‚</strong></p></blockquote><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/16/jizu1/">https://blog.jujimeizuo.cn/2021/06/16/jizu1/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç»„æˆåŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆä¸‰ï¼‰æ•°å­—å›¾åƒçš„åŸºæœ¬è¿ç®—</title>
      <link href="/2021/06/16/shuzituxiang3/"/>
      <url>/2021/06/16/shuzituxiang3/</url>
      
        <content type="html"><![CDATA[<h4 id="3-1-ç°åº¦ç›´æ–¹å›¾"><a href="#3-1-ç°åº¦ç›´æ–¹å›¾" class="headerlink" title="3.1 ç°åº¦ç›´æ–¹å›¾"></a>3.1 ç°åº¦ç›´æ–¹å›¾</h4><h3 id="3-1-1-å®šä¹‰"><a href="#3-1-1-å®šä¹‰" class="headerlink" title="3.1.1 å®šä¹‰"></a>3.1.1 å®šä¹‰</h3><p>ç°åº¦ç›´æ–¹å›¾æ˜¯åæ˜ ä¸€å¹…å›¾åƒä¸­å„ç°åº¦çº§åƒç´ å‡ºç°çš„é¢‘ç‡ï¼Œåæ˜ ç°åº¦åˆ†å¸ƒæƒ…å†µã€‚æ¨ªåæ ‡ç”¨äºè¡¨ç¤ºåƒç´ çš„ç°åº¦çº§åˆ«ï¼Œçºµåæ ‡ç”¨äºè¡¨ç¤ºè¯¥ç°åº¦å‡ºç°çš„é¢‘æ•°ã€‚</p><h3 id="3-1-2-ç‰¹å¾"><a href="#3-1-2-ç‰¹å¾" class="headerlink" title="3.1.2 ç‰¹å¾"></a>3.1.2 ç‰¹å¾</h3><ol><li><strong>åªèƒ½åæ˜ ç°åº¦åˆ†å¸ƒï¼Œä¸¢å¤±åƒç´ ä½ç½®ä¿¡æ¯</strong></li><li><strong>ä¸€å¹…å›¾åƒå¯¹åº”å”¯ä¸€ç°åº¦ç›´æ–¹å›¾ï¼Œåä¹‹ä¸ä¸€å®š</strong></li><li><strong>ä¸€å¹…å›¾åƒåˆ†æˆå¤šä¸ªåŒºåŸŸï¼Œå¤šä¸ªåŒºåŸŸçš„ç›´æ–¹å›¾ä¹‹å’Œæ˜¯åŸå›¾åƒçš„ç›´æ–¹å›¾</strong></li></ol><h3 id="3-13-ç†è§£è§„åˆ™"><a href="#3-13-ç†è§£è§„åˆ™" class="headerlink" title="3.13 ç†è§£è§„åˆ™"></a>3.13 ç†è§£è§„åˆ™</h3><ol><li><strong>å·¦é»‘å³ç™½ï¼Œå·¦æš—å³äº®</strong></li><li><strong>æ¨ªè½´ä¸Šå„ï¼ˆäº®åº¦å€¼ï¼‰ç‚¹å¯¹åº”çš„æŸ±çŠ¶é«˜åº¦å°±æ˜¯åˆ†å¸ƒåœ¨è¯¥äº®åº¦çš„åƒç´ ä¸ªæ•°</strong></li><li><strong>å½“æŸ±çŠ¶æ¥è¿‘åˆ†å¸ƒåœ¨æ•´ä¸ªæ¨ªè½´ä¸Šï¼Œä¸”è‡³å°‘æœ‰ä¸€ä¸ªå³°å€¼æ—¶ï¼Œå›¾åƒçš„å¯¹æ¯”åº¦è¾ƒå¥½</strong></li></ol><h3 id="3-1-4-åº”ç”¨"><a href="#3-1-4-åº”ç”¨" class="headerlink" title="3.1.4 åº”ç”¨"></a>3.1.4 åº”ç”¨</h3><ul><li>åˆ¤æ–­å›¾åƒé‡åŒ–æ˜¯å¦æ°å½“</li><li>ç¡®å®šå›¾åƒäºŒå€¼åŒ–çš„é˜ˆå€¼</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-6.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><ul><li>ç‰©ä½“éƒ¨åˆ†ç°åº¦å€¼æ¯”å…¶ä»–éƒ¨åˆ†ç°åº¦å€¼å¤§çš„æ—¶å€™å¯ä»¥ç»Ÿè®¡å›¾åƒä¸­ç‰©ä½“é¢ç§¯</li><li>è®¡ç®—å›¾åƒä¿¡æ¯é‡ï¼ˆç†µï¼‰</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-5.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="3-1-5-å½©è‰²å›¾åƒè½¬æ¢æˆç°åº¦å›¾åƒ"><a href="#3-1-5-å½©è‰²å›¾åƒè½¬æ¢æˆç°åº¦å›¾åƒ" class="headerlink" title="3.1.5 å½©è‰²å›¾åƒè½¬æ¢æˆç°åº¦å›¾åƒ"></a>3.1.5 å½©è‰²å›¾åƒè½¬æ¢æˆç°åº¦å›¾åƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">imÂ =Â cv2.imread(&#x27;lenna.jpg&#x27;)</span><br><span class="line">nimÂ =Â cv2.cvtColor(im,Â Â cv2.COLOR_BGR2GRAY);</span><br></pre></td></tr></table></figure><h3 id="3-1-6-è®¡ç®—ç›´æ–¹å›¾"><a href="#3-1-6-è®¡ç®—ç›´æ–¹å›¾" class="headerlink" title="3.1.6 è®¡ç®—ç›´æ–¹å›¾"></a>3.1.6 è®¡ç®—ç›´æ–¹å›¾</h3><p>OpenCVè®¡ç®—ç›´æ–¹å›¾çš„å‡½æ•°ï¼šcalcHist()</p><p>ä¾‹å¦‚ï¼šæ‰“å¼€å›¾åƒ lenna.jpgï¼Œä½¿ç”¨ cv2.calcHist()å‡½æ•°è®¡ç®—ç°åº¦å›¾åƒçš„ç›´æ–¹å›¾ï¼Œä»¥å±æ˜¾æ‰“å°è¾“å‡ºçš„å½¢å¼æ˜¾ç¤ºå…·æœ‰ 100-128 ç°åº¦å€¼çš„åƒç´ æ•°ç›®ï¼›</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">importÂ cv2</span><br><span class="line">importÂ matplotlib.pyplotÂ asÂ plt</span><br><span class="line">imÂ =Â cv2.imread(&#x27;lenna.jpg&#x27;)</span><br><span class="line">nimÂ =Â cv2.cvtColor(im,Â Â cv2.COLOR_BGR2GRAY)</span><br><span class="line">jpgÂ =Â cv2.calcHist([im],Â [0],Â None,Â [29],Â [100,Â 128])</span><br><span class="line">plt.plot(jpg)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>Â </p><h4 id="3-2-å½’ä¸€åŒ–ç›´æ–¹å›¾"><a href="#3-2-å½’ä¸€åŒ–ç›´æ–¹å›¾" class="headerlink" title="3.2 å½’ä¸€åŒ–ç›´æ–¹å›¾"></a>3.2 å½’ä¸€åŒ–ç›´æ–¹å›¾</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/D108A660-1968-4C99-8E9F-80627540B950.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="3-3-å›¾åƒçš„åŸºæœ¬è¿ç®—"><a href="#3-3-å›¾åƒçš„åŸºæœ¬è¿ç®—" class="headerlink" title="3.3 å›¾åƒçš„åŸºæœ¬è¿ç®—"></a>3.3 å›¾åƒçš„åŸºæœ¬è¿ç®—</h4><h3 id="3-3-1-ç‚¹è¿ç®—"><a href="#3-3-1-ç‚¹è¿ç®—" class="headerlink" title="3.3.1 ç‚¹è¿ç®—"></a>3.3.1 ç‚¹è¿ç®—</h3><p><strong>ç‚¹è¿ç®—ï¼š</strong>æ˜¯æŒ‡å¯¹ä¸€å¹…å›¾åƒä¸­æ¯ä¸ªåƒç´ ç‚¹çš„ç°åº¦å€¼è¿›è¡Œè®¡ç®—</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-7.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><strong>ç‚¹è¿ç®—çš„æ•ˆæœ</strong>ï¼šç‚¹è¿ç®—å¯ä»¥æ”¹å˜å›¾åƒæ•°æ®æ‰€å æ®çš„ç°åº¦å€¼èŒƒå›´ï¼Œä»è€Œæ”¹å–„å›¾åƒæ˜¾ç¤ºæ•ˆæœ</p><p><strong>ç‚¹è¿ç®—çš„åˆ†ç±»</strong>ï¼šçº¿æ€§ç‚¹è¿ç®—ï¼Œéçº¿æ€§ç‚¹è¿ç®—</p><p><strong>çº¿æ€§ç‚¹è¿ç®—</strong>ï¼šç°åº¦å˜æ¢å‡½æ•°å½¢å¼å¯ä»¥é‡‡ç”¨çº¿æ€§æ–¹ç¨‹æè¿°</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-8.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><strong>éçº¿æ€§ç‚¹è¿ç®—</strong>ï¼šéçº¿æ€§ç‚¹è¿ç®—çš„è¾“å‡ºç°åº¦çº§ä¸è¾“å…¥ç°åº¦çº§å‘ˆéçº¿æ€§å…³ç³»ï¼Œå¸¸è§çš„éçº¿æ€§ç°åº¦å˜æ¢ä¸ºå¯¹æ•°å˜æ¢å’Œæ¬¡å¹‚å˜æ¢</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-9.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>ç‚¹è¿ç®—æ˜¯å¦ä¼šæ”¹å˜å›¾åƒå†…åƒç´ ç‚¹ä¹‹é—´çš„ç©ºé—´ä½ç½®å…³ç³»ï¼Ÿ</li></ul><p>ä¸ä¼šï¼ç‚¹è¿ç®—æ˜¯ä¸€ç§åƒç´ çš„é€ç‚¹è¿ç®—ï¼Œå®ƒä¸ç›¸é‚»çš„åƒç´ ä¹‹é—´æ²¡æœ‰è¿ç®—å…³ç³»ï¼Œç‚¹è¿ç®—ä¸ä¼šæ”¹å˜å›¾åƒå†…åƒç´ ç‚¹ä¹‹é—´çš„ç©ºé—´ä½ç½®å…³ç³»ã€‚</p><ul><li>å¯¹å›¾åƒç°åº¦çš„æ‹‰ä¼¸ï¼Œéçº¿æ€§æ‹‰ä¼¸ä¸åˆ†æ®µçº¿æ€§æ‹‰ä¼¸çš„åŒºåˆ«ï¼Ÿ</li></ul><p>éçº¿æ€§æ‹‰ä¼¸ä¸æ˜¯é€šè¿‡åœ¨ä¸åŒç°åº¦å€¼åŒºé—´é€‰æ‹©ä¸åŒçš„çº¿æ€§æ–¹ç¨‹æ¥å®ç°å¯¹ä¸åŒç°åº¦å€¼åŒºé—´çš„æ‰©å±•ä¸å‹ç¼©ã€‚è€Œæ˜¯åœ¨æ•´ä¸ªç°åº¦å€¼èŒƒå›´å†…é‡‡ç”¨ç»Ÿä¸€çš„éçº¿æ€§å˜æ¢å‡½æ•°ã€‚åˆ©ç”¨å‡½æ•°çš„æ•°å­¦æ€§è´¨å®ç°å¯¹ä¸åŒç°åº¦å€¼åŒºé—´çš„æ‰©å±•ä¸å‹ç¼©ã€‚</p><h3 id="3-3-2-ä»£æ•°è¿ç®—"><a href="#3-3-2-ä»£æ•°è¿ç®—" class="headerlink" title="3.3.2 ä»£æ•°è¿ç®—"></a>3.3.2 ä»£æ•°è¿ç®—</h3><p><strong>ä»£æ•°è¿ç®—ï¼š</strong>å°†<strong>ä¸¤å¹…æˆ–å¤šå¹…</strong>å›¾åƒé€šè¿‡å¯¹åº”åƒç´ ä¹‹é—´çš„åŠ ã€å‡ã€ä¹˜ã€é™¤è¿ç®—å¾—åˆ°è¾“å‡ºå›¾åƒã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-11.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><strong>åŠ æ³•è¿ç®—</strong>ï¼šé€šå¸¸ç”¨äºå¹³å‡å€¼é™å™ªçš„åœºåˆã€‚</p><p><strong>å‡æ³•è¿ç®—ï¼ˆå·®å½±æ³•ï¼‰</strong>ï¼šæ£€æµ‹åŒä¸€åœºæ™¯ä¸¤å¹…å›¾åƒä¹‹é—´çš„å˜åŒ–ï¼›æ··åˆå›¾åƒçš„åˆ†ç¦»ï¼›æ¶ˆé™¤èƒŒæ™¯å½±å“ã€‚</p><p><strong>ä¹˜æ³•è¿ç®—</strong>ï¼šå›¾åƒçš„å±€éƒ¨æ˜¾ç¤ºï¼›æ”¹å˜å›¾åƒçš„ç°åº¦çº§</p><p><strong>é™¤æ³•è¿ç®—</strong>ï¼šå¯ç”¨äºæ”¹å˜å›¾åƒçš„ç°åº¦çº§</p><h3 id="3-3-3-é€»è¾‘è¿ç®—"><a href="#3-3-3-é€»è¾‘è¿ç®—" class="headerlink" title="3.3.3 é€»è¾‘è¿ç®—"></a>3.3.3 é€»è¾‘è¿ç®—</h3><p><strong>é€»è¾‘è¿ç®—ï¼š</strong>å°†<strong>ä¸¤å¹…æˆ–å¤šå¹…</strong>å›¾åƒé€šè¿‡å¯¹åº”åƒç´ ä¹‹é—´çš„é€»è¾‘ä¸ã€æˆ–ã€éè¿ç®—å¾—åˆ°è¾“å‡ºå›¾åƒ</p><p>â€œä¸â€ã€â€œæˆ–â€é€»è¾‘è¿ç®—å¯ä»¥ä»ä¸€å¹…å›¾åƒä¸­æå–å­å›¾åƒã€‚</p><h3 id="3-3-4-å‡ ä½•è¿ç®—"><a href="#3-3-4-å‡ ä½•è¿ç®—" class="headerlink" title="3.3.4 å‡ ä½•è¿ç®—"></a>3.3.4 å‡ ä½•è¿ç®—</h3><p>å‡ ä½•è¿ç®—ï¼šæ”¹å˜å›¾åƒä¸­ç‰©ä½“å¯¹è±¡ï¼ˆåƒç´ ï¼‰ä¹‹é—´çš„ç©ºé—´å…³ç³»ã€‚å‡ ä½•å˜æ¢å¯ä»¥åˆ†ä¸ºå›¾åƒçš„ä½ç½®å˜æ¢ï¼ˆå¹³ç§»ã€é•œåƒã€æ—‹è½¬ï¼‰ã€å½¢çŠ¶å˜æ¢ï¼ˆæ”¾å¤§ã€ç¼©å°ï¼‰ä»¥åŠå›¾åƒçš„å¤åˆå˜æ¢ç­‰ã€‚</p><h4 id="å›¾åƒçš„å¹³ç§»"><a href="#å›¾åƒçš„å¹³ç§»" class="headerlink" title="å›¾åƒçš„å¹³ç§»"></a>å›¾åƒçš„å¹³ç§»</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-12.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-13.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="å›¾åƒçš„é•œåƒï¼šæ°´å¹³é•œåƒå’Œå‚ç›´é•œåƒ"><a href="#å›¾åƒçš„é•œåƒï¼šæ°´å¹³é•œåƒå’Œå‚ç›´é•œåƒ" class="headerlink" title="å›¾åƒçš„é•œåƒï¼šæ°´å¹³é•œåƒå’Œå‚ç›´é•œåƒ"></a>å›¾åƒçš„é•œåƒï¼šæ°´å¹³é•œåƒå’Œå‚ç›´é•œåƒ</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-15.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-14.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-17.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-16.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="å›¾åƒçš„æ—‹è½¬"><a href="#å›¾åƒçš„æ—‹è½¬" class="headerlink" title="å›¾åƒçš„æ—‹è½¬"></a>å›¾åƒçš„æ—‹è½¬</h4><p>ä»¥å›¾åƒçš„ä¸­å¿ƒä¸ºåŸç‚¹ï¼Œæ—‹è½¬ä¸€å®šçš„è§’åº¦ï¼Œå³å°†å›¾åƒä¸Šçš„æ‰€æœ‰åƒç´ éƒ½æ—‹è½¬ä¸€ä¸ªç›¸åŒçš„è§’åº¦ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-18.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-19.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>æ³¨æ„ï¼š</p><ul><li>å›¾åƒæ—‹è½¬ä¹‹åï¼Œç”±äºæ•°å­—å›¾åƒçš„åæ ‡å€¼å¿…é¡»æ˜¯æ•´æ•°ï¼Œå› æ­¤ï¼Œå¯èƒ½å¼•èµ·å›¾åƒéƒ¨åˆ†åƒç´ ç‚¹çš„å±€éƒ¨æ”¹å˜ï¼Œæ‰€ä»¥ï¼Œè¿™æ—¶å›¾åƒçš„å¤§å°ä¹Ÿä¼šå‘ç”Ÿä¸€å®šçš„æ”¹å˜ã€‚</li><li>ä¸ºäº†é¿å…å›¾åƒä¿¡æ¯çš„ä¸¢å¤±ï¼Œå›¾åƒæ—‹è½¬ä¹‹åå¿…é¡»è¿›è¡Œå¹³ç§»å˜æ¢ï¼ˆæˆ–è€…å…ˆå¹³ç§»ï¼Œåœ¨æ—‹è½¬ï¼‰ã€‚</li><li>å›¾åƒæ—‹è½¬ä¹‹åï¼Œä¼šå‡ºç°è®¸å¤šç©ºæ´ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™äº›ç©ºæ´ç‚¹å¿…é¡»è¿›è¡Œå¡«å……å¤„ç†ï¼Œè¿›è¡Œæ’å€¼å¤„ç†</li></ul><h4 id="å›¾åƒçš„ç¼©æ”¾"><a href="#å›¾åƒçš„ç¼©æ”¾" class="headerlink" title="å›¾åƒçš„ç¼©æ”¾"></a>å›¾åƒçš„ç¼©æ”¾</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/E765E539-EB6C-4640-A729-23EFD031511C.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/ACC89F15-9E5D-49D7-9614-666131C2E8B9.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="3-3-5-ç°åº¦æ’å€¼"><a href="#3-3-5-ç°åº¦æ’å€¼" class="headerlink" title="3.3.5 ç°åº¦æ’å€¼"></a>3.3.5 ç°åº¦æ’å€¼</h3><p>åœ¨å›¾åƒæ”¾å¤§çš„æ­£å˜æ¢ä¸­ï¼Œå‡ºç°å¾ˆå¤šç©ºæ ¼ï¼Œå› æ­¤ï¼Œéœ€è¦å¯¹æ”¾å¤§åæ‰€å¤šå‡ºæ¥çš„ä¸€äº›ç©ºæ ¼å¡«å…¥é€‚å½“çš„åƒç´ å€¼ã€‚ä¸€èˆ¬é‡‡ç”¨<strong>æœ€è¿‘é‚»æ’å€¼å’Œçº¿æ€§æ’å€¼æ³•</strong>ã€‚</p><p><strong>æœ€é‚»è¿‘æ’å€¼</strong>ï¼šæœ€è¿‘é‚»æ³•æ˜¯å°†<img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-21.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png">ç‚¹æœ€è¿‘çš„æ•´æ•°åæ ‡<img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-22.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png">ç‚¹çš„ç°åº¦å€¼å–ä¸º<img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-23.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png">ç‚¹çš„ç°åº¦å€¼ã€‚</p><p>åœ¨è¯¥ç‚¹å„ç›¸é‚»åƒç´ é—´ç°åº¦å˜åŒ–è¾ƒå°æ—¶ï¼Œè¿™ç§æ–¹æ³•æ˜¯ä¸€ç§ç®€å•å¿«æ·çš„æ–¹æ³•ï¼Œä½†å½“è¯¥ç‚¹ç›¸é‚»åƒç´ é—´ç°åº¦å·®å¾ˆå¤§æ—¶ï¼Œè¿™ç§ç°åº¦ä¼°å€¼æ–¹æ³•ä¼šäº§ç”Ÿè¾ƒå¤§çš„è¯¯å·®ã€‚è®¡ç®—ç®€å•ï¼Œå®¹æ˜“äº§ç”Ÿé”¯é½¿ç°è±¡ã€‚</p><p><strong>åŒçº¿æ€§æ’å€¼æ³•</strong>ï¼šæ˜¯æœ€é‚»è¿‘æ³•çš„æ”¹è¿›ç‰ˆï¼Œæ•ˆæœè¾ƒå¥½ï¼Œä½†æ˜¯å…·æœ‰ä½é€šæ»¤æ³¢æ€§ï¼Œä½¿é«˜é¢‘åˆ†é‡å—æŸï¼Œå›¾åƒè½®å»“å—æŸã€‚ä¼šå¼•å…¥å¹³æ»‘æ•ˆåº”ï¼Œä½¿å›¾åƒäº§ç”Ÿæ¨¡ç³Šï¼Œæ¸…æ™°åº¦ä¸‹é™ã€‚å¯ä»¥é‡‡ç”¨æ•ˆæœæ›´å¥½çš„ä¸‰æ¬¡å†…æ’æ³•ã€‚</p><p><strong>ä¸‰æ¬¡å†…æ’æ³•</strong>ï¼šå¯ç²¾ç¡®åœ°æ¢å¤åŸå‡½æ•°ï¼Œå½“ç„¶ä¹Ÿå°±å¯ç²¾ç¡®å¾—åˆ°é‡‡æ ·ç‚¹é—´ä»»æ„ç‚¹çš„å€¼ã€‚æ­¤æ–¹æ³•è®¡ç®—é‡å¾ˆå¤§ï¼Œä½†ç²¾åº¦é«˜ï¼Œèƒ½ä¿æŒè¾ƒå¥½çš„å›¾åƒè¾¹ç¼˜ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/16/shuzituxiang3/">https://blog.jujimeizuo.cn/2021/06/16/shuzituxiang3/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆäºŒï¼‰æ•°å­—å›¾åƒå¤„ç†åŸºç¡€</title>
      <link href="/2021/06/16/shuzituxiang2/"/>
      <url>/2021/06/16/shuzituxiang2/</url>
      
        <content type="html"><![CDATA[<h4 id="2-1-å›¾åƒçš„æ•°å­—åŒ–"><a href="#2-1-å›¾åƒçš„æ•°å­—åŒ–" class="headerlink" title="2.1 å›¾åƒçš„æ•°å­—åŒ–"></a>2.1 å›¾åƒçš„æ•°å­—åŒ–</h4><p>å°†ä¸€å¹…ç”»é¢è½¬åŒ–æˆè®¡ç®—æœºèƒ½å¤„ç†çš„å½¢å¼â€”â€”æ•°å­—å›¾åƒçš„è¿‡ç¨‹ã€‚å®ƒåŒ…æ‹¬<strong>é‡‡æ ·</strong>å’Œ<strong>é‡åŒ–</strong>ä¸¤ä¸ªè¿‡ç¨‹ã€‚åƒç´ çš„ä½ç½®å’Œç°åº¦å°±æ˜¯åƒç´ çš„å±æ€§ã€‚</p><h4 id="2-2-å›¾åƒçš„é‡‡æ ·å’Œé‡åŒ–"><a href="#2-2-å›¾åƒçš„é‡‡æ ·å’Œé‡åŒ–" class="headerlink" title="2.2 å›¾åƒçš„é‡‡æ ·å’Œé‡åŒ–"></a>2.2 å›¾åƒçš„é‡‡æ ·å’Œé‡åŒ–</h4><h3 id="2-2-1-é‡‡æ ·"><a href="#2-2-1-é‡‡æ ·" class="headerlink" title="2.2.1 é‡‡æ ·"></a>2.2.1 é‡‡æ ·</h3><p><strong>ç©ºé—´åæ ‡çš„ç¦»æ•£åŒ–ã€‚</strong></p><p>å°†ç©ºé—´ä¸­è¿ç»­çš„å›¾åƒå˜æ¢æˆç¦»æ•£ç‚¹çš„æ“ä½œæˆä¸ºé‡‡æ ·ã€‚è‹¥æ¨ªå‘çš„åƒç´ æ•°ï¼ˆåˆ—æ•°ï¼‰ä¸ºM ï¼Œçºµå‘çš„åƒç´ æ•°ï¼ˆè¡Œæ•°ï¼‰ä¸ºNï¼Œåˆ™å›¾åƒæ€»åƒç´ æ•°ä¸ºM*Nä¸ªåƒç´ ã€‚</p><ul><li>é‡‡æ ·é—´éš”è¶Šå¤§ï¼Œæ‰€å¾—å›¾åƒåƒç´ æ•°è¶Šå°‘ï¼Œç©ºé—´åˆ†è¾¨ç‡ä½ï¼Œè´¨é‡å·®ï¼Œä¸¥é‡æ—¶å‡ºç°é©¬èµ›å…‹æ•ˆåº”ï¼›</li><li>é‡‡æ ·é—´éš”è¶Šå°ï¼Œæ‰€å¾—å›¾åƒåƒç´ æ•°è¶Šå¤šï¼Œç©ºé—´åˆ†è¾¨ç‡é«˜ï¼Œå›¾åƒè´¨é‡å¥½ï¼Œä½†æ•°æ®é‡å¤§ã€‚</li></ul><h3 id="2-2-2-é‡åŒ–"><a href="#2-2-2-é‡åŒ–" class="headerlink" title="2.2.2 é‡åŒ–"></a>2.2.2 é‡åŒ–</h3><p><strong>ç°åº¦å€¼çš„ç¦»æ•£åŒ–ã€‚</strong></p><p>å›¾åƒé‡‡æ ·ååˆ†å‰²æˆç¦»æ•£çš„åƒç´ ï¼Œä½†æ˜¯å…¶ç°åº¦å€¼æ˜¯è¿ç»­çš„ï¼Œè®¡ç®—æœºä¸èƒ½å¤„ç†ï¼Œå°†åƒç´ ç°åº¦è½¬æ¢æˆç¦»æ•£çš„æ•°å€¼çš„è¿‡ç¨‹ç§°ä¸ºé‡åŒ–ã€‚</p><ul><li>é‡åŒ–ç­‰çº§è¶Šå¤šï¼Œå›¾åƒå±‚æ¬¡è¶Šä¸°å¯Œï¼Œç°åº¦åˆ†è¾¨ç‡é«˜ï¼Œå›¾åƒè´¨é‡å¥½ï¼Œä½†æ•°æ®é‡å¤§ï¼›</li><li>é‡åŒ–ç­‰çº§è¶Šå°‘ï¼Œå›¾åƒå±‚æ¬¡æ¬ ä¸°å¯Œï¼Œç°åº¦åˆ†è¾¨ç‡ä½ï¼Œä¼šå‡ºç°å‡è½®å»“ç°è±¡ï¼Œå›¾åƒè´¨é‡å˜å·®ï¼Œä½†æ•°æ®é‡å°ï¼›</li></ul><h4 id="2-3-åƒç´ é—´çš„å…³ç³»"><a href="#2-3-åƒç´ é—´çš„å…³ç³»" class="headerlink" title="2.3 åƒç´ é—´çš„å…³ç³»"></a>2.3 åƒç´ é—´çš„å…³ç³»</h4><h3 id="2-3-0-åƒç´ "><a href="#2-3-0-åƒç´ " class="headerlink" title="2.3.0 åƒç´ "></a>2.3.0 åƒç´ </h3><ol><li><strong>æ•°å­—å›¾åƒçš„åŸºæœ¬ç»„æˆå•å…ƒ</strong></li><li><strong>å›¾åƒä¸­çš„æ¯ä¸ªåƒç´ æœ‰ä¸€å®šçš„ç©ºé—´ä½ç½®ï¼Œå¯ä»¥ç†è§£æˆåæ ‡</strong></li><li><strong>åœ¨æ¯ä¸ªåƒç´ ï¼Œæœ‰ä¸€ä¸ªå€¼ï¼ˆå¯ä»¥æ˜¯å‘é‡ï¼‰è¡¨ç¤ºå¼ºåº¦</strong></li></ol><p>å¯¹äºä¸€ä¸ªåƒç´ ï¼Œä¸ä»–å…³ç³»æœ€å¯†åˆ‡çš„æ˜¯å®ƒçš„é‚»è¿‘åƒç´ ã€‚</p><h3 id="2-3-1-åƒç´ çš„ç›¸é‚»å’Œé‚»åŸŸ"><a href="#2-3-1-åƒç´ çš„ç›¸é‚»å’Œé‚»åŸŸ" class="headerlink" title="2.3.1 åƒç´ çš„ç›¸é‚»å’Œé‚»åŸŸ"></a>2.3.1 åƒç´ çš„ç›¸é‚»å’Œé‚»åŸŸ</h3><p>å›¾åƒä¸­åƒç´ çš„ç›¸é‚»å’Œé‚»åŸŸæœ‰3ç§ï¼š</p><ul><li><strong>ç›¸é‚»åƒç´ ä¸4é‚»åŸŸ</strong></li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/FA11FB1F-7DC2-47E1-BA19-86BB93E6A3B1.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><ul><li><strong>å¯¹è§’ç›¸é‚»åƒç´ ä¸4å¯¹è§’é‚»åŸŸ</strong></li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/17D541E5-A6A8-43A7-AB40-DBBAF8EEB09C.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><ul><li><strong>8é‚»åŸŸ</strong></li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/BECBD576-3966-495F-95E4-CBFD85412B14.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="2-3-2-åƒç´ çš„é‚»æ¥æ€§å’Œè¿é€šæ€§"><a href="#2-3-2-åƒç´ çš„é‚»æ¥æ€§å’Œè¿é€šæ€§" class="headerlink" title="2.3.2 åƒç´ çš„é‚»æ¥æ€§å’Œè¿é€šæ€§"></a>2.3.2 åƒç´ çš„é‚»æ¥æ€§å’Œè¿é€šæ€§</h3><p>ä¸ºäº†ç¡®å®šä¸¤ä¸ªåƒç´ æ˜¯å¦è¿é€šï¼Œå¿…é¡»ç¡®å®šä»–ä»¬æ˜¯å¦ç›¸é‚»åŠå®ƒä»¬çš„ç°åº¦æ—¶å€™æ»¡è¶³ç‰¹å®šçš„ç›¸ä¼¼æ€§å‡†åˆ™ï¼ˆæˆ–è€…è¯´ï¼Œå®ƒä»¬çš„ç°åº¦å€¼æ˜¯å¦ç›¸ç­‰ï¼‰ã€‚</p><p>ä¾‹å¦‚ï¼šå½“ä¸¤ä¸ªåƒç´ æ˜¯4é‚»æ¥ï¼Œä½†æ˜¯ä»…å½“å®ƒä»¬çš„ç°åº¦å€¼ç›¸åŒæ—¶æ‰èƒ½è¯´æ˜¯è¿é€šçš„ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/E269A7EA-D0A1-49DA-ADA0-FA128D166E1D.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p>ä»¤Væ˜¯ç”¨äºå®šä¹‰é‚»æ¥æ€§çš„ç°åº¦å€¼é›†åˆï¼Œï¼ˆVæ˜¯ä¸€ä¸ªè§„åˆ™ï¼Œä¾‹å¦‚V&#x3D;{A-Bâ‰¤2}ï¼‰å¦‚æœqåœ¨pçš„å››é‚»åŸŸN4(p)é›†ä¸­ï¼Œä¸”på’Œqæ»¡è¶³Vï¼Œåˆ™ç§°på’Œqæ˜¯4é‚»æ¥ï¼Œé‚»æ¥æ€§å°±æ˜¯è¿é€šæ€§ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li><strong>4é‚»æ¥å¿…ç„¶æ˜¯8é‚»æ¥ï¼Œåä¹‹ä¸ç„¶ï¼›mé‚»æ¥å¿…ç„¶æ˜¯8é‚»æ¥ï¼Œåä¹‹ä¸ç„¶ã€‚</strong></li><li><strong>mé‚»æ¥æ˜¯ä»‹äº4é‚»æ¥å’Œ8é‚»æ¥ä¹‹é—´çš„ã€‚</strong></li><li><strong>mé‚»æ¥æ˜¯8é‚»æ¥çš„å˜å½¢ï¼Œå¯ä»¥æ¶ˆé™¤8é‚»æ¥ä¸­çš„å¤šè·¯é—®é¢˜</strong></li></ul><h3 id="2-3-3-è·ç¦»çš„åº¦é‡"><a href="#2-3-3-è·ç¦»çš„åº¦é‡" class="headerlink" title="2.3.3 è·ç¦»çš„åº¦é‡"></a>2.3.3 è·ç¦»çš„åº¦é‡</h3><p>åƒç´ åœ¨ç©ºé—´çš„æ¥è¿‘ç¨‹åº¦å¯ä»¥ç”¨åƒç´ ä¹‹é—´çš„è·ç¦»æ¥åº¦é‡ã€‚ä¸ºæµ‹é‡è·ç¦»éœ€è¦å®šä¹‰è·ç¦»åº¦é‡å‡½æ•°ã€‚ç»™å®šä¸‰ä¸ªåƒç´ ï¼Œå…¶åæ ‡åˆ†åˆ«ä¸º</p><p><img src="https://img-blog.csdnimg.cn/20200203155110621.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-2.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="2-4-å›¾åƒçš„åˆ†ç±»"><a href="#2-4-å›¾åƒçš„åˆ†ç±»" class="headerlink" title="2.4 å›¾åƒçš„åˆ†ç±»"></a>2.4 å›¾åƒçš„åˆ†ç±»</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-3.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="2-4-1-ä½å›¾"><a href="#2-4-1-ä½å›¾" class="headerlink" title="2.4.1 ä½å›¾"></a>2.4.1 ä½å›¾</h3><p>ä½å›¾æ˜¯é™æ­¢å›¾åƒçš„ä¸€ç§ã€‚ä½å›¾æ˜¯é€šè¿‡è®¸å¤šåƒç´ ç‚¹è¡¨ç¤ºä¸€å¹…å›¾åƒï¼Œæ¯ä¸ªåƒç´ å…·æœ‰é¢œè‰²å±æ€§å’Œä½ç½®å±æ€§ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image-4.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/16/shuzituxiang2/">https://blog.jujimeizuo.cn/2021/06/16/shuzituxiang2/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†æœŸæœ«å¤ä¹ ï¼ˆä¸€ï¼‰æ¦‚è¿°</title>
      <link href="/2021/06/16/shuzituxiang1/"/>
      <url>/2021/06/16/shuzituxiang1/</url>
      
        <content type="html"><![CDATA[<h4 id="1-1æ•°å­—å›¾åƒå¤„ç†ç›¸å…³æ¦‚å¿µ"><a href="#1-1æ•°å­—å›¾åƒå¤„ç†ç›¸å…³æ¦‚å¿µ" class="headerlink" title="1.1æ•°å­—å›¾åƒå¤„ç†ç›¸å…³æ¦‚å¿µ"></a>1.1æ•°å­—å›¾åƒå¤„ç†ç›¸å…³æ¦‚å¿µ</h4><p><strong>å›¾</strong>ï¼šç‰©ä½“é€å°„æˆ–åå°„å…‰çš„åˆ†å¸ƒï¼Œæ˜¯å®¢è§‚å­˜åœ¨çš„</p><p><strong>åƒ</strong>ï¼šäººçš„è§†è§‰ç³»ç»Ÿå¯¹å›¾çš„æ¥å—åœ¨å¤§è„‘ä¸­å½¢æˆçš„å°è±¡æˆ–åæ˜ </p><p><strong>å›¾åƒ</strong>ï¼šæ˜¯å›¾å’Œåƒçš„æœ‰æœºç»“åˆï¼Œæ˜¯å®¢è§‚ä¸–ç•Œèƒ½é‡æˆ–çŠ¶æ€ä»¥å¯è§†åŒ–å½¢å¼åœ¨äºŒç»´å¹³é¢ä¸Šçš„æŠ•å½±</p><p><strong>æ•°å­—å›¾åƒ</strong>ï¼šç‰©ä½“çš„ä¸€ä¸ªæ•°å­—è¡¨ç¤ºï¼Œæ˜¯ä»¥æ•°å­—æ ¼å¼å­˜æ”¾çš„å›¾åƒ</p><p><strong>æ•°å­—å›¾åƒå¤„ç†</strong>ï¼šåˆç§°ä¸ºè®¡ç®—æœºå›¾åƒå¤„ç†ï¼Œå°†<strong>å›¾åƒä¿¡å·</strong>è½¬æ¢æˆ<strong>æ•°å­—ä¿¡å·</strong>å¹¶åˆ©ç”¨<strong>è®¡ç®—æœºå¯¹å…¶è¿›è¡Œå¤„ç†</strong>çš„è¿‡ç¨‹ï¼Œä»¥æé«˜å›¾åƒçš„å®ç”¨æ€§ï¼Œä»è€Œè¾¾åˆ°äººä»¬æ‰€è¦æ±‚çš„é¢„æœŸç»“æœã€‚</p><p><strong>æ•°å­—å›¾åƒå¤„ç†ç›®çš„</strong>ï¼š</p><ol><li>æé«˜å›¾åƒçš„è§†æ„Ÿè´¨é‡ï¼Œä»¥è¾¾åˆ°èµå¿ƒæ‚¦ç›®çš„ç›®çš„</li><li>æå–å›¾åƒä¸­æ‰€åŒ…å«çš„æŸäº›ç‰¹å¾æˆ–ç‰¹æ®Šä¿¡æ¯ï¼Œä¾¿äºè®¡ç®—æœºåˆ†æ</li><li>å¯¹å›¾åƒæ•°æ®è¿›è¡Œå˜æ¢ã€ç¼–ç å’Œå‹ç¼©ï¼Œä¾¿äºå›¾åƒçš„å­˜å‚¨å’Œä¼ è¾“ã€‚</li></ol><p><strong>æ•°å­—å›¾åƒå¤„ç†ç‰¹ç‚¹</strong>ï¼š</p><ol><li>å¤„ç†ä¿¡æ¯é‡å¾ˆå¤§</li><li>æ•°å­—å›¾åƒå¤„ç†å ç”¨çš„é¢‘å¸¦è¾ƒå®½</li><li>æ•°å­—å›¾åƒä¸­å„ä¸ªåƒç´ ç›¸å…³æ€§å¤§</li></ol><h4 id="1-2æ•°å­—å›¾åƒå¤„ç†ç³»ç»Ÿæµç¨‹å›¾"><a href="#1-2æ•°å­—å›¾åƒå¤„ç†ç³»ç»Ÿæµç¨‹å›¾" class="headerlink" title="1.2æ•°å­—å›¾åƒå¤„ç†ç³»ç»Ÿæµç¨‹å›¾"></a>1.2æ•°å­—å›¾åƒå¤„ç†ç³»ç»Ÿæµç¨‹å›¾</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/image.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/20200203154623189.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h4 id="1-3æ•°å­—å›¾åƒå¤„ç†ä¸»è¦ç ”ç©¶å†…å®¹"><a href="#1-3æ•°å­—å›¾åƒå¤„ç†ä¸»è¦ç ”ç©¶å†…å®¹" class="headerlink" title="1.3æ•°å­—å›¾åƒå¤„ç†ä¸»è¦ç ”ç©¶å†…å®¹"></a>1.3æ•°å­—å›¾åƒå¤„ç†ä¸»è¦ç ”ç©¶å†…å®¹</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/06/20200203154634990.png"> <img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/06/16/shuzituxiang1/">https://blog.jujimeizuo.cn/2021/06/16/shuzituxiang1/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°å­—å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/05/21/codeforces-round-721-div-2-e-partition-game/"/>
      <url>/2021/05/21/codeforces-round-721-div-2-e-partition-game/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1527/problem/E">https://codeforces.com/contest/1527/problem/E</a></p><p>$å½“æ—¶Eé¢˜æ²¡æœ‰æ—¶é—´å†™ï¼Œä½†æ˜¯20åˆ†é’Ÿè¶³å¤Ÿäº†ã€‚$</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$å°†ä¸€ä¸ªé•¿ä¸ºnçš„åºåˆ—ï¼Œåˆ†æˆkæ®µã€‚$ $åœ¨æ¯æ®µä¸­ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—æ¥è¯´ï¼Œè´¡çŒ®ä¸ºæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®å‡ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå³last(x)-first(x)$</p><p>$æ±‚åˆ†æˆkæ®µåï¼Œæœ€å°çš„æ€»è´¡çŒ®ã€‚$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$nåˆ†æˆkæ®µï¼Œå†çœ‹çœ‹æ•°æ®èŒƒå›´ï¼Œn\leq 35000ï¼Œk\leq 100ï¼Œdp[n][k]$</p><p>$dp[n][k]è¡¨ç¤ºå‰nä¸ªæ•°å­—åˆ†æˆkæ®µåçš„æœ€å°æ€»è´¡çŒ®ã€‚$ $é‚£ä¹ˆè½¬ç§»æ–¹ç¨‹å°±éå¸¸å¥½å†™ï¼š$</p><p>$$dp[i][j]&#x3D;dp[i-1][k]+val[k+1][j]$$ $val[i][j]è¡¨ç¤º[i,j]å†…æ‰€æœ‰æ•°å­—çš„è´¡çŒ®ã€‚$ $å¾ˆå®¹æ˜“æ¨å‡ºk \in [i-1,j-1]$</p><p>$è¿™æ ·æˆ‘ä»¬çš„å¤æ‚åº¦ä¸ºO(n^2k)ï¼Œæ˜¯ä¸è¡Œçš„ï¼Œä¸è¿‡O(nk)æ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³åŠæ³•æ¶ˆæ‰ä¸€ä¸ªnã€‚$</p><p>$å› ä¸ºæˆ‘ä»¬çš„dp[i][j]éƒ½æ˜¯ç”±dp[i-1][j-1]æ¨å‡ºæ¥çš„ã€‚$ $è€Œæˆ‘ä»¬çš„ç›®çš„å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªkä½¿å¾—dp[i-1][k]+val[k+1][j]æœ€å°ï¼Œè€Œk \in [i-1,j-1].$ $è¿›è€Œæˆ‘ä»¬å¯ä»¥ç”¨çº¿æ®µæ ‘å›´ç»•kç»´æŠ¤åŒºé—´æœ€å°å€¼ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨logå†…æ‰¾åˆ°è¿™æ ·çš„kè¿›è¡Œè½¬ç§»ã€‚$</p><p>$å‡è®¾æˆ‘ä»¬å½“å‰è¦å°†ç¬¬jä¸ªæ•°å­—åˆ†ç±»ï¼Œåˆ™[1,å‰ä¸€ä¸ªä½ç½®-1]çš„è´¡çŒ®éƒ½è¦æ”¹å˜ï¼Œå˜å¤šå°‘å‘¢ï¼Ÿå¤šj-(å‰ä¸€ä¸ªä½ç½®)ã€‚$</p><p>$ä¹Ÿå°±æ˜¯ä¿®æ”¹ï¼š$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(from[j] != <span class="number">-1</span>) <span class="built_in">modify</span>(<span class="number">1</span>, <span class="number">1</span>, from[j] - <span class="number">1</span>, j - from[j]);</span><br></pre></td></tr></table></figure><p>$æŸ¥è¯¢æ˜¯åœ¨[i-1,j-1]æ‰¾ï¼Œä¹Ÿå°±æ˜¯ï¼š$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp[j][i] = <span class="built_in">min</span>(dp[j - <span class="number">1</span>][i - <span class="number">1</span>], <span class="built_in">query</span>(<span class="number">1</span>, i - <span class="number">1</span>, j - <span class="number">1</span>));</span><br></pre></td></tr></table></figure><p>$æœ€ç»ˆæ—¶é—´å¤æ‚åº¦ä¸ºO(nk\log n)$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> K = <span class="number">100</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> dp[N][K];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> mn;</span><br><span class="line">    <span class="type">int</span> tag;</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].mn = <span class="built_in">min</span>(t[lc].mn, t[rc].mn);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!t[u].tag) <span class="keyword">return</span> ;</span><br><span class="line">    t[lc].tag += t[u].tag;</span><br><span class="line">    t[rc].tag += t[u].tag;</span><br><span class="line">    t[lc].mn  += t[u].tag;</span><br><span class="line">    t[rc].mn  += t[u].tag;</span><br><span class="line">    t[u].tag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r;</span><br><span class="line">    t[u].tag = <span class="number">0</span>; t[u].mn = INF;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].mn = dp[l][k];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m, k);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r, k);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        t[u].mn += val;</span><br><span class="line">        t[u].tag += val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify</span>(lc, ql, qr, val);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt;  mid) <span class="built_in">modify</span>(rc, ql, qr, val);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) <span class="keyword">return</span> t[u].mn;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="type">int</span> ans = INF;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) ans = <span class="built_in">min</span>(ans, <span class="built_in">query</span>(lc, ql, qr));</span><br><span class="line">    <span class="keyword">if</span>(qr  &gt; mid) ans = <span class="built_in">min</span>(ans, <span class="built_in">query</span>(rc, ql, qr));</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, k; cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">pre</span><span class="params">(n + <span class="number">1</span>, <span class="number">-1</span>)</span>, <span class="title">from</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i][<span class="number">1</span>] = dp[i - <span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">        from[i] = pre[a[i]];</span><br><span class="line">        <span class="keyword">if</span>(from[i] != <span class="number">-1</span>) dp[i][<span class="number">1</span>] += i - from[i];</span><br><span class="line">        pre[a[i]] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= k; i++) &#123;</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n, i - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = i;j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(from[j] != <span class="number">-1</span>) <span class="built_in">modify</span>(<span class="number">1</span>, <span class="number">1</span>, from[j] - <span class="number">1</span>, j - from[j]);</span><br><span class="line">            dp[j][i] = <span class="built_in">min</span>(dp[j - <span class="number">1</span>][i - <span class="number">1</span>], <span class="built_in">query</span>(<span class="number">1</span>, i - <span class="number">1</span>, j - <span class="number">1</span>));</span><br><span class="line">            <span class="comment">// cout &lt;&lt; j &lt;&lt; &quot; &quot; &lt;&lt; &quot;åˆ†æˆ&quot; &lt;&lt; i &lt;&lt; &quot;æ®µï¼š&quot; &lt;&lt; &quot; &quot; &lt;&lt; dp[j][i] &lt;&lt; endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[n][k] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/21/codeforces-round-721-div-2-e-partition-game/">https://blog.jujimeizuo.cn/2021/05/21/codeforces-round-721-div-2-e-partition-game/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢æŒ‘æˆ˜èµ›50 B Random eat Cake æ’åˆ—ç»„åˆ</title>
      <link href="/2021/05/18/nowcoder50-b-random-eat-cake/"/>
      <url>/2021/05/18/nowcoder50-b-random-eat-cake/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/11190/B">https://ac.nowcoder.com/acm/contest/11190/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/05/20210518183540915.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$æ’åˆ—ç»„åˆé¢˜ï¼ŒåŸºæœ¬éƒ½æ˜¯è€ƒè™‘â€œæ•°â€çš„è´¡çŒ®ã€‚$</p><p>$æ‰€ä»¥æˆ‘ä»¬é’ˆå¯¹æ¯ä¸ªæ•°å­—1ï¼Œ2â€¦nå‡ºç°çš„æ¬¡æ•°ï¼Œå³è´¡çŒ®ä¸ºnum_i*\frac{1}{i!}ï¼Œnum_iè¡¨ç¤ºiå‡ºç°çš„æ¬¡æ•°ã€‚$</p><p>$å³ans&#x3D;\sum_{i&#x3D;1}^{n}num_i*\frac{1}{i!}$</p><p>$æ¯”å¦‚å…ˆè€ƒè™‘1ï¼Œå…ˆæ‹¿å‡ºä¸€ä¸ª1ï¼Œç„¶åè¿˜å‰©ä¸‹n-1ï¼Œåˆ™æˆ‘ä»¬è®©ä»–ä»¬éšæ„ç»„åˆã€‚$ $å‡è®¾n-1ç»„æˆ4ä¸ªæ•°å­—ï¼Œåˆ™ç”±æ†ç»‘æ³•å¯å¾—:$</p><p>$n-1çš„ç»„æˆ4ä¸ªæ•°å­—çš„ç§æ•°ä¸ºC_{n-2}^{3}ï¼Œç„¶åæˆ‘ä»¬çš„1å¯ä»¥æ’å…¥5ä¸ªä½ç½®ï¼Œåˆ™*5.$</p><p>$æˆ‘ä»¬å¯ä»¥è®©n-1ç»„æˆ1åˆ°n-1ä¸ªæ•°å­—ï¼Œè¿›è€Œå¾—å‡ºï¼Œ1å‡ºç°çš„æ€»æ¬¡æ•°ä¸ºï¼š$</p><p>$C_{n-2}^{0}*2+C_{n-2}^{1}*3+â€¦+C_{n-2}^{n-3}*(n-1)+C_{n-2}^{n-2}*n$</p><p>$ç”±ç»„åˆæ’ç­‰å¼ç®—å‡ºæ¥ï¼Œè¿™ä¸ªå¼å­ä¸º2^{n-1}+(n-2)*2^{n-3}$</p><p>$åˆ™1çš„æ€»è´¡çŒ®ä¸º\frac{1}{1!}*(2^{n-1}+(n-2)*2^{n-3})$</p><p>$ç„¶åè®¡ç®—2ï¼Œ3ä¸€ç›´åˆ°nçš„è´¡çŒ®ï¼ŒåŠ èµ·æ¥å³å¯ã€‚æ³¨æ„ä¸€äº›è¾¹ç•Œé—®é¢˜ï¼Œè¶Šç•Œäº†éƒ½å½“æˆ0.$</p><p>$åˆ†æ¯å°±æ˜¯nä¸ª1èƒ½æœ‰å¤šå°‘ç§ç»„æˆæ–¹æ³•:$</p><ul><li>$ç»„æˆ1ä¸ªæ•°ï¼ŒC_{n-1}^{0}$</li><li>$ç»„æˆ2ä¸ªæ•°ï¼ŒC_{n-1}^{1}$</li><li>â€¦</li><li>$ç»„æˆnä¸ªæ•°å­—,C_{n-1}^{n-1}$</li></ul><p>$ç”±äºŒé¡¹å¼å®šç†å¾—ï¼Œåˆ†æ¯ä¸º2^{n-1}$</p><p>$æ€»ç»“ä¸€ä¸‹ansï¼š$</p><p>$$\frac{\sum_{i&#x3D;1}^{n}2^{n-i}+(n-i-1)*2^{n-i-2}}{2^{n-1}}$$</p><p>$é¢„å¤„ç†ç„¶åO(n)è®¡ç®—ã€‚$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll fac[N], inv[N], invF[N];</span><br><span class="line">ll bit[N], invbit[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll inv2 = <span class="built_in">quick_pow</span>(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">    invbit[<span class="number">0</span>] = bit[<span class="number">0</span>] = fac[<span class="number">0</span>] = fac[<span class="number">1</span>] = inv[<span class="number">0</span>] = inv[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    bit[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">    invbit[<span class="number">1</span>] = inv2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        fac[i] = fac[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        inv[i] = (mod - mod / i) * inv[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * inv[i] % mod;</span><br><span class="line">        bit[i] = bit[i - <span class="number">1</span>] * <span class="number">2</span> % mod;</span><br><span class="line">        invbit[i] = invbit[i - <span class="number">1</span>] * inv2 % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            ans = (ans + invF[i] * (bit[n - i] + (n - i - <span class="number">1</span> &gt;= <span class="number">0</span> ? n - i - <span class="number">1</span> : <span class="number">0</span>) * bit[(n - i - <span class="number">2</span> &gt;= <span class="number">0</span> ? n - i - <span class="number">2</span> : <span class="number">0</span>)] % mod) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = ans * invbit[n - <span class="number">1</span>] % mod;</span><br><span class="line">        cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/18/nowcoder50-b-random-eat-cake/">https://blog.jujimeizuo.cn/2021/05/18/nowcoder50-b-random-eat-cake/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç‰›å®¢ã€‘æ ‘çš„è·ç¦» æ ‘ä¸Šä¸»å¸­æ ‘</title>
      <link href="/2021/05/11/tree-distance-tree-chairman-tree/"/>
      <url>/2021/05/11/tree-distance-tree-chairman-tree/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/problem/14415">https://ac.nowcoder.com/acm/problem/14415</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$ç»™ä¸€é¢—æ ‘ï¼Œæ±‚ä»¥xä¸ºå­æ ‘ä¸­ï¼Œè·ç¦»xå¤§äºç­‰äºkçš„ç‚¹ä¸xçš„è·ç¦»å’Œã€‚$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$è¿™é¢˜æ±‚çš„æ˜¯å­èŠ‚ç‚¹åˆ°xçš„è·ç¦»ï¼Œè€Œæˆ‘ä»¬dfsçš„è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“å¾—åˆ°å­èŠ‚ç‚¹åˆ°æ ¹çš„è·ç¦»disã€‚$</p><p>$æ‰€ä»¥æˆ‘ä»¬è½¬æ¢ä¸€ä¸‹ï¼Œæ±‚xå­èŠ‚ç‚¹ä¸­è·ç¦»æ ¹å¤§äºç­‰äºk+dis[x]çš„ç‚¹ä¸xçš„è·ç¦»å’Œã€‚$</p><p>$å‡è®¾æˆ‘ä»¬çŸ¥é“ä¸ªæ•°ä¸ºsum\_numï¼Œè¿™äº›ç‚¹è·ç¦»æ ¹çš„å’Œä¸ºsum\_disã€‚$ $åˆ™ans&#x3D;sum\_dis - sum\_num * dis[x]$</p><p>$æ€ä¹ˆæ±‚ä¸ªæ•°å‘¢ï¼Ÿæ€ä¹ˆæ±‚å¤§äºç­‰äºkçš„ç‚¹çš„ä¸ªæ•°å‘¢ï¼Ÿ$</p><p>$æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸»å¸­æ ‘å¸®åŠ©æ±‚è§£ï¼Œä»¥dis[x]ä¸ºå¶å­çš„ä¸»å¸­æ ‘ã€‚$ $ç„¶åæ±‚åŒºé—´å†…\ge kçš„ä¸ªæ•°å³å¯ã€‚$</p><p>$è¿™é‡Œæœ‰å‡ ä¸ªå°ç»†èŠ‚ï¼š$</p><ul><li>$disçš„å¤§å°ä¼šçˆ†intï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¦»æ•£åŒ–è¿›è€Œå»ºå¸­æ ‘$</li><li>$dfsåºå»ºä¸»å¸­æ ‘ï¼Œå› ä¸ºæ˜¯æ ‘ä¸Š$</li></ul><p>$æœ€åï¼Œè¿™é¢˜éœ€è¦ä¸€å®šçš„ä»£ç èƒ½åŠ›ã€‚$</p><h2 id="Codeï¼ˆ709MSï¼‰"><a href="#Codeï¼ˆ709MSï¼‰" class="headerlink" title="Codeï¼ˆ709MSï¼‰"></a>Codeï¼ˆ709MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v;</span><br><span class="line">    ll w;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;Edge&gt; g[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    ll sum, val;</span><br><span class="line">&#125;t[N * <span class="number">40</span>];</span><br><span class="line"><span class="type">int</span> root[N], cnt;</span><br><span class="line"></span><br><span class="line">vector&lt;ll&gt; v;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getid</span><span class="params">(ll x)</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">lower_bound</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), x) - v.<span class="built_in">begin</span>() + <span class="number">1</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> pre, <span class="type">int</span> &amp;now, <span class="type">int</span> l, <span class="type">int</span> r, ll p, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    t[now = ++cnt] = t[pre];</span><br><span class="line">    t[now].val += val;</span><br><span class="line">    t[now].sum += v[p - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) <span class="built_in">insert</span>(t[pre].l, t[now].l, l, m, p, val);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">insert</span>(t[pre].r, t[now].r, m + <span class="number">1</span>, r, p, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">query</span><span class="params">(<span class="type">int</span> pre, <span class="type">int</span> now, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> l, <span class="type">int</span> r, ll &amp;sum_num, ll &amp;sum_dis)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= l &amp;&amp; r &lt;= qr) &#123;</span><br><span class="line">        sum_num += t[now].val - t[pre].val;</span><br><span class="line">        sum_dis += t[now].sum - t[pre].sum;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= m) <span class="built_in">query</span>(t[pre].l, t[now].l, ql, qr, l, m, sum_num, sum_dis);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; m)  <span class="built_in">query</span>(t[pre].r, t[now].r, ql, qr, m + <span class="number">1</span>, r, sum_num, sum_dis);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> in[N], out[N], tim;</span><br><span class="line">ll dis[N];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    in[u] = ++tim;</span><br><span class="line">    v.<span class="built_in">push_back</span>(dis[u]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e : g[u]) &#123;</span><br><span class="line">        <span class="type">int</span> v = e.v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        dis[v] = dis[u] + e.w;</span><br><span class="line">        <span class="built_in">dfs</span>(v, u);</span><br><span class="line">    &#125;</span><br><span class="line">    out[u] = tim;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa, <span class="type">int</span> cct)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">insert</span>(root[in[u] - <span class="number">1</span>], root[in[u]], <span class="number">1</span>, cct, <span class="built_in">getid</span>(dis[u]), <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e : g[u]) <span class="keyword">if</span>(e.v != fa) <span class="built_in">dfs2</span>(e.v, u, cct);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> p; ll d; cin &gt;&gt; p &gt;&gt; d;</span><br><span class="line">        g[i].<span class="built_in">push_back</span>(Edge&#123;p, d&#125;);</span><br><span class="line">        g[p].<span class="built_in">push_back</span>(Edge&#123;i, d&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">    v.<span class="built_in">erase</span>(<span class="built_in">unique</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()), v.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> cct = (<span class="type">int</span>)v.<span class="built_in">size</span>();</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">0</span>, cct);</span><br><span class="line">    <span class="type">int</span> m; cin &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> x; ll y; cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        y = dis[x] + y;</span><br><span class="line">        <span class="type">int</span> id = <span class="built_in">getid</span>(y);</span><br><span class="line">        <span class="keyword">if</span>(id &gt; cct) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ll sum_num = <span class="number">0</span>, sum_dis = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">query</span>(root[in[x] - <span class="number">1</span>], root[out[x]], id, cct, <span class="number">1</span>, cct, sum_num, sum_dis);</span><br><span class="line">        cout &lt;&lt; (ll)(sum_dis - sum_num * dis[x]) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/11/tree-distance-tree-chairman-tree/">https://blog.jujimeizuo.cn/2021/05/11/tree-distance-tree-chairman-tree/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces484 E. Sign on Fence ä¸»å¸­æ ‘+çº¿æ®µæ ‘ç»´æŠ¤è¿ç»­1åŒºé—´+äºŒåˆ†</title>
      <link href="/2021/05/07/codeforces484-e-sign-on-fence/"/>
      <url>/2021/05/07/codeforces484-e-sign-on-fence/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/484/problem/E">https://codeforces.com/contest/484/problem/E</a></p><p>é–æˆ˜3å°æ—¶ï¼Œç»ˆäºâ€¦</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªåºåˆ—aï¼Œmæ¬¡æŸ¥è¯¢ï¼Œl,r,wï¼ŒæŸ¥è¯¢[l,r]ä¸­æ‰€æœ‰è¿ç»­wä¸ªå…ƒç´ æœ€å°å€¼çš„æœ€å¤§å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æŸ¥æ‰¾æœ€å€¼ï¼Œæƒ³åˆ°äºŒåˆ†ï¼Œä½†æ˜¯è¦æ±‚æ‰€æœ‰[l,r]ä¸­è¿ç»­wä¸ªå…ƒç´ åŒºé—´ä¸­çš„æœ€å°å€¼çš„æœ€å¤§å€¼ã€‚</p><p>é¦–å…ˆäºŒåˆ†çš„æ˜¯ç­”æ¡ˆï¼Œä½†æ˜¯hæœ‰1e9ä¹‹å¤šï¼ŒäºŒåˆ†çš„å¸¸æ•°è¾ƒå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†åºåˆ—æ’åºï¼Œç„¶åäºŒåˆ†ä¸‹æ ‡ã€‚</p><p>å‡è®¾æšä¸¾çš„ä¸‹æ ‡ä¸ºmidï¼Œåˆ™åœ¨ä¸€ä¸ªåŒºé—´ä¸­è‡³å°‘æœ‰wä¸ªå…ƒç´ æ¯”midå¤§ã€‚ åˆ™åˆæ³•ï¼Œans&#x3D;midï¼Œr&#x3D;mid+1ï¼Œå¦åˆ™l&#x3D;mid+1ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆcheckè¿™ä¸ªåŒºé—´å‘¢ï¼Ÿ è®¾æ¯”midå¤§çš„ä¸º1ï¼Œåä¹‹ä¸º0ï¼Œåˆ™æˆ‘ä»¬è¦æ±‚æ˜¯æ˜¯å¦å­˜åœ¨æœ€é•¿çš„è¿ç»­1åŒºé—´é•¿åº¦$\ge$ wã€‚</p><p>è¿™ä¸€éƒ¨åˆ†å¯ä»¥ç”¨çº¿æ®µæ ‘å¤„ç†ï¼Œå°±æ˜¯å¤„ç†suml,sumr,sumç­‰ç­‰ã€‚è‡ªè¡Œç™¾åº¦ã€‚</p><p>ä½†æ˜¯ä¸å¯èƒ½æ¯æ¬¡checkéƒ½è¦å»ºç«‹ä¸€é¢—çº¿æ®µæ ‘å•Šï¼Œä¸ä»…MLEè¿˜ä¼šTLEã€‚</p><p>è¿™æ—¶å€™å°±éœ€è¦ä¸»å¸­æ ‘è¿™ä¸ªé»‘ç§‘æŠ€ï¼Œå°†åºåˆ—ä»å¤§åˆ°å°æ’åˆ—åæ­£å‘å»ºç«‹ä¸»å¸­æ ‘ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºæ¯ä¸€ä¸ªä¸åŒçš„ç‰ˆæœ¬ã€‚</p><p>è€Œæˆ‘ä»¬äºŒåˆ†å¾—åˆ°çš„midï¼Œå°±å¯ä»¥ç›´æ¥åœ¨root[mid]è¿™ä¸ªç‰ˆæœ¬è¿›è¡Œå¤„ç†å³å¯ã€‚</p><p>æ‰€ä»¥æ€»æµç¨‹ä¸ºï¼š</p><ul><li>$åºåˆ—ä»å°åˆ°è¾¾æ’åºå»ºç«‹ä¸»å¸­æ ‘$</li><li>$æ¯ä¸ªç‰ˆæœ¬çš„çº¿æ®µæ ‘ç»´æŠ¤æœ€é•¿è¿ç»­1åŒºé—´é•¿åº¦$</li><li>$å¯¹äºæ¯æ¬¡è¯¢é—®ï¼ŒäºŒåˆ†ç­”æ¡ˆä¸‹æ ‡ï¼ŒæŸ¥è¯¢æ—¶å€™å­˜åœ¨query\ge wï¼Œç„¶åå¤„ç†lå’Œrçš„èµ°å‘ã€‚$</li><li>$è¾“å‡ºa[ans].x$</li></ul><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, id;</span><br><span class="line">&#125;a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(node a, node b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.x == b.x ? a.id &gt; b.id : a.x &gt; b.x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HJTTree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> suml, sumr, sum;</span><br><span class="line">&#125;t[N * <span class="number">40</span>];</span><br><span class="line"><span class="type">int</span> root[N], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    t[u].suml = t[t[u].l].suml;</span><br><span class="line">    <span class="keyword">if</span>(t[t[u].l].suml == mid - l + <span class="number">1</span>) t[u].suml += t[t[u].r].suml;</span><br><span class="line">    t[u].sumr = t[t[u].r].sumr;</span><br><span class="line">    <span class="keyword">if</span>(t[t[u].r].sumr == r - mid) t[u].sumr += t[t[u].l].sumr;</span><br><span class="line">    t[u].sum = <span class="built_in">max</span>(<span class="built_in">max</span>(t[t[u].l].sum, t[t[u].r].sum), t[t[u].l].sumr + t[t[u].r].suml);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> pre, <span class="type">int</span> &amp;now, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    t[now = ++cnt] = t[pre];</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[now].sum = t[now].suml = t[now].sumr = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) <span class="built_in">insert</span>(t[pre].l, t[now].l, l, m, p);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">insert</span>(t[pre].r, t[now].r, m + <span class="number">1</span>, r, p);</span><br><span class="line">    <span class="built_in">push_up</span>(now, l, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql == l &amp;&amp; r == qr) <span class="keyword">return</span> t[u].sum;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(qr &lt;= m) ans = <span class="built_in">max</span>(ans, <span class="built_in">query</span>(t[u].l, ql, qr, l, m));</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ql &gt; m) ans = <span class="built_in">max</span>(ans, <span class="built_in">query</span>(t[u].r, ql, qr, m + <span class="number">1</span>, r));</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        ans = <span class="built_in">max</span>(<span class="built_in">query</span>(t[u].l, ql, m, l, m), <span class="built_in">query</span>(t[u].r, m + <span class="number">1</span>, qr, m + <span class="number">1</span>, r));</span><br><span class="line">        <span class="comment">// å·¦å„¿å­çš„å³åŒºé—´ã€å³å„¿å­çš„å·¦åŒºé—´---åˆå¹¶</span></span><br><span class="line">        ans = <span class="built_in">max</span>(ans, <span class="built_in">min</span>(m - ql + <span class="number">1</span>, t[t[u].l].sumr) + <span class="built_in">min</span>(qr - m, t[t[u].r].suml));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i].x, a[i].id = i;</span><br><span class="line">    <span class="built_in">sort</span>(a + <span class="number">1</span>, a + n + <span class="number">1</span>, cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) <span class="built_in">insert</span>(root[i - <span class="number">1</span>], root[i], <span class="number">1</span>, n, a[i].id);</span><br><span class="line">    <span class="type">int</span> m; cin &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> ql, qr, w; cin &gt;&gt; ql &gt;&gt; qr &gt;&gt; w;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">1</span>, r = n, ans = n;</span><br><span class="line">        <span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">            <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">query</span>(root[mid], ql, qr, <span class="number">1</span>, n) &gt;= w) ans = mid, r = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; a[ans].x &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/07/codeforces484-e-sign-on-fence/">https://blog.jujimeizuo.cn/2021/05/07/codeforces484-e-sign-on-fence/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces - 560E Gerald and Giant Chess dp+æ’åˆ—ç»„åˆ</title>
      <link href="/2021/05/07/codeforces-560e-gerald-and-giant-chess/"/>
      <url>/2021/05/07/codeforces-560e-gerald-and-giant-chess/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/560/problem/E">https://codeforces.com/contest/560/problem/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªn*mçš„æ£‹ç›˜ï¼Œæƒ³è¦ä»(1,1)èµ°åˆ°(n,m)ï¼Œä½†æ˜¯åˆkä¸ªåç‚¹ä¸èƒ½ç»è¿‡ï¼Œé—®æœ‰å¤šå°‘ç§æ–¹æ¡ˆï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºnå’Œméƒ½æœ‰1e5ï¼Œæ‰€ä»¥ä¸èƒ½f[i][j]ï¼Œä½†æ˜¯kåªæœ‰2000ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘åç‚¹$O(n^2)$åšæ³•ã€‚</p><p>å‡å¦‚æˆ‘ä»¬æšä¸¾åˆ°è¾¾åç‚¹çš„æ–¹æ¡ˆï¼Œä¹Ÿå¯ä»¥å°†(n,m)è¿™ä¸€ç‚¹çœ‹å‡ºç¬¬k+1ä¸ªåç‚¹ï¼Œæ‰€ä»¥è€ƒè™‘æ¯ä¸¤ä¸ªåç‚¹ä¹‹é—´æ–¹æ¡ˆã€‚</p><p>å¯ä»¥æ¨å‡º(x1,y1)èµ°åˆ°(x2,y2)çš„æ–¹æ¡ˆä¸º$C_{x_2-x_1+y_2-y_1}^{x_2-x_1}$ã€‚</p><p>æ‰€ä»¥ä»(1,1)å‡ºå‘åˆ°è¾¾çš„åç‚¹æœ‰$C_{x+y-2}^{x-1}$ã€‚</p><p>è®¾ä¸¤ä¸ªåç‚¹ä¸ºiå’Œjï¼Œå¹¶ä¸”ä¸èƒ½é€šè¿‡jåˆ°è¾¾iï¼Œæ‰€ä»¥è¦æŠŠåˆ°è¾¾içš„æ–¹æ¡ˆå‡æ‰jåˆ°içš„æ–¹æ¡ˆï¼Œå³</p><p>$$dp[i]&#x3D;dp[i]-dp[j]*\sum_{j&#x3D;1}^{i-1}C_{p[i].x-p[j].x+p[i].y-[j].y}^{p[i].x-p[j].x}$$</p><p>è¿™æ ·ä¸€ç›´æšä¸¾ä¸‹å»ï¼Œans&#x3D;dp[k+1]ï¼Œå³åˆ°è¾¾æœ€åä¸€ä¸ªåç‚¹(n,m)çš„æ–¹æ¡ˆæ•°ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; pll;</span><br><span class="line"></span><br><span class="line"> <span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll F[N], inv[N], invF[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    F[<span class="number">0</span>] = inv[<span class="number">0</span>] = invF[<span class="number">0</span>] = F[<span class="number">1</span>] = inv[<span class="number">1</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        F[i] = F[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        inv[i] = (mod - mod / i) * inv[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * inv[i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  m &lt; n) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = F[m];</span><br><span class="line">    ans = ans * invF[n] % mod;</span><br><span class="line">    ans = ans * invF[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(pll a, pll b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.first == b.first) <span class="keyword">return</span> a.second &lt; b.second;</span><br><span class="line">    <span class="keyword">return</span> a.first &lt; b.first;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> n, m, k; cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">dp</span><span class="params">(k + <span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;pll&gt; <span class="title">p</span><span class="params">(k + <span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k; i++) cin &gt;&gt; p[i].first &gt;&gt; p[i].second;</span><br><span class="line">    <span class="built_in">sort</span>(p.<span class="built_in">begin</span>() + <span class="number">1</span>, p.<span class="built_in">begin</span>() + k + <span class="number">1</span>, cmp);</span><br><span class="line">    p[++k].first = n; p[k].second = m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k; i++) &#123;</span><br><span class="line">        dp[i] = <span class="built_in">C</span>(p[i].first + p[i].second - <span class="number">2</span>, p[i].first - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt; i; j++) &#123; <span class="comment">// jåˆ°i</span></span><br><span class="line">            <span class="keyword">if</span>(p[i].first &gt;= p[j].first &amp;&amp; p[i].second &gt;= p[j].second) &#123;</span><br><span class="line">                <span class="comment">// int temp = C(p[i].first - p[j].first + p[i].second - p[j].second, p[i].first - p[j].first);</span></span><br><span class="line">                dp[i] = (dp[i] - dp[j] * <span class="built_in">C</span>(p[i].first - p[j].first + p[i].second - p[j].second, p[i].first - p[j].first) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; (dp[k] % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/07/codeforces-560e-gerald-and-giant-chess/">https://blog.jujimeizuo.cn/2021/05/07/codeforces-560e-gerald-and-giant-chess/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢å°ç™½æœˆèµ›28 E-ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å° çº¿æ®µæ ‘+äºŒåˆ†æš´åŠ›æ¨¡æ‹Ÿ</title>
      <link href="/2021/05/07/nowcoder-beginner28-e/"/>
      <url>/2021/05/07/nowcoder-beginner28-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/16081/E">https://ac.nowcoder.com/acm/contest/16081/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><ul><li>ç™»å±±é¡ºåºä¸ä¸€å®šä»å·¦åˆ°å³ï¼Œæ˜¯æŒ‰ç…§ç»™å‡ºå±±å³°çš„é¡ºåº</li><li>æ‰¾åˆ°å·¦è¾¹ç¬¬ä¸€ä¸ªå¤§äºå½“å‰å±±å³°çš„å±±å³°çš„åæ ‡ï¼Œä¿®æ”¹å®ƒ</li><li>å¦‚æœå³è¾¹æ²¡æœ‰å¤§äºå½“å‰å±±å³°çš„ï¼Œæ‰¾åˆ°ç¦»å½“å‰å±±å³°æœ€è¿‘çš„æœ€çŸ®å±±å³°ï¼Œä¿®æ”¹å®ƒ</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆé¡ºåºæ˜¯æŒ‰ç…§ç»™å‡ºçš„å±±å³°é¡ºåºï¼Œå¹¶ä¸”xåæ ‡è¿‡å¤§ï¼Œä½†æ˜¯ç‚¹æ•°åªæœ‰2e5ï¼Œæ‰€ä»¥éœ€è¦ç¦»æ•£åŒ–ã€‚</p><p>å¯¹äºä¸€ä¸ªç‚¹ï¼Œéœ€è¦æ‰¾åˆ°å·¦è¾¹å’Œå³è¾¹ä¸¤ä¸ªç‰¹æ®Šè¦æ±‚çš„å±±å³°ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥äºŒåˆ†ã€‚ å¹¶ä¸”æ˜¯åŒºé—´æŸ¥è¯¢ï¼Œæ‰€ä»¥éœ€è¦çº¿æ®µæ ‘ç»´æŠ¤ï¼Œç»´æŠ¤åŒºé—´æœ€å¤§å€¼å’Œæœ€å°å€¼å³å¯ã€‚</p><ul><li>å·¦è¾¹ï¼šå‡è®¾å½“å‰æ˜¯ç¬¬iåº§å±±ï¼Œæ˜ å°„è¿‡å»çš„ä½ç½®æ˜¯pos(ç¦»æ•£åŒ–)ï¼ŒäºŒåˆ†[1,pos]åŒºé—´ï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€ä¸ªå¤§äºå½“å‰é«˜åº¦çš„å±±</li><li>å³è¾¹ï¼šåŒç†ã€‚å‡è®¾æ˜ å°„çš„ä½ç½®æ˜¯pos,å…ˆæ±‚å‡ºåŒºé—´[pos+1,n]çš„æœ€å¤§å€¼åˆ¤æ–­éœ€ä¸éœ€è¦ä¿®æ”¹ã€‚è‹¥æ˜¯éœ€è¦ï¼Œåˆ™äºŒåˆ†[pos+1,n]åŒºé—´ï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€ä¸ªæœ€å°å€¼</li></ul><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, h;</span><br><span class="line">&#125;a[N];</span><br><span class="line"><span class="type">int</span> b[N], h[N], idx[N];</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> mx, mn;</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].mx = <span class="built_in">max</span>(t[lc].mx, t[rc].mx);</span><br><span class="line">    t[u].mn = <span class="built_in">min</span>(t[lc].mn, t[rc].mn);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].mx = t[u].mn = h[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> p, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[u].l == t[u].r) &#123;</span><br><span class="line">        t[u].mn = t[u].mx = v;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= mid) <span class="built_in">modify</span>(lc, p, v);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">modify</span>(rc, p, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query_max</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) <span class="keyword">return</span> t[u].mx;</span><br><span class="line">    <span class="type">int</span> mx = <span class="number">-1e9</span> - <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) mx = <span class="built_in">max</span>(mx, <span class="built_in">query_max</span>(lc, ql, qr));</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  mx = <span class="built_in">max</span>(mx, <span class="built_in">query_max</span>(rc, ql, qr));</span><br><span class="line">    <span class="keyword">return</span> mx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query_min</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) <span class="keyword">return</span> t[u].mn;</span><br><span class="line">    <span class="type">int</span> mn = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) mn = <span class="built_in">min</span>(mn, <span class="built_in">query_min</span>(lc, ql, qr));</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  mn = <span class="built_in">min</span>(mn, <span class="built_in">query_min</span>(rc, ql, qr));</span><br><span class="line">    <span class="keyword">return</span> mn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; a[i].x &gt;&gt; a[i].h;</span><br><span class="line">        b[i] = a[i].x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(b + <span class="number">1</span>, b + n + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        idx[i] = <span class="built_in">lower_bound</span>(b + <span class="number">1</span>, b + n + <span class="number">1</span>, a[i].x) - b;</span><br><span class="line">        h[idx[i]] = a[i].h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> pos = idx[i];</span><br><span class="line">        <span class="comment">/*------æŸ¥æ‰¾å·¦è¾¹1-pos--------*/</span></span><br><span class="line">        <span class="type">int</span> lx = <span class="built_in">query_max</span>(<span class="number">1</span>, <span class="number">1</span>, pos);</span><br><span class="line">        <span class="keyword">if</span>(lx &gt; h[pos]) &#123;</span><br><span class="line">            <span class="type">int</span> l = <span class="number">1</span>, r = pos, ans = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">                <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">                lx = <span class="built_in">query_max</span>(<span class="number">1</span>, m, pos);</span><br><span class="line">                <span class="keyword">if</span>(lx &gt; h[pos]) ans = m, l = m + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> r = m - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            h[ans] = h[pos]; <span class="built_in">modify</span>(<span class="number">1</span>, ans, h[pos]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(pos == n) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">/*---------æŸ¥æ‰¾å³è¾¹pos+1-n-----------*/</span></span><br><span class="line">        <span class="type">int</span> rx = <span class="built_in">query_max</span>(<span class="number">1</span>, pos + <span class="number">1</span>, n);</span><br><span class="line">        <span class="keyword">if</span>(rx &lt;= h[pos]) &#123;</span><br><span class="line">            rx = <span class="built_in">query_min</span>(<span class="number">1</span>, pos + <span class="number">1</span>, n);</span><br><span class="line">            <span class="type">int</span> l = pos + <span class="number">1</span>, r = n, ans = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">                <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">                <span class="type">int</span> nrx = <span class="built_in">query_min</span>(<span class="number">1</span>, pos + <span class="number">1</span>, m);</span><br><span class="line">                <span class="keyword">if</span>(nrx == rx) ans = m, r = m - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> l = m + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            h[ans] = h[pos]; <span class="built_in">modify</span>(<span class="number">1</span>, ans, h[pos]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cout &lt;&lt; h[idx[i]] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/07/nowcoder-beginner28-e/">https://blog.jujimeizuo.cn/2021/05/07/nowcoder-beginner28-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢å°ç™½æœˆèµ›28 I-è¿·å®« äºŒç»´dp+èƒŒåŒ…</title>
      <link href="/2021/05/06/nowcoder-beginner28-i/"/>
      <url>/2021/05/06/nowcoder-beginner28-i/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/16081/I">https://ac.nowcoder.com/acm/contest/16081/I</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰ä¸€ä¸ªnÃ—mçš„ç½‘æ ¼åœ°å›¾ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸ªå€¼$a_{ij}$ ï¼Œç°åœ¨ç‰›ç‰›è¦ä»(1ï¼Œ1)èµ°åˆ°(nï¼Œm). ä»–å¯ä»¥å¾€å³è¾¹æˆ–è€…å¾€ä¸‹èµ°ï¼Œæ¯æ¬¡åˆ°ä¸€ä¸ªç‚¹ä¼šè·å¾—å½“å‰çš„ç‚¹æƒå€¼ï¼Œå¹¶å°†æƒå€¼å’Œmod 1e4+7. å½“ç‰›ç‰›ä»ä¸åŒæ–¹å¼èµ°åˆ°(nï¼Œm)çš„æ—¶å€™èƒ½è·å¾—å¤šå°‘ç§æƒå€¼å’Œï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¿™é¢˜ç»™çš„modå¾ˆå…³é”®ï¼Œåªæœ‰1e4ï¼Œç„¶ånå’Œmåªæœ‰100ï¼Œæ‰€ä»¥èƒ½çŒœå‡ºæ¥å¤æ‚åº¦ä¸º100*100*10000ï¼Œ1e8åªèƒ½è¯´å¾ˆæ ‡å‡†ä½†åˆå¾ˆå±é™©ã€‚</p><p>è®¾f[i][j][k]è¡¨ç¤ºèµ°åˆ°ç¬¬iè¡Œç¬¬jåˆ—åŠ ä¸Ša[i][j]ä¹‹åå­˜åœ¨kè¿™ä¸ªæƒå€¼ï¼Œåˆ™è½¬ç§»å¯ä»¥ä»ä¸Šé¢æˆ–è€…å·¦è¾¹éƒ½å¯ä»¥ã€‚</p><p>$$f[i][j][k]&#x3D;max(f[i-1][j][k-a[i][j]],f[i][j-1][k-a[i][j]])$$</p><p>æ³¨æ„modçš„èŒƒå›´ï¼Œä¸è¦REï¼Œå¹¶ä¸”ä¸è¦å¼€llï¼Œä¸è¦MLEï¼Œæœ€å¥½åˆšå¼€å§‹æ‰‹åŠ¨$a[i][j]\%mod$ï¼Œä¸è¦WAã€‚</p><p>å¤æ‚åº¦ä¸º$O(n*m*mod)$ã€‚</p><h2 id="Codeï¼ˆ384MSï¼‰"><a href="#Codeï¼ˆ384MSï¼‰" class="headerlink" title="Codeï¼ˆ384MSï¼‰"></a>Codeï¼ˆ384MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> mod = <span class="number">1e4</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">101</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M = <span class="number">1e4</span> + <span class="number">8</span>;</span><br><span class="line"><span class="type">int</span> a[N][N];</span><br><span class="line"><span class="type">bool</span> dp[N][N][M];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">Mod</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &gt;= mod) <span class="keyword">return</span> x % mod;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(x &lt; <span class="number">0</span>) <span class="keyword">return</span> x % mod + mod;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n, m; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i][j]);</span><br><span class="line">            a[i][j] %= mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">1</span>][a[<span class="number">1</span>][<span class="number">1</span>]] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; j == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = mod - <span class="number">1</span>;k &gt;= <span class="number">0</span>; k--) &#123;</span><br><span class="line">                <span class="type">int</span> temp = <span class="built_in">Mod</span>(k - a[i][j]);</span><br><span class="line">                dp[i][j][k] = <span class="built_in">max</span>(dp[i][j - <span class="number">1</span>][temp], dp[i - <span class="number">1</span>][j][temp]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; mod; i++) ans += dp[n][m][i];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/06/nowcoder-beginner28-i/">https://blog.jujimeizuo.cn/2021/05/06/nowcoder-beginner28-i/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Global Round 14 E. Phoenix and Computers dp+æ’åˆ—ç»„åˆ</title>
      <link href="/2021/05/03/codeforces-global-round-14-e-phoenix-and-computers/"/>
      <url>/2021/05/03/codeforces-global-round-14-e-phoenix-and-computers/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1515/problem/E">https://codeforces.com/contest/1515/problem/E</a> èµ›ä¸­æƒ³äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œè¿˜æ˜¯å¤„ç†ä¸äº†ä¸€äº›ç»†èŠ‚ã€‚</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªç”µè„‘æ’åœ¨ä¸€æ’ï¼Œä½ å¯ä»¥æ‰‹åŠ¨æ‰“å¼€ä»»æ„ç”µè„‘ï¼Œä½†æ˜¯æœ‰ä¸ªç‰¹ç‚¹ï¼Œ å¯¹äºä¸€ä¸ªç”µè„‘ï¼Œå¦‚æœå®ƒå·¦å³éƒ½è¢«æ‰“å¼€äº†ï¼Œé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨æ‰“å¼€ã€‚</p><p>æœ€åé—®ï¼Œæœ‰å¤šå°‘ç§å…¨éƒ¨å¼€æœºæ–¹æ¡ˆï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æˆ‘ä»¬è€ƒè™‘ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§å…¨éƒ¨éƒ½æ˜¯æ‰‹åŠ¨æ‰“å¼€ï¼Œç¬¬äºŒç§å¸¦æœ‰è‡ªåŠ¨æ‰“å¼€ã€‚</p><ul><li><strong>å…¨éƒ¨æ‰‹åŠ¨æ‰“å¼€</strong></li></ul><p>å¯¹äºç”µè„‘1ï¼Œå¦‚æœè¦å…¨éƒ¨æ‰‹åŠ¨å¼€å¯ï¼Œåˆ™éœ€è¦æŒ‰ç…§1ï¼Œ2â€¦nçš„é¡ºåºæ‰“å¼€ï¼Œ$C_{n-1}^0$ å¯¹äºç”µè„‘2ï¼Œå¦‚æœè¦å…¨éƒ¨æ‰‹åŠ¨å¼€å¯ï¼Œåˆ™åé¢å¿…é¡»æŒ‰ç…§3,4..nçš„é¡ºåºï¼Œå‰é¢å¿…é¡»1ï¼Œ$C_{n-1}^1$ å¯¹äºç”µè„‘kï¼Œå¦‚æœè¦å…¨éƒ¨æ‰‹åŠ¨å¼€å¯ï¼Œåˆ™åé¢å¿…é¡»è¦æŒ‰ç…§k+1,k+2â€¦nçš„é¡ºåºï¼Œå‰é¢å¿…é¡»æ˜¯k-1,â€¦1çš„é¡ºåºï¼Œæ‰€æœ‰è¦åœ¨n-1ä¸­é€‰k-1ä¸ªå¼€å‰é¢ï¼Œ$C_{n-1}^{k-1}$</p><p>åˆ™æ€»æ–¹æ¡ˆæ•°ä¸º$C_{n-1}^0+C_{n-1}^1+â€¦+C_{n-1}^{n-1}&#x3D;2^{n-1}$</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºxå°ç”µè„‘ï¼Œå¦‚æœå…¨éƒ¨æ‰‹åŠ¨å¼€å¯çš„è¯ï¼Œæœ‰$2^{x-1}$ç§æ–¹æ¡ˆæ•°ï¼Œä¸‹é¢ä¼šç”¨åˆ°ã€‚</p><ul><li><strong>å¦‚æœæœ‰è‡ªåŠ¨æ‰“å¼€</strong></li></ul><p>è‡ªåŠ¨æ‰“å¼€åªä¼šå‡ºç°ç°åœ¨å·¦å³éƒ½æ‰“å¼€åæ‰ä¼šè‡ªåŠ¨æ‰“å¼€ï¼Œæ‰€ä»¥å‡è®¾è¿™ä¹ˆä¸€ç§å¼€æœºæ–¹å¼ï¼š è®¾æœ‰$x_k$å°ç”µè„‘è‡ªåŠ¨å¼€å¯ã€‚ 1åˆ°$x_1-1$æ‰‹åŠ¨æ‰“å¼€ï¼Œ$x_1+1$åˆ°$x_2-1$æ‰‹åŠ¨æ‰“å¼€ï¼Œâ€¦$x_k+1$åˆ°næ‰‹åŠ¨æ‰“å¼€ã€‚$(x_k+1\leq N)$ è¿™æ ·ï¼Œ$x_k$å°éƒ½æ»¡è¶³è‡ªåŠ¨æ‰“å¼€çš„è¦æ±‚ã€‚</p><p>ç„¶åå°±æ˜¯è¦æ€ä¹ˆè¿›è¡Œè¿™ä¸ªè¿‡ç¨‹ã€‚</p><p>è®¾f[i][j]ä¸ºå‰iå°ç”µè„‘ä¸­ï¼Œæœ‰jå°æ˜¯æ‰‹åŠ¨æ‰“å¼€ï¼Œç¬¬iå°ä¹Ÿæ˜¯æ‰‹åŠ¨æ‰“å¼€ï¼Œå¹¶ä¸”ç¬¬i+1å°è‡ªåŠ¨å¼€å¯çš„æ–¹æ¡ˆæ•°ã€‚</p><p>åˆ™æˆ‘ä»¬æƒ³è®©ç¬¬i+1å°æˆä¸ºè‡ªåŠ¨æ‰“å¼€çš„ç”µè„‘ï¼Œåˆ™i+1åé¢å‡ å°ç”µè„‘æ‰‹åŠ¨æ‰“å¼€ï¼Œè®¾ä¸ºkå°ã€‚</p><p>åˆ™å°±æ˜¯f[i][j]å‘f[i+1+k][j+k]çš„è½¬ç§»ï¼Œæ€ä¹ˆè½¬ç§»å‘¢ï¼Ÿ</p><p>f[i+1+k][j+k]æ¯”f[i][j]å¤šäº†kå°æ‰‹åŠ¨å¼€å¯ã€‚ è¿™kå°æˆ‘ä»¬ç§°ä¸ºâ€œæ–°â€æ‰“å¼€çš„ç”µè„‘ï¼Œjå°æˆ‘ä»¬ç§°ä¸ºâ€œæ—§â€æ‰“å¼€çš„ç”µè„‘ã€‚ ç¬¬i+1æ˜¯è‡ªåŠ¨æ‰“å¼€çš„ã€‚ ä¹‹å‰æˆ‘ä»¬å¤„ç†è¿‡ï¼Œkå°æ‰‹åŠ¨å¼€å¯çš„æ–¹æ¡ˆæ•°ä¸º$2^{k-1}$ï¼Œç„¶åæˆ‘ä»¬è¦å°†kå°å’Œjå°ä¸€èµ·åˆå¹¶ã€‚ é‚£ä¹ˆå°±æ˜¯æœ‰j+kå°ä¸­ï¼Œæœ‰kå°æ˜¯â€œæ–°â€ç”µè„‘ï¼Œæ–¹æ¡ˆæ•°ä¸º$C_{k+j}^k$ã€‚</p><p>åˆ™è½¬ç§»æ–¹ç¨‹ä¸º$f[i+1+k][j+k]&#x3D;f[i][j]*2^{k-1}*C_{j+k}^kã€‚$</p><p>iã€jã€kä¸‰å±‚å¾ªç¯è¿›è¡Œè½¬ç§»ï¼Œ$O(n^3)$æ˜¯å¯ä»¥çš„ã€‚</p><p>æœ€åé¢„å¤„ç†ç»„åˆæ•°è¿›è¡Œè½¬ç§»å³å¯ã€‚</p><h2 id="Code-436MS"><a href="#Code-436MS" class="headerlink" title="Code(436MS)"></a>Code(436MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">ll n, mod;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">410</span>;</span><br><span class="line">ll F[N], invn[N], invF[N], bit[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    bit[<span class="number">1</span>] = F[<span class="number">0</span>] = F[<span class="number">1</span>] = invn[<span class="number">0</span>] = invn[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++)&#123;</span><br><span class="line">        F[i] = F[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        invn[i] = (mod - mod / i) * invn[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * invn[i] % mod;</span><br><span class="line">        bit[i] = bit[i - <span class="number">1</span>] * <span class="number">2</span> % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll m, ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = F[m];</span><br><span class="line">    ans = ans * invF[n] % mod;</span><br><span class="line">    ans = ans * invF[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; mod;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    vector&lt;vector&lt;ll&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;ll&gt;(n + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123; <span class="comment">// å‰iå°ç”µè„‘</span></span><br><span class="line">        dp[i][i] = bit[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= i; j++) &#123; <span class="comment">// iå°ä¸­æœ‰jå°æ˜¯æ‰‹åŠ¨æ‰“å¼€çš„</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k + i + <span class="number">1</span> &lt;= n; k++) &#123; <span class="comment">// i + 1æ˜¯è‡ªåŠ¨æ‰“å¼€çš„ï¼Œç„¶ååé¢kå°éœ€è¦æ‰‹åŠ¨æ‰“å¼€</span></span><br><span class="line">                dp[i + <span class="number">1</span> + k][j + k] = (dp[i + <span class="number">1</span> + k][j + k] + dp[i][j] * bit[k] % mod * <span class="built_in">C</span>(j + k, k) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        ans = (ans + dp[n][i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/03/codeforces-global-round-14-e-phoenix-and-computers/">https://blog.jujimeizuo.cn/2021/05/03/codeforces-global-round-14-e-phoenix-and-computers/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»™ä½ çš„åšå®¢ç½‘ç«™æ·»åŠ ä¸€ä¸ªçœ‹æ¿å¨˜</title>
      <link href="/2021/05/02/live2d/"/>
      <url>/2021/05/02/live2d/</url>
      
        <content type="html"><![CDATA[<p>è‡´è°¢å¤§ä½¬ï¼š<a href="https://m1314.cn/287.html">Mario</a></p><h3 id="é¡¹ç›®ä¸‹è½½åœ°å€"><a href="#é¡¹ç›®ä¸‹è½½åœ°å€" class="headerlink" title="é¡¹ç›®ä¸‹è½½åœ°å€"></a>é¡¹ç›®ä¸‹è½½åœ°å€</h3><span id="more"></span><p><a href="https://github.com/jujimeizuo/wordpress_live2d">https://github.com/jujimeizuo/wordpress_live2d</a></p><h3 id="ä½¿ç”¨é¡»çŸ¥"><a href="#ä½¿ç”¨é¡»çŸ¥" class="headerlink" title="ä½¿ç”¨é¡»çŸ¥"></a>ä½¿ç”¨é¡»çŸ¥</h3><p>éœ€è¦Â <code>Font Awesome 4.7.0</code>Â æ”¯æŒï¼Œè¯·ç¡®ä¿ç›¸å…³æ ·å¼è¡¨å·²åœ¨é¡µé¢ä¸­åŠ è½½ï¼Œä¾‹å¦‚åœ¨Â <code>&lt;head&gt;</code>Â ä¸­åŠ å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;</span><br></pre></td></tr></table></figure><p>Â </p><h3 id="é¡¹ç›®ä»£ç "><a href="#é¡¹ç›®ä»£ç " class="headerlink" title="é¡¹ç›®ä»£ç "></a>é¡¹ç›®ä»£ç </h3><p><a href="https://github.com/jujimeizuo/wordpress_live2d">é€‚ç”¨äºSakuraä¸»é¢˜çš„live2d + å°‘å¥³å‰çº¿API</a></p><h4 id="å°‘å¥³å‰çº¿APIç‰ˆ"><a href="#å°‘å¥³å‰çº¿APIç‰ˆ" class="headerlink" title="å°‘å¥³å‰çº¿APIç‰ˆ"></a>å°‘å¥³å‰çº¿APIç‰ˆ</h4><blockquote><ol><li>å¦‚æœä½ æ˜¯å°ç™½ï¼Œæˆ–è€…åªéœ€è¦æœ€åŸºç¡€çš„åŠŸèƒ½ï¼Œè¯·å°†ä¸Šæ–¹Â <strong>é¡¹ç›®ä»£ç </strong>Â ä¸‹è½½ä¸‹æ¥ã€å‰é¢çš„Â <code>Font Awesome</code>Â çš„ä¸€è¡Œä»£ç ï¼ˆ<strong>çœ‹éœ€æ±‚æ·»åŠ </strong>ï¼‰ã€‘ï¼Œå°†Â <code>live2d_api</code>Â ç›®å½•æ”¾åˆ°ä½ çš„ç«™ç‚¹æ ¹ç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªÂ <code>live2d</code>Â ç›®å½•å°†é¡¹ç›®çš„å…¶ä»–æ–‡ä»¶éƒ½æ”¾è¿›å»ã€‚</li><li>ä¿®æ”¹Â <code>autoload.js</code>Â æ–‡ä»¶ä¸­ç¬¬37è¡Œçš„Â <code>apiPath</code>Â ä¸ºä½ çš„Â <code>https://ä½ çš„åŸŸå/live2d_api/</code>, ç¬¬2è¡Œå’Œç¬¬3è¡Œè·¯å¾„æ”¹ä¸ºÂ <code>https://ä½ çš„åŸŸå/live2d/</code></li><li>ç„¶ååœ¨ä½ ä¸»é¢˜çš„Â <code>footer.php</code>Â æ–‡ä»¶Â <code>&lt;/body&gt;</code>Â æ ‡ç­¾ä¹‹ä¸Šå¼•ç”¨å³å¯</li></ol></blockquote><p>Â </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://ä½ çš„åŸŸå/live2d/autoload.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœç¤ºæ„å›¾"><a href="#æ•ˆæœç¤ºæ„å›¾" class="headerlink" title="æ•ˆæœç¤ºæ„å›¾"></a>æ•ˆæœç¤ºæ„å›¾</h3><p><img src="https://cdn.jujimeizuo.cn/blog/2021/05/EKP694EJX@QK_4.png"><img src="https://cdn.jujimeizuo.cn/blog/2021/05/VC9YM177S3GJAIBM2.png"></p><h3 id="å…¶ä»–è¯´æ˜"><a href="#å…¶ä»–è¯´æ˜" class="headerlink" title="å…¶ä»–è¯´æ˜"></a>å…¶ä»–è¯´æ˜</h3><p><code>autoload.js</code>Â ä¸­çš„Â <code>apiPath:</code>Â ä¸º live2d API æ¥å£ï¼Œé»˜è®¤å³å¯ï¼Œå¦‚æœä½ æœ‰å…¶ä»–çš„ä¹Ÿå¯ä»¥ä¿®æ”¹ <code>autoload.js</code>Â ä¸­çš„Â <code>cdnPath:</code>Â ä¸ºå¯¹è±¡å­˜å‚¨è·¯å¾„ï¼Œæ³¨æ„è·¨åŸŸçš„é—®é¢˜ï¼Œä¸ä½¿ç”¨è¯·æ³¨é‡Šæ‰ Jsoné…ç½®ï¼ˆSDK 2ï¼‰ï¼š<a href="https://live2d.pavostudio.com/doc/zh-cn/live2d/model-config-sdk2/">https://live2d.pavostudio.com/doc/zh-cn/live2d/model-config-sdk2/</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/05/02/live2d/">https://blog.jujimeizuo.cn/2021/05/02/live2d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> wordpressç¾åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>apache2ä¸èƒ½é‡å¯</title>
      <link href="/2021/04/25/apache2-not-start/"/>
      <url>/2021/04/25/apache2-not-start/</url>
      
        <content type="html"><![CDATA[<h4 id="å‡ºç°é—®é¢˜"><a href="#å‡ºç°é—®é¢˜" class="headerlink" title="å‡ºç°é—®é¢˜"></a>å‡ºç°é—®é¢˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[....] Starting apache2 (via systemctl): apache2.serviceJob <span class="keyword">for</span> apache2.service failed because the control process exited with error code.</span><br><span class="line">See <span class="string">&quot;systemctl status apache2.service&quot;</span> and <span class="string">&quot;journalctl -xe&quot;</span> <span class="keyword">for</span> details.</span><br><span class="line"> failed!</span><br></pre></td></tr></table></figure><h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>ç»è¿‡æµ‹è¯•å¸è½½å¹¶æ¸…é™¤è½¯ä»¶åŒ…çš„é…ç½®å³å¯è§£å†³</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge apache2 </span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apache2 </span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/25/apache2-not-start/">https://blog.jujimeizuo.cn/2021/04/25/apache2-not-start/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux é…ç½®php</title>
      <link href="/2021/04/24/linux-config-php/"/>
      <url>/2021/04/24/linux-config-php/</url>
      
        <content type="html"><![CDATA[<h2 id="phpé…ç½®"><a href="#phpé…ç½®" class="headerlink" title="phpé…ç½®"></a>phpé…ç½®</h2><h4 id="å®˜ç½‘ä¸‹è½½"><a href="#å®˜ç½‘ä¸‹è½½" class="headerlink" title="å®˜ç½‘ä¸‹è½½"></a>å®˜ç½‘ä¸‹è½½</h4><p><a href="http://php.net/downloads.php-8.0.3.tar.gz">http://php.net/downloads.php-8.0.3.tar.gz</a></p><p>æ”¾åœ¨ç›®å½•&#x2F;usr&#x2F;local&#x2F;srcä¸‹ï¼š</p><h4 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf php-8.0.3.tar.gz</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210424104401884.png"></p><h4 id="configure"><a href="#configure" class="headerlink" title=".&#x2F;configure"></a>.&#x2F;configure</h4><p>è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br></pre></td></tr></table></figure><h3 id="å¯èƒ½å‡ºç°çš„é”™è¯¯"><a href="#å¯èƒ½å‡ºç°çš„é”™è¯¯" class="headerlink" title="å¯èƒ½å‡ºç°çš„é”™è¯¯"></a>å¯èƒ½å‡ºç°çš„é”™è¯¯</h3><h4 id="update"><a href="#update" class="headerlink" title="update"></a>update</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><h4 id="libxmlç¼ºå¤±"><a href="#libxmlç¼ºå¤±" class="headerlink" title="libxmlç¼ºå¤±"></a>libxmlç¼ºå¤±</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210424104732489.png"></p><p>è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libxml2-dev</span><br></pre></td></tr></table></figure><h4 id="sqlite3ç¼ºå¤±"><a href="#sqlite3ç¼ºå¤±" class="headerlink" title="sqlite3ç¼ºå¤±"></a>sqlite3ç¼ºå¤±</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210424110417584.png"></p><p>è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install sqlite3</span><br></pre></td></tr></table></figure><p>è¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Ÿ</p><p>è¿™é‡Œæ˜¯ç¼ºå°‘devç›¸å…³é…ç½®ã€‚</p><p>è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libsqlite3-dev</span><br></pre></td></tr></table></figure><h4 id="make"><a href="#make" class="headerlink" title="make"></a>make</h4><p>ç­‰å¾…ä¸€æ®µæ—¶é—´</p><h4 id="make-install"><a href="#make-install" class="headerlink" title="make install"></a>make install</h4><p>ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå®Œæˆã€‚</p><h4 id="ç»“æŸæ­¥éª¤"><a href="#ç»“æŸæ­¥éª¤" class="headerlink" title="ç»“æŸæ­¥éª¤"></a>ç»“æŸæ­¥éª¤</h4><p>å°†phpé…ç½®æ–‡æ¡£å¤åˆ¶åˆ° &#x2F;usr&#x2F;local&#x2F;lib ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> php.ini-development /usr/local/lib</span><br></pre></td></tr></table></figure><p>æ”¹åå­—ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /usr/local/lib/php.ini-development /usr/local/lib/php.ini</span><br></pre></td></tr></table></figure><h2 id="é…ç½®apacheå…³è”php"><a href="#é…ç½®apacheå…³è”php" class="headerlink" title="é…ç½®apacheå…³è”php"></a>é…ç½®apacheå…³è”php</h2><p><strong>apacheç‰ˆæœ¬ä¸åŒï¼Œæ–‡ä»¶å­˜æ”¾ä½ç½®ä¸åŒã€‚æ–¹ä¾¿èµ·è§ï¼Œè¿™é‡Œé‡‡ç”¨æ—§ç‰ˆå½¢å¼ï¼Œä½†æ˜¯ä¸ªäººç”¨çš„æ˜¯æ–°ç‰ˆçš„apache2ã€‚</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/httpd/conf/httpd.conf</span><br></pre></td></tr></table></figure><h4 id="é…ç½®httpd-conf"><a href="#é…ç½®httpd-conf" class="headerlink" title="é…ç½®httpd.conf"></a>é…ç½®httpd.conf</h4><p>éœ€è¦æ·»åŠ ä¸‹é¢å‡ å¥è¯ï¼Œä¸ºäº†èƒ½è®©phpæ–‡ä»¶æ­£å¸¸ç¼–è¯‘ï¼š</p><h3 id="è€ç‰ˆapache"><a href="#è€ç‰ˆapache" class="headerlink" title="è€ç‰ˆapache"></a>è€ç‰ˆapache</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##Example:</span></span><br><span class="line"><span class="comment">##LoadMoudle foo_module modules/mod_foo.so</span></span><br><span class="line">LoadModule php5_module modules/libphp5.so</span><br><span class="line"><span class="comment">##Addtype application/x-tar .tgz</span></span><br><span class="line">AddType application/x-httpd-php .php</span><br><span class="line"><span class="comment">##</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯LoadModuleä¹‹åï¼Œsudo &#x2F;etc&#x2F;init.d&#x2F;apache2 restartä¼šæŠ¥é”™ã€‚ åŸå› ï¼š</p><p>ç‰ˆæœ¬ä¸åŒã€æ–‡ä»¶å­˜æ”¾ä½ç½®ä¸åŒã€ä»£ç å†™é”™ç­‰ç­‰æƒ…å†µã€‚</p><h3 id="æ–°ç‰ˆapache2"><a href="#æ–°ç‰ˆapache2" class="headerlink" title="æ–°ç‰ˆapache2"></a>æ–°ç‰ˆapache2</h3><p>å¼€å¯phpæ¨¡å—ï¼š</p><p>cdåˆ°apacheçš„æ¨¡å—ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/apache2/mods-available</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°phpå¼€å¤´çš„æ–‡ä»¶ï¼Œç„¶åå¼€å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo a2enmod php7.2</span><br></pre></td></tr></table></figure><p>ä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210425155306341.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo a2dismod mpm_event</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/2021042515545893.png"></p><p>æœ€åé‡å¯ä¸€ä¸‹apache2ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart apache2</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºé”™çš„è¯ï¼Œhtmlçš„æ–‡ä»¶ä¹Ÿä¼šå‡ºé”™ï¼Œä½†æ˜¯åˆ æ‰å³å¯ã€‚ä½†æ˜¯è¿™ä¸ªé—®é¢˜è¿˜æ˜¯è¦è§£å†³çš„ã€‚</p><h4 id="æŸ¥çœ‹ç½‘ç«™çš„DocumentRootå’ŒDirectoryIndex"><a href="#æŸ¥çœ‹ç½‘ç«™çš„DocumentRootå’ŒDirectoryIndex" class="headerlink" title="æŸ¥çœ‹ç½‘ç«™çš„DocumentRootå’ŒDirectoryIndex"></a>æŸ¥çœ‹ç½‘ç«™çš„DocumentRootå’ŒDirectoryIndex</h4><p>å€Ÿé‰´ï¼š<a href="https://www.cnblogs.com/omak/p/11102133.html">https://www.cnblogs.com/omak/p/11102133.html</a></p><h2 id="å®Œç»“æ’’èŠ±"><a href="#å®Œç»“æ’’èŠ±" class="headerlink" title="å®Œç»“æ’’èŠ±"></a>å®Œç»“æ’’èŠ±</h2><p>ç¼–å†™ä¸€ä¸ªphpæ–‡ä»¶æ”¾åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹ï¼Œç„¶åç½‘é¡µè¾“å…¥åœ°å€å³å¯ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/24/linux-config-php/">https://blog.jujimeizuo.cn/2021/04/24/linux-config-php/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springbootä¸‹è½½æ–‡ä»¶</title>
      <link href="/2021/04/22/springboot-download-file/"/>
      <url>/2021/04/22/springboot-download-file/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸‹è½½æ–‡ä»¶ï¼Œå®ç°åœ¨çº¿å’Œä¸‹è½½åˆ°æœ¬åœ°"><a href="#ä¸‹è½½æ–‡ä»¶ï¼Œå®ç°åœ¨çº¿å’Œä¸‹è½½åˆ°æœ¬åœ°" class="headerlink" title="ä¸‹è½½æ–‡ä»¶ï¼Œå®ç°åœ¨çº¿å’Œä¸‹è½½åˆ°æœ¬åœ°"></a>ä¸‹è½½æ–‡ä»¶ï¼Œå®ç°åœ¨çº¿å’Œä¸‹è½½åˆ°æœ¬åœ°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zjgsu.sdc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zjgsu.sdc.pojo.resquest.Name;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.FileSystemResource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ContentDisposition;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpHeaders;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StringUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> jdk.nashorn.internal.runtime.regexp.joni.Config.log;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DownloadController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;sdc.download.path&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String filepath;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/download/&#123;file&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;FileSystemResource&gt; <span class="title function_">download</span><span class="params">(<span class="meta">@PathVariable</span> String file)</span> &#123;</span><br><span class="line"><span class="comment">//        if(file == null) &#123;</span></span><br><span class="line"><span class="comment">//            log.info(&quot;æ–‡ä»¶ä¸ºç©º&quot;);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> filepath + file;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;&#123;&#125;ä¸‹è½½ä¸­&quot;</span>, file);</span><br><span class="line">        <span class="type">FileSystemResource</span> <span class="variable">fileSystemResource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemResource</span>(path);</span><br><span class="line">        <span class="keyword">if</span>(!fileSystemResource.exists())&#123;</span><br><span class="line">            log.info(<span class="string">&quot;æ–‡ä»¶ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.notFound().build();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().headers(getResponseHeaders(file)).body(fileSystemResource);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> HttpHeaders <span class="title function_">getResponseHeaders</span><span class="params">(String filename)</span> &#123;</span><br><span class="line">        <span class="type">HttpHeaders</span> <span class="variable">headers</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpHeaders</span>();</span><br><span class="line">        ContentDisposition.<span class="type">Builder</span> <span class="variable">builder</span> <span class="operator">=</span> ContentDisposition.builder(<span class="string">&quot;inline&quot;</span>);</span><br><span class="line">         <span class="comment">// inlineè¡¨ç¤ºæ’­æ”¾ï¼Œattachmentä¸ºä¸‹è½½åˆ°æœ¬åœ°</span></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.hasText(filename)) &#123;</span><br><span class="line">            builder.filename(filename, StandardCharsets.UTF_8);</span><br><span class="line">        &#125;</span><br><span class="line">        headers.setContentDisposition(builder.build());</span><br><span class="line">        headers.setContentType(<span class="keyword">new</span> <span class="title class_">MediaType</span>(<span class="string">&quot;video&quot;</span>, <span class="string">&quot;mp4&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> headers;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶"></a>ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(value = &quot;/download/&#123;file&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> FileSystemResource <span class="title function_">download</span><span class="params">(<span class="meta">@PathVariable</span> String file)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(file == <span class="literal">null</span>) &#123;</span><br><span class="line">        log.error(<span class="string">&quot;fileä¸ºç©º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> filepath + file;</span><br><span class="line">    log.info(<span class="string">&quot;&#123;&#125;,ä¸‹è½½ä¸­&quot;</span>, file);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">FileSystemResource</span>(path);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/22/springboot-download-file/">https://blog.jujimeizuo.cn/2021/04/22/springboot-download-file/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P4389 ä»˜å…¬ä¸»çš„èƒŒåŒ… ç”Ÿæˆå‡½æ•°+å¤šé¡¹å¼ln+å¤šé¡¹å¼exp</title>
      <link href="/2021/04/15/luogu-p4389/"/>
      <url>/2021/04/15/luogu-p4389/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.luogu.com.cn/problem/P4389">https://www.luogu.com.cn/problem/P4389</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä½“ç§¯ä¸º$v_i$ï¼Œç»™å®šä¸€ä¸ªmï¼Œé—®è¿™äº›ç‰©å“æ°å¥½è£…[1,m]çš„æ–¹æ¡ˆæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¦‚æœæ•°æ®é‡å°ï¼Œåˆ™å¯ä»¥èƒŒåŒ…ã€‚ ä½†é—®é¢˜æ˜¯ï¼Œnå’Œméƒ½æœ‰1e5ï¼Œä¸å¯èƒ½èƒŒåŒ…çš„ã€‚</p><p>å› ä¸ºæ˜¯ä¸€ç±»è®¡æ•°é—®é¢˜ï¼Œæ‰€ä»¥è€ƒè™‘ç”Ÿæˆå‡½æ•°ã€‚</p><p>è®¾åªè£…ä¸€ä¸ªç‰©å“ä½“ç§¯vï¼Œå®ƒå¯ä»¥ç”¨å¤šå¤§çš„èƒŒåŒ…ï¼Œé‚£å°±æ˜¯vï¼Œ2vï¼Œ..nvã€‚</p><p>è®¾ç”Ÿæˆå‡½æ•°ä¸º$F(x)&#x3D;\sum_{i&#x3D;0}^{\infty }x^{iv}$</p><p>åˆ™ï¼Œå¯¹äºä¸€ä¸ªsèƒŒåŒ…ï¼Œans&#x3D;æ‰€æœ‰ç”Ÿæˆå‡½æ•°å·ç§¯ï¼Œåˆ™å¤æ‚åº¦ä¸º$O(n\log n)$ã€‚ å¯¹äº[1,m]æ‰€æœ‰èƒŒåŒ…ï¼Œå¤æ‚åº¦ä¸º$O(mn\log n)$ï¼Œä¹Ÿå¾ˆçˆ†ç‚¸</p><p>æ‰€ä»¥è€ƒè™‘ç”Ÿæˆå‡½æ•°çš„å°é—­å½¢å¼æ¥ç®€åŒ–é—®é¢˜ã€‚</p><p>$$F(x)&#x3D;\sum_{i&#x3D;0}^{\infty }x^{iv}&#x3D;\frac{1}{1-x^{v}}$$</p><p>é‚£æˆ‘ä»¬å¯ä»¥æŠŠå°é—­å½¢å¼çš„æ±‚å·ç§¯ï¼Œå†æ¥ä¸€ä¸ªå¤šé¡¹å¼æ±‚é€†ã€‚ å¤æ‚åº¦ä¸º$O(2^m)$ï¼Œè¿˜æ˜¯çˆ†ç‚¸ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>ä¸Šé¢ä¸¤ç§æ–¹æ³•ï¼Œéƒ½æ˜¯å› ä¸ºå·ç§¯ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä¸ä¹˜æ³•ï¼Œè€Œæ”¹ä¸ºåŠ æ³•ï¼Œé‚£å¤æ‚åº¦æ˜¯ä¸æ˜¯å¯ä»¥äº†ï¼Ÿ</p><p>ä¹˜æ³•å˜åŠ æ³•ï¼Œå–å¯¹æ•°ï¼Œå¤šé¡¹å¼å–$\ln$çš„å¤æ‚åº¦ä¹Ÿæ˜¯$O(n\log n)$ï¼Œé‚£å¯¹æ‰€æœ‰çš„F(x)å–ï¼Œä¸æ˜¯ä¹Ÿä¼šTå—ï¼Ÿ</p><p>å…ˆæ¥çœ‹çœ‹è¿™ä¸ªå¤šé¡¹å¼å–$\ln$ æ˜¯ä»€ä¹ˆå½¢å¼ã€‚</p><p>$è®¾G(x)&#x3D;\ln F(x)ï¼Œåˆ™$</p><p>$$Gâ€™(x)&#x3D;\frac{Fâ€™(x)}{F(x)}$$</p><p>$$Gâ€™(x)&#x3D;-\frac{-v*x^{v-1}}{1-x^{v}}$$</p><p>$$Gâ€™(x)&#x3D;\frac{v*x^{v-1}}{1-x^v}$$</p><p>$$Gâ€™(x)&#x3D;vx^{v-1}*\sum_{i&#x3D;0}^{\infty} x^{iv}$$</p><p>$$Gâ€™(x)&#x3D;v\sum_{i&#x3D;0}^{\infty} x^{iv+v-1}$$</p><p>$$G(x)&#x3D;v\sum_{i&#x3D;0}^{\infty} \frac{x^{iv+v}}{iv+v}$$</p><p>$$G(x)&#x3D;\sum_{i&#x3D;0}^{\infty}\frac{x^{v(i+1)}}{i+1}$$</p><p>$$G(x)&#x3D;\sum_{i&#x3D;1}^{\infty}\frac{x^{iv}}{i}$$</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆå¯¹æ¯ä¸ªç‰©å“çš„ä½“ç§¯è®¡æ•°ï¼Œç„¶ååˆ†é…ç»™å¯¹åº”çš„$x^i$ã€‚</p><p>æœ€åå¤šé¡¹å¼expå¾—åˆ°åŸæ¥å¤šé¡¹å¼ï¼Œå¹¶è¾“å‡ºã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; pdd;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; pll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> eb emplace_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> R = <span class="number">0.57721566490153286060651209</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">4e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Complex</span> &#123;</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">    <span class="built_in">Complex</span>(<span class="type">double</span> a = <span class="number">0</span>, <span class="type">double</span> b = <span class="number">0</span>): <span class="built_in">x</span>(a), <span class="built_in">y</span>(b) &#123;&#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> + (<span class="type">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x + rhs.x, y + rhs.y); &#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> - (<span class="type">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x - rhs.x, y - rhs.y); &#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> * (<span class="type">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x * rhs.x - y * rhs.y, x * rhs.y + y * rhs.x); &#125;</span><br><span class="line">    <span class="function">Complex <span class="title">conj</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x, -y); &#125;</span><br><span class="line">&#125; w[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tr[N];</span><br><span class="line">ll EXP[N], V[N], ans[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getLen</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="number">1</span>; <span class="keyword">while</span> (len &lt; (n &lt;&lt; <span class="number">1</span>)) len &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) tr[i] = (tr[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  (i &amp; <span class="number">1</span> ? len &gt;&gt; <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) w[i] = w[i] = <span class="built_in">Complex</span>(<span class="built_in">cos</span>(<span class="number">2</span> * PI * i / len), <span class="built_in">sin</span>(<span class="number">2</span> * PI * i / len));</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FFT</span><span class="params">(Complex *A, <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) <span class="keyword">if</span>(i &lt; tr[i]) <span class="built_in">swap</span>(A[i], A[tr[i]]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>, lyc = len &gt;&gt; <span class="number">1</span>; i &lt;= len; i &lt;&lt;= <span class="number">1</span>, lyc &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j += i) &#123;</span><br><span class="line">            Complex *l = A + j, *r = A + j + (i &gt;&gt; <span class="number">1</span>), *p = w;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; i &gt;&gt; <span class="number">1</span>; k++) &#123;</span><br><span class="line">                Complex tmp = *r * *p;</span><br><span class="line">                *r = *l - tmp, *l = *l + tmp;</span><br><span class="line">                ++l, ++r, p += lyc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">MTT</span><span class="params">(ll *x, ll *y, ll *z, <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) (x[i] += mod) %= mod, (y[i] += mod) %= mod;</span><br><span class="line">    <span class="type">static</span> Complex a[N], b[N];</span><br><span class="line">    <span class="type">static</span> Complex dfta[N], dftb[N], dftc[N], dftd[N];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) a[i] = <span class="built_in">Complex</span>(x[i] &amp; <span class="number">32767</span>, x[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) b[i] = <span class="built_in">Complex</span>(y[i] &amp; <span class="number">32767</span>, y[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    <span class="built_in">FFT</span>(a, len), <span class="built_in">FFT</span>(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="type">int</span> j = (len - i) &amp; (len - <span class="number">1</span>);</span><br><span class="line">        <span class="type">static</span> Complex da, db, dc, dd;</span><br><span class="line">        da = (a[i] + a[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        db = (a[i] - a[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">-0.5</span>);</span><br><span class="line">        dc = (b[i] + b[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        dd = (b[i] - b[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">-0.5</span>);</span><br><span class="line">        dfta[j] = da * dc;</span><br><span class="line">        dftb[j] = da * dd;</span><br><span class="line">        dftc[j] = db * dc;</span><br><span class="line">        dftd[j] = db * dd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) a[i] = dfta[i] + dftb[i] * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) b[i] = dftc[i] + dftd[i] * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FFT</span>(a, len), <span class="built_in">FFT</span>(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        ll da = (ll)(a[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        ll db = (ll)(a[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        ll dc = (ll)(b[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        ll dd = (ll)(b[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        z[i] = (da + ((ll)(db + dc) &lt;&lt; <span class="number">15</span>) + ((ll)dd &lt;&lt; <span class="number">30</span>)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Get_Inv</span><span class="params">(ll *f, ll *g, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) &#123; g[<span class="number">0</span>] = <span class="built_in">quick_pow</span>(f[<span class="number">0</span>], mod - <span class="number">2</span>); <span class="keyword">return</span> ; &#125;</span><br><span class="line">    <span class="built_in">Get_Inv</span>(f, g, (n + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">getLen</span>(n);</span><br><span class="line">    <span class="type">static</span> ll c[N];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; len; i++) c[i] = i &lt; n ? f[i] : <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">MTT</span>(c, g, c, len); <span class="built_in">MTT</span>(c, g, c, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) g[i] = (<span class="number">2ll</span> * g[i] - c[i] + mod) % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n;i &lt; len; i++) g[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; len; i++) c[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Get_Der</span><span class="params">(ll *f, ll *g, <span class="type">int</span> len)</span> </span>&#123; <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; len; i++) g[i - <span class="number">1</span>] = f[i] * i % mod; g[len - <span class="number">1</span>] = <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Get_Int</span><span class="params">(ll *f, ll *g, <span class="type">int</span> len)</span> </span>&#123; <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; len; i++) g[i] = f[i - <span class="number">1</span>] * <span class="built_in">quick_pow</span>(i, mod - <span class="number">2</span>) % mod; g[<span class="number">0</span>] = <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Get_Ln</span><span class="params">(ll *f, ll *g, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">static</span> ll a[N], b[N];</span><br><span class="line">    <span class="built_in">Get_Der</span>(f, a, n);</span><br><span class="line">    <span class="built_in">Get_Inv</span>(f, b, n);</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">getLen</span>(n);</span><br><span class="line">    <span class="built_in">MTT</span>(a, b, a, len);</span><br><span class="line">    <span class="built_in">Get_Int</span>(a, g, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n;i &lt; len; i++) g[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; len; i++) a[i] = b[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Get_Exp</span><span class="params">(ll *f, ll *g, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> (<span class="type">void</span>)(g[<span class="number">0</span>] = <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">Get_Exp</span>(f, g, (n + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> ll a[N];</span><br><span class="line">    <span class="built_in">Get_Ln</span>(g, a, n);</span><br><span class="line">    a[<span class="number">0</span>] = (f[<span class="number">0</span>] + <span class="number">1</span> - a[<span class="number">0</span>] + mod) % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) a[i] = (f[i] - a[i] + mod) % mod;</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">getLen</span>(n);</span><br><span class="line">    <span class="built_in">MTT</span>(a, g, g, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n;i &lt; len; i++) g[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; len; i++) a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> v; cin &gt;&gt; v;</span><br><span class="line">        V[v]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> v = <span class="number">1</span>;v &lt;= m; v++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(V[v]) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m / v; i++) &#123;</span><br><span class="line">                EXP[i * v] = (EXP[i * v] + <span class="number">1ll</span> * V[v] * <span class="built_in">quick_pow</span>(i, mod - <span class="number">2</span>)) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Get_Exp</span>(EXP, ans, m + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) cout &lt;&lt; ans[i] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">// cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/15/luogu-p4389/">https://blog.jujimeizuo.cn/2021/04/15/luogu-p4389/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EOJ Monthly 2019.11 E-æ•°å­¦é¢˜ è«æ¯”ä¹Œæ–¯åæ¼”+æœæ•™ç­›+æ‹‰æ ¼æœ—æ—¥æ’å€¼</title>
      <link href="/2021/04/13/eoj-monthly-2019-11-e/"/>
      <url>/2021/04/13/eoj-monthly-2019-11-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://acm.ecnu.edu.cn/contest/231/problem/E/##report16">https://acm.ecnu.edu.cn/contest/231/problem/E/##report16</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{a_1&#x3D;1}^iâ€¦\sum_{a_k&#x3D;1}^i[gcd(a_1,a_2..a_k,i)&#x3D;1]$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$$\sum_{i&#x3D;1}^n\sum_{a_1&#x3D;1}^iâ€¦\sum_{a_k&#x3D;1}^i[gcd(a_1,a_2..a_k,i)&#x3D;1]$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{a_1&#x3D;1}^iâ€¦\sum_{a_k&#x3D;1}^i\sum_{da_1..da_k\;di}\mu(i)$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{di}\mu(d)(\frac{i}{d})^k$$</p><p>$$\sum_{d&#x3D;1}^n\mu(d)\sum_{i&#x3D;1}^{\frac{n}{d}}i^k$$</p><p>å› ä¸ºnæœ‰1e9ï¼Œæ‰€ä»¥æœæ•™ç­›å¤„ç†ï¼Œ$\sum_{i&#x3D;1}^n i^k$ç”¨æ‹‰æ ¼æœ—æ—¥æ’å€¼&#x2F;ä¼¯åŠªåˆ©æ•°å¤„ç†å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> polysum &#123;</span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rep(i,a,n) for (int i=a;i&lt;n;i++)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> per(i,a,n) for (int i=n-1;i&gt;=a;i--)</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> D=<span class="number">1010000</span>;<span class="comment">///å¯èƒ½éœ€è¦ç”¨åˆ°çš„æœ€é«˜æ¬¡</span></span><br><span class="line">    ll a[D],f[D],g[D],p[D],p1[D],p2[D],b[D],h[D][<span class="number">2</span>],C[D], num[D];</span><br><span class="line">    <span class="function">ll <span class="title">powmod</span><span class="params">(ll a,ll b)</span></span>&#123;ll res=<span class="number">1</span>;a%=mod;<span class="built_in">assert</span>(b&gt;=<span class="number">0</span>);<span class="keyword">for</span>(;b;b&gt;&gt;=<span class="number">1</span>)&#123;<span class="keyword">if</span>(b&amp;<span class="number">1</span>)res=res*a%mod;a=a*a%mod;&#125;<span class="keyword">return</span> res;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///å‡½æ•°ç”¨é€”ï¼šç»™å‡ºæ•°åˆ—çš„ï¼ˆd+1ï¼‰é¡¹ï¼Œå…¶ä¸­dä¸ºæœ€é«˜æ¬¡æ–¹é¡¹</span></span><br><span class="line">    <span class="comment">///æ±‚å‡ºæ•°åˆ—çš„ç¬¬né¡¹ï¼Œæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹</span></span><br><span class="line">    <span class="function">ll <span class="title">calcn</span><span class="params">(<span class="type">int</span> d,ll *a,ll n)</span> </span>&#123; <span class="comment">/// a[0].. a[d]  a[n]</span></span><br><span class="line">        <span class="keyword">if</span> (n&lt;=d) <span class="keyword">return</span> a[n];</span><br><span class="line">        p1[<span class="number">0</span>]=p2[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">rep</span>(i,<span class="number">0</span>,d+<span class="number">1</span>) &#123;</span><br><span class="line">            ll t=(n-i+mod)%mod;</span><br><span class="line">            p1[i+<span class="number">1</span>]=p1[i]*t%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">rep</span>(i,<span class="number">0</span>,d+<span class="number">1</span>) &#123;</span><br><span class="line">            ll t=(n-d+i+mod)%mod;</span><br><span class="line">            p2[i+<span class="number">1</span>]=p2[i]*t%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">rep</span>(i,<span class="number">0</span>,d+<span class="number">1</span>) &#123;</span><br><span class="line">            ll t=g[i]*g[d-i]%mod*p1[i]%mod*p2[d-i]%mod*a[i]%mod;</span><br><span class="line">            <span class="keyword">if</span> ((d-i)&amp;<span class="number">1</span>) ans=(ans-t+mod)%mod;</span><br><span class="line">            <span class="keyword">else</span> ans=(ans+t)%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> M)</span> </span>&#123;<span class="comment">///ç”¨åˆ°çš„æœ€é«˜æ¬¡</span></span><br><span class="line">        f[<span class="number">0</span>]=f[<span class="number">1</span>]=g[<span class="number">0</span>]=g[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">rep</span>(i,<span class="number">2</span>,M+<span class="number">5</span>) f[i]=f[i<span class="number">-1</span>]*i%mod;</span><br><span class="line">        g[M+<span class="number">4</span>]=<span class="built_in">powmod</span>(f[M+<span class="number">4</span>],mod<span class="number">-2</span>);</span><br><span class="line">        <span class="built_in">per</span>(i,<span class="number">1</span>,M+<span class="number">4</span>) g[i]=g[i+<span class="number">1</span>]*(i+<span class="number">1</span>)%mod;<span class="comment">///è´¹é©¬å°å®šç†ç­›é€†å…ƒ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///å‡½æ•°ç”¨é€”ï¼šç»™å‡ºæ•°åˆ—çš„ï¼ˆm+1ï¼‰é¡¹ï¼Œå…¶ä¸­mä¸ºæœ€é«˜æ¬¡æ–¹</span></span><br><span class="line">    <span class="comment">///æ±‚å‡ºæ•°åˆ—çš„å‰ï¼ˆn-1ï¼‰é¡¹çš„å’Œï¼ˆä»ç¬¬0é¡¹å¼€å§‹ï¼‰</span></span><br><span class="line">    <span class="function">ll <span class="title">polysum</span><span class="params">(ll m,ll *a,ll n)</span> </span>&#123; <span class="comment">/// a[0].. a[m] \sum_&#123;i=0&#125;^&#123;n-1&#125; a[i]</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=m;i++) b[i]=a[i];</span><br><span class="line"></span><br><span class="line">        <span class="comment">///å‰né¡¹å’Œï¼Œå…¶æœ€é«˜æ¬¡å¹‚åŠ 1</span></span><br><span class="line">        b[m+<span class="number">1</span>]=<span class="built_in">calcn</span>(m,b,m+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">rep</span>(i,<span class="number">1</span>,m+<span class="number">2</span>) b[i]=(b[i<span class="number">-1</span>]+b[i])%mod;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">calcn</span>(m+<span class="number">1</span>,b,n<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ll <span class="title">solve</span><span class="params">(ll n, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        ll ans = <span class="built_in">polysum</span>(k + <span class="number">1</span>, num, n) % mod;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N], cnt, mu[N];</span><br><span class="line">ll n, k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_prime[i]) prime[++cnt] = i, mu[i] = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i * prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> mu[i * prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) mu[i] += mu[i - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    polysum::<span class="built_in">init</span>(k + <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= k + <span class="number">1</span>; i++) polysum::num[i] = polysum::<span class="built_in">powmod</span>((ll)i + <span class="number">1</span>, k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map&lt;ll, ll&gt; mp;</span><br><span class="line"><span class="function">ll <span class="title">S</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; N) <span class="keyword">return</span> mu[x];</span><br><span class="line">    <span class="keyword">if</span>(mp[x]) <span class="keyword">return</span> mp[x];</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">2</span>, r;l &lt;= x; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = <span class="built_in">min</span>(x, x / (x / l));</span><br><span class="line">        ans = ans - (r - l + <span class="number">1</span>) * <span class="built_in">S</span>(x / l);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mp[x] = ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll l = <span class="number">1</span>, r;l &lt;= n; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = <span class="built_in">min</span>(n, n / (n / l));</span><br><span class="line">        ans = (ans + (<span class="built_in">S</span>(r) - <span class="built_in">S</span>(l - <span class="number">1</span>)) * polysum::<span class="built_in">solve</span>(n / l, k) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/13/eoj-monthly-2019-11-e/">https://blog.jujimeizuo.cn/2021/04/13/eoj-monthly-2019-11-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jujimeizuoçš„ä¸€å¹´ACM</title>
      <link href="/2021/04/12/jujimeizuo-one-year-acm/"/>
      <url>/2021/04/12/jujimeizuo-one-year-acm/</url>
      
        <content type="html"><![CDATA[<p>æ—¶é—´è¿‡çš„å¾ˆå¿«ï¼Œä»å¤§ä¸€çš„å°ç™½ï¼Œåˆ°ç°åœ¨çš„newbieï¼Œå·²ç»æœ‰ä¸€å¹´å¤šçš„æ—¶é—´äº†ã€‚è¿™ä¸€å¹´çš„æ—¶é—´é‡Œï¼Œå‡ ä¹60%çš„æ—¶é—´é‡Œå…¨éƒ¨èŠ±åœ¨ACMä¸Šã€‚æ¯å¤©èµ·åºŠç¬¬ä¸€ä¸ªæƒ³çš„äº‹æƒ…ï¼Œä»Šå¤©è¦å­¦ä»€ä¹ˆç®—æ³•ï¼Ÿä»Šå¤©è¦Aå“ªç§é¢˜ï¼Ÿæ¯å¤©è¿‡ç€æ—¢ç—›è‹¦åˆå¿«ä¹çš„ç”Ÿæ´»ã€‚</p><h2 id="2020æš‘å‡"><a href="#2020æš‘å‡" class="headerlink" title="2020æš‘å‡"></a>2020æš‘å‡</h2><p>åœ¨2020å¹´é‡Œï¼Œæˆ‘è§‰å¾—æˆ‘æå‡å®åŠ›çš„æ—¶é—´æ˜¯åœ¨æš‘å‡ã€‚é‚£ä¸ªé˜¶æ®µï¼Œå‡ ä¹æ¯ä¸ªæ˜ŸæœŸéƒ½æœ‰4åœºæ¯”èµ›ï¼Œæ¯ä¸ªæ˜ŸæœŸéƒ½è¦å­¦ä¹ æ–°ç®—æ³•ï¼Œè¡¥æ–°é¢˜ï¼Œä¸ä¼šå†™çš„å°±é—®å­¦é•¿ï¼ˆè¦æ„Ÿè°¢å­¦é•¿ä»¬å¯¹æˆ‘çš„å¸®åŠ©ï¼‰ã€‚æ‰€ä»¥æ—¶é—´å¾ˆå¿«å•Šï¼Œæ•´ä¸ªæš‘å‡è¿‡å»äº†ã€‚æˆ‘æ˜¯æ•°å­¦é€‰æ‰‹ï¼Œæ‰€ä»¥æš‘å‡é‡Œæˆ‘å­¦äº†70%å’Œæ•°å­¦æœ‰å…³ï¼ˆé™¤äº†è®¡ç®—å‡ ä½•ï¼‰çš„ç®—æ³•ï¼Œé‚£30%çš„é«˜é˜¶ç®—æ³•æˆ‘è§‰å¾—æ²¡å¿…è¦å­¦äº†ã€‚å› ä¸ºå­¦äº†ä¹Ÿä¸ä¼šå†™ã€‚è¿˜å­¦äº†ç‚¹dpå’Œä¸€ç‚¹ç‚¹å…¶ä»–çš„ç®—æ³•ã€‚æ‰€ä»¥å’Œå®éªŒå®¤å…¶ä»–äººæ¥è¯´ï¼Œæˆ‘å­¦ä¹ çš„é€Ÿåº¦è¿˜æ˜¯ä¸ç®—æ…¢çš„ï¼Œè¿™æ—¶å€™å®åŠ›åº”è¯¥å¤„äºä¸­æ¸¸ã€‚</p><h2 id="å¤§äºŒä¸Šå­¦æœŸ"><a href="#å¤§äºŒä¸Šå­¦æœŸ" class="headerlink" title="å¤§äºŒä¸Šå­¦æœŸ"></a>å¤§äºŒä¸Šå­¦æœŸ</h2><p>å¤§äºŒä¸Šå­¦æœŸå¼€å­¦äº†ï¼Œåœ¨è¿™ä¸ªå­¦æœŸï¼Œæˆ‘çš„ä¸“ä¸šè¯¾ç¨‹æ€¥å‰§å¢å¤šï¼Œä½†ä¸æ¯«ä¸å½±å“æˆ‘å¯¹ACMçš„çƒ­çˆ±ã€‚æˆ‘è¿˜æ˜¯æ¯å¤©éƒ½ä¼šå»å®éªŒå®¤å­¦ä¹ ç®—æ³•ï¼Œåˆ·é¢˜ã€‚æˆ‘èµ·æ—©å»è¿‡ï¼Œæ™šä¸Šä¸Šå®Œè¯¾å»è¿‡ï¼Œç”šè‡³é€šå®µè¿‡ã€‚å¤§æ¦‚1ä¸ªæœˆæ—¶é—´ï¼Œæˆ‘æŠŠæ•°å­¦é‡Œçš„å¤šé¡¹å¼ä¹Ÿå­¦äº†ï¼Œä¹Ÿå°±æ˜¯å­¦äº†å‰©ä¸‹çš„20%ã€‚ä¸æ„§æ˜¯å®ƒï¼ŒçœŸçš„å¾ˆéš¾ã€‚ç„¶åæˆ‘ä»¬é˜Ÿçš„æ•°æ®ç»“æ„ä¹Ÿæ²¡äººç³»ç»Ÿåœ°å­¦è¿‡ï¼Œæˆ‘æƒ³ï¼Œæ•°å­¦é‡Œçš„ä¸œè¥¿è¿˜æœ‰å¾ˆå¤šè¦å¥—æ•°æ®ç»“æ„çš„ï¼Œæ‰€ä»¥æˆ‘æŠŠ70%çš„æ•°æ®ç»“æ„ä¹Ÿå­¦äº†ï¼Œå‰©ä¸‹çš„30%æ— éæ˜¯å¹³è¡¡æ ‘å•¦ç­‰ç­‰ã€‚è¿˜æœ‰æ ‘ä¸æ£®æ—éƒ¨åˆ†ï¼Œæ¯”å¦‚æ ‘é“¾å‰–åˆ†ã€æ ‘çš„ç›´å¾„ç­‰ç­‰ã€‚å—¯ï¼Œéå¸¸ä¸é”™ï¼Œæˆ‘å·²ç»æ˜¯æ•°å­¦+æ•°æ®ç»“æ„é€‰æ‰‹äº†ã€‚</p><p>ç”±äºç–«æƒ…åŸå› ï¼Œè¿™ä¸ªå­¦æœŸçš„æ‰€æœ‰æ¯”èµ›éƒ½æ˜¯çº¿ä¸Šä¸¾åŠï¼Œæ²¡æœ‰åœºåœ°çš„é™åˆ¶ï¼Œå‚èµ›äººæ•°å¤§å¤§å¢åŠ ã€‚æˆ‘ä»¬å¾ˆå¹¸è¿çš„å‚åŠ äº†æ‰€æœ‰æ¯”èµ›ã€‚ä¸€å…±å››åœºæ¯”èµ›ï¼Œæµ™æ±Ÿçœèµ›ã€CCPCé•¿æ˜¥ã€ICPCä¸Šæµ·ã€ICPCæµå—ï¼Œä½œä¸ºä¸€æ”¯æ–°äººé˜Ÿï¼Œå‰ä¸‰ä¸ªéƒ½æ˜¯æ‰“é“ï¼Œå°±æµå—è¿æ°”å¥½ç‚¹æ‹¿äº†ä¸ªé“œã€‚æ‰€ä»¥å­¦æ ¡å¥–åŠ±æ¯äºº500å—ï¼Œå¾ˆå¼€å¿ƒä¹°äº†ä¸ªæ˜¾ç¤ºå™¨ã€‚è¿™å››åœºæ¯”èµ›æ‰“å®Œä¹‹åå°±å‡†å¤‡æœŸæœ«å¤ä¹ ï¼Œç„¶åç»“æŸæ‰è¿™ä¸ªå­¦æœŸã€‚</p><h2 id="å¤§äºŒå¯’å‡"><a href="#å¤§äºŒå¯’å‡" class="headerlink" title="å¤§äºŒå¯’å‡"></a>å¤§äºŒå¯’å‡</h2><p>å¤§äºŒå¯’å‡åˆ°äº†ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿä¸èƒ½é—²ç€ã€‚ç”±äºæ ‘æ˜¯å›¾çš„ç‰¹ä¾‹ï¼Œæˆ‘åˆç²—ç•¥åœ°å­¦ä¹ äº†å›¾è®ºç›¸å…³ç®—æ³•ã€‚ä¸è¿‡å­¦åˆ°MCMFå°±æ²¡æœ‰å­¦äº†ï¼Œåæ§½ä¸€å¥ï¼Œå›¾è®ºçš„å†…å®¹çœŸçš„å¤šï¼Œæˆ‘ä¼°è®¡è¦ä¸€ä¸ªæš‘å‡æ‰èƒ½å­¦å®Œã€‚åœ¨å­¦ä¹ æ–°ç®—æ³•çš„åŒæ—¶ï¼Œæ‰“äº†å¾ˆå¤šçº¿ä¸Šæ¯”èµ›ï¼Œæ¯”å¦‚ç‰›å®¢ï¼Œcodeforcesç­‰ç­‰ã€‚è¿™ä¸ªæ—¶å€™æˆ‘çš„å®åŠ›æ¯”ä¹‹å‰ä¸Šå‡ä¸€ç‚¹ã€‚cfæ‰“äº†1700åˆ†ï¼ˆç‹—å±è¿ï¼‰ï¼Œç‰›å®¢æ‰“äº†1800åˆ†ï¼Œè™½ç„¶ç‰›å®¢çš„åˆ†æ²¡ä»€ä¹ˆç”¨ã€‚ã€‚ã€‚ ç”šè‡³åœ¨ç‰›å®¢çš„ä¸€åœºæ¯”èµ›ä¸­ï¼Œè¾¾åˆ°è¿‡Rank1ï¼Œæœ€ç»ˆæ’åRank4ï¼Œæˆ‘æ„Ÿå—åˆ°å¤§ä½¬çš„æ„Ÿè§‰ï¼ŒçœŸä¸é”™ã€‚å˜Ÿå˜Ÿå˜Ÿï¼Œå¯’å‡è¿‡å»äº†ã€‚</p><h2 id="å¤§äºŒä¸‹å­¦æœŸ"><a href="#å¤§äºŒä¸‹å­¦æœŸ" class="headerlink" title="å¤§äºŒä¸‹å­¦æœŸ"></a>å¤§äºŒä¸‹å­¦æœŸ</h2><p>å¤§äºŒä¸‹å­¦æœŸå¼€å­¦äº†ï¼Œè¿™ç¯‡åšå®¢ä¹Ÿå°±æ˜¯ä¸åˆ°æœŸä¸­å†™çš„ã€‚æˆ‘ä»¬é˜Ÿæ¯ä¸ªæ˜ŸæœŸéƒ½ä¼šæ‰“ä¸€åœºæ¨¡æ‹Ÿèµ›ï¼Œå‘ç°dpçš„é¢˜éå¸¸å¥½ï¼Œå­¦äº†dpä¹‹åæ”¶ç›Šéå¸¸é«˜ï¼Œæˆ‘åˆå»é‡æ¸©äº†dpï¼Œå› ä¸ºæˆ‘ä¹‹å‰å­¦è¿‡ä¸€ç‚¹dpï¼Œç°åœ¨ç–¯ç‹‚çš„åˆ·dpã€‚ç„¶åæˆ‘å°±è¢«å®éªŒå®¤çš„äººå˜²ç¬‘ä¸ºâ€œå…¨èƒ½å‹ACMerâ€ï¼Œè™½ç„¶æˆ‘ä¸è¿™ä¹ˆè®¤ä¸ºã€‚å› ä¸ºå­¦çš„æ›´å¤šçš„åŒæ—¶ï¼Œæ‰çŸ¥é“å¤–é¢çš„ä¸–ç•Œåˆ°åº•æœ‰å¤šå¤§ã€‚æˆ‘æ„Ÿè§‰æˆ‘å°±å°±éå¸¸æ¸ºå°ã€‚åœ¨è¿™æ®µæ—¶é—´æˆ‘å‘ç°æˆ‘åˆ°äº†ç“¶é¢ˆæœŸäº†ï¼Œä¸ç®¡å†™ä»€ä¹ˆé¢˜ï¼Œéƒ½ä¸æ€ä¹ˆä¼šå†™ï¼Œæˆ‘ç°åœ¨éå¸¸çš„è‡ªé—­ã€‚åŒæ—¶ï¼Œæˆ‘åˆå‘ç°æˆ‘çš„é˜Ÿå‹ä¸€ç›´åœ¨æ°´ï¼Œé™¤äº†å’Œæ‰“æ¯”èµ›çš„æ—¶é—´ï¼Œå°±æ²¡æ€ä¹ˆè®­ç»ƒè¿‡ï¼Œæ‰€ä»¥æˆ‘æ›´åŠ çš„éš¾å—ï¼Œä»¥åçš„ACMç”Ÿæ´»åˆ°åº•èƒ½åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚æˆ‘å¯¹æˆ‘çš„é˜Ÿå‹å¾ˆå¤±æœ›ï¼Œä½†æ˜¯æˆ‘çŸ¥é“ï¼Œä»–æ¯”æˆ‘èªæ˜ï¼Œä½†æ˜¯ACMï¼ŒåŠªåŠ›&gt;æ™ºå•†ï¼Œæ‰€ä»¥æˆ‘æ‰¾ä»–èŠå¤©ï¼Œåšåšæ€æƒ³å·¥ä½œï¼Œå¸Œæœ›ä»–èƒ½å‘ç°è‡ªå·±çš„ç¼ºç‚¹ã€‚</p><p>åˆ°è¿™é‡Œï¼Œ2021å¹´4æœˆ12æ—¥15ï¼š58åˆ†ï¼Œæ¥ä¸‹æ¥æˆ‘ä¸çŸ¥é“è¯¥å¹²ä»€ä¹ˆï¼Œçœ‹ç€é˜Ÿå‹çš„ç°çŠ¶ï¼Œå›æƒ³èµ·1å¹´çš„ACMç”Ÿæ´»ï¼Œæˆ‘å¿ƒä¸­æœ‰æƒ³é€€å½¹çš„æƒ³æ³•ã€‚ä½†æ˜¯æˆ‘çœŸçš„å¾ˆçˆ±ACMï¼Œä¸çŸ¥é“ä»¥åæ€ä¹ˆåŠã€‚æ¥ä¸‹æ¥è¿˜æœ‰17å·çš„çœèµ›å’Œ18å·çš„ecfinalï¼ŒåŠªåŠ›åŠ æ²¹å§ã€‚</p><p><strong>@2021å¹´4æœˆ12æ—¥16:00 ç‹™å‡»ç¾ä½</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/12/jujimeizuo-one-year-acm/">https://blog.jujimeizuo.cn/2021/04/12/jujimeizuo-one-year-acm/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´ICPCé“¶å· Easy Problem è«æ¯”ä¹Œæ–¯åæ¼”+æ¬§æ‹‰é™å¹‚+é¢„å¤„ç†</title>
      <link href="/2021/04/11/2019-icpc-yinchuan-easy-problem/"/>
      <url>/2021/04/11/2019-icpc-yinchuan-easy-problem/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{a_1&#x3D;1}^mâ€¦\sum_{a_n&#x3D;1}^m\prod_{i&#x3D;1}^na_i^k[gcd(a_1,a_2â€¦,a_n)&#x3D;d]$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$$\sum_{a_1&#x3D;1}^{\frac{m}{d}}â€¦\sum_{a_n&#x3D;1}^{\frac{m}{d}}\prod_{i&#x3D;1}^na_i^kd^k[gcd(a_1,a_2â€¦,a_n)&#x3D;1]$$</p><p>$æ³¨æ„æœ‰ä¸€ä¸ªd^kï¼$</p><p>$$d^k\sum_{a_1&#x3D;1}^{\frac{m}{d}}â€¦\sum_{a_n&#x3D;1}^{\frac{m}{d}}\prod_{i&#x3D;1}^na_i^k\sum_{ta_1â€¦ta_n}\mu(t)$$</p><p>$å˜æ¢æšä¸¾é¡ºåºï¼š$</p><p>$$d^{nk}\sum_{t&#x3D;1}^{\frac{m}{d}}\mu(t)\sum_{a_1&#x3D;1}^{\frac{m}{td}}â€¦\sum_{a_n&#x3D;1}^{\frac{m}{td}}\prod_{i&#x3D;1}^na_i^kt^k$$</p><p>$$d^{nk}\sum_{t&#x3D;1}^{\frac{m}{d}}t^{nk}\mu(t)\sum_{a_1&#x3D;1}^{\frac{m}{td}}â€¦\sum_{a_n&#x3D;1}^{\frac{m}{td}}\prod_{i&#x3D;1}^na_i^k$$</p><p>$è¿™é‡Œæœ‰ä¸€ä¸ªç„å­¦:$</p><p>$$\sum_{a_1&#x3D;1}^{\frac{m}{td}}â€¦\sum_{a_n&#x3D;1}^{\frac{m}{td}}\prod_{i&#x3D;1}^na_i^k&#x3D;(\sum_{i&#x3D;1}^{\frac{m}{td}}i^k)^n$$</p><p>$å› ä¸ºaå¯å–çš„å€¼å†[1,\frac{m}{td}]ï¼Œè€Œåé¢é‚£ä¸ªä½ å¯ä»¥æƒ³æˆå®Œå…¨å¹³æ–¹çš„æ¦‚å¿µï¼Œæ›´é«˜çš„æ•°å­¦æ„ä¹‰å°±æ˜¯æ¯ä¸ªæ•°éƒ½å»çš„æ‰€æœ‰è´¡çŒ®ã€‚$</p><p>$å¤šä½“ä¼šä½“ä¼šï¼Œå¾ˆé»‘ç§‘æŠ€ã€‚$</p><p>$æœ€åç­”æ¡ˆä¸ºï¼š$</p><p>$$d^{nk}\sum_{t&#x3D;1}^{\frac{m}{d}}t^{nk}\mu(t)(\sum_{i&#x3D;1}^{\frac{m}{td}}i^k)^n$$</p><p>$æ³¨æ„nè¦æ¬§æ‹‰é™å¹‚å¤„ç†ã€‚æ€»å¤æ‚åº¦ä¸ºO(n*\logn*\logn+T*\frac{m}{d})$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">##include &quot;bits/stdc++.h&quot;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef long long ll;</span><br><span class="line"></span><br><span class="line">const int N = 1e6 + 10;</span><br><span class="line"></span><br><span class="line">const ll mod = 59964251;</span><br><span class="line">const ll phi = 59870352;</span><br><span class="line"></span><br><span class="line">bool is\_prime[N];</span><br><span class="line">int prime[N], cnt, mu[N];</span><br><span class="line"></span><br><span class="line">void init() &#123;</span><br><span class="line">    mu[1] = 1;</span><br><span class="line">    for(int i = 2;i &lt; N; i++) &#123;</span><br><span class="line">        if(!is\_prime[i]) prime[++cnt] = i, mu[i] = -1;</span><br><span class="line">        for(int j = 1;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is\_prime[i * prime[j]] = 1;</span><br><span class="line">            if(i % prime[j] == 0) &#123;</span><br><span class="line">                mu[i * prime[j]] = 0;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            else mu[i * prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">    ll ans = 1;</span><br><span class="line">    while(b) &#123;</span><br><span class="line">        if(b &amp; 1) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void solve() &#123;</span><br><span class="line">    init();</span><br><span class="line">    int \_; cin &gt;&gt; \_;</span><br><span class="line">    while(\_--) &#123;</span><br><span class="line">        string n; cin &gt;&gt; n;</span><br><span class="line">        ll p = 0;</span><br><span class="line">        for(int i = 0;i &lt; n.length(); i++) &#123;</span><br><span class="line">            p = p * 10 + n[i] - &#x27;0&#x27;;</span><br><span class="line">            p = p % phi + phi;</span><br><span class="line">        &#125;</span><br><span class="line">        ll m, k, d; cin &gt;&gt; m &gt;&gt; d &gt;&gt; k;</span><br><span class="line">        vector&lt;ll&gt; f(m / d + 10), F(m / d + 10);</span><br><span class="line">        for(int i = 1;i &lt;= m / d; i++) &#123;</span><br><span class="line">            f[i] = (f[i - 1] + quick\_pow(i, k)) % mod;</span><br><span class="line">            F[i] = quick\_pow(f[i], p);</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans = 0;</span><br><span class="line">        for(int i = 1;i &lt;= m / d; i++) &#123;</span><br><span class="line">            ans = (ans + quick\_pow(i, p * k) * mu[i] * F[m / (i * d)]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = ans * quick\_pow(d, p * k) % mod;</span><br><span class="line">        cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">signed main() &#123;</span><br><span class="line">    solve();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/11/2019-icpc-yinchuan-easy-problem/">https://blog.jujimeizuo.cn/2021/04/11/2019-icpc-yinchuan-easy-problem/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´ICPCé“¶å· Functionï¼æ¨æŸ¿å­</title>
      <link href="/2021/04/11/2019-icpc-yinchuan-function/"/>
      <url>/2021/04/11/2019-icpc-yinchuan-function/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://nanti.jisuanke.com/t/42386">https://nanti.jisuanke.com/t/42386</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$è®¾f_a(x)&#x3D;a^xï¼Œæ±‚è§£$</p><p>$$\sum_{a&#x3D;2}^n\left ( a\sum_{b&#x3D;a}^n\left \lfloor f_a^{-1}(b) \right \rfloor\left \lceil f_b^{-1}(a)\right \rceil \right ) mod\;998244353$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$æ ¹æ®f_a^{-1}(x)&#x3D;\log_a^xå¯çŸ¥ï¼ŒåŸå¼ç­‰äº$</p><p>$$\sum_{a&#x3D;2}^n\left ( a\sum_{b&#x3D;a}^n\left \lfloor \log_a^{b}\right \rfloor\left \lceil \log_b^a\right \rceil \right ) $$</p><p>$å› ä¸ºb\ge aï¼Œæ‰€ä»¥\left \lceil \log_b^a\right \rceil&#x3D;1ï¼Œå³$</p><p>$$\sum_{a&#x3D;2}^n\left ( a\sum_{b&#x3D;a}^n\left \lfloor \log_a^{b}\right \rfloor \right ) $$</p><p>$æ¥ä¸‹æ¥è€ƒè™‘\log_a^bçš„è´¡çŒ®ï¼Œæˆ‘ä»¬çŸ¥é“\log_a^a&#x3D;1,\log_a^{a^2}&#x3D;2,\log_a^{a^k}&#x3D;k.$</p><p>$è€Œè¿™äº›æœ‰å¤šå°‘ä¸ªå‘¢ï¼Ÿ1æœ‰a^2-aä¸ªï¼Œ2æœ‰a^3-a^2ä¸ªâ€¦$</p><p>$æ‰€ä»¥å¯¹äºa^2&lt;nçš„ï¼Œéå†æ¬¡å¹‚è®¡ç®—è´¡çŒ®ã€‚$</p><p>$å¯¹äºa^2&gt;nï¼Œåªæœ‰1è¿™ä¸ªè´¡çŒ®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦éå†\sqrt nå³å¯ï¼Œn&#x3D;1e12ï¼Œvery \;good!$</p><p>$ä¸è¿‡å¯¹äºa*a&#x3D;nï¼Œæœ‰a^2-aä¸ª1ï¼Œå’Œ1ä¸ª2ï¼Œå¦å¤–è®¡ç®—å³å¯ã€‚$</p><p>$å¯¹äºa*a&gt;nï¼Œè´¡çŒ®ä¸ºa*(n-a+1)+(a+ 1)*(n-a)+â€¦+n*1&#x3D;\sum_{a&#x3D;\sqrt n+1}^na*(n-a+1)$</p><p>$è¿™ä¸€éƒ¨åˆ†ä¸ºï¼š$</p><p>$$\frac{1}{2}(n+1)(\sqrt n+1+n)(n-\sqrt n)+\frac{1}{6}(n(n+1)(2n+1)-(\sqrt n-1)(\sqrt n)(2\sqrt n-1))$$</p><p>$æœ€åæ•´åˆè®¡ç®—å³å¯ã€‚$</p><p>$å¤æ‚åº¦ä¸ºO(\sqrt n)ã€‚$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n; cin &gt;&gt; n;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    ll a = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>( ;a * a &lt;= n; a++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(a * a == n) &#123;</span><br><span class="line">            ans = (ans + a * ((n - a + <span class="number">2</span>) % mod) % mod) % mod; <span class="comment">// a * a == n</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            ll t = a;</span><br><span class="line">            ll k = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(t * a &lt;= n) &#123;</span><br><span class="line">                ans = (ans + t * (a - <span class="number">1</span>) % mod * a % mod * k  % mod) % mod;</span><br><span class="line">                t = t * a;</span><br><span class="line">                k++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = (ans + (n - t + <span class="number">1</span>) % mod * a % mod * k % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll inv2 = quick\_pow(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">    ll inv6 = quick\_pow(<span class="number">6</span>, mod - <span class="number">2</span>);</span><br><span class="line">    <span class="comment">// åé¢çš„aéƒ½æ˜¯åªæœ‰1çš„è´¡çŒ®</span></span><br><span class="line">    ans = (ans + ((n + <span class="number">1</span>) % mod) * ((n - a + <span class="number">1</span>) % mod) % mod * ((a + n) % mod) % mod * inv2 % mod) % mod;</span><br><span class="line">    ans = (ans - (n % mod) * ((n + <span class="number">1</span>) % mod) % mod * ((<span class="number">2ll</span> * n + <span class="number">1</span>) % mod) % mod * inv6 % mod + (a - <span class="number">1</span>) * a % mod * (<span class="number">2ll</span> * a - <span class="number">1</span>) % mod * inv6 % mod) % mod;</span><br><span class="line">    cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/11/2019-icpc-yinchuan-function/">https://blog.jujimeizuo.cn/2021/04/11/2019-icpc-yinchuan-function/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›4 C-Sum çº¿æ®µæ ‘+äºŒè¿›åˆ¶æ‹†åˆ†</title>
      <link href="/2021/04/11/nowcoder-practice4-c/"/>
      <url>/2021/04/11/nowcoder-practice4-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/16/C">https://ac.nowcoder.com/acm/contest/16/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä½ nä¸ªæ•°$A_1â€¦A_nï¼Œm$ä¸ªæ“ä½œã€‚ æ“ä½œåˆ†ä¸¤ç§ï¼š</p><ul><li>$æ“ä½œä¸€ï¼š1\;x\;yï¼Œå°†A_xæ”¹æˆy$</li><li>$æ“ä½œäºŒï¼š2\;l\;rï¼Œæ±‚[A_lâ€¦A_r]æ‰€æœ‰å­é›†çš„\&amp;å¹¶mod\;1e9+7$</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¿™é¢˜ä¸€çœ‹å°±çŸ¥é“æ ‘çŠ¶æ•°ç»„æˆ–è€…çº¿æ®µæ ‘å»åšã€‚ å› ä¸ºå’Œä½è¿ç®—æœ‰å…³ï¼Œæ‰€ä»¥è€ƒè™‘æ¯ä¸ªæ•°çš„äºŒè¿›åˆ¶ä½ã€‚</p><p>æ¯”å¦‚(3)_2&#x3D;11ï¼Œåˆ™è´¡çŒ®ä¸º$2^0*(2^1-1)+2^1*(2^1-1)$</p><p>å› ä¸ºæ˜¯$\&amp;$æ“ä½œï¼Œæ‰€ä»¥è¯¥ä½ä¸Šå¿…é¡»éƒ½æ˜¯1æ‰è¡Œï¼Œæ‰€ä»¥ç»Ÿè®¡è¯¥ä½ä¸Šæœ‰å¤šå°‘1å³å¯ã€‚</p><p>æ¯”å¦‚1ï¼Œ2ï¼Œ3ä¸º1,10,11ï¼Œåˆ™ç»„åˆèµ·æ¥ä¸º22ï¼Œè´¡çŒ®ä¸º$2^0*(2^2-1)+2^1*(2^2-1)$</p><p>å¦‚ä½•æ›´æ–°å’ŒæŸ¥è¯¢ï¼Ÿçº¿æ®µæ ‘ï¼</p><p>åªä¸è¿‡æ›´æ–°çš„æ˜¯ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶æ•°ç»„è€Œå·²ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">4e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    ll OR[<span class="number">55</span>];</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line">ll bit[N], a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">32</span>; i++) &#123;</span><br><span class="line">        t[u].OR[i] = (t[lc].OR[i] + t[rc].OR[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">32</span>; i++) &#123;</span><br><span class="line">            t[u].OR[i] += a[l] &amp; <span class="number">1</span>;</span><br><span class="line">            a[l] &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> p, ll v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[u].l == t[u].r) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">32</span>; i++) &#123;</span><br><span class="line">            t[u].OR[i] = v &amp; <span class="number">1</span>;</span><br><span class="line">            v &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= mid) <span class="built_in">modify</span>(lc, p, v);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">modify</span>(rc, p, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;ll&gt; <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="function">vector&lt;ll&gt; <span class="title">ans</span><span class="params">(<span class="number">33</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">32</span>; i++) ans[i] = t[u].OR[i];</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">ans</span><span class="params">(<span class="number">33</span>, <span class="number">0</span>)</span>, <span class="title">temp1</span><span class="params">(<span class="number">33</span>, <span class="number">0</span>)</span>, <span class="title">temp2</span><span class="params">(<span class="number">33</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) temp1 = <span class="built_in">query</span>(lc, ql, qr);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  temp2 = <span class="built_in">query</span>(rc, ql, qr);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">32</span>; i++) ans[i] = temp1[i] + temp2[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    bit[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) bit[i] = bit[i - <span class="number">1</span>] * <span class="number">2</span> % mod;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">    <span class="type">int</span> m; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> opt; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;opt);</span><br><span class="line">        <span class="keyword">if</span>(opt == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> x; ll y; <span class="built_in">scanf</span>(<span class="string">&quot;%d%lld&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">            <span class="built_in">modify</span>(<span class="number">1</span>, x, y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> l, r; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class="line">            vector&lt;ll&gt; ans = <span class="built_in">query</span>(<span class="number">1</span>, l, r);</span><br><span class="line">            ll res = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">32</span>; i++) &#123;</span><br><span class="line">                res = (res + bit[i] % mod * (bit[ans[i]] - <span class="number">1</span> + mod) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/11/nowcoder-practice4-c/">https://blog.jujimeizuo.cn/2021/04/11/nowcoder-practice4-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›22 E-ç®€å•æ•°æ®ç»“æ„1 æ ‘çŠ¶æ•°ç»„+æ¬§æ‹‰é™å¹‚</title>
      <link href="/2021/04/10/nowcoder-practice22-e/"/>
      <url>/2021/04/10/nowcoder-practice22-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/problem/17190">https://ac.nowcoder.com/acm/problem/17190</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªæ•°å­—ï¼Œç„¶åä¼šæœ‰mæ¬¡æ“ä½œã€‚ æ“ä½œåˆ†ä¸¤ç§ï¼š</p><ol><li>$1\;l\;r\;xï¼Œå°†låˆ°råŒºé—´é‡Œçš„æ¯ä¸ªæ•°éƒ½+x$</li><li>$2\;l\;r\;pï¼Œæ±‚a[l]^{a[l+1]^{â€¦^{a[r]}}}\;mod\;p$</li></ol><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°ç¬¬ä¸€ä¸ªæ“ä½œï¼Œè¿™ä¸æ˜¯å·®åˆ†å˜›ï¼Œç›´æ¥æ ‘çŠ¶æ•°ç»„æå®šã€‚ çœ‹åˆ°ç¬¬äºŒä¸ªæ“ä½œï¼Œåƒè¿™ç§é€’å¢çš„æ¬¡æ–¹ï¼Œå°±åº”è¯¥æƒ³åˆ°ç”¨æ¬§æ‹‰é™å¹‚é€’å½’ã€‚</p><p>ç»†èŠ‚å°±æ˜¯ï¼Œæ³¨æ„å¹¿ä¹‰æ¬§æ‹‰é™å¹‚ï¼Œæ˜¯$k\%\phi(p)+p$ï¼Œå¹¶ä¸”å¿«é€Ÿå¹‚ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e7</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[N], cnt, phi[N];</span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    phi[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_prime[i]) prime[++cnt] = i, phi[i] = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j]) phi[i * prime[j]] = phi[i] * phi[prime[j]];</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                phi[i * prime[j]] = phi[i] * prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) (x &amp; (-x))</span></span><br><span class="line"></span><br><span class="line">ll t[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> x, ll val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x &lt;= n) &#123;</span><br><span class="line">        t[x] += val;</span><br><span class="line">        x += <span class="built_in">lowbit</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        ans += t[x];</span><br><span class="line">        x -= <span class="built_in">lowbit</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">Mod</span><span class="params">(ll ans, ll p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ans &gt;= p ? ans % p + p : ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b, ll p)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    a = <span class="built_in">Mod</span>(a, p);</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = <span class="built_in">Mod</span>(ans * a, p);</span><br><span class="line">        a = <span class="built_in">Mod</span>(a * a, p);</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">dfs</span><span class="params">(ll p, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    ll temp = <span class="built_in">query</span>(l);</span><br><span class="line">    <span class="keyword">if</span>(l == r  p == <span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">Mod</span>(temp, p);</span><br><span class="line">    ll ans = <span class="built_in">dfs</span>(phi[p], l + <span class="number">1</span>, r);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">quick_pow</span>(temp, ans, p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">        <span class="built_in">update</span>(i, x);</span><br><span class="line">        <span class="built_in">update</span>(i + <span class="number">1</span>, -x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> opt; cin &gt;&gt; opt;</span><br><span class="line">        <span class="keyword">if</span>(opt == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> l, r; ll x; cin &gt;&gt; l &gt;&gt; r &gt;&gt; x;</span><br><span class="line">            <span class="built_in">update</span>(l, x);</span><br><span class="line">            <span class="built_in">update</span>(r + <span class="number">1</span>, -x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> l, r; ll p; cin &gt;&gt; l &gt;&gt; r &gt;&gt; p;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">dfs</span>(p, l, r) % p &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/10/nowcoder-practice22-e/">https://blog.jujimeizuo.cn/2021/04/10/nowcoder-practice22-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces 182E - Wooden Fence å¤šé˜¶æ®µå†³ç­–dp</title>
      <link href="/2021/04/09/codeforces-182e-wooden-fence/"/>
      <url>/2021/04/09/codeforces-182e-wooden-fence/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/problemset/problem/182/E">https://codeforces.com/problemset/problem/182/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nç§æœ¨æ¿ï¼Œé•¿ä¸º$a_i$ï¼Œå®½ä¸º$b_i$ï¼Œå½“æœ¨æ¿æ—‹è½¬æ—¶ç­‰äºä¹‹å‰ï¼Œåˆ™ç®—ä¸€ç§æœ¨æ¿ï¼Œå¦åˆ™ç®—ä¸åŒç±»å‹ã€‚ è¿™äº›æœ¨æ¿æœ‰æ— æ•°å—ï¼Œé—®ï¼Œèƒ½ç»„æˆå¤šå°‘ä¸ªé•¿ä¸ºLçš„æœ¨æ¿ã€‚æ±‚å‡ºæ–¹æ¡ˆæ•°ã€‚</p><p>æ¯ç§æœ¨æ¿çš„é•¿å’Œå®½éƒ½èƒ½ä½œä¸ºâ€œé•¿â€ã€‚</p><p>è§„åˆ™ï¼š</p><ul><li>å½“å‰é€‰æ‹©çš„æœ¨æ¿ä¸èƒ½å’Œå‰ä¸€ç§æ˜¯åŒæ ·ç±»å‹</li><li>å½“å‰é€‰æ‹©çš„æœ¨æ¿ï¼Œé•¿è¦ç­‰äºä¸Šä¸€å—çš„å®½ã€‚</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å…ˆçœ‹æ•°æ®é‡ï¼Œn&#x3D;100ï¼ŒL&#x3D;3000ï¼ŒDPï¼</p><p>å¦‚ä½•é€‰å–çŠ¶æ€ï¼Ÿé¦–å…ˆä¸€å®šè¦éå†æ¯å—æœ¨æ¿ï¼Œåˆ™ä¸€ä¸ªçŠ¶æ€ç»™éå†åˆ°ç¬¬å‡ å—æœ¨æ¿ã€‚</p><p>å¦‚æœæ”¾ä¸‹ä¸€å—æœ¨æ¿ä¹‹åï¼Œå®ƒçš„æ€»é•¿ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸”éœ€è¦ä¸Šä¸€ä¸ªçŠ¶æ€çš„æ€»é•¿ã€‚ åˆ™å½“å‰çš„æ€»é•¿éœ€è¦è®°å½•ï¼Œç»™ä¸€ä¸ªçŠ¶æ€ç»™é•¿åº¦ã€‚</p><p>è¿™å—æœ¨æ¿æ˜¯æ¨ªç€æ”¾ï¼Œè¿˜æ˜¯ç«–ç€æ”¾ï¼Ÿä¸Šä¸€å—æ˜¯æ¨ªè¿˜æ˜¯ç«–ï¼Ÿè€Œä¸”å¿…é¡»æ˜¯é•¿ç­‰äºä¸Šä¸€ä¸ªå®½ã€‚ æ‰€ä»¥éœ€è¦ä¸€ä¸ªçŠ¶æ€è®°å½•å½“å‰å—è¦æ€ä¹ˆæ”¾ï¼Ÿå¹¶ä¸”é€šè¿‡ä¸Šä¸€ä¸ªæœ¨å—æ€ä¹ˆæ”¾æ¥è½¬ç§»ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°dp[i][j][0&#x2F;1]ï¼Œè¡¨ç¤ºæ”¾å…¥ç¬¬jå—ä¹‹åï¼Œé•¿åº¦ä¸ºiï¼Œå¹¶ä¸”ç¬¬jå¿«æ˜¯1ï¼ˆå®½æ”¾ï¼‰ï½œ0ï¼ˆé•¿æ”¾ï¼‰ã€‚</p><p>å¦‚ä½•è½¬ç§»ï¼Ÿ</p><p>éœ€è¦é€šè¿‡å‰ä¸€å—çš„çŠ¶æ€æ¥è¿›è¡Œè½¬ç§»ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a[j] == a[k] &amp;&amp; i &gt; a[j] &amp;&amp; dp[i - a[j]][k][<span class="number">1</span>]) </span><br><span class="line">    dp[i][j][<span class="number">0</span>] = (dp[i][j][<span class="number">0</span>] + dp[i - a[j]][k][<span class="number">1</span>]) % mod;</span><br><span class="line"><span class="keyword">if</span>(a[j] == b[k] &amp;&amp; i &gt; a[j] &amp;&amp; a[k] != b[k] &amp;&amp; dp[i - a[j]][k][<span class="number">0</span>]) </span><br><span class="line">    dp[i][j][<span class="number">0</span>] = (dp[i][j][<span class="number">0</span>] + dp[i - a[j]][k][<span class="number">0</span>]) % mod;</span><br><span class="line"><span class="keyword">if</span>(b[j] == b[k] &amp;&amp; i &gt; b[j] &amp;&amp; dp[i - b[j]][k][<span class="number">0</span>]) </span><br><span class="line">    dp[i][j][<span class="number">1</span>] = (dp[i][j][<span class="number">1</span>] + dp[i - b[j]][k][<span class="number">0</span>]) % mod;</span><br><span class="line"><span class="keyword">if</span>(b[j] == a[k] &amp;&amp; i &gt; b[j] &amp;&amp; a[k] != b[k] &amp;&amp; dp[i - b[j]][k][<span class="number">1</span>]) </span><br><span class="line">    dp[i][j][<span class="number">1</span>] = (dp[i][j][<span class="number">1</span>] + dp[i - b[j]][k][<span class="number">1</span>]) % mod;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„a[k]!&#x3D;b[k]ï¼Œå°±æ˜¯é¿å…è¿ç»­ä¸¤å—ç±»å‹ç›¸åŒã€‚</p><p>çœ‹ä¸Šä¸€å—çš„æ¨ªæ”¾è¿˜æ˜¯ç«–æ”¾ï¼Œæ¥è½¬ç§»å½“å‰å—æ˜¯æ¨ªæ”¾è¿˜æ˜¯ç«–æ”¾ã€‚</p><p>å¤æ‚åº¦ä¸º$O(n*n*L)$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3005</span>;</span><br><span class="line">ll dp[N][N][<span class="number">2</span>]; <span class="comment">// dp[i][j][0/1] é•¿åº¦ä¸ºiï¼Œç”¨åˆ°ç¬¬jä¸ªboardï¼Œé•¿0ï¼Œå®½1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, L; cin &gt;&gt; n &gt;&gt; L;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">b</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i] &gt;&gt; b[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= L; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j] == i) dp[i][j][<span class="number">0</span>]++;</span><br><span class="line">            <span class="keyword">if</span>(b[j] == i) dp[i][j][<span class="number">1</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= L; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n; j++) &#123; <span class="comment">// å½“å‰çš„ç¬¬jä¸ª</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt;= n; k++) &#123; <span class="comment">// ä¹‹å‰çš„ç¬¬kä¸ªæ¯”è¾ƒ</span></span><br><span class="line">                <span class="keyword">if</span>(j == k) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(a[j] == a[k] &amp;&amp; i &gt; a[j] &amp;&amp; dp[i - a[j]][k][<span class="number">1</span>])</span><br><span class="line">                    dp[i][j][<span class="number">0</span>] = (dp[i][j][<span class="number">0</span>] + dp[i - a[j]][k][<span class="number">1</span>]) % mod;</span><br><span class="line">                <span class="keyword">if</span>(a[j] == b[k] &amp;&amp; i &gt; a[j] &amp;&amp; a[k] != b[k] &amp;&amp; dp[i - a[j]][k][<span class="number">0</span>])</span><br><span class="line">                    dp[i][j][<span class="number">0</span>] = (dp[i][j][<span class="number">0</span>] + dp[i - a[j]][k][<span class="number">0</span>]) % mod;</span><br><span class="line">                <span class="keyword">if</span>(b[j] == b[k] &amp;&amp; i &gt; b[j] &amp;&amp; dp[i - b[j]][k][<span class="number">0</span>])</span><br><span class="line">                    dp[i][j][<span class="number">1</span>] = (dp[i][j][<span class="number">1</span>] + dp[i - b[j]][k][<span class="number">0</span>]) % mod;</span><br><span class="line">                <span class="keyword">if</span>(b[j] == a[k] &amp;&amp; i &gt; b[j] &amp;&amp; a[k] != b[k] &amp;&amp; dp[i - b[j]][k][<span class="number">1</span>])</span><br><span class="line">                    dp[i][j][<span class="number">1</span>] = (dp[i][j][<span class="number">1</span>] + dp[i - b[j]][k][<span class="number">1</span>]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        ans = (ans + dp[L][i][<span class="number">0</span>]) % mod;</span><br><span class="line">        <span class="keyword">if</span>(a[i] != b[i]) ans = (ans + dp[L][i][<span class="number">1</span>]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/09/codeforces-182e-wooden-fence/">https://blog.jujimeizuo.cn/2021/04/09/codeforces-182e-wooden-fence/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces 358D - Dima and Hares DP</title>
      <link href="/2021/04/09/codeforces-358d-dima-and-hares/"/>
      <url>/2021/04/09/codeforces-358d-dima-and-hares/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://codeforces.com/problemset/problem/358/D">http://codeforces.com/problemset/problem/358/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nåŒ¹é©¬æ’åˆ—åœ¨è‰åœºä¸Šï¼Œæ¯åªé©¬å¦‚ä½•åƒè‰å¾ˆæœ‰è®²ç©¶ã€‚</p><ul><li>å¦‚æœå·¦å³çš„ä¸¤åŒ¹é©¬éƒ½æ²¡åƒï¼Œä»–åƒäº†ï¼Œä»·å€¼å¢åŠ a[i]</li><li>å¦‚æœå·¦å³çš„ä¸¤åŒ¹é©¬æœ‰ä¸€åªåƒäº†ï¼Œä»–åƒäº†ï¼Œä»·å€¼å¢åŠ b[i]</li><li>å¦‚æœå·¦å³çš„ä¸¤åŒ¹é©¬éƒ½åƒäº†ï¼Œä»–åƒäº†ï¼Œä»·å€¼å¢åŠ c[i]</li></ul><p>é—®æ€ä¹ˆåƒï¼Œæ‰èƒ½ä½¿æ€»ä»·å€¼æœ€å¤§ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ˜¾ç„¶åƒçš„é¡ºåºå¯¹ç­”æ¡ˆæœ‰å½±å“ï¼Œä¹Ÿå°±æ˜¯æ±‚å‡ºä¸€ä¸ªæ’åˆ—ä½¿å¾—ä»·å€¼æœ€å¤§ã€‚</p><p>æ’åˆ—ï¼Ÿ3000ï¼Ÿæ˜¾ç„¶å¤æ‚åº¦ä¸å¤Ÿï¼Œæˆ‘ä»¬å‘ç°æ¯åªé©¬åƒè‰ï¼Œåªæœ‰å·¦å³ä¸¤åŒ¹é©¬çš„ä½œç”¨ä¼šå¯¹è¯¥é©¬æœ‰å½±å“ã€‚</p><p>æ‰€ä»¥ï¼Œè®¨è®ºè¿™åŒ¹é©¬å·¦å³ä¸¤è¾¹çš„çŠ¶æ€ã€‚</p><p>è®¾dp[i][0&#x2F;1]ä¸ºæˆ‘ä»¬çš„çŠ¶æ€ã€‚ dp[i][0]è¡¨ç¤ºç¬¬iåŒ¹é©¬æ¯”ç¬¬i-1åŒ¹é©¬ååƒè‰. dp[i][1]è¡¨ç¤ºç¬¬iåŒ¹é©¬æ¯”ç¬¬i-1åŒ¹é©¬å…ˆåƒè‰.</p><p>æ ¹æ®æˆ‘ä»¬çš„çŠ¶æ€è¿›è¡Œè½¬ç§»ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dp[i][<span class="number">0</span>] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][<span class="number">0</span>] + b[i - <span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + a[i - <span class="number">1</span>]);</span><br><span class="line">dp[i][<span class="number">1</span>] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][<span class="number">0</span>] + c[i - <span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + b[i - <span class="number">1</span>]);</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¾¹ç•Œçš„é©¬ï¼Œä¸æ˜¯ä¸€åŒ¹â€œå®Œæ•´â€çš„é©¬ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3005</span>;</span><br><span class="line"><span class="type">int</span> dp[N][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">b</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">c</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; b[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; c[i];</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">0</span>] = -INF;</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n + <span class="number">1</span>; i++) &#123;</span><br><span class="line">        dp[i][<span class="number">0</span>] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][<span class="number">0</span>] + b[i - <span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + a[i - <span class="number">1</span>]);</span><br><span class="line">        dp[i][<span class="number">1</span>] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][<span class="number">0</span>] + c[i - <span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + b[i - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[n + <span class="number">1</span>][<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/09/codeforces-358d-dima-and-hares/">https://blog.jujimeizuo.cn/2021/04/09/codeforces-358d-dima-and-hares/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rediså®‰è£…ã€è®¾ç½®å¯†ç ã€Springé…ç½®</title>
      <link href="/2021/04/09/redis-install-and-spring-config/"/>
      <url>/2021/04/09/redis-install-and-spring-config/</url>
      
        <content type="html"><![CDATA[<h2 id="Windowå®‰è£…"><a href="#Windowå®‰è£…" class="headerlink" title="Windowå®‰è£…"></a>Windowå®‰è£…</h2><p>githubä¸‹è½½ï¼š<a href="https://github.com/tporadowski/redis/releases">https://github.com/tporadowski/redis/releases</a></p><p>ä¸‹è½½ä¹‹åè§£å‹åˆ°ä½ç½®ï¼Œå‡å¦‚æ˜¯Cç›˜ã€‚</p><p>æ‰“å¼€cmdçª—å£ï¼Œcdåˆ°redisçš„ç›®å½•ä¸‹ï¼Œè¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210409105859526.png"></p><p>è¿™è¡¨ç¤ºæˆ‘ä»¬å·²ç»å¼€å¯äº†RedisæœåŠ¡ç«¯ï¼Œè¯·ä¸è¦å…³é—­å®ƒï¼Œå¦å¤–å¼€ä¸€ä¸ªcmdçª—å£å¹¶cdåˆ°Redisç›®å½•ä¸‹ï¼Œè¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli.exe -h 127.0.0.1 -p 6379</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210409110023750.jpg"></p><p>æ­å–œä½ ï¼Œå·²ç»å®‰è£…æˆåŠŸï¼Œå¯ä»¥pingä¸€ä¸‹çœ‹çœ‹æ˜¯å¦æ­£ç¡®ã€‚</p><h4 id="è®¾ç½®å¯†ç "><a href="#è®¾ç½®å¯†ç " class="headerlink" title="è®¾ç½®å¯†ç "></a>è®¾ç½®å¯†ç </h4><p>rediså¯†ç è®¾ç½®æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§éœ€è¦é‡å¯redisæœåŠ¡ï¼Œä¸€ç§ä¸éœ€è¦é‡å¯redisæœåŠ¡ã€‚</p><p>é¦–å…ˆï¼Œä»‹ç»ä¸€ä¸‹éœ€è¦é‡å¯redisæœåŠ¡çš„è®¾ç½®æ–¹å¼ å³æ‰¾åˆ°redisçš„é…ç½®æ–‡ä»¶â€”redis.confæ–‡ä»¶ï¼Œç„¶åä¿®æ”¹é‡Œé¢çš„requirepassï¼Œè¿™ä¸ªæœ¬æ¥æ˜¯æ³¨é‡Šèµ·æ¥äº†çš„ï¼Œå°†æ³¨é‡Šå»æ‰ï¼Œå¹¶å°†åé¢å¯¹åº”çš„å­—æ®µè®¾ç½®æˆè‡ªå·±æƒ³è¦çš„å¯†ç ï¼Œä¿å­˜é€€å‡ºã€‚é‡å¯redisæœåŠ¡ï¼Œå³å¯ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210409110145570.png"></p><p>æˆ‘è¿™é‡Œæ˜¯è®¾ç½®å¯†ç æˆäº†123 ç„¶åæ˜¯ä¸éœ€è¦é‡å¯redisæœåŠ¡çš„å¯†ç è®¾ç½®æ–¹å¼ è¿™ç§ç›¸å¯¹ç®€å•ï¼Œè¿æ¥redisä¹‹åï¼Œé€šè¿‡å‘½ä»¤è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> requirepass 123456</span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ï¼Œä¾¿å°†å¯†ç è®¾ç½®æˆäº†123456 è®¾ç½®ä¹‹åï¼Œå¯é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹å¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config get requirepass</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210409110243120.png"></p><p>å¯†ç è®¾ç½®ä¹‹åï¼Œå½“ä½ é€€å‡ºå†æ¬¡è¿ä¸Šredisçš„æ—¶å€™ï¼Œå°±éœ€è¦è¾“å…¥å¯†ç äº†ï¼Œä¸ç„¶æ˜¯æ— æ³•æ“ä½œçš„ã€‚è¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼è¾“å…¥å¯†ç ï¼Œä¸€æ˜¯è¿æ¥çš„æ—¶å€™ç›´æ¥è¾“å…¥å¯†ç ï¼Œè€Œæ˜¯è¿æ¥ä¸Šä¹‹åå†è¾“å…¥å¯†ç ï¼Œåˆ†åˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/04/20210409110311634.png"></p><p>æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; AUTH <span class="string">&quot;password&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis 127.0.0.1:6379&gt; PING</span><br><span class="line">PONG</span><br></pre></td></tr></table></figure><h4 id="Springé…ç½®"><a href="#Springé…ç½®" class="headerlink" title="Springé…ç½®"></a>Springé…ç½®</h4><p>æ‰“å¼€ä¸€ä¸ªspringé¡¹ç›®ï¼Œæ‰“å¼€propertiesæ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.redis.host = localhost <span class="comment">// ipåœ°å€</span></span><br><span class="line">spring.redis.port = <span class="number">6379</span> <span class="comment">// redisç«¯å£</span></span><br><span class="line">spring.redis.password=password <span class="comment">// å¯†ç </span></span><br><span class="line">spring.redis.jedis.pool.max-active=<span class="number">8</span> <span class="comment">// å¼€æ”¾æœ€å¤§æ•°</span></span><br></pre></td></tr></table></figure><p>åˆ°ç°åœ¨ï¼Œå·²ç»æ²¡æœ‰é—®é¢˜ï¼Œå°±æ˜¯å¦‚ä½•ä½¿ç”¨Rediså‘½ä»¤å’Œé…åˆé¡¹ç›®çš„é—®é¢˜äº†ã€‚ å…·ä½“è¯·è‡ªè¡Œç™¾åº¦ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/09/redis-install-and-spring-config/">https://blog.jujimeizuo.cn/2021/04/09/redis-install-and-spring-config/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces 148E Porcelain é¢„å¤„ç†+åŒå‘dp+èƒŒåŒ…</title>
      <link href="/2021/04/08/codeforces-148e-porcelain/"/>
      <url>/2021/04/08/codeforces-148e-porcelain/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/148/problem/E">https://codeforces.com/contest/148/problem/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nå±‚è´§æ¶ï¼Œæ¯å±‚è´§æ¶éƒ½æœ‰a_iæœ¬ä¹¦ï¼Œæ¯æœ¬ä¹¦éƒ½æœ‰è‡ªå·±çš„ä»·å€¼ã€‚ æ‹¿ä¹¦åªèƒ½åœ¨ä¸€å±‚çš„å·¦å³æ‹¿ä¹¦ï¼Œé—®æ‹¿mæœ¬ä¹¦çš„æœ€å¤§ä»·å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¿™é¢˜éš¾åœ¨æ¯å±‚æ‹¿ä¹¦åªèƒ½å·¦å³æ‹¿ï¼Œå¦‚æœä¸éœ€è¦å·¦å³æ‹¿ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸ªèƒŒåŒ…é—®é¢˜ã€‚</p><p>å¦‚æœå¤„ç†è¿™ä¸ªå·¦å³æ‹¿å‘¢ï¼Ÿ</p><p>å› ä¸ºæ¯å±‚éƒ½å¯èƒ½æ‹¿ä¹¦ï¼Œæ‰€ä»¥éœ€è¦å¤„ç†æ¯å±‚æ‹¿jæœ¬ä¹¦çš„æœ€å¤§ä»·å€¼ï¼Œè€Œä¸”æ˜¯å·¦å³æ‹¿ã€‚</p><p>è®¾sum[i][j]è¡¨ç¤ºç‹¬ç«‹çš„ç¬¬iå±‚æ‹¿äº†jæœ¬ä¹¦çš„æœ€å¤§ä»·å€¼ã€‚ è¿™jæœ¬å¯ä»¥æ˜¯å‰jæœ¬ï¼Œä¹Ÿå¯ä»¥åjæœ¬ï¼Œä¹Ÿå¯ä»¥ä¸¤è¾¹éƒ½æœ‰ã€‚</p><p>å‡è®¾å‰é¢æ‹¿äº†kæœ¬ï¼Œé‚£ä¹ˆåé¢å°±æ‹¿äº†j-kæœ¬ã€‚ å‰kæœ¬ä»·å€¼ï¼Œæ‰€ä»¥éœ€è¦å¤„ç†æ¯å±‚çš„å‰ç¼€å’Œã€‚ è½¬ç§»æ–¹ç¨‹ä¸ºï¼š $$sum[i][j]&#x3D;max(sum[i][j],pre[i][k]+pre[i][v]-pre[i][v-j-k])(vè¡¨ç¤ºè¯¥å±‚ä¹¦æ€»æ•°)$$</p><p>ç„¶åå°±çŸ¥é“æ¯ä¸€å±‚è¯¥æ‹¿å¤šå°‘æœ¬ä¹¦çš„æœ€å¤§ä»·å€¼äº†ã€‚</p><p>ä¹‹åå°±æ˜¯ä¸€å±‚ä¸€å±‚é€’æ¨äº†ï¼ˆèƒŒåŒ…ï¼‰.</p><p>å…ˆå¤„ç†è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æ‹¿ç¬¬ä¸€å±‚ä¹¦ã€‚ç„¶åæ¨ç¬¬äºŒå±‚ã€ä¸‰ã€..</p><p>è®¾dp[i][j]è¡¨ç¤ºå‰iå±‚æ‹¿äº†jæœ¬çš„æœ€å¤§ä»·å€¼ã€‚</p><p>åˆ™ï¼š$dp[1][i] &#x3D; sum[1][i]$</p><p>æšä¸¾æ¯ä¸€å±‚ï¼Œå†æšä¸¾ä¸€å…±æ‹¿äº†jæœ¬ä¹¦ï¼Œæœ€åæšä¸¾æ‹¿äº†å½“å‰å±‚çš„kæœ¬ä¹¦ã€‚ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p><p>$$dp[i][j]&#x3D;max(dp[i][j],dp[i-1][j-k]+sum[i][k])$$ $ans&#x3D;max(dp[i][j],ans)$å¤„ç†ç­”æ¡ˆå³å¯ã€‚</p><p>å¤æ‚åº¦ä¸º$O(n*n*m)$ï¼Œç”±äºå¸¸æ•°è¾ƒå°ï¼Œæ‰€ä»¥å¯ä»¥è¿‡ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">205</span>;</span><br><span class="line"><span class="type">int</span> sum[N][N]; <span class="comment">// ç‹¬ç«‹ç¬¬iå±‚æ‹¿äº†jæœ¬ä¹¦ç¬¬æœ€å¤§ä»·å€¼</span></span><br><span class="line"><span class="type">int</span> dp[N][<span class="number">20005</span>]; <span class="comment">// åˆ°äº†ç¬¬iå±‚æ‹¿äº†jæœ¬ä¹¦çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; a[n + <span class="number">1</span>], pre[n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> k; cin &gt;&gt; k;</span><br><span class="line">        a[i].<span class="built_in">eb</span>(<span class="number">0</span>);</span><br><span class="line">        pre[i].<span class="built_in">eb</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= k; j++) &#123;</span><br><span class="line">            <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">            pre[i].<span class="built_in">eb</span>(pre[i][j - <span class="number">1</span>] + x);</span><br><span class="line">            a[i].<span class="built_in">eb</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123; <span class="comment">// ç¬¬iå±‚</span></span><br><span class="line">        <span class="type">int</span> last = pre[i].<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= last; j++) &#123; <span class="comment">// æ‹¿äº†jæœ¬ä¹¦</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt;= j; k++) &#123; <span class="comment">// å‰kæœ¬ï¼Œåj-kæœ¬</span></span><br><span class="line">                <span class="keyword">if</span>(k == <span class="number">0</span>) sum[i][j] = <span class="built_in">max</span>(sum[i][j], pre[i][last] - pre[i][last - j]);</span><br><span class="line">                <span class="keyword">else</span> sum[i][j] = <span class="built_in">max</span>(sum[i][j], pre[i][k] + pre[i][last] - pre[i][last - j + k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        dp[<span class="number">1</span>][i] = sum[<span class="number">1</span>][i];</span><br><span class="line">        ans = <span class="built_in">max</span>(ans, dp[<span class="number">1</span>][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; pre[i].<span class="built_in">size</span>() &amp;&amp; k &lt;= j; k++) &#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(dp[i][j], dp[i - <span class="number">1</span>][j - k] + sum[i][k]);</span><br><span class="line">                ans = <span class="built_in">max</span>(dp[i][j], ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/08/codeforces-148e-porcelain/">https://blog.jujimeizuo.cn/2021/04/08/codeforces-148e-porcelain/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces 1498C Planar Reflections dp</title>
      <link href="/2021/04/08/codeforces-1498c-planar-reflections/"/>
      <url>/2021/04/08/codeforces-1498c-planar-reflections/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1498/problem/C">https://codeforces.com/contest/1498/problem/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰ä¸€ä¸ªç²’å­ï¼Œè¡°å˜å¹´é¾„ä¸ºkï¼Œå‰é¢æœ‰nå µå¢™ï¼Œæ¯ç©¿è¿‡ä¸€å µå¢™ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå¹´é¾„-1çš„ç²’å­åå‘å‰è¿›ã€‚</p><p>å½“å¹´é¾„ä¸º1æ—¶ä¸åå‘ï¼Œé—®æœ‰å¤šå°‘ç©¿è¿‡1æˆ–è€…nçš„å¢™çš„ç²’å­ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºnå’Œkéƒ½æ˜¯$\leq 2000$ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘$O(nk)$çš„dpã€‚ çŠ¶æ€ä¸ºdp[n][k],è¡¨ç¤ºä¸€ä¸ªç²’å­å‰é¢è¿˜æœ‰nå µå¢™ï¼Œè¡°å˜å¹´é¾„ä¸ºkçš„ç­”æ¡ˆæ•°ã€‚</p><p>kä¸º1ï¼Œä¸éœ€è¦è½¬ç§»ï¼Œdp[i][1]&#x3D;1. nä¸º0ï¼Œä¸éœ€è¦è½¬ç§»ï¼Œdp[0][i]&#x3D;1.</p><p>å› ä¸ºå¯ä»¥ç»§ç»­å‘å‰ï¼Œå’Œåå‘å‰è¡Œï¼Œæ‰€ä»¥è½¬ç§»æ–¹ç¨‹ä¸º $dp[i][j]&#x3D;dp[i-1][j]+dp[n-i][j-1]$</p><p>å› ä¸ºiä¼šå¯¹è½¬ç§»å…ˆäº§ç”Ÿå½±å“ï¼Œæ‰€ä»¥è¦å…ˆå¾ªç¯ç¬¬ä¸€ç»´ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n, k; cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(k + <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n; i++) dp[i][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k; i++) dp[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= k; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">                dp[i][j] = (dp[i - <span class="number">1</span>][j] + dp[n - i][j - <span class="number">1</span>]) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; dp[n][k] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/08/codeforces-1498c-planar-reflections/">https://blog.jujimeizuo.cn/2021/04/08/codeforces-1498c-planar-reflections/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ZOJ 4019 SchrÃ¶dingerâ€˜s Knapsack dp</title>
      <link href="/2021/04/08/zoj-4019-schrodingers-knapsack/"/>
      <url>/2021/04/08/zoj-4019-schrodingers-knapsack/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370240">https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370240</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªèƒŒåŒ…ï¼Œä½“ç§¯ä¸ºcï¼Œæœ‰ä¸¤ç±»ç‰©å“ï¼Œç¬¬ä¸€ç±»æœ‰nä¸ªï¼Œæƒå€¼ä¸ºk1ï¼Œç¬¬äºŒç±»æœ‰mä¸ªï¼Œæƒå€¼ä¸ºk2ã€‚æ¯ä¸ªç‰©å“éƒ½æœ‰è‡ªå·±çš„ä½“ç§¯ã€‚</p><p>å½“æŠŠä¸€ä¸ªç‰©å“æ”¾è¿›å»ä¹‹åï¼Œæ€»è´¡çŒ®å¢åŠ $k*$æ”¾å…¥ä¹‹åå‰©ä½™ä½“ç§¯ã€‚</p><p>é—®ï¼Œæœ€å¤§è´¡çŒ®å¤šå°‘ï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä½“ç§¯è¶Šå°ï¼Œå…ˆè®©è¿›å»æœ€åï¼Œæ‰€ä»¥è¦å…ˆæ’åºï¼Œä»å°åˆ°å¤§ã€‚</p><p>è®¾f[i][j]è¡¨ç¤ºæ”¾å…¥ç¬¬ä¸€ç±»iä¸ªï¼Œç¬¬äºŒç±»jä¸ªã€‚åˆ™ä¸‹ä¸€ä¸ªæ˜¯æ”¾ä»€ä¹ˆå‘¢? å¯èƒ½æ˜¯ç¬¬ä¸€ç±»ä¸‹ä¸€ä¸ªï¼Œä¹Ÿå¯èƒ½æ˜¯ç¬¬äºŒç±»ä¸‹ä¸€ä¸ªã€‚ $$f[i][j]&#x3D;max(f[i-1][j]+k1*v,f[i][j-1]+k2*v)$$</p><p>è¿™é‡Œçš„væ˜¯å‰©ä½™ä½“ç§¯ï¼Œä¹Ÿå°±æ˜¯V-å·²ç»æ”¾å…¥ä½“ç§¯ã€‚</p><p>ç„¶åæ³¨æ„è¾¹ç•Œçš„é€‰å–å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll k1, k2, V; cin &gt;&gt; k1 &gt;&gt; k2 &gt;&gt; V;</span><br><span class="line">        <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        vector&lt;vector&lt;ll&gt;&gt; <span class="built_in">f</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;ll&gt;(m + <span class="number">1</span>));</span><br><span class="line">        <span class="function">vector&lt;ll&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">b</span><span class="params">(m + <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) cin &gt;&gt; b[i];</span><br><span class="line">        <span class="built_in">sort</span>(a.<span class="built_in">begin</span>() + <span class="number">1</span>, a.<span class="built_in">begin</span>() + n + <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">sort</span>(b.<span class="built_in">begin</span>() + <span class="number">1</span>, b.<span class="built_in">begin</span>() + m + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) a[i] += a[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) b[i] += b[i - <span class="number">1</span>];</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (V &gt;= b[j]) f[i][j] = f[i][j - <span class="number">1</span>] + k2 * (V - b[j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (V &gt;= a[i]) f[i][j] = f[i - <span class="number">1</span>][j] + k1 * (V - a[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j] + k1 * (V - a[i] - b[j]), f[i][j - <span class="number">1</span>] + k2 * (V - a[i] - b[j]));</span><br><span class="line">                &#125;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, f[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/08/zoj-4019-schrodingers-knapsack/">https://blog.jujimeizuo.cn/2021/04/08/zoj-4019-schrodingers-knapsack/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ZOJ 4011 Happy Sequence dp</title>
      <link href="/2021/04/08/zoj-4011-happy-sequence/"/>
      <url>/2021/04/08/zoj-4011-happy-sequence/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370222">https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370222</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªnå’Œä¸€ä¸ªmï¼Œè¡¨ç¤ºä½ å¯ä»¥é‡å¤ç”¨[1,n]é‡Œçš„æ•°å­—ã€‚</p><p>æ„é€ ä¸€ä¸ªæ•°åˆ—ï¼Œæ•°åˆ—ä¸­å‰ä¸€ä¸ªæ•°å­—å¿…é¡»æ˜¯åä¸€ä¸ªæ•°å­—çš„å› å­ï¼Œå³$a_ia_{i+1}$ã€‚</p><p>é—®èƒ½æ„é€ å¤šå°‘ä¸ªè¿™æ ·çš„æ•°åˆ—ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ¯”å¦‚n&#x3D;8ï¼Œm&#x3D;3.å¯ä»¥æ„é€ ï¼š</p><p>$8\;8\;8$ $8\;8\;4$ $8\;4\;4$ $4\;4\;4$ $â€¦$</p><p>å‡å¦‚æˆ‘ä»¬ä¹‹åä¸€ä¸ªæ•°åé¢å¯ä»¥è·Ÿå¤šå°‘å› å­ï¼Œç„¶åè¿™ä¸ªå› å­åé¢â€¦</p><p>è¿™å°±æ˜¯ä¸ªé€’æ¨å•Š!</p><p>è®¾f[i][j]è¡¨ç¤ºä»¥iç»“å°¾ï¼Œé•¿åº¦ä¸ºjçš„åºåˆ—ä¸ªæ•°ã€‚</p><p>å› ä¸ºå¿…é¡»æ˜¯å› å­ï¼Œæ‰€ä»¥è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p><p>$f[i][j]+&#x3D;f[k][j-1]$(kä¸ºiçš„å› å­)</p><p>æ‰€ä»¥è¦å…ˆé¢„å¤„ç†æ‰€æœ‰æ•°å­—çš„å› å­ï¼Œç„¶åè¿›è¡Œdpå³å¯ã€‚$ans&#x3D;\sum_{i&#x3D;1}^nf[i][m]$ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a;</span><br><span class="line">        a = a * a;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2002</span>;</span><br><span class="line"></span><br><span class="line">ll f[N][N]; <span class="comment">// é•¿åº¦ä¸ºjï¼Œä»¥iç»“å°¾çš„ä¸ªæ•°</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; p[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// p[1].emplace_back(1);</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        p[i].<span class="built_in">emplace_back</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">2</span>;j &lt;= i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % j == <span class="number">0</span>) p[i].<span class="built_in">emplace_back</span>(j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        f[i][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> k : p[i]) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">2</span>;j &lt; N; j++) &#123;</span><br><span class="line">                f[i][j] = (f[i][j] + f[k][j - <span class="number">1</span>]) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            ans = (ans + f[i][m]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/08/zoj-4011-happy-sequence/">https://blog.jujimeizuo.cn/2021/04/08/zoj-4011-happy-sequence/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ZOJ 4003 DistanceåŒæŒ‡é’ˆç»´æŠ¤åŒºé—´</title>
      <link href="/2021/04/08/zoj-4003-distance/"/>
      <url>/2021/04/08/zoj-4003-distance/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370154">https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370154</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>å¯¹äºä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„åŒºé—´aå’Œbï¼Œå¦‚æœ$\suma_i-b_i^p\leq V$ï¼Œåˆ™æˆè¿™ä¸¤ä¸ªåŒºé—´ä¸ºgood åŒºé—´. ç»™å‡ºä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„æ•°åˆ—ï¼Œåœ¨è¿™ä¸¤ä¸ªæ•°åˆ—ä¸­åˆ†åˆ«é€‰æ‹©ä¸¤ä¸ªåŒºé—´ï¼Œå­˜åœ¨å¤šå°‘ä¸ªgoodåŒºé—´ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸º$\suma_i-b_i^p$æœ‰ç»å¯¹å€¼ï¼Œæ‰€ä»¥æ¯å¢åŠ ä¸€ä¸ªå€¼ï¼Œéƒ½ä¼šå¢åŠ ã€‚ å‡è®¾æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªåŒºé—´$[l1,r1]ã€[l2,r2]$ï¼Œåˆ™$l\in [l1,r1]ï¼Œlâ€™\in [l2,r2]$éƒ½æ˜¯å¯ä»¥çš„ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æšä¸¾åŒºé—´èµ·ç‚¹ï¼Œç„¶åè®¡ç®—ç»ˆç‚¹ï¼Œæœ€åç»´æŠ¤åŒºé—´ï¼Œæ›´æ–°å’Œç»Ÿè®¡ç­”æ¡ˆå³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a;</span><br><span class="line">        a = a * a;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; ll V, p;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; V &gt;&gt; p;</span><br><span class="line">        <span class="function">vector&lt;ll&gt; <span class="title">x</span><span class="params">(n + <span class="number">10</span>)</span></span>;</span><br><span class="line">        <span class="function">vector&lt;ll&gt; <span class="title">y</span><span class="params">(n + <span class="number">10</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; x[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; y[i];</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> len = <span class="number">0</span>;len &lt;= n - <span class="number">1</span>; len++) &#123; <span class="comment">// æšä¸¾æŒ‡é’ˆè·ç¦»</span></span><br><span class="line">            <span class="type">int</span> l1 = <span class="number">1</span>, r1 = <span class="number">1</span>; <span class="comment">// a</span></span><br><span class="line">            <span class="type">int</span> l2 = <span class="number">1</span> + len, r2 = <span class="number">1</span> + len; <span class="comment">// b</span></span><br><span class="line">            ll cnt = <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[l1] - y[l2]), p);</span><br><span class="line">            <span class="keyword">while</span>(r2 &lt;= n) &#123; <span class="comment">// å…ˆè®©båŠ¨åŒºé—´</span></span><br><span class="line">                <span class="keyword">if</span>(cnt &lt;= V) &#123;</span><br><span class="line">                    ans += r1 - l1 + <span class="number">1</span>;</span><br><span class="line">                    r1++;</span><br><span class="line">                    r2++;</span><br><span class="line">                    cnt += <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[r1] - y[r2]), p);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    cnt -= <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[l1] - y[l2]), p);</span><br><span class="line">                    l1++;</span><br><span class="line">                    l2++;</span><br><span class="line">                    <span class="keyword">if</span>(l1 &gt; r1) &#123;</span><br><span class="line">                        r1++;</span><br><span class="line">                        r2++;</span><br><span class="line">                        cnt += <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[r1] - y[r2]), p);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(len == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            l1 = <span class="number">1</span> + len; r1 = <span class="number">1</span> + len;</span><br><span class="line">            l2 = <span class="number">1</span>; r2 = <span class="number">1</span>;</span><br><span class="line">            cnt = <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[l1] - y[l2]), p);</span><br><span class="line">            <span class="keyword">while</span>(r1 &lt;= n) &#123;</span><br><span class="line">                <span class="keyword">if</span>(cnt &lt;= V) &#123;</span><br><span class="line">                    ans += r2 - l2 + <span class="number">1</span>;</span><br><span class="line">                    r1++;</span><br><span class="line">                    r2++;</span><br><span class="line">                    cnt += <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[r1] - y[r2]), p);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    cnt -= <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[l1] - y[l2]), p);</span><br><span class="line">                    l1++;</span><br><span class="line">                    l2++;</span><br><span class="line">                    <span class="keyword">if</span>(l2 &gt; r2) &#123;</span><br><span class="line">                        r1++;</span><br><span class="line">                        r2++;</span><br><span class="line">                        cnt += <span class="built_in">quick_pow</span>(<span class="built_in">abs</span>(x[r1] - y[r2]), p);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/08/zoj-4003-distance/">https://blog.jujimeizuo.cn/2021/04/08/zoj-4003-distance/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 EC Finals I. Misunderstood â€¦ Missing é€†å‘dp</title>
      <link href="/2021/04/07/2018-ec-finals-i-misunderstood-missing/"/>
      <url>/2021/04/07/2018-ec-finals-i-misunderstood-missing/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/gym/102056/problem/I">https://codeforces.com/gym/102056/problem/I</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>åˆšå¼€å§‹ï¼Œæœ‰åˆå§‹å€¼éƒ½ä¸º0çš„A(ä¼¤å®³)å’ŒD(ä¼¤å®³å¢é‡)ã€‚ Dçš„å«ä¹‰æ˜¯ï¼Œæ¯å›åˆåˆšå¼€å§‹éƒ½å¯ä»¥ç»™Aå¢åŠ Dçš„ä¼¤å®³ã€‚ æœ‰nä¸ªå›åˆï¼Œæ¯ä¸ªå›åˆæœ‰3ä¸ªå€¼a,b,cã€‚</p><p>ç„¶åä¸‰ä¸ªæ“ä½œï¼š</p><ol><li>æ“ä½œä¸€ï¼šå¯ä»¥æ”»å‡»ï¼Œæ€»ä¼¤å®³å¢åŠ A+aã€‚</li><li>æ“ä½œäºŒï¼šç»™å¢é‡Då¢åŠ bã€‚</li><li>æ“ä½œä¸‰ï¼šç»™ä¼¤å®³Aå¢åŠ cã€‚</li></ol><p>é—®å¦‚ä½•æ“ä½œå¯ä»¥ä½¿æ€»ä¼¤å®³å€¼æœ€å¤§ã€‚n&lt;&#x3D;100ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆå¯ä»¥æƒ³åˆ°$3^{100}$å¤æ‚åº¦çš„æš´åŠ›ï¼Œæ˜¾ç„¶ä¸è¡Œã€‚</p><p>ç„¶åæ­£å‘éå†ï¼Ÿæ˜¾ç„¶ä¹Ÿä¸è¡Œï¼Œå› ä¸ºä½ å‰é¢çš„æ“ä½œå¯¹åç»­ä¼šæœ‰å½±å“ï¼Œæ‰€ä»¥è€ƒè™‘é€†å‘ã€‚</p><p>é‚£è¯¥æ€ä¹ˆé€†å‘å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬æ”»å‡»äº†å‡ æ¬¡ï¼Œå¹¶ä¸”å“ªå‡ æ¬¡æ”»å‡»ï¼Œå°±å¯ä»¥ç®—å‡ºå½“å‰çš„è´¡çŒ®ã€‚</p><p>æ¯”å¦‚n&#x3D;5ï¼Œæˆ‘æ­£åœ¨ç¬¬2å¤©ï¼Œå¦‚æœæˆ‘ä»¬ç¬¬3å’Œç¬¬5å¤©æ”»å‡»äº†ï¼Œé‚£ä¹ˆå½“å‰æœ‰ä¸‰ä¸ªæ“ä½œï¼š</p><ol><li>æ‰§è¡Œæ“ä½œä¸€ï¼š$ans+&#x3D;A+a[i]$</li><li>æ‰§è¡Œæ“ä½œäºŒï¼š$ans+&#x3D;(3-2)*b[i]+(5-2)*b[i]$</li><li>æ‰§è¡Œæ“ä½œä¸‰ï¼š$ans+&#x3D;2*b[i]$</li></ol><p>å¾ˆæ˜¾ç„¶ï¼Œè¿™äº›æˆ‘ä»¬å¯ä»¥O(1)åˆ¤æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ ¹æ®åé¢çš„é€‰æ‹©æ¥åšå‡ºå‰é¢çš„é€‰æ‹©ï¼Œè¿™å°±æ˜¯é€†å‘dpã€‚</p><p>é‚£æˆ‘ä»¬éœ€è¦çŸ¥é“å“ªäº›çŠ¶æ€å‘¢ï¼Ÿç¬¬å‡ è½®ï¼Œæ”»å‡»æ¬¡æ•°ï¼ˆç»Ÿè®¡c[i]è´¡çŒ®ï¼‰ï¼Œå“ªå‡ æ¬¡æ”»å‡»ï¼ˆç»Ÿè®¡b[i]è´¡çŒ®ï¼‰ã€‚</p><p>ç¬¬å‡ è½®ï¼Ÿæœ€å¤§ä¸º100ï¼Œiã€‚ æ”»å‡»æ¬¡æ•°ï¼Ÿæœ€å¤§ä¸º100ï¼Œjã€‚ å“ªå‡ æ¬¡æ”»å‡»ï¼Ÿè¿™ä¸ªå¾ˆä¸å®¹æ˜“æƒ³åˆ°ï¼Œé‚£å°±æ˜¯è®°å½•æ”»å‡»æ¬¡æ•°ä¸‹æ ‡å’Œï¼Œkã€‚</p><p>é‚£ä¹ˆå°±å¾—åˆ°dp[i][j][k]è¡¨ç¤ºç¬¬iè½®ï¼Œæ”»å‡»äº†jæ¬¡ï¼Œå¹¶ä¸”ä¸‹æ ‡å’Œä¸ºkçš„æœ€å¤§ä¼¤å®³ã€‚</p><p>é‚£ä¹ˆå°±å¯ä»¥è¿›è¡ŒçŠ¶æ€è½¬ç§»äº†ï¼š</p><ol><li>$æ“ä½œä¸€ï¼šdp[i][j+1][k+i]&#x3D;max(dp[i][j+1][k+i], dp[i+1][j][k]+a[i])$</li><li>$æ“ä½œäºŒï¼šdp[i][j][k]&#x3D;max(dp[i][j][k],dp[i+1][j][k]+(k-j*i)*b[i])$</li><li>$æ“ä½œä¸‰ï¼šdp[i][j][k]&#x3D;max(dp[i][j][k],dp[i+1][j][k]+j*c[i])$</li></ol><p>æ‰€ä»¥å…ˆé€†åºéå†nï¼Œåœ¨éå†jï¼Œæœ€åéå†kã€‚</p><p>æƒ³åˆ°è¿™é‡Œå°±å·²ç»å¾ˆå¥½äº†ï¼Œå¯èƒ½æ˜¯æˆ‘ä»¬æ²¡æœ‰ç²¾åŠ›ç»§ç»­æƒ³äº†ï¼Œæ²¡æœ‰ä¼˜åŒ–ã€‚æ‰€ä»¥ä¸€ç›´è¿‡ä¸å»ã€‚</p><p>æˆ‘ä»¬çŸ¥é“næœ‰100ï¼Œæ‰€ä»¥100*100*(1+100)*100&#x2F;2ä¼šMLEï¼Œç„¶åçœ‹åˆ°iå…¶å®å¯ä»¥æ»šåŠ¨çš„ã€‚</p><p>æ‰€ä»¥æŠŠå‰é¢éƒ½æ”¹æˆ$i\%2$ï¼Œåé¢éƒ½æ”¹æˆ$(i+1)\%2$ï¼Œå‡å°ç©ºé—´å¤æ‚åº¦ã€‚</p><p>kå…¶å®ä¹Ÿèƒ½ä¼˜åŒ–ï¼Œä¸å¿…è¦1åˆ°5050ï¼Œå¯ä»¥æ ¹æ®iå’Œjå¾—åˆ°ä¸Šä¸‹é™ã€‚ ä¸Šé™ï¼šä»iå¼€å§‹çš„j-1æ¬¡æ”»å‡»åŠ ä¸Šæœ€åä¸€æ¬¡ä¸º$(i+i+j-1)*(j-1)&#x2F;2+n$ ä¸‹é™ï¼šä»n-j+1å¼€å§‹çš„jæ¬¡æ”»å‡»ä¸º$(n-j+1+n)*j&#x2F;2$</p><p>æœ€å$ans&#x3D;max(ans,dp[1][j][k])$å¤„ç†ç­”æ¡ˆå³å¯ã€‚</p><p>è¿™ä¸€é¢˜å…¶å®å¯ä»¥å†™çš„ï¼Œå¯ä»¥è¯´90%éƒ½æƒ³åˆ°äº†ï¼Œä½†æ˜¯ACMå°±æ˜¯è¿™æ ·ï¼Œä¸å…è®¸ä¸€ç‚¹é”™è¯¯ï¼ŒACå³æ˜¯ç‹é“ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">ll dp[<span class="number">2</span>][<span class="number">101</span>][<span class="number">5051</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span>  <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="built_in">sizeof</span>(dp));</span><br><span class="line">        <span class="function">vector&lt;ll&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">b</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">c</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld&quot;</span>,&amp;a[i],&amp;b[i],&amp;c[i]);</span><br><span class="line">        dp[n % <span class="number">2</span>][<span class="number">1</span>][n] = a[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>;i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n - i; j++) &#123;</span><br><span class="line">                <span class="type">int</span> down = (i + i + j - <span class="number">1</span>) * (j - <span class="number">1</span>) / <span class="number">2</span> + n, up = (n - j + <span class="number">1</span> + n) * j / <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k = down;k &lt;= up; k++) &#123;</span><br><span class="line">                    dp[i % <span class="number">2</span>][j + <span class="number">1</span>][k + i] = <span class="built_in">max</span>(dp[i % <span class="number">2</span>][j + <span class="number">1</span>][k + i], dp[(i + <span class="number">1</span>) % <span class="number">2</span>][j][k] + a[i]);</span><br><span class="line">                    dp[i % <span class="number">2</span>][j][k] = <span class="built_in">max</span>(dp[i % <span class="number">2</span>][j][k], dp[(i + <span class="number">1</span>) % <span class="number">2</span>][j][k] + <span class="number">1ll</span> * j * c[i]);</span><br><span class="line">                    dp[i % <span class="number">2</span>][j][k] = <span class="built_in">max</span>(dp[i % <span class="number">2</span>][j][k], dp[(i + <span class="number">1</span>) % <span class="number">2</span>][j][k] + <span class="number">1ll</span> * (k - j * i) * b[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= <span class="number">5050</span>; k++) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, dp[<span class="number">1</span>][j][k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/07/2018-ec-finals-i-misunderstood-missing/">https://blog.jujimeizuo.cn/2021/04/07/2018-ec-finals-i-misunderstood-missing/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ZOJ 3964Yet Another Game of Stones æ‰©å±•å°¼å§†åšå¼ˆ</title>
      <link href="/2021/04/05/zoj-3964yet-another-game-of-stones/"/>
      <url>/2021/04/05/zoj-3964yet-another-game-of-stones/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™nå †çŸ³å¤´ï¼Œæ¯å †çŸ³å¤´æœ‰aä¸ªæ•°é‡å’Œbæ€§è´¨ã€‚Aliceå’ŒBobç©æ¸¸æˆï¼Œæ¯æ¬¡åªèƒ½åœ¨ä¸€å †ä¸­å–ä»»æ„å¤šä¸ªçŸ³å¤´ã€‚</p><ul><li>b&#x3D;0ï¼ŒAliceéšä¾¿å–ã€‚</li><li>b&#x3D;1ï¼ŒAliceåªèƒ½å–å¥‡æ•°ä¸ªã€‚</li><li>b&#x3D;2ï¼ŒAliceåªèƒ½å–å¶æ•°ä¸ªã€‚</li></ul><p>å–æœ€åä¸€ä¸ªwinã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœæ‰€æœ‰çš„çŸ³å¤´çš„béƒ½ä¸º0ï¼Œé‚£ä¹ˆå°±æ˜¯ç®€å•çš„å°¼å§†åšå¼ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠbä¸ä¸º0çš„ç»™é™åˆ¶å‡ºæ¥ã€‚</p><ol><li>å­˜åœ¨ä¸€å †b&#x3D;2ï¼Œå¹¶ä¸”aä¸ºå¥‡æ•°ï¼Œåˆ™Bobå¿…èƒœã€‚</li><li>å­˜åœ¨ä¸¤å †åŠä»¥ä¸Šb&#x3D;2æˆ–b&#x3D;1ä¸”a&gt;1ï¼Œåˆ™Bobå¿…èƒœã€‚</li><li>å¦‚æœåªå­˜åœ¨ä¸€å †b&#x3D;2ï¼Œåˆ™Aliceä¸ºäº†èƒœåˆ©ï¼Œå¿…é¡»å…ˆæŠŠè¿™å †æ‹¿å®Œ(å¦åˆ™Bobå¯ä»¥æ‹¿åˆ°å¥‡æ•°ä¸ªç„¶åå¿…èƒœ)ï¼Œåˆ™è½¬åŒ–ä¸ºBobå…ˆæ‰‹çš„å°¼å§†åšå¼ˆã€‚</li><li>å¦‚æœåªå­˜åœ¨ä¸€å †b&#x3D;1ï¼Œæ‹©Aliceä¸ºäº†èƒœåˆ©ï¼Œå¿…é¡»æ‹¿å®Œ(å¥‡æ•°)æˆ–è€…æ‹¿a-1ä¸ª(å¶æ•°)ï¼Œç„¶åè½¬åŒ–ä¸ºBobå…ˆæ‰‹çš„å°¼å§†åšå¼ˆã€‚</li><li>å…¨ä¸ºb&#x3D;0ï¼Œç®€å•å°¼å§†åšå¼ˆã€‚</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        <span class="type">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>; <span class="comment">// å¥‡æ•°ã€å¶æ•°</span></span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">c</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; v[i];</span><br><span class="line">        <span class="type">bool</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> p = <span class="number">0</span>, q = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; c[i];</span><br><span class="line">            <span class="keyword">if</span>(c[i] == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(v[i] &gt; <span class="number">1</span>) a++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c[i] == <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(v[i] % <span class="number">2</span>) flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> b++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">flag</span>  (a + b &gt; <span class="number">1</span>)) cout &lt;&lt; <span class="string">&quot;Bob&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(!a &amp;&amp; !b) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) ans ^= v[i];</span><br><span class="line">                cout &lt;&lt; (ans ? <span class="string">&quot;Alice&quot;</span> : <span class="string">&quot;Bob&quot;</span>) &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(c[i] == <span class="number">1</span> &amp;&amp; v[i] &gt; <span class="number">1</span>) ans ^= (v[i] % <span class="number">2</span> ? <span class="number">0</span> : <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">else</span> ans ^= v[i];</span><br><span class="line">                &#125;</span><br><span class="line">                cout &lt;&lt; (ans == <span class="number">0</span> ? <span class="string">&quot;Alice&quot;</span> : <span class="string">&quot;Bob&quot;</span>) &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(b) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;  i &lt;= n; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(c[i] != <span class="number">2</span>) ans ^= v[i];</span><br><span class="line">                &#125;</span><br><span class="line">                cout &lt;&lt; (ans == <span class="number">0</span> ? <span class="string">&quot;Alice&quot;</span> : <span class="string">&quot;Bob&quot;</span>) &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/05/zoj-3964yet-another-game-of-stones/">https://blog.jujimeizuo.cn/2021/04/05/zoj-3964yet-another-game-of-stones/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ 45 å±Šå›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›ï¼ˆICPCï¼‰äºšæ´²åŒºåŸŸèµ›ï¼ˆæ˜†æ˜ï¼‰(çƒ­èº«èµ›) C-Statues</title>
      <link href="/2021/04/03/icpc45-kunming-c/"/>
      <url>/2021/04/03/icpc45-kunming-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/13977/C">https://ac.nowcoder.com/acm/contest/13977/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªä½ç½®ï¼Œç»™kä¸ªé›•åƒï¼Œæ¯ä¸ªé›•åƒéƒ½æœ‰ä¸€ä¸ªä½ç½®å’Œå¤§å°ã€‚æƒ³è¦å°†å®ƒæ”¾åœ¨ç¬¬iä¸ªä½ç½®ï¼Œéœ€èŠ±è´¹$x*j-i$ã€‚ å°†è¿™äº›é›•åƒæŒ‰ç…§å¤§å°éé€’å‡æ’åˆ—ï¼Œæ±‚å‡ºæœ€å°èŠ±è´¹ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºæ•°æ®åªæœ‰5000ï¼Œæ‰€ä»¥è€ƒè™‘$O(n^2)$dp,ç¬¬ä¸€å±‚nï¼Œç¬¬äºŒå±‚kã€‚ é¦–å…ˆæ’åºï¼Œæ ¹æ®å¤§å°ä»å°åˆ°å¤§æ’åºã€‚</p><p>è®¾f[i][j]è¡¨ç¤ºå‰iä¸ªä½ç½®æ”¾äº†jä¸ªé›•åƒã€‚åˆ™è€ƒè™‘ç¬¬jä¸ªæ”¾ä¸æ”¾çš„é—®é¢˜ï¼Ÿ</p><ul><li>æ”¾ï¼$f[i][j] &#x3D;f[i-1][j-1]+a[j].x*abs(i-a[j].p)$</li><li>ä¸æ”¾ï¼$f[i][j] &#x3D; f[i-1][j]$</li></ul><p>åˆ™çŠ¶æ€è½¬ç§»ä¸ºï¼š $$f[i][j]&#x3D;min(f[i-1][j],f[i-1][j-1]+a[j].x*abs(a[j].p-i))$$</p><p>å› ä¸ºå–minï¼Œæ‰€ä»¥memset(f,INF,sizeof(f))ï¼Œå¹¶ä¸”è¾¹ç•Œf[0][0]&#x3D;0ã€‚</p><p>å¤æ‚åº¦$O(nk)$ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    ll x, p;</span><br><span class="line">&#125;a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(node a, node b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.x == b.x) <span class="keyword">return</span> a.p &lt; b.p;</span><br><span class="line">    <span class="keyword">return</span> a.x &lt; b.x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, k; cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k; i++) cin &gt;&gt; a[i].p &gt;&gt; a[i].x;</span><br><span class="line">    <span class="built_in">sort</span>(a + <span class="number">1</span>, a + k + <span class="number">1</span>, cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; N; j++) &#123;</span><br><span class="line">            f[i][j] = <span class="number">1e18</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= <span class="built_in">min</span>(i, k); j++) &#123;</span><br><span class="line">            f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span>(j &gt; <span class="number">0</span>) f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1ll</span> * <span class="built_in">abs</span>(i - a[j].p) * a[j].x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; f[n][k] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/03/icpc45-kunming-c/">https://blog.jujimeizuo.cn/2021/04/03/icpc45-kunming-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springbootä¸Šä¼ æ–‡ä»¶</title>
      <link href="/2021/04/02/springboot-upload/"/>
      <url>/2021/04/02/springboot-upload/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> &#123;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/04/02/springboot-upload/">https://blog.jujimeizuo.cn/2021/04/02/springboot-upload/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›40 F-å°Dçš„å‰‘é˜µ æœ€å°å‰²+äºŒå…ƒå…³ç³»å»ºå›¾</title>
      <link href="/2021/03/27/nowcoder-practice40-f/"/>
      <url>/2021/03/27/nowcoder-practice40-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/369/F">https://ac.nowcoder.com/acm/contest/369/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ•°æ®èŒƒå›´ä¸å¤§ï¼Œè€Œä¸”å­˜åœ¨äºŒå…ƒé™åˆ¶å…³ç³»ï¼Œè€ƒè™‘ç½‘ç»œæµã€‚</p><p>å‡å¦‚xå’Œyå­˜åœ¨äºŒå…ƒé™åˆ¶å…³ç³»ï¼Œæ‰€ä»¥è€ƒè™‘xå’Œyæ˜¯å¦é€‰å–ã€‚</p><p>å¦‚æœè€ƒè™‘é€‰å–å‘¢ï¼Ÿæœ€å°å‰²ï¼è®¾ä¸æºç‚¹såœ¨ä¸€éƒ¨åˆ†çš„ç‚¹ä¸å–ï¼Œä¸æ±‡ç‚¹åœ¨ä¸€éƒ¨åˆ†çš„ç‚¹å–ã€‚</p><p>å°†æ‰€æœ‰çš„$w$å’Œ$v_0$å’Œ$v_1$åŠ èµ·æ¥ï¼Œç„¶åæŠŠæœ€å°å‰²è®¤ä¸ºæ˜¯ä»£ä»·ï¼Œç­”æ¡ˆå°±æ˜¯sum-æœ€å°å‰²(æœ€å°ä»£ä»·)ã€‚</p><p>è®¾$w_x,w_y,v_0,v_1,v_2$è¡¨ç¤ºxçš„æƒå€¼ï¼Œyçš„æƒå€¼ï¼Œxå’Œyéƒ½é€‰çš„æƒå€¼ï¼Œxå’Œyéƒ½ä¸é€‰çš„æƒå€¼ï¼Œxå’Œyåªé€‰ä¸€ä¸ªçš„æƒå€¼ã€‚</p><p>ä¸ºä»€ä¹ˆæ²¡æœ‰$v_2$ï¼Ÿå› ä¸º$v_2$æ˜¯æ‰£é™¤çš„ï¼Œä¸æ˜¯ä»£ä»·ï¼Œ$v_2$è¦åœ¨æˆ‘ä»¬æœ€å°å‰²æ¨¡å‹ä¸­ä¼šè¢«ç®—è¿›å»ï¼Œæœ€åä¼šå‡æ‰ã€‚</p><p>åˆ™å¯¹äºä¸Šé¢çš„æ¨¡å‹ï¼Œæœ€å°å‰²æœ‰å››ç§ï¼š</p><ul><li>$xå’Œyéƒ½é€‰ï¼Œæœ€å°å‰²ä¸ºa+c&#x3D;v_1$</li><li>$xå’Œyéƒ½ä¸é€‰ï¼Œæœ€å°å‰²ä¸ºb+d&#x3D;w_x+w_y+v_0$</li><li>$xé€‰ï¼Œyä¸é€‰ï¼Œæœ€å°å‰²ä¸ºa+f+d&#x3D;w_y+v_0+v_1+v_2$</li><li>$xä¸é€‰ï¼Œyé€‰ï¼Œæœ€å°å‰²ä¸ºc+e+b&#x3D;w_x+v_0+v_1+v_2$</li></ul><p>ç„¶åå°±è¦æ„é€ è¾¹çš„å®¹é‡äº†ã€‚</p><p>bå’Œdåˆ†åˆ«æ˜¯è¿å‘æ±‡ç‚¹çš„è¾¹ï¼Œåˆ™ä¸º$w_x+\frac{v_0}{2}å’Œw_y+\frac{v_0}{2}$ã€‚ aå’Œcåˆ†åˆ«æ˜¯è¿å‘æºç‚¹çš„è¾¹ï¼Œåˆ™ä¸º$\frac{v_1}{2}å’Œ\frac{v_1}{2} å‰©ä¸‹çš„eå’Œfè§£å‡ºæ¥ä¸º$$v_2+\frac{v_0+v_1}{2}$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Dinic</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e3</span> + <span class="number">10</span>, M = <span class="number">1e5</span> + <span class="number">10</span>, INF <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">    <span class="type">int</span> n, m, s, t;</span><br><span class="line">    <span class="type">int</span> maxflow;</span><br><span class="line">    <span class="type">int</span> deep[N], cur[N];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">        <span class="type">int</span> v, next;</span><br><span class="line">        <span class="type">int</span> cap;</span><br><span class="line">    &#125;e[M &lt;&lt; <span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> head[M &lt;&lt; <span class="number">1</span>], cnt;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span> head);</span><br><span class="line">        cnt = maxflow = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> cap)</span> </span>&#123;</span><br><span class="line">        e[cnt].v = v;</span><br><span class="line">        e[cnt].cap = cap;</span><br><span class="line">        e[cnt].next = head[u];</span><br><span class="line">        head[u] = cnt++;</span><br><span class="line"></span><br><span class="line">        e[cnt].v = u;</span><br><span class="line">        e[cnt].cap = <span class="number">0</span>;</span><br><span class="line">        e[cnt].next = head[v];</span><br><span class="line">        head[v] = cnt++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= t; i++) &#123;</span><br><span class="line">            deep[i] = <span class="number">-1</span>, cur[i] = head[i];</span><br><span class="line">        &#125;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">        q.<span class="built_in">push</span>(s); deep[s] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> u = q.<span class="built_in">front</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">                <span class="type">int</span> v = e[i].v;</span><br><span class="line">                <span class="keyword">if</span>(deep[v] == <span class="number">-1</span> &amp;&amp; e[i].cap) &#123;</span><br><span class="line">                    deep[v] = deep[u] + <span class="number">1</span>;</span><br><span class="line">                    q.<span class="built_in">push</span>(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(deep[t] &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> mx)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> a;</span><br><span class="line">        <span class="keyword">if</span>(u == t) <span class="keyword">return</span> mx;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = cur[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">            cur[u] = i;</span><br><span class="line">            <span class="type">int</span> v = e[i].v;</span><br><span class="line">            <span class="keyword">if</span>(e[i].cap &amp;&amp; deep[v] == deep[u] + <span class="number">1</span> &amp;&amp; (a = <span class="built_in">dfs</span>(v, <span class="built_in">min</span>(mx, e[i].cap)))) &#123;</span><br><span class="line">                e[i].cap -= a;</span><br><span class="line">                e[i ^ <span class="number">1</span>].cap += a;</span><br><span class="line">                <span class="keyword">return</span> a;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dinic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="built_in">bfs</span>()) &#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="type">int</span> res = <span class="built_in">dfs</span>(s, INF);</span><br><span class="line">                <span class="keyword">if</span>(!res) <span class="keyword">break</span>;</span><br><span class="line">                maxflow += res;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;mf;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, q; cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">    mf.<span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    mf.n = n; mf.s = <span class="number">0</span>; mf.t = n + <span class="number">1</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">w</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">m</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; w[i], ans += w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= q; i++) &#123;</span><br><span class="line">        <span class="type">int</span> x, y, v0, v1, v2; cin &gt;&gt; x &gt;&gt; y &gt;&gt; v0 &gt;&gt; v1 &gt;&gt; v2;</span><br><span class="line">        ans += v0 + v1;</span><br><span class="line">        w[x] += v0 / <span class="number">2</span>; w[y] += v0 / <span class="number">2</span>;</span><br><span class="line">        m[x] += v1 / <span class="number">2</span>; m[y] += v1 / <span class="number">2</span>;</span><br><span class="line">        mf.<span class="built_in">add</span>(x, y, v2 + (v0 + v1) / <span class="number">2</span>);</span><br><span class="line">        mf.<span class="built_in">add</span>(y, x, v2 + (v0 + v1) / <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        mf.<span class="built_in">add</span>(mf.s, i, m[i]);</span><br><span class="line">        mf.<span class="built_in">add</span>(i, mf.t, w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    mf.<span class="built_in">dinic</span>();</span><br><span class="line">    cout &lt;&lt; ans - mf.maxflow &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/27/nowcoder-practice40-f/">https://blog.jujimeizuo.cn/2021/03/27/nowcoder-practice40-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>51nod1588 å¹¸è¿æ ‘ æ ‘å½¢dpç»Ÿè®¡æ ‘ä¸Šæ–¹æ¡ˆæ•°</title>
      <link href="/2021/03/27/51nod1588/"/>
      <url>/2021/03/27/51nod1588/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.51nod.com/Challenge/Problem.html##problemId=1588">https://www.51nod.com/Challenge/Problem.html##problemId=1588</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>å®šä¹‰å¹¸è¿æ•°å­—åªç”±4å’Œ7ç»„æˆï¼Œæ¯”å¦‚4ï¼Œ7ï¼Œ47ã€‚</p><p>ç»™ä¸€æ£µæ ‘ï¼Œè¦æˆ‘ä»¬æ‰¾åˆ°ä¸‰å…ƒç»„(i,j,k)ï¼Œä¸¤ä¸¤ä¹‹é—´çš„è·¯å¾„ä¸­å¿…é¡»è¦æœ‰ä¸€æ¡ç”±å¹¸è¿æ•°å­—ç»„æˆçš„è¾¹ã€‚</p><p>é—®ï¼Œå­˜åœ¨å¤šå°‘ç»„è¿™æ ·çš„ä¸‰å…ƒç»„ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¹¸è¿æ•°å­—å¥½å¤„ç†ï¼Œcheckä¸€ä¸‹ã€‚å…³é”®æ˜¯æ€ä¹ˆæ‰¾å‡ºè´¡çŒ®ã€‚</p><p>ç»Ÿè®¡æ ‘ä¸Šæ–¹æ¡ˆæ•°ï¼Œä¸€èˆ¬å…ˆå›ºå®šä¸€ä¸ªç‚¹ï¼Œæ¯”å¦‚iï¼Œç„¶åå†æ‰¾å¦å¤–ä¸¤ä¸ªç‚¹jå’Œkï¼Œç®—å‡ºiè¿™ä¸ªç‚¹å¯¹åº”çš„è´¡çŒ®ã€‚</p><p>è®¾f[u]ä¸ºä»¥uä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­ï¼Œæœ‰å‡ ä¸ªç‚¹åˆ°uçš„è·¯å¾„ä¸­å­˜åœ¨å¹¸è¿æ•°å­—ã€‚ è®¾h[u]ä¸ºä»¥uä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘å¤–ï¼Œæœ‰å‡ ä¸ªç‚¹åˆ°uçš„è·¯å¾„ä¸­å­˜åœ¨å¹¸è¿æ•°å­—ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„jå’Œkçš„é€‰æ‹©å°±å¯ä»¥åœ¨fä¸­é€‰æ‹©ï¼Œæˆ–è€…hä¸­é€‰æ‹©ï¼Œæˆ–è€…få’Œhä¸­é€‰æ‹©ã€‚</p><p>å³içš„è´¡çŒ®ä¸º$f[i]*(f[i]-1)+h[i]*(h[i]-1)+f[i]*h[i]*2$</p><p>ç„¶åå°±æ˜¯å¤„ç†få’Œhã€‚</p><p>dfsè¿‡ç¨‹ä¸­ï¼š</p><ul><li>å¦‚æœuå’Œvçš„è¾¹æ˜¯å¹¸è¿æ•°å­—ï¼Œåˆ™$f[u]+&#x3D;siz[v]$</li><li>å¦åˆ™$f[u]+&#x3D;f[v]$</li><li>å¦‚æœvå’Œuçš„è¾¹æ˜¯å¹¸è¿æ•°å­—ï¼Œåˆ™$h[v]+&#x3D;siz[1]-siz[v]$</li><li>å¦åˆ™$h[v]+&#x3D;h[u]+f[u]-f[v]$</li></ul><p>æ‰€ä»¥è¦å…ˆdfsä¸€éé¢„å¤„ç†få’Œsizï¼Œç„¶ådfsä¸€éå¤„ç†hï¼Œæœ€åç»Ÿè®¡æ–¹æ¡ˆã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, w;</span><br><span class="line">&#125;;</span><br><span class="line">vector&lt;Edge&gt; g[N];</span><br><span class="line"></span><br><span class="line">ll f[N], h[N];</span><br><span class="line"><span class="type">int</span> siz[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    siz[u] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e : g[u]) &#123;</span><br><span class="line">        <span class="type">int</span> v = e.v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">if</span>(e.w) f[u] += siz[v];</span><br><span class="line">        <span class="keyword">else</span> f[u] += f[v];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e : g[u]) &#123;</span><br><span class="line">        <span class="type">int</span> v = e.v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(e.w) h[v] = siz[<span class="number">1</span>] - siz[v];</span><br><span class="line">        <span class="keyword">else</span> h[v] = h[u] + f[u] - f[v];</span><br><span class="line">        <span class="built_in">dfs2</span>(v, u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(n) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % <span class="number">10</span> != <span class="number">4</span> &amp;&amp; n % <span class="number">10</span> != <span class="number">7</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        n /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v, w; cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        w = <span class="built_in">check</span>(w);</span><br><span class="line">        g[u].<span class="built_in">push_back</span>(Edge&#123;v, w&#125;);</span><br><span class="line">        g[v].<span class="built_in">push_back</span>(Edge&#123;u, w&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs1</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) ans += f[i] * (f[i] - <span class="number">1</span>) + h[i] * (h[i] - <span class="number">1</span>) + f[i] * h[i] * <span class="number">2</span>;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/27/51nod1588/">https://blog.jujimeizuo.cn/2021/03/27/51nod1588/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019 å—æ˜ŒICPCç½‘ç»œèµ› Hé¢˜ The Nth Item ï¼ˆäºŒé˜¶çº¿æ€§æ•°åˆ—é€’æ¨+å…‰é€Ÿå¹‚ï¼‰ or ï¼ˆçŸ©é˜µå¿«é€Ÿå¹‚+å¹¿ä¹‰æ–æ³¢é‚£å¥‘å¾ªç¯èŠ‚ï¼‰</title>
      <link href="/2021/03/26/2019-icpc-nanchang-online-h/"/>
      <url>/2021/03/26/2019-icpc-nanchang-online-h/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://nanti.jisuanke.com/t/41355">https://nanti.jisuanke.com/t/41355</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$F_0&#x3D;0\;\;F_1 &#x3D;1$$</p><p>$$F_{n}&#x3D;3F_{n-1}+2F_{n-2}(n\ge 2)$$</p><p>$å¯¹æ¯ä¸€ä¸ªè¯¢é—®ï¼Œè¾“å‡ºF_nã€‚$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$å¦‚æœæ˜¯å•çŸ©é˜µå¿«é€Ÿå¹‚çš„è¯ï¼ŒO(8*1e7*log(10^9))Té£äº†ã€‚$</p><h4 id="äºŒé˜¶çº¿æ€§æ•°åˆ—é€’æ¨-å¿«é€Ÿå¹‚ä¼˜åŒ–"><a href="#äºŒé˜¶çº¿æ€§æ•°åˆ—é€’æ¨-å¿«é€Ÿå¹‚ä¼˜åŒ–" class="headerlink" title="äºŒé˜¶çº¿æ€§æ•°åˆ—é€’æ¨+å¿«é€Ÿå¹‚ä¼˜åŒ–"></a>äºŒé˜¶çº¿æ€§æ•°åˆ—é€’æ¨+å¿«é€Ÿå¹‚ä¼˜åŒ–</h4><p>$æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºäºŒé˜¶çº¿æ€§æ•°åˆ—é€’æ¨ï¼Œå°±æ˜¯å‡è®¾F_n&#x3D;x^nï¼Œç„¶åè§£å‡ºx^n&#x3D;ax^{n-1}+bx^{x-2}.$</p><p>$å¦‚æœæœ‰äºŒå®æ•°æ ¹ï¼Œåˆ™ä¸ºF(n)&#x3D;Ax_1^{n}+Bx_2^{n}$ $å¦‚æœæœ‰ä¸€å®æ•°æ ¹ï¼Œåˆ™ä¸ºF(n)&#x3D;(A+Bn)x^n$</p><p>$è®¾F_n&#x3D;x^nï¼Œåˆ™ï¼š$</p><p>$$x^n&#x3D;3x^{n-1}+2x^{n-2}$$</p><p>$$x^2-3x-2&#x3D;0$$</p><p>$$x1&#x3D;\frac{3+\sqrt {17}}{2}\;\;\;\;x2&#x3D;\frac{3-\sqrt{17}}{2}$$</p><p>$ç„¶åæŠŠF_0&#x3D;0\;\;F_1 &#x3D;1å¸¦å…¥å¾—ï¼š$</p><p>$$F_{n}&#x3D;\frac{1}{\sqrt{17}}((\frac{3+\sqrt{17}}{2})^n+(\frac{3-\sqrt{17}}{2})^n)$$</p><p>$æœ‰\sqrt {17}æ€ä¹ˆåŠï¼Ÿç”¨äºŒæ¬¡å‰©ä½™å¤„ç†å‡ºæ¥ï¼Œç¨‹åºè·‘å‡ºæ¥åº”è¯¥æ˜¯\sqrt{17}\%(998244353)&#x3D;524399943.$ $æ³¨æ„:äºŒæ¬¡å‰©ä½™å¤„ç†å‡ºæ¥çš„æœ‰ä¸¤ä¸ªå€¼ï¼Œå–ä¸€ä¸ªå°±è¡Œã€‚$</p><p>$é‚£ä¹ˆæœ€åå¤„ç†å‡ºæ¥ä¸º$ $$F_n&#x3D;559329360*(262199973^n-736044383^n)\;\;mod\;\;998244353$$</p><p>$åˆ°è¿™é‡Œï¼Œä»ç„¶è¿˜ä¸è¡Œï¼Œå› ä¸ºå¤æ‚åº¦ä¸ºO(1e7*log_2(1e18))ä¹Ÿä¼šTï¼Œè€Œè¿™é‡Œçš„logæ˜¯å¿«é€Ÿå¹‚çš„å¤æ‚åº¦ã€‚$ $æ€ä¹ˆåŠï¼Ÿå…‰é€Ÿå¹‚ï¼$</p><p>$å› ä¸ºæˆ‘ä»¬å¿«é€Ÿå¹‚æ˜¯æ ¹æ®è¿›åˆ¶é€‰æ‹©æ¥ç¡®å®šå¤æ‚åº¦çš„ï¼Œæ¯”å¦‚log_2å°±æ˜¯2è¿›åˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ‰©å¤§è¿›åˆ¶ä¼˜åŒ–ã€‚$</p><p>$å› ä¸ºnæœ‰1e18ï¼Œæ‰€ä»¥æˆ‘æŒ‰ç…§2^{16}è¿›åˆ¶è¿›è¡Œæ±‚å¹‚ï¼Œåœ¨ç”¨æ¬§æ‹‰é™å¹‚ä¼˜åŒ–åï¼Œåªæœ‰ä¸¤ä¸ªæƒå€¼1å’Œ65536ã€‚$</p><p>$ä»¥262199973^nä¸ºä¾‹ï¼Œ262199973^n&#x3D;262199973^{n\%65536}+(262199973^2)^{(n\%65536^2)&#x2F;65536}$ $736044383^nåŒç†ã€‚$</p><p>$è¿™æ ·ï¼Œå¤æ‚åº¦ä»log_2nå˜ä¸ºlog_{65536}^nã€‚$</p><p>$å› ä¸ºä¼šæœ‰1e7æ¬¡è¿ç®—ï¼Œæ‰€ä»¥ä¸­é—´å¯ä»¥åŠ ä¸Šè®°å¿†åŒ–å‰ªæã€‚$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line">ll A = <span class="number">262199973</span>;</span><br><span class="line">ll B = <span class="number">736044383</span>;</span><br><span class="line">ll invsqrt17 = <span class="number">559329360</span>;</span><br><span class="line"><span class="function">vector&lt;ll&gt; <span class="title">x1</span><span class="params">(<span class="number">2</span>)</span>,  <span class="title">x2</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">   ll ans = <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">while</span>(b) &#123;</span><br><span class="line">       <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">       a = a * a % mod;</span><br><span class="line">       b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll v\_pow1(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    ll base = <span class="number">65536</span>, k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">        ans = ans * quick\_pow(x1[i], (b % (k * base)) / k) % mod;</span><br><span class="line">        k = k * base;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll v\_pow2(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    ll base = <span class="number">65536</span>, k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">        ans = ans * quick\_pow(x2[i], (b % (k * base)) / k) % mod;</span><br><span class="line">        k = k * base;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line">map&lt;ll, ll&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">f</span><span class="params">(ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mp[n]) <span class="keyword">return</span> mp[n];</span><br><span class="line">    ll ans = invsqrt17 * (v\_pow1(A, n) - v\_pow2(B, n)) % mod;</span><br><span class="line">    <span class="keyword">return</span> mp[n] = (ans % mod + mod) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll q, n; cin &gt;&gt; q &gt;&gt; n;</span><br><span class="line">    x1[<span class="number">0</span>] = A; x1[<span class="number">1</span>] = quick\_pow(A, <span class="number">65536</span>);</span><br><span class="line">    x2[<span class="number">0</span>] = B; x2[<span class="number">1</span>] = quick\_pow(B, <span class="number">65536</span>);</span><br><span class="line">    ll ans = <span class="built_in">f</span>(n % (mod - <span class="number">1</span>)), sum = <span class="built_in">f</span>(n % (mod - <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; q; i++) &#123;</span><br><span class="line">        n ^= (sum * sum);</span><br><span class="line">        sum = <span class="built_in">f</span>(n % (mod - <span class="number">1</span>));</span><br><span class="line">        ans ^= sum;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="çŸ©é˜µå¿«é€Ÿå¹‚-å¹¿ä¹‰æ–æ³¢é‚£å¥‘å¾ªç¯èŠ‚"><a href="#çŸ©é˜µå¿«é€Ÿå¹‚-å¹¿ä¹‰æ–æ³¢é‚£å¥‘å¾ªç¯èŠ‚" class="headerlink" title="çŸ©é˜µå¿«é€Ÿå¹‚+å¹¿ä¹‰æ–æ³¢é‚£å¥‘å¾ªç¯èŠ‚"></a>çŸ©é˜µå¿«é€Ÿå¹‚+å¹¿ä¹‰æ–æ³¢é‚£å¥‘å¾ªç¯èŠ‚</h4><p>$å¯¹äºä¸Šé¢äºŒæ¬¡å‰©ä½™çš„æ–¹æ³•ï¼Œç”±äºä¼šæœ‰å±€é™æ€§ï¼Œæ¯”å¦‚\sqrt {13}å°±æ²¡æœ‰è§£ï¼Œè€Œå¯¹äºå¾ªç¯èŠ‚ï¼Œè¿™æ˜¯é€šç”¨æ€§ã€‚$</p><p>$å¯¹äºF_n&#x3D;aF_{n-1}+bF_{n-2}ï¼Œè¿™æ˜¯è¢«ç§°ä¸ºå¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚$</p><p>$å¯ä»¥è¯æ˜ï¼ŒF_n\;mod\;pæ˜¯æœ‰å¾ªç¯èŠ‚çš„ã€‚$</p><p>$è®¾c&#x3D;a^2+4bï¼Œå¦‚æœcæ˜¯æ¨¡pçš„äºŒæ¬¡å‰©ä½™æ—¶ï¼Œæšä¸¾æ‰€æœ‰çš„p-1çš„å› å­ï¼Œæ‰¾åˆ°æœ€å°çš„å› å­xä½¿å¾—ï¼š$</p><p>$$ \begin{bmatrix} a&amp; b\ 1&amp; 0 \end{bmatrix}^x&#x3D;\begin{bmatrix} 1 &amp; 0\ 0 &amp; 1 \end{bmatrix} $$</p><p>$åˆ™xä¸ºå¾ªç¯èŠ‚ã€‚$</p><p>$å¦‚æœcä¸æ˜¯æ¨¡pçš„äºŒæ¬¡å‰©ä½™æ—¶ï¼Œæšä¸¾æ‰€æœ‰çš„p^2-1çš„å› å­ï¼Œæ‰¾åˆ°æœ€å°çš„å› å­xï¼Œæ–¹æ³•å¦‚ä¸Šã€‚$</p><p>$åœ¨è¿™é‡Œï¼Œa^2+4b&#x3D;17æ˜¯æ¨¡pçš„äºŒæ¬¡å‰©ä½™ï¼Œå¾—å‡ºå¾ªç¯èŠ‚ä¸º\frac{p-1}{2}&#x3D;499122476ã€‚åˆ™F(N)&#x3D;F(N\;\%\;499122476)$</p><h2 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h2><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/26/2019-icpc-nanchang-online-h/">https://blog.jujimeizuo.cn/2021/03/26/2019-icpc-nanchang-online-h/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P2458 [SDOI2006]ä¿å®‰ç«™å²— æ ‘å½¢dpæœ€å°è´¹ç”¨è¦†ç›–ç‚¹</title>
      <link href="/2021/03/25/p2458-sdoi2006/"/>
      <url>/2021/03/25/p2458-sdoi2006/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.luogu.com.cn/problem/P2458">https://www.luogu.com.cn/problem/P2458</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œåœ¨æ ‘ä¸Šå®‰ç½®ä¿å®‰ï¼Œä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹è‡³å°‘å®‰ç½®ä¸€ä¸ªä¿å®‰ï¼Œä¿å®‰éƒ½æœ‰è´¹ç”¨ã€‚ é—®ç¬¦åˆæƒ…å†µçš„æœ€å°è´¹ç”¨æ˜¯å¤šå°‘ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹å¿…é¡»è¦æœ‰ä¸€ä¸ªï¼Œå¯ä»¥æœ‰ä¸¤ä¸ªï¼Œæ‰€ä»¥è¿™æ˜¯ä¸é™åˆ¶çˆ¶äº²å’Œå„¿å­å…³ç³»çš„ã€‚</p><p>å¦‚æœä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹éƒ½é€‰ï¼Œé‚£ä¸€å®šä¸ä¼šæ˜¯æœ€å°è´¹ç”¨ï¼Œæ‰€ä»¥åªéœ€è¦é€‰ä¸€ç‚¹å³å¯ã€‚</p><p>å¯¹äºä¸€ä¸ªç‚¹é€‰ä¸é€‰ï¼Œå¯¹çˆ¶äº²å’Œå„¿å­é€‰ä¸é€‰éƒ½æœ‰å½±å“ï¼Œæ‰€ä»¥è®¾f[u][0&#x2F;1&#x2F;2]ã€‚ f[u][]è¡¨ç¤ºä»¥uä¸ºæ ¹çš„å­æ ‘ã€‚</p><ul><li>f[u][0]è¡¨ç¤ºuè‡ªå·±é€‰</li><li>f[u][1]è¡¨ç¤ºè‡ªå·±ä¸é€‰ï¼Œå„¿å­é€‰</li><li>f[u][2]è¡¨ç¤ºè‡ªå·±ä¸é€‰ï¼Œçˆ¶äº²é€‰</li></ul><p>è½¬ç§»æ–¹ç¨‹ï¼š</p><p>è‡ªå·±é€‰ï¼Œä¸å¦¨ç¢å…¶ä»–ç‚¹çš„é€‰æ‹©ï¼Œå³</p><ul><li>$f[u][0]+&#x3D;\sum_{v\in g[u]}min(f[v][0],f[v][1],f[v][2])$</li></ul><p>çˆ¶äº²é€‰ï¼Œæ‰€ä»¥è‡ªå·±ä¸ç”¨é€‰äº†ï¼Œåªéœ€è¦åŠ ä¸Šå„¿å­çš„æœ€å°è´¹ç”¨ï¼Œå³</p><ul><li>$f[u][2]+&#x3D;\sum_{v\in g[u]} min(f[v][0]+f[v][1])$</li></ul><p>å„¿å­é€‰ï¼Œå¯¹äºæ‰€æœ‰å„¿å­ï¼Œè‚¯å®šä¸ä¼šå…¨éƒ¨éƒ½é€‰ï¼Œé€‰æ‹©æœ€å°çš„å„¿å­å³å¯ï¼Œå³</p><ul><li>$f[u][1]+&#x3D;\sum_{v\in g[u]é™¤æœ€å°}f[v][1]+f[v_{æœ€ä¼˜}][0]$</li></ul><p>å¯¹äºf[u][1]ï¼Œæˆ‘ä»¬æ€ä¹ˆæ‰¾åˆ°æœ€å°çš„å‘¢ï¼Ÿ</p><p>è®°å½•$mn&#x3D;min(mn,f[v][0]-f[v][1])$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(f[v][<span class="number">0</span>] &lt;= f[v][<span class="number">1</span>]) &#123;</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">        f[u][<span class="number">1</span>] += f[v][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        f[u][<span class="number">1</span>] += f[v][<span class="number">1</span>];</span><br><span class="line">        mn = <span class="built_in">min</span>(mn, f[v][<span class="number">0</span>] - f[v][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag) f[u][<span class="number">1</span>] += mn;</span><br></pre></td></tr></table></figure><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e4</span> + <span class="number">10</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[N];</span><br><span class="line"><span class="type">int</span> val[N];</span><br><span class="line"><span class="type">int</span> f[N][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    f[u][<span class="number">0</span>] = val[u];</span><br><span class="line">    <span class="type">bool</span> flag = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> mn = <span class="number">1e9</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(v, u);</span><br><span class="line">        f[u][<span class="number">0</span>] += <span class="built_in">min</span>(f[v][<span class="number">0</span>], <span class="built_in">min</span>(f[v][<span class="number">1</span>], f[v][<span class="number">2</span>]));</span><br><span class="line">        f[u][<span class="number">2</span>] += <span class="built_in">min</span>(f[v][<span class="number">0</span>], f[v][<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span>(f[v][<span class="number">0</span>] &lt;= f[v][<span class="number">1</span>]) &#123;</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">            f[u][<span class="number">1</span>] += f[v][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            f[u][<span class="number">1</span>] += f[v][<span class="number">1</span>];</span><br><span class="line">            mn = <span class="built_in">min</span>(mn, f[v][<span class="number">0</span>] - f[v][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag) f[u][<span class="number">1</span>] += mn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> id, m; cin &gt;&gt; id &gt;&gt; val[id] &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="type">int</span> v; cin &gt;&gt; v;</span><br><span class="line">            g[v].<span class="built_in">eb</span>(id);</span><br><span class="line">            g[id].<span class="built_in">eb</span>(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    cout &lt;&lt; <span class="built_in">min</span>(f[<span class="number">1</span>][<span class="number">0</span>], f[<span class="number">1</span>][<span class="number">1</span>]) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/25/p2458-sdoi2006/">https://blog.jujimeizuo.cn/2021/03/25/p2458-sdoi2006/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018ç‰›å®¢å›½åº†é›†è®­æ´¾å¯¹Day3 B-Tree æ ‘å½¢dp+ç»„åˆè®¡æ•°+å‡æ¢æ ¹</title>
      <link href="/2021/03/25/2018-nowcoder-guoqing-day3-b-tree/"/>
      <url>/2021/03/25/2018-nowcoder-guoqing-day3-b-tree/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/203/B">https://ac.nowcoder.com/acm/contest/203/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œè¾“å‡ºä¸å®ƒç›¸è¿çš„æ‰€æœ‰å­é›†ä¸ªæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ ‘ï¼ŒèŠ‚ç‚¹ï¼Œè®¡æ•°-æ ‘å½¢dpã€‚</p><p>è®¾f[i]ä¸ºä»¥iä¸ºæ ¹èŠ‚ç‚¹çš„å­—æ ‘ä¸­ï¼ŒåŒ…æ‹¬içš„å­é›†ä¸ªæ•°ï¼Œæ‰€ä»¥å¯¹äºæ ¹èŠ‚ç‚¹ï¼Œç­”æ¡ˆä¸ºf[root]ã€‚</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><p>$$f[u]&#x3D;\prod(f[v]+1)\;\;vä¸ºä¸uç›¸è¿å„¿å­$$</p><p>ä¸ºä»€ä¹ˆ+1ï¼Œå› ä¸ºè‡ªå·±æ˜¯å­é›†çš„ä¸€éƒ¨åˆ†ã€‚</p><p>ä¸Šé¢è¯´åˆ°ï¼Œåªæœ‰å¯¹äºæ ¹èŠ‚ç‚¹ï¼Œansæ‰ä¸ºf[root]ï¼Œä½†æ˜¯ä¸æ˜¯æ ¹èŠ‚ç‚¹å‘¢ï¼Ÿ</p><p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼ŒæŠŠæ¯ä¸ªç‚¹å½“ä½œrootï¼Œdfsä¸€éã€‚ä½†æ˜¯æ•°æ®èŒƒå›´ä¸å…è®¸ã€‚</p><p>$ä½†æ˜¯æˆ‘ä»¬çœ‹åˆ°å¯¹äºä»¥uä¸ºæ ¹èŠ‚ç‚¹çš„å¶å­èŠ‚ç‚¹ï¼Œåªæœ‰çˆ¶äº²èŠ‚ç‚¹é‚£è¾¹çš„å­é›†ä¸ªæ•°æ²¡æœ‰ç»Ÿè®¡ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å†dfsâ€™ä¸€éï¼Œé¦–å…ˆæ˜¯æ²¡æœ‰çˆ¶äº²ï¼Œæ‰€ä»¥ans&#x3D;f[u]ï¼Œç„¶ååˆ©ç”¨çˆ¶äº²æ›´æ–°èŠ‚ç‚¹ã€‚</p><p>å¦‚æœæ›´æ–°å‘¢ï¼Ÿ</p><p>f[u]å·²ç»ç»Ÿè®¡äº†æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰ç»Ÿè®¡çˆ¶äº²èŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦ä¹˜ä¸Šçˆ¶äº²èŠ‚ç‚¹é‚£è¾¹çš„è´¡çŒ®ã€‚</p><p>è´¡çŒ®ä¸º$\frac{ans[fa]}{f[u]+1}$ï¼Œæ‰€ä»¥$ans[u]&#x3D;(\frac{ans[fa]}{f[u]+1}+1)*f[u]$</p><p>å¯¹äº$(f[u]+1) \% mod&#x3D;0$ï¼Œå› ä¸º0æ²¡æœ‰é€†å…ƒï¼Œæ‰€ä»¥è¦ç‰¹åˆ«ç»Ÿè®¡ï¼ˆæœ€å¤§å‘ç‚¹ï¼‰ã€‚ æœ€ç®€å•çš„å°±æ˜¯ä»¥å®ƒä¸ºæ ¹èŠ‚ç‚¹dfsä¸€éï¼Œans&#x3D;f[u]ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[N];</span><br><span class="line">ll ans[N], f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    f[u] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        f[u] = f[u] * (f[v] + <span class="number">1</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fa != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>((f[u] + <span class="number">1</span>) % mod == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">dfs1</span>(u, <span class="number">-1</span>);</span><br><span class="line">            ans[u] = f[u];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> ans[u] = (ans[fa] * (<span class="built_in">quick_pow</span>(<span class="number">1</span> + f[u], mod - <span class="number">2</span>) % mod) % mod + <span class="number">1</span>) * f[u] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> ans[u] = f[u];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(v, u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v; cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        g[u].<span class="built_in">eb</span>(v);</span><br><span class="line">        g[v].<span class="built_in">eb</span>(u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs1</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cout &lt;&lt; ans[i] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/25/2018-nowcoder-guoqing-day3-b-tree/">https://blog.jujimeizuo.cn/2021/03/25/2018-nowcoder-guoqing-day3-b-tree/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 ICPCå®å¤Factories æ ‘å½¢dp</title>
      <link href="/2021/03/25/2018-icpc-ningxia-factories/"/>
      <url>/2021/03/25/2018-icpc-ningxia-factories/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://nanti.jisuanke.com/t/A1767">https://nanti.jisuanke.com/t/A1767</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œåœ¨æ ‘ä¸­é€‰æ‹©kä¸ªèŠ‚ç‚¹ï¼Œè¦æ±‚è¾“å‡ºæœ€å°ä»»æ„ä¸¤ç‚¹è·ç¦»å’Œã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p><strong>æ ‘ã€é€‰æ‹©èŠ‚ç‚¹ã€ç»Ÿè®¡è·ç¦»-æ ‘å½¢dpã€‚</strong> è®¾f[u][i]ä¸ºä»¥uä¸ºæ ¹çš„å­—æ ‘ä¸­é€‰æ‹©iä¸ªèŠ‚ç‚¹çš„è´¡çŒ®ã€‚ è½¬ç§»æ–¹ç¨‹å¾ˆå®¹æ˜“çœ‹å‡ºï¼š</p><p>$$f[u][i+j]&#x3D;min(f[u][i+j],f[u][i]+f[v][j]+e[i].w*j*(k-j))$$</p><p>$e[i].w*j*(k-j)$æ˜¯ç»Ÿè®¡ä»»æ„ä¸¤ç‚¹è·ç¦»å’Œçš„å¥—è·¯å…¬å¼ã€‚</p><p>åœ¨æ–¹ç¨‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œf[u][i+j]æ˜¯ä¸f[u][i]æœ‰å…³çš„ï¼Œæ‰€ä»¥ä¸èƒ½æ­£å‘è½¬ç§»ï¼Œè€Œè¦å€’åºè½¬ç§»ã€‚</p><p>ä½†æ˜¯å€’åºè½¬ç§»ä¸­ä¼šå‡ºç°è½¬ç§»å€¼å‡ºç°è¢«æ›´æ”¹çš„é—®é¢˜ã€‚ æ‰€ä»¥éœ€è¦ä¸€ä¸ªè¾…åŠ©æ•°ç»„ï¼Œè¿™ä¹Ÿæ˜¯å¥—è·¯ï¼Œä½†æ˜¯ä¸èƒ½memsetï¼Œå¯ä»¥æ‰‹å†™ã€‚</p><p>æœ€åæ³¨æ„rootä¸ä¸€å®šä¸º1ï¼Œéœ€è¦è®°å½•åº¦å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n, k;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next; ll w;</span><br><span class="line">&#125;e[N &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> head[N &lt;&lt; <span class="number">1</span>], cnt;</span><br><span class="line"></span><br><span class="line">ll f[N][<span class="number">110</span>]; <span class="comment">// ä»¥uä¸ºæ ¹çš„å­æ ‘ä¸­é€‰æ‹©kä¸ªå¶å­èŠ‚ç‚¹</span></span><br><span class="line">ll temp[<span class="number">110</span>];</span><br><span class="line"><span class="type">int</span> siz[N], d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> w)</span> </span>&#123;</span><br><span class="line">    e[++cnt].v = v;</span><br><span class="line">    e[cnt].w = w;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(d[u] == <span class="number">1</span>) &#123;</span><br><span class="line">        siz[u] = <span class="number">1</span>, f[u][<span class="number">0</span>] = f[u][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    siz[u] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k; i++) f[u][i] = <span class="number">2e18</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> p = <span class="number">0</span>;p &lt;= <span class="built_in">min</span>(siz[u], k); p++) temp[p] = <span class="number">2e18</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> p = <span class="number">0</span>;p &lt;= <span class="built_in">min</span>(siz[u], k); p++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> q = <span class="number">0</span>;q &lt;= siz[v] &amp;&amp; p + q &lt;= k; q++) &#123;</span><br><span class="line">                temp[p + q] = <span class="built_in">min</span>(temp[p + q], f[u][p] + f[v][q] + e[i].w * q * (k - q));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> p = <span class="number">0</span>;p &lt;= <span class="built_in">min</span>(siz[u], k); p++) f[u][p] = temp[p];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    <span class="type">int</span> Case = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) d[i] = <span class="number">0</span>, siz[i] = <span class="number">0</span>, head[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> u, v; ll w; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%lld&quot;</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line">            <span class="built_in">add</span>(u, v, w);</span><br><span class="line">            <span class="built_in">add</span>(v, u, w);</span><br><span class="line">            d[u]++; d[v]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Case ##%d: &quot;</span>,Case++);</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(k == <span class="number">2</span>) <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,e[<span class="number">1</span>].w);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(d[i] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="built_in">dfs</span>(i, <span class="number">0</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,f[i][k]);</span><br><span class="line">                <span class="keyword">break</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/25/2018-icpc-ningxia-factories/">https://blog.jujimeizuo.cn/2021/03/25/2018-icpc-ningxia-factories/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces 855C Helga Hufflepuffâ€˜s Cup æ ‘å½¢dp</title>
      <link href="/2021/03/24/codeforces-855c/"/>
      <url>/2021/03/24/codeforces-855c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/problemset/problem/855/C">https://codeforces.com/problemset/problem/855/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œæœ‰mç§é¢œè‰²1-mï¼Œå…¶ä¸­xç§æ˜¯ç‰¹æ®Šé¢œè‰²ï¼Œkæ˜¯ç‰¹æ®Šé¢œè‰²çš„ç¼–å·ã€‚ é—®å¦‚ä½•ç»™æ ‘æ¶‚è‰²ï¼Œç‰¹æ®Šé¢œè‰²çš„èŠ‚ç‚¹ä¸èƒ½è¿ç‰¹æ®Šé¢œè‰²ï¼Œåªèƒ½è¿æ¯”ä»–ç¼–å·å°çš„é¢œè‰²ã€‚</p><p>é—®ï¼Œèƒ½æœ‰å¤šå°‘ç§æ¶‚è‰²æ–¹æ¡ˆï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p><strong>æ ‘ã€èŠ‚ç‚¹ã€è®¡æ•°ã€ç‰¹æ®Šæƒ…å†µâ€“æ ‘å½¢dpã€‚</strong></p><p>é¢œè‰²æ•°é‡é«˜è¾¾1e9ï¼Œè€Œç‰¹æ®Šé¢œè‰²æ•°é‡åªæœ‰10ï¼Œæ‰€ä»¥æˆ‘ä»¬å›´ç»•ç‰¹æ®Šé¢œè‰²å±•å¼€çŠ¶æ€è½¬ç§»ã€‚</p><p>$å› ä¸ºç‰¹æ®Šé¢œè‰²çš„è¿æ¥æ˜¯æœ‰è¦æ±‚çš„ï¼Œæ‰€ä»¥å¯ä»¥åˆ†æˆä¸‰ç±»ã€‚</p><ul><li>0è¡¨ç¤ºç‰¹æ®Šé¢œè‰²</li><li>1è¡¨ç¤ºæ¯”ç‰¹æ®Šé¢œè‰²ç¼–å·å°çš„é¢œè‰²</li><li>2è¡¨ç¤ºæ¯”ç‰¹æ®Šé¢œè‰²ç¼–å·å¤§çš„é¢œè‰²</li></ul><p>æ‰€ä»¥è®¾f[u][i][j]è¡¨ç¤ºä»¥uä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­ï¼Œiä¸ªç‰¹æ®Šé¢œè‰²ï¼Œå½“å‰ç‚¹é¢œè‰²ä¸ºjçš„æ–¹æ¡ˆæ•°ã€‚</p><p>æ ¹æ®ç‰¹æ®Šé¢œè‰²æ¥è½¬ç§»ï¼š $$f[u][i+j][0]+&#x3D;f[u][i][0]*f[v][j][1]$$</p><p>$$f[u][i+j][1]+&#x3D;f[u][i][1]*(f[v][j][0]+f[v][j][1]+f[v][j][2])$$</p><p>$$f[u][i+j][2]+&#x3D;f[u][i][2]*(f[v][j][1]+f[v][j][2])$$</p><p>å› ä¸ºè½¬ç§»çš„æ—¶å€™æ˜¯+&#x3D;,æ‰€ä»¥éœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥å¸®å¿™å­˜å‚¨ï¼Œé˜²æ­¢æ–°äº§ç”Ÿçš„å€¼å¯¹åç»­è½¬ç§»äº§ç”Ÿå½±å“ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n, m, k, x;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[N];</span><br><span class="line">ll dp[<span class="number">11</span>][<span class="number">3</span>], f[N][<span class="number">11</span>][<span class="number">3</span>]; <span class="comment">// [ä»¥uä¸ºæ ¹çš„å­æ ‘][iç§ç‰¹æ®Šé¢œè‰²][0/1/2ï¼Œç‰¹æ®Šé¢œè‰²ï¼Œå°äºç‰¹æ®Šé¢œè‰²ï¼Œå¤§äºç‰¹æ®Šé¢œè‰²]</span></span><br><span class="line"><span class="type">int</span> siz[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    siz[u] = <span class="number">1</span>;</span><br><span class="line">    f[u][<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    f[u][<span class="number">0</span>][<span class="number">1</span>] = k - <span class="number">1</span>; <span class="comment">// å°äºç‰¹æ®Šé¢œè‰²çš„æœ‰k-1ç§</span></span><br><span class="line">    f[u][<span class="number">0</span>][<span class="number">2</span>] = m - k; <span class="comment">// å¤§äºç‰¹æ®Šé¢œè‰²çš„æœ‰m-kç§</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(v, u);</span><br><span class="line">        <span class="built_in">mem</span>(dp, <span class="number">0</span>);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="built_in">min</span>(siz[u], x); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= siz[v] &amp;&amp; i + j &lt;= x; j++) &#123;</span><br><span class="line">                dp[i + j][<span class="number">0</span>] = (dp[i + j][<span class="number">0</span>] + f[u][i][<span class="number">0</span>] * f[v][j][<span class="number">1</span>] % mod) % mod;</span><br><span class="line">                dp[i + j][<span class="number">1</span>] = (dp[i + j][<span class="number">1</span>] + f[u][i][<span class="number">1</span>] * (f[v][j][<span class="number">0</span>] + f[v][j][<span class="number">1</span>] + f[v][j][<span class="number">2</span>]) % mod) % mod;</span><br><span class="line">                dp[i + j][<span class="number">2</span>] = (dp[i + j][<span class="number">2</span>] + f[u][i][<span class="number">2</span>] * (f[v][j][<span class="number">1</span>] + f[v][j][<span class="number">2</span>]) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="built_in">min</span>(siz[u], x); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">                f[u][i][j] = dp[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class="line">        g[u].<span class="built_in">eb</span>(v); g[v].<span class="built_in">eb</span>(u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;k,&amp;x);</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= x; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">            ans = (ans + f[<span class="number">1</span>][i][j]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/24/codeforces-855c/">https://blog.jujimeizuo.cn/2021/03/24/codeforces-855c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/03/24/codeforces-round-664-div-2-c/"/>
      <url>/2021/03/24/codeforces-round-664-div-2-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/problemset/problem/1395/C">https://codeforces.com/problemset/problem/1395/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/03/20210324143123943.png"></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ ¹æ®é¢˜æ„çœ‹å‡ºï¼Œansæœ€å¤§åªæœ‰$2^9ï¼ˆ512ï¼‰$ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æšä¸¾ç­”æ¡ˆã€‚ å¯¹äºä¸€ä¸ªansï¼Œå¦‚æœæ‰€æœ‰çš„$a_i$éƒ½å¯ä»¥æ‰¾åˆ°$b_j$ï¼Œä½¿å¾—$ans(a_i\&amp;b_j)&#x3D;ans$ï¼Œåˆ™æœ€å°ç­”æ¡ˆä¸ºans.</p><p>å› ä¸ºä»0æšä¸¾åˆ°512ï¼Œæ‰€ä»¥å­˜åœ¨ç­”æ¡ˆæ—¶æ€»æ˜¯æœ€å°çš„ã€‚</p><p>å¤æ‚åº¦ï¼š$O(2^9*n*m)$</p><h2 id="Code-31MS"><a href="#Code-31MS" class="headerlink" title="Code(31MS)"></a>Code(31MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span>, <span class="title">b</span><span class="params">(m)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; m; i++) cin &gt;&gt; b[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> ans = <span class="number">0</span>;ans &lt;= (<span class="number">1</span> &lt;&lt; <span class="number">9</span>); ans++) &#123;</span><br><span class="line">        <span class="type">bool</span> f = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m; j++) &#123;</span><br><span class="line">                <span class="type">int</span> temp = a[i] &amp; b[j];</span><br><span class="line">                <span class="keyword">if</span>((ans  temp) == ans) flag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(flag) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!flag) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(i == n - <span class="number">1</span> &amp;&amp; flag) f = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(f) &#123;</span><br><span class="line">            cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/24/codeforces-round-664-div-2-c/">https://blog.jujimeizuo.cn/2021/03/24/codeforces-round-664-div-2-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCå—äº¬ç«™ Monster Hunter æ ‘ä¸ŠèƒŒåŒ…</title>
      <link href="/2021/03/22/2020-icpc-nanjing-monster-hunter/"/>
      <url>/2021/03/22/2020-icpc-nanjing-monster-hunter/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä½ ä¸€æ£µæ ‘ï¼Œä½ å¯ä»¥å»æ‰mä¸ªç‚¹$(m\in [0,n])$ï¼Œç„¶åè®¡ç®—å‰©ä½™ç»“ç‚¹çš„è´¡çŒ®ã€‚ æ¯ä¸ªç»“ç‚¹çš„è´¡çŒ®ä¸ºå®ƒæœ¬èº«çš„ä»·å€¼åŠ ä¸Šå®ƒæ‰€æœ‰ç›´æ¥ç›¸è¿å„¿å­çš„ä»·å€¼ã€‚ å½“ç„¶ä½ éœ€è¦åˆç†å®‰æ’åˆ å»çš„iä¸ªç»“ç‚¹ä½¿è´¡çŒ®æœ€å°åŒ–ã€‚è¾“å‡ºæ¯ä¸ªiå¯¹åº”çš„è´¡çŒ®å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æœ‰æ ‘ã€èŠ‚ç‚¹ã€è´¡çŒ®ï¼Œå¾—å‡ºæ ‘å½¢dpã€‚</p><p>è®¾f[i][j]è¡¨ç¤ºä»¥iä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­ç•™ä¸‹jä¸ªèŠ‚ç‚¹çš„æœ€å°è´¡çŒ®ã€‚ é¢˜æ„è¡¨ç¤ºï¼Œå¿…é¡»æ€æ‰çˆ¶èŠ‚ç‚¹æ‰èƒ½æ€æ‰å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥çˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜æ´»ä¹Ÿå¾ˆå…³é”®ã€‚å³ï¼š f[0][i][j]è¡¨ç¤ºåˆ æ‰iåç•™ä¸‹jä¸ªèŠ‚ç‚¹çš„æœ€å°è´¡çŒ®ã€‚ f[1][i][j]è¡¨ç¤ºä¿ç•™iåç•™ä¸‹j-1ä¸ªèŠ‚ç‚¹çš„æœ€å°è´¡çŒ®ã€‚</p><p>$çŠ¶æ€è½¬ç§»éƒ½æ˜¯ä»å­èŠ‚ç‚¹è½¬ç§»åˆ°çˆ¶èŠ‚ç‚¹ï¼š$ $$f[0][u][j+k]&#x3D;min(f[0][u][j+k],f[0][u][j]+min(f[0][v][k],f[1][v][k]))$$ $$f[1][u][j+k]&#x3D;min(f[1][u][j+k],f[1][u][j]+min(f[0][v][k],f[1][v][k]+val[v]))$$</p><p>ç¬¬äºŒä¸ªä¸ºä»€ä¹ˆè¦åŠ ä¸Šval[v]ï¼Œå› ä¸ºé¢˜æ„è¯´å¯¹äºä¸€ä¸ªèŠ‚ç‚¹çš„è´¡çŒ®ï¼Œæ˜¯è‡ªå·±åŠ ä¸Šæ‰€æœ‰å„¿å­çš„æƒå€¼ã€‚</p><p>ä¸Šé¢çš„çŠ¶æ€è½¬ç§»ç›´æ¥èƒŒåŒ…å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5e3</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll val[N];</span><br><span class="line"><span class="type">int</span> siz[N];</span><br><span class="line">ll f[<span class="number">2</span>][N][N];</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    siz[u] = <span class="number">1</span>;</span><br><span class="line">    f[<span class="number">1</span>][u][<span class="number">1</span>] = val[u];</span><br><span class="line">    f[<span class="number">0</span>][u][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="built_in">dfs</span>(v);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = siz[u];j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = siz[v];k &gt;= <span class="number">0</span>; k--) &#123;</span><br><span class="line">                f[<span class="number">0</span>][u][j + k] = <span class="built_in">min</span>(f[<span class="number">0</span>][u][j + k], f[<span class="number">0</span>][u][j] + <span class="built_in">min</span>(f[<span class="number">0</span>][v][k], f[<span class="number">1</span>][v][k]));</span><br><span class="line">                f[<span class="number">1</span>][u][j + k] = <span class="built_in">min</span>(f[<span class="number">1</span>][u][j + k], f[<span class="number">1</span>][u][j] + <span class="built_in">min</span>(f[<span class="number">0</span>][v][k], f[<span class="number">1</span>][v][k] + val[v]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            g[i].<span class="built_in">clear</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= n; j++) &#123;</span><br><span class="line">                f[<span class="number">0</span>][i][j] = f[<span class="number">1</span>][i][j] = <span class="number">1e18</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> u; cin &gt;&gt; u;</span><br><span class="line">            g[u].<span class="built_in">eb</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; val[i];</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n;i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">min</span>(f[<span class="number">0</span>][<span class="number">1</span>][i], f[<span class="number">1</span>][<span class="number">1</span>][i]) &lt;&lt; <span class="string">&quot; \n&quot;</span>[i == <span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/22/2020-icpc-nanjing-monster-hunter/">https://blog.jujimeizuo.cn/2021/03/22/2020-icpc-nanjing-monster-hunter/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P1273 æœ‰çº¿ç”µè§†ç½‘ æ ‘ä¸ŠèƒŒåŒ…</title>
      <link href="/2021/03/22/luogu-p1273/"/>
      <url>/2021/03/22/luogu-p1273/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨:<a href="https://www.luogu.com.cn/problem/P1273">https://www.luogu.com.cn/problem/P1273</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œæ¯æ¡è¾¹éƒ½æœ‰æ”¶è´¹ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹ç»™è´¹ç”¨ã€‚ é—®ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œåœ¨ä¸äºæœ¬çš„æƒ…å†µä¸‹èƒ½åˆ°è¾¾å¤šå°‘å¶å­èŠ‚ç‚¹ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è®¾f[i][j]è¡¨ç¤ºä»¥iä¸ºæ ¹èŠ‚ç‚¹ï¼Œèƒ½åˆ°è¾¾jä¸ªå¶å­èŠ‚ç‚¹çš„èƒ½èµšå¤šå°‘é’±ã€‚</p><p>æ ‘å½¢dpéƒ½æ˜¯å­èŠ‚ç‚¹æ›´æ–°çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å­èŠ‚ç‚¹æ¥è¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼š</p><p>å‡è®¾uå’Œvè¿æ¥çš„ä¸€æ¡è¾¹ï¼Œåˆ™å¦‚æœéœ€è¦vè¿™é¢—å­æ ‘ï¼Œåˆ™ä¸ºvèµšçš„é’±-è¿™æ¡è¾¹çš„è´¹ç”¨ã€‚ $$f[u][j]&#x3D;max(f[u][j],f[u][j-k]+f[v][k]-e[i].w)$$</p><p>å’Œåˆ†ç»„èƒŒåŒ…ä¸€æ ·ï¼Œå€’åºå¾ªç¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> d[N], siz[N], val[N];</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next, w;</span><br><span class="line">&#125;e[N];</span><br><span class="line"><span class="type">int</span> head[N], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> w)</span> </span>&#123;</span><br><span class="line">    e[++cnt].v = v;</span><br><span class="line">    e[cnt].w = w;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    f[u][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = siz[u];j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt;= <span class="built_in">min</span>(j, siz[v]); k++) &#123;</span><br><span class="line">                f[u][j] = <span class="built_in">max</span>(f[u][j], f[u][j - k] + f[v][k] - e[i].w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(d[u] == <span class="number">1</span>) f[u][<span class="number">1</span>] = val[u], siz[u] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">mem</span>(f, -INF);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n - m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> k; cin &gt;&gt; k;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= k; j++) &#123;</span><br><span class="line">            <span class="type">int</span> a, c; cin &gt;&gt; a &gt;&gt; c;</span><br><span class="line">            d[i]++; d[a]++;</span><br><span class="line">            <span class="built_in">add</span>(i, a, c);</span><br><span class="line">            <span class="built_in">add</span>(a, i, c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n - m + <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; val[i];</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = m;i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span>(f[<span class="number">1</span>][i] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/22/luogu-p1273/">https://blog.jujimeizuo.cn/2021/03/22/luogu-p1273/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/03/21/codeforces-round-398-div-2-c/"/>
      <url>/2021/03/21/codeforces-round-398-div-2-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.ml/contest/767/problem/C">https://codeforces.ml/contest/767/problem/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ç‚¹æƒï¼Œé—®èƒ½å¦å°†æ ‘ä¸‰ç­‰åˆ†åï¼Œæ¯ä»½å­æ ‘çš„èŠ‚ç‚¹å’Œç›¸ç­‰ï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºæ˜¯æ ‘ä¸Šæ“ä½œï¼Œæ‰€ä»¥dfsï¼Œè®°å½•æ¯ä¸ªå­æ ‘çš„èŠ‚ç‚¹å’Œvalã€‚ å¦‚æœval[x]&#x3D;sum&#x2F;3ï¼Œè¯´æ˜è¯¥ç‚¹ä¸ºä¸€ä¸ªåˆ†å‰²ç‚¹ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">&#125;e[N];</span><br><span class="line"><span class="type">int</span> head[N], cnt;</span><br><span class="line"><span class="type">int</span> root, val[N];</span><br><span class="line"><span class="type">int</span> tot = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> sum3;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">ans</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    e[++cnt].v = v;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="built_in">dfs</span>(e[i].v);</span><br><span class="line">        val[u] += val[e[i].v];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(val[u] == sum3 &amp;&amp; u != root &amp;&amp; tot &lt;= <span class="number">1</span>) val[u] = <span class="number">0</span>, ans[++tot] = u;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ans[<span class="number">1</span>] = ans[<span class="number">2</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> v, w; cin &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        sum += w;</span><br><span class="line">        val[i] = w;</span><br><span class="line">        <span class="keyword">if</span>(v == <span class="number">0</span>) root = i;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">add</span>(v, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum % <span class="number">3</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    sum3 = sum / <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(root);</span><br><span class="line">    <span class="keyword">if</span>(ans[<span class="number">1</span>] != <span class="number">-1</span> &amp;&amp; ans[<span class="number">2</span>] != <span class="number">-1</span> &amp;&amp; val[root] == sum3) &#123;</span><br><span class="line">        cout &lt;&lt; ans[<span class="number">1</span>] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; ans[<span class="number">2</span>] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/21/codeforces-round-398-div-2-c/">https://blog.jujimeizuo.cn/2021/03/21/codeforces-round-398-div-2-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢æŒ‘æˆ˜èµ›48 B-å¿ƒè·³è°ƒè¯• æ¦‚ç‡çº¿æ€§DP</title>
      <link href="/2021/03/21/nowcoder-challenge48-b/"/>
      <url>/2021/03/21/nowcoder-challenge48-b/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/11161/B">https://ac.nowcoder.com/acm/contest/11161/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="http://cdn.jujimeizuo.cn/blog/2021/03/20210321153553102.png"></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å‡è®¾æ ˆé¡¶ä¸ºiï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªå…¥æ ˆçš„å¿…é¡»æ˜¯iæˆ–è€…i+1ï¼Œæ‰€ä»¥å’Œæ ˆå†…çš„çŠ¶æ€æ— å…³ã€‚</p><p>è®¾å½“å‰ä¸ºiï¼Œä¸‹ä¸€ä¸ªæ”¾å…¥i+1è€Œä¸æ˜¯æ›´å¤§çš„æ•°å­—çš„æ¦‚ç‡ä¸ºpï¼Œåˆ™</p><p>$$p&#x3D;f_i*p+f_{i+1}$$</p><p>åˆ™ï¼š</p><p>$$p&#x3D;\frac{w_{i+1}}{\sum_{k&#x3D;i+1}^nw_k}$$</p><p>åˆ™:</p><p>$$ans&#x3D;\prod_{i&#x3D;2}^np_i$$</p><p>å¤æ‚åº¦O(n)dpã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">w</span><span class="params">(n + <span class="number">100</span>)</span>, <span class="title">sum</span><span class="params">(n + <span class="number">100</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n;i &gt;= <span class="number">1</span>; i--) sum[i] = sum[i + <span class="number">1</span>] + w[i];</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        ans = ans * w[i] % mod * <span class="built_in">quick_pow</span>(sum[i] % mod, mod - <span class="number">2</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/21/nowcoder-challenge48-b/">https://blog.jujimeizuo.cn/2021/03/21/nowcoder-challenge48-b/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P1272 é‡å»ºé“è·¯ æ ‘ä¸ŠèƒŒåŒ…</title>
      <link href="/2021/03/21/luogu-p1272/"/>
      <url>/2021/03/21/luogu-p1272/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.luogu.com.cn/problem/P1272">https://www.luogu.com.cn/problem/P1272</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$ç»™ä¸€é¢—æ ‘ï¼Œé—®æœ€å°‘åˆ é™¤å‡ æ¡è¾¹ï¼Œå¯ä»¥ä½¿ä¸€é¢—å­æ ‘å«æœ‰pä¸ªèŠ‚ç‚¹ï¼Ÿ$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ ‘ä¸Šé—®é¢˜ï¼Œæƒ³å¿…æ˜¯æ ‘å½¢dpã€‚</p><p>è®¾f[i][j]è¡¨ç¤ºä»¥iä¸ºæ ¹çš„å­æ ‘ï¼Œæœ‰jä¸ªèŠ‚ç‚¹æœ€å°åˆ é™¤è¾¹æ•°ã€‚</p><p>çŠ¶æ€è½¬ç§»ï¼š $$f[u][j] &#x3D; min(f[u][j], f[u][j-k]+f[v][k]-1)$$</p><p>ä¸ºä»€ä¹ˆè¦å‡1ï¼Ÿ f[i][j]éƒ½æ˜¯åŒ…å«æ ¹èŠ‚ç‚¹ï¼Œf[u][j-k]+f[v][k]ä¸­é—´ä¼šå¤šå‡ºä¸€æ¡uå’Œvç›¸è¿çš„è¾¹ã€‚</p><p>æœ€åç­”æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ans = f[<span class="number">1</span>][p];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(f[i][p] &lt; ans) ans = f[i][p] + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆé™¤äº†æ ¹èŠ‚ç‚¹1ï¼Œå…¶ä»–éƒ½è¦+1? å‡è®¾p&#x3D;4çš„è¯ï¼Œå¯ä»¥çœ‹è§ä¿ç•™ä»¥2ä¸ºæ ¹èŠ‚ç‚¹æ˜¯æ˜æ™ºçš„é€‰æ‹©ã€‚</p><p>ä½†æ˜¯dpåf[2][4]&#x3D;0ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä¸éœ€è¦åˆ é™¤ä»»ä½•è¾¹ï¼Œä½†æ˜¯1-2éœ€è¦åˆ é™¤ï¼Œæ‰€ä»¥+1ã€‚</p><hr><p>æ€»æµç¨‹ï¼š</p><ol><li>é¢„å¤„ç†f[i][1] &#x3D; a[i]ï¼Œa[i]ä¸ºæ¯ä¸ªç‚¹çš„å‡ºåº¦ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) f[i][<span class="number">1</span>] = a[i];</span><br></pre></td></tr></table></figure><ol start="2"><li>dfs(1)ï¼Œè¿”å›å€¼ä¸ºsumï¼Œè¡¨ç¤ºä»¥uä¸ºå­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œç„¶åå°±å¯ä»¥è½¬åŒ–æˆèƒŒåŒ…äº†ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="type">int</span> temp = <span class="built_in">dfs</span>(v);</span><br><span class="line">        sum += temp;</span><br><span class="line">        <span class="comment">// èƒŒåŒ…ã€‚ã€‚ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>çŠ¶æ€è½¬ç§»ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = sum;j &gt;= <span class="number">1</span>; j--) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt; j; k++) &#123;</span><br><span class="line">        f[u][j] = <span class="built_in">min</span>(f[u][j], f[u][i - k] + f[v][k] - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">f</span>(N, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(N, INF));</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="type">int</span> temp = <span class="built_in">dfs</span>(v);</span><br><span class="line">        sum += temp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = sum;j &gt;= <span class="number">1</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">1</span>;k &lt; j; k++) &#123;</span><br><span class="line">                f[u][j] = <span class="built_in">min</span>(f[u][j], f[u][j - k] + f[v][k] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, p; cin &gt;&gt; n &gt;&gt; p;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v; cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        a[u]++;</span><br><span class="line">        g[u].<span class="built_in">eb</span>(v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) f[i][<span class="number">1</span>] = a[i];</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> ans = f[<span class="number">1</span>][p];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(f[i][p] &lt; ans) ans = f[i][p] + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/21/luogu-p1272/">https://blog.jujimeizuo.cn/2021/03/21/luogu-p1272/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 6428 Problem C. Calculate è«å+ç§¯æ€§å‡½æ•°+çº¿æ€§ç­›</title>
      <link href="/2021/03/12/hdu-6428-problem-c/"/>
      <url>/2021/03/12/hdu-6428-problem-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6428">http://acm.hdu.edu.cn/showproblem.php?pid=6428</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{i&#x3D;1}^A\sum_{j&#x3D;1}^B\sum_{k&#x3D;1}^C\phi (gcd(i,j^2,k^3))\;\;mod\;\;2^{30}$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$é¦–å…ˆè¦æŠŠ\phiå’Œgcdåˆ†å¼€ï¼Œå³\phi(n)&#x3D;\sum_{dn}(\phi*\mu)(d)ï¼Œè¯æ˜å¦‚ä¸‹ï¼š$ $$\phi(n)&#x3D;(\mu*id)(n)$$</p><p>$$\sum_{dn}\mu(d)\frac{n}{d}$$</p><p>$$\sum_{dn}\mu(d)\sum_{dâ€™\frac{n}{d}}\phi(dâ€™)$$</p><p>$$\sum_{ddâ€™n}\mu(d)\phi(dâ€™)$$</p><p>$$\sum_{dn}\sum_{dâ€™d}\mu(dâ€™)\phi(\frac{d}{dâ€™})$$</p><p>$$\sum_{dn}(\phi*\mu)(d)$$</p><p>$æ‰€ä»¥åŸå¼å˜ä¸ºï¼š$</p><p>$$\sum_{i&#x3D;1}^A\sum_{j&#x3D;1}^B\sum_{k&#x3D;1}^C\sum_{di\;dj^2\;dk^3}(\phi*\mu)(d)$$</p><p>$$\sum_{d&#x3D;1}^{A}(\phi*\mu)(d)\sum_{i&#x3D;1\;di}^A\sum_{j&#x3D;1\;dj^2}^B\sum_{k&#x3D;1\;dk^3}^C1$$</p><p>$è§‚å¯Ÿåé¢å¼å­ï¼Œå¯¹äºä¸€ä¸ªx^kï¼Œè‹¥dx^kï¼Œå…ˆæŠŠdåˆ†è§£ä¸º\prod p_i^{a_i}.$ $åˆ™\prod p_i^{a_i}x^kï¼Œå¾—\prod p_i^{\left \lceil \frac{a_i}{k} \right \rceil }xï¼Œæ‰€ä»¥è®¾$</p><p>$$f_k(n)&#x3D;\prod p_i^{\left \lceil \frac{a_i}{k} \right \rceil }$$</p><p>$åˆ™ï¼š$</p><p>$$ans&#x3D;\sum_{d&#x3D;1}^{A}(\phi * \mu)(d)\frac{A}{f_1(d)}\frac{B}{f_2(d)}\frac{C}{f_3(d)}$$</p><p>$å¯¹äºf_k(n)ï¼Œç±»ä¼¼åˆ†è§£nçš„å½¢å¼ã€‚$ $åˆ†è§£è´¨å› å­çš„è¿‡ç¨‹ä¸­ï¼Œè®°å½•è´¨å› å­çš„æŒ‡æ•°ï¼Œæ¯æ¬¡è´¨å› å­+1æ—¶ï¼Œè‹¥\%k&#x3D;1æ—¶ï¼Œè¯´æ˜è¯¥å‘ä¸Šå–æ•´äº†ï¼Œäºæ˜¯f_k(n)*&#x3D;è¯¥è´¨å› å­.$</p><p>$ç”±äº\phiå’Œ\muéƒ½æ˜¯ç§¯æ€§å‡½æ•°ï¼Œå·ç§¯ä¹‹åè¿˜æ˜¯ç§¯æ€§å‡½æ•°ï¼Œè®¾g(d)&#x3D;(\phi*\mu)(d)ï¼Œåˆ™$</p><p>$$\phi(n)&#x3D;\sum_{dn}g(d)$$</p><p>$é‚£ä¹ˆå¯ä»¥å¾—ï¼š$</p><p>$$\phi(p^k)&#x3D;\phi(p^{k-1})+g(p^k)$$</p><p>$$g(p^k)&#x3D;\phi(p^k)-\phi(p^{k-1})$$</p><p>$$g(p^k)&#x3D;(p-1)p^{k-1}-(p-1)p^{k-2}$$</p><p>$$g(p^k)&#x3D;(p-1)^2p^{k-2}$$</p><p>$å½“æˆ‘ä»¬æ¬§æ‹‰ç­›çš„è¿‡ç¨‹ä¸­ï¼š$</p><p>$$g(1)&#x3D;1$$</p><p>$$g(p)&#x3D;p-2$$</p><p>$$g(p^{k})&#x3D;(p-1)^2p^{k-2}$$</p><p>$$g(p_1^{k_1}p_2^{k_2})&#x3D;g(p_1^{k_1})g(p_2^{k_2})$$</p><p>$$â€¦â€¦$$</p><h2 id="Code-2480MS"><a href="#Code-2480MS" class="headerlink" title="Code(2480MS)"></a>Code(2480MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = (<span class="number">1ll</span> &lt;&lt; <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">bool</span> is\_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N], cnt;</span><br><span class="line"><span class="type">int</span> g[N];</span><br><span class="line"><span class="type">int</span> f1[N], f2[N], f3[N];</span><br><span class="line"><span class="type">int</span> deg[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    f1[<span class="number">1</span>] = f2[<span class="number">1</span>] = f3[<span class="number">1</span>] = g[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        f1[i] = i;</span><br><span class="line">        <span class="keyword">if</span>(!is\_prime[i]) prime[++cnt] = f2[i] = f3[i] = i, g[i] = i - <span class="number">2</span>, deg[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="type">int</span> now = i * prime[j];</span><br><span class="line">            is\_prime[now] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                deg[now] = deg[i] + <span class="number">1</span>;</span><br><span class="line">                <span class="type">int</span> num = <span class="number">1</span>, tmp = i;</span><br><span class="line">                <span class="keyword">while</span>(num &lt;= <span class="number">3</span> &amp;&amp; tmp % prime[j] == <span class="number">0</span>) num++, tmp /= prime[j];</span><br><span class="line">                <span class="keyword">if</span>(num == <span class="number">1</span>) g[now] = g[i] * g[prime[j]];</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(num == <span class="number">2</span>) g[now] = g[i / prime[j]] * (prime[j] - <span class="number">1</span>) * (prime[j] - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span> g[now] = g[i] * prime[j];</span><br><span class="line">                f2[now] = f2[i] * (deg[now] % <span class="number">2</span> == <span class="number">1</span> ? prime[j] : <span class="number">1</span>);</span><br><span class="line">                f3[now] = f3[i] * (deg[now] % <span class="number">3</span> == <span class="number">1</span> ? prime[j] : <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                deg[now] = <span class="number">1</span>;</span><br><span class="line">                f2[now] = f2[i] * f2[prime[j]];</span><br><span class="line">                f3[now] = f3[i] * f3[prime[j]];</span><br><span class="line">                g[now] = g[i] * g[prime[j]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> \_; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;\_);</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        <span class="type">int</span> A, B, C; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;A,&amp;B,&amp;C);</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> d = <span class="number">1</span>;d &lt;= A; d++) &#123;</span><br><span class="line">            ans = (ans + <span class="number">1ll</span> * g[d] * (A / f1[d]) % mod * (B / f2[d]) % mod * (C / f3[d]) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,(ans % mod + mod) % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/12/hdu-6428-problem-c/">https://blog.jujimeizuo.cn/2021/03/12/hdu-6428-problem-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/03/12/codeforces-round-603-div-2-f/"/>
      <url>/2021/03/12/codeforces-round-603-div-2-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.ml/contest/1263/problem/F">https://codeforces.ml/contest/1263/problem/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸¤æ£µæ ‘ï¼Œä¸€é¢—åœ¨ä¸Šé¢ï¼Œå¦ä¸€é¢—åœ¨ä¸‹é¢ï¼Œä¸¤æ£µæ ‘çš„å¶å­èŠ‚ç‚¹éƒ½è¿æ¥ç€ä¸€å°æœºå™¨ã€‚</p><p>é—®ï¼Œæœ€å¤šåˆ æ‰å¤šå°‘æ¡è¾¹ï¼Œæ¯ä¸ªæœºå™¨éƒ½è‡³å°‘å­˜åœ¨ä¸€æ¡è·¯å¾„åˆ°è¾¾ä¸¤ä¸ªæ ¹èŠ‚ç‚¹1ä¸­çš„ä¸€ä¸ªã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è€ƒè™‘dpï¼Œè®¾dp[i]è¡¨ç¤ºå‰iä¸ªæœºå™¨é€šç”µçš„æœ€å¤§åˆ é™¤è¾¹æ•°ã€‚ è®¾val[0&#x2F;1][L][R]è¡¨ç¤ºä¸Š&#x2F;ä¸‹æ ‘ä¸­åŒºé—´[L,R]æœ€å¤§åˆ é™¤è¾¹æ•°ã€‚ å³è½¬ç§»æ–¹ç¨‹ä¸ºï¼š $$dp[i]&#x3D;max(dp[i],dp[j]+max(val[0][j+1][i],val[1][j+1][i]))$$</p><p>æ‰€ä»¥è¦æ€ä¹ˆå¤„ç†è¿™ä¸ªvalå‘¢ï¼Ÿ</p><p>åœ¨æ ‘ä¸Šå¤„ç†ï¼Œç¬¬ä¸€æƒ³åˆ°çš„å°±æ˜¯dfsï¼</p><p>å› ä¸ºå¶å­èŠ‚ç‚¹éƒ½æ˜¯ä¸æœºå™¨ç›¸è¿çš„ï¼Œæ‰€ä»¥nä¸ªå¶å­èŠ‚ç‚¹ç±»ä¼¼äºçº¿æ®µçš„ç«¯ç‚¹ã€‚ å¯¹äºæ¯ä¸ªå­æ ‘ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªç«¯ç‚¹åŒºé—´ï¼Œå½“åˆ é™¤è¯¥å­æ ‘æ—¶ï¼Œè¯¥åŒºé—´å†…çš„æœºå™¨æ— æ³•åˆ°è¾¾æ ¹èŠ‚ç‚¹ã€‚ åˆ é™¤è¯¥å­æ ‘åï¼Œè´¡çŒ®ä¸ºå­æ ‘å¤§å°å³size[i]æ¡è¾¹ã€‚</p><p>dfsè¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°val[L][R]å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> eb emplace_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> val[<span class="number">2</span>][N][N];</span><br><span class="line"><span class="type">int</span> l[<span class="number">2</span>][N], r[<span class="number">2</span>][N];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[<span class="number">2</span>][N];</span><br><span class="line"><span class="type">int</span> siz[N];</span><br><span class="line"><span class="type">int</span> dp[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa, <span class="type">int</span> opt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(u != <span class="number">1</span>) siz[u] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[opt][u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(v, u, opt);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        l[opt][u] = <span class="built_in">min</span>(l[opt][u], l[opt][v]);</span><br><span class="line">        r[opt][u] = <span class="built_in">max</span>(r[opt][u], r[opt][v]);</span><br><span class="line">    &#125;</span><br><span class="line">    val[opt][l[opt][u]][r[opt][u]] = <span class="built_in">max</span>(val[opt][l[opt][u]][r[opt][u]], siz[u]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">mem</span>(l, INF);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">        siz[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> a; cin &gt;&gt; a;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">2</span>;j &lt;= a; j++) &#123;</span><br><span class="line">            <span class="type">int</span> u; cin &gt;&gt; u;</span><br><span class="line">            g[i][u].<span class="built_in">eb</span>(j);</span><br><span class="line">            g[i][j].<span class="built_in">eb</span>(u);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="type">int</span> v; cin &gt;&gt; v;</span><br><span class="line">            l[i][v] = j;</span><br><span class="line">            r[i][v] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">0</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; i; j++) &#123;</span><br><span class="line">            dp[i] = <span class="built_in">max</span>(dp[i], dp[j] + <span class="built_in">max</span>(val[<span class="number">0</span>][j + <span class="number">1</span>][i], val[<span class="number">1</span>][j + <span class="number">1</span>][i]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[n] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/12/codeforces-round-603-div-2-f/">https://blog.jujimeizuo.cn/2021/03/12/codeforces-round-603-div-2-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 6706 æœæ•™ç­›</title>
      <link href="/2021/03/09/hdu-6706/"/>
      <url>/2021/03/09/hdu-6706/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š <a href="http://acm.hdu.edu.cn/showproblem.php?pid=6706">http://acm.hdu.edu.cn/showproblem.php?pid=6706</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^igcd(i^a-j^a,i^b-j^b)[gcd(i,j)&#x3D;1]$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$$gcd(i^a-j^a,i^b-j^b)&#x3D;i^{gcd(a,b)}-j^{gcd(a,b)}$$</p><p>é¢˜ç›®è¯´gcd(a,b)&#x3D;1ï¼Œæ‰€ä»¥é‚£ä¸ªå¤æ‚çš„å¼å­ç›´æ¥å˜æˆi-j.</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^i(i-j)[gcd(i,j)&#x3D;1]$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^ii[gcd(i,j)&#x3D;1]-\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^ij[gcd(i,j)&#x3D;1]$$</p><p>å·¦è¾¹ä¸ºä¸iäº’è´¨çš„ä¸ªæ•°ï¼Œå³è¾¹ä¸ºæ¯”iå°å¹¶ä¸”äº’è´¨çš„æ•°å­—å’Œï¼Œå³ä¸ºï¼š</p><p>$$\sum_{i&#x3D;1}^ni\varphi (i)-\frac{\sum_{i&#x3D;1}^ni\varphi (i)+1}{2}$$</p><p>$$\frac{\sum_{i&#x3D;1}^ni\varphi (i)-1}{2}$$</p><p>å› ä¸ºnæœ‰1e9ï¼Œæ‰€ä»¥éœ€è¦æœæ•™ç­›ä¼˜åŒ–ã€‚</p><p>$$f*g(n)&#x3D;\sum_{dn}f(d)g(\frac{n}{d})&#x3D;\sum_{dn}id(d)*\varphi (d)*g(\frac{n}{d})$$</p><p>å¾ˆæ˜¾ç„¶ï¼Œè®¾g&#x3D;idï¼Œåˆ™ï¼š</p><p>$$f*g(n)&#x3D;\sum_{dn}\varphi (d)id(n)&#x3D;n\sum_{dn}\varphi (d)&#x3D;id(n)(\varphi *I)&#x3D;id^2(n)&#x3D;n^2$$</p><p>$$æ‰€ä»¥å¾—ï¼šS(n)&#x3D;\sum_{i&#x3D;1}^n(f*g)i-\sum_{i&#x3D;2}^ng(i)S(\frac{n}{i})&#x3D;\frac{n(n+1)(2n+1)}{6}-\sum_{i&#x3D;2}^niS(\frac{n}{i})$$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; pdd;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; pll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> eb emplace\_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> R = <span class="number">0.57721566490153286060651209</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(T &amp;a)</span> </span>&#123;<span class="type">char</span> c = <span class="built_in">getchar</span>();T x = <span class="number">0</span>, f = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(c)) &#123;<span class="keyword">if</span> (c == <span class="string">&#x27;-&#x27;</span>)f = <span class="number">-1</span>;c = <span class="built_in">getchar</span>();&#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(c)) &#123;x = (x &lt;&lt; <span class="number">1</span>) + (x &lt;&lt; <span class="number">3</span>) + c - <span class="string">&#x27;0&#x27;</span>;c = <span class="built_in">getchar</span>();&#125;a = f * x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> is\_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N], cnt;</span><br><span class="line"><span class="type">int</span> phi[N];</span><br><span class="line">ll sum\_i\_phi[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    phi[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is\_prime[i]) prime[++cnt] = i, phi[i] = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is\_prime[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                phi[i * prime[j]] = phi[i] * prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> phi[i * prime[j]] = phi[i] * phi[prime[j]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        sum\_i\_phi[i] = (sum\_i\_phi[i - <span class="number">1</span>] + <span class="number">1ll</span> * i * phi[i] % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">         a = a * a % mod;</span><br><span class="line">         b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll inv2;</span><br><span class="line">ll inv6;</span><br><span class="line"></span><br><span class="line">map&lt;ll, ll&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">S</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; N) <span class="keyword">return</span> sum\_i\_phi[x];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mp[x]) <span class="keyword">return</span> mp[x];</span><br><span class="line">    ll ans = x * (x + <span class="number">1</span>) % mod * (<span class="number">2</span> * x + <span class="number">1</span>) % mod * inv6 % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">2</span>, r;l &lt;= x; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = <span class="built_in">min</span>(x, x / (x / l));</span><br><span class="line">        ans = (ans - <span class="number">1ll</span> * (r + l) % mod * (r - l + <span class="number">1</span>) % mod * inv2 % mod * <span class="built_in">S</span>(x / l)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mp[x] = ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    inv2 = quick\_pow(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">    inv6 = quick\_pow(<span class="number">6</span>, mod - <span class="number">2</span>);</span><br><span class="line">    <span class="type">int</span> \_; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;\_);</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        ll n, a, b; <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld&quot;</span>,&amp;n,&amp;a,&amp;b);</span><br><span class="line">        ll ans = (<span class="built_in">S</span>(n) - <span class="number">1</span>) % mod;</span><br><span class="line">        ans = ans * inv2 % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,(ans % mod + mod) % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">// cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT\_ACM\_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start\_clock\_for\_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end\_clock\_for\_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm\_local\_for\_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/09/hdu-6706/">https://blog.jujimeizuo.cn/2021/03/09/hdu-6706/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>codeforces round</title>
      <link href="/2021/03/07/codeforces-round-705-div2-d-g/"/>
      <url>/2021/03/07/codeforces-round-705-div2-d-g/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1493/problem/D">https://codeforces.com/contest/1493/problem/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œæœ‰qä¸ªæ“ä½œï¼Œæ¯æ¬¡æ“ä½œä¼šå°†ç¬¬iä¸ªæ•°ä¹˜xï¼Œåœ¨è¾“å‡ºgcd(æ‰€æœ‰æ•°).</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºæ¯æ¬¡æ“ä½œåªå¯¹ä¸€ä¸ªæ•°æ“ä½œï¼Œè€Œä¸æ˜¯åŒºé—´ä¿®æ”¹ï¼Œè€Œä¸”æ˜¯ä¸æ˜¯æ±‚åŒºé—´gcdã€‚ å³ä¸éœ€è¦ç”¨çº¿æ®µæ ‘æ±‚åŒºé—´gcdï¼Œå¯ä»¥ç”¨å¯ä»¥åŠ¨æ€å¼€ç‚¹ç»´æŠ¤æ¯ä¸ªè´¨å› å­çš„minå€¼ã€‚</p><p>$gcd&#x3D;p_1^{min(k_1,k_2â€¦k_n)}â€¦p_n^{min(k_1,k_2â€¦k_n)}$</p><p>æœ¬ç¯‡é¢˜è§£æ˜¯åˆ©ç”¨multisetç»´æŠ¤æ¯ä¸ªè´¨å› å­çš„minå€¼ã€‚ å› ä¸ºmultisetæ¯æ¬¡æ“ä½œéƒ½æ˜¯$\log n$ï¼Œè€Œä¸”mtltisetå†…éƒ¨éƒ½æ˜¯æœ‰åºçš„ï¼Œå¯é‡å¤çš„ï¼Œç®€ç›´å®Œç¾ï¼</p><p>å®šä¹‰prime[i][j]è¡¨ç¤ºç¬¬iä¸ªæ•°å­—çš„è´¨å› å­jçš„ä¸ªæ•°ã€‚ å®šä¹‰mt[i]è¡¨ç¤ºè´¨å› å­içš„ä¸ªæ•°çš„æœ‰åºåºåˆ—ã€‚ æ‰€ä»¥å½“æ¯ä¸ªæ•°å­—éƒ½æœ‰iè¿™ä¸ªå› å­æ—¶ï¼Œå³: $if(mt[i].size() &#x3D;&#x3D; n) \;*mt[i].begin()$å³ä¸ºè´¨å› å­içš„æœ€å°å€¼è´¡çŒ®ã€‚</p><p>æ¯æ¬¡æ“ä½œä¸€æ¬¡çš„æ—¶å€™ï¼Œå…ˆå¯¹xè´¨å› å­åˆ†è§£ï¼Œç„¶åå¯¹æ¯ä¸ªè´¨å› å­æ“ä½œï¼Œå¹¶ç»´æŠ¤mt[i]ã€‚</p><p>æ‰€ä»¥æš´åŠ›æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_prime[i]) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;i * j &lt; N; j++) &#123;</span><br><span class="line">                prime[i * j] = i;</span><br><span class="line">                is_prime[i * j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; primes[N];</span><br><span class="line">multiset&lt;<span class="type">int</span>&gt; mt[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> n, q; cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">        <span class="keyword">while</span>(x &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            primes[i][prime[x]]++;</span><br><span class="line">            x /= prime[x];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;it : primes[i]) &#123;</span><br><span class="line">            mt[it.first].<span class="built_in">insert</span>(it.second);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(mt[i].<span class="built_in">size</span>() == n) &#123;</span><br><span class="line">            ans = ans * <span class="built_in">quick_pow</span>(i, *mt[i].<span class="built_in">begin</span>()) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(q--) &#123;</span><br><span class="line">        <span class="type">int</span> i, x; cin &gt;&gt; i &gt;&gt; x;</span><br><span class="line">        map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; cnt;</span><br><span class="line">        <span class="keyword">while</span>(x &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            cnt[prime[x]]++;</span><br><span class="line">            x /= prime[x];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;it : cnt) &#123;</span><br><span class="line">            <span class="keyword">if</span>(primes[i].<span class="built_in">find</span>(it.first) == primes[i].<span class="built_in">end</span>()) &#123;</span><br><span class="line">                primes[i][it.first] = it.second;</span><br><span class="line">                mt[it.first].<span class="built_in">insert</span>(it.second);</span><br><span class="line">                <span class="keyword">if</span>(mt[it.first].<span class="built_in">size</span>() == n) &#123;</span><br><span class="line">                    ans = ans * <span class="built_in">quick_pow</span>(it.first, *mt[it.first].<span class="built_in">begin</span>()) % mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> pre = primes[i][it.first];</span><br><span class="line">                <span class="type">int</span> cur = pre + it.second;</span><br><span class="line">                <span class="type">int</span> premin = *mt[it.first].<span class="built_in">begin</span>();</span><br><span class="line">                mt[it.first].<span class="built_in">erase</span>(mt[it.first].<span class="built_in">find</span>(pre));</span><br><span class="line">                mt[it.first].<span class="built_in">insert</span>(cur);</span><br><span class="line">                <span class="type">int</span> nowmin = *mt[it.first].<span class="built_in">begin</span>();</span><br><span class="line">                primes[i][it.first] = cur;</span><br><span class="line">                <span class="keyword">if</span>(mt[it.first].<span class="built_in">size</span>() == n) &#123;</span><br><span class="line">                    ans = ans * <span class="built_in">quick_pow</span>(it.first, nowmin - premin) % mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/07/codeforces-round-705-div2-d-g/">https://blog.jujimeizuo.cn/2021/03/07/codeforces-round-705-div2-d-g/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020å¹´CCPCå¨æµ·ç«™ C. Rencontre æ ‘å½¢dpæ±‚å—ç±»ä»»æ„ä¸¤ç‚¹è·ç¦»å’Œ</title>
      <link href="/2021/03/06/2020-ccpc-weihai-c/"/>
      <url>/2021/03/06/2020-ccpc-weihai-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.ml/gym/102798/problem/C">https://codeforces.ml/gym/102798/problem/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œæ ‘ä¸Šçš„ç‚¹åˆ†ä¸ºä¸‰ç§ã€‚ é¦–å…ˆåˆ†åˆ«åœ¨ä¸‰ç§ç‚¹ä¸­éšæœºé€‰æ‹©ä¸€ç‚¹a,b,cï¼Œç„¶åæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„vï¼Œä½¿å¾— $$f&#x3D;min(dis(a,v)+dis(b,v)+dis(c,v))$$</p><p>æ±‚å‡ºfçš„æœŸæœ›ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å½“a,b,cç¡®å®šä¸‹æ¥ï¼Œé‚£ä¹ˆvä¹Ÿä¼šç¡®å®šä¸‹æ¥ï¼Œå› ä¸ºminï¼Œæ‰€ä»¥æˆ‘ä»¬å›´ç»•a,b,cå±•å¼€ã€‚</p><p>æ•°å­¦ä¸Šå¯ä»¥æ¨å‡º$min(dis(a,v)+dis(b,v)+dis(c,v))&#x3D;\frac{1}{2}(dis(a,b)+dis(b,c)+dis(c,a))$ è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦è€ƒè™‘vçš„å­˜åœ¨ï¼Œè€Œæ€ä¹ˆæ±‚diså‘¢ï¼Ÿ</p><p>æ˜¾ç„¶disä¸­çš„ç‚¹æ˜¯åœ¨æ ‘ä¸Šçš„ï¼Œæ‰€ä»¥æ€»è´¡çŒ®ä¸º $$\frac{\sum_{x\in a}\sum_{y\in b}dis(x,y)}{ab}+\frac{\sum_{x\in c}\sum_{y\in b}dis(x,y)}{cb}+\frac{\sum_{x\in a}\sum_{y\in c}dis(x,y)}{ac}$$</p><p>aï¼Œbï¼Œcçš„ä¸ªæ•°è¾“å…¥çš„æ—¶å€™å°±çŸ¥é“äº†ï¼Œé‚£ä¹ˆå°±æ˜¯æ±‚æ‰€æœ‰çš„disï¼Œå³æ ‘ä¸Šä»»æ„ä¸¤ç‚¹è·ç¦»å’Œã€‚</p><p>å¾ˆå¤šäººéƒ½çŸ¥é“ï¼Œæ ‘ä¸Šä»»æ„ä¸¤ç‚¹ä¹‹é—´è·ç¦»å°±æ˜¯dfsä¸€éæ ‘ï¼Œå¯¹äºä¸€æ¡è¾¹$ans+&#x3D;(n-siz[v])*siz[v]*w$</p><p>è¿™é‡ŒåŒå¦‚æ­¤ï¼Œåªä¸è¿‡æ˜¯è¿›åŒ–ç‰ˆï¼Œæ˜¯è¦åœ¨ä¸‰ä¸ªå—ä¸­é€‰æ‹©ä¸åŒç‚¹æ±‚ä»»æ„è·ç¦»å’Œã€‚ æ²¡å…³ç³»ï¼Œè®¾siz[u][1&#x2F;2&#x2F;3]è¡¨ç¤ºä»¥uä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­ï¼Œ1&#x2F;2&#x2F;3ç§ç±»çš„ç‚¹æœ‰å¤šå°‘ä¸ªã€‚</p><p>ç„¶åæ ¹æ®sizå¤§å°å¾ªç¯è½¬ç§»å³å¯ã€‚</p><p>éš¾ç‚¹åº”è¯¥å°±æ˜¯æ€ä¹ˆåœ¨ä¸åŒå—ä¸­æ±‚è´¡çŒ®äº†ã€‚é¦–å…ˆdfs1é¢„å¤„ç†å‡ºå…¨éƒ¨çš„sizï¼Œå†dfs2å¯¹è¾¹æ±‚è´¡çŒ®ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v;</span><br><span class="line">    ll w;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;Edge&gt; g[N];</span><br><span class="line">ll cnt[<span class="number">4</span>], siz[N][<span class="number">4</span>];;</span><br><span class="line"><span class="type">double</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e : g[u]) &#123;</span><br><span class="line">        <span class="type">int</span> v = e.v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">            siz[u][i] += siz[v][i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e : g[u]) &#123;</span><br><span class="line">        <span class="type">int</span> v = e.v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(v, u);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= <span class="number">3</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                ans += <span class="number">1.0</span> * ((siz[<span class="number">1</span>][i] - siz[v][i]) * siz[v][j] * <span class="number">1.0</span> * e.w / (cnt[i] * cnt[j]) / <span class="number">2.0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v; ll w; cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        g[u].<span class="built_in">push_back</span>(Edge&#123;v, w&#125;);</span><br><span class="line">        g[v].<span class="built_in">push_back</span>(Edge&#123;u, w&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">        cin &gt;&gt; cnt[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt[i]; j++) &#123;</span><br><span class="line">            <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">            siz[x][i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs1</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">12</span>) &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/06/2020-ccpc-weihai-c/">https://blog.jujimeizuo.cn/2021/03/06/2020-ccpc-weihai-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LOJ 6053. ç®€å•çš„å‡½æ•° Min_25ç­›</title>
      <link href="/2021/03/05/loj-6053/"/>
      <url>/2021/03/05/loj-6053/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://loj.ac/p/6053">https://loj.ac/p/6053</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰ä¸€ä¸ªç¥å¥‡çš„å‡½æ•°f(x)ï¼Œæ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p><ul><li>$f(1)&#x3D;1$</li><li>$f(p^c)&#x3D;p \oplus c$</li><li>$f(ab)&#x3D;f(a)f(b)\;gcd(a,b)&#x3D;1çš„æƒ…å†µä¸‹$</li></ul><p>è¾“å‡º$\sum_{i&#x3D;1}^nf(i)\;mod\;1e9+7$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºnæœ‰1e10,æ‰€æœ‰ç”¨çº¿æ€§ç­›ä¼šTã€‚ åªèƒ½ç”¨äºšçº¿æ€§ç­›ï¼Œè€Œfæ˜æ˜¾æ˜¯ä¸€ä¸ªç§¯æ€§å‡½æ•°ï¼Œå¯ä»¥æ´²é˜ç­›ï¼Œå½“ç„¶ï¼ŒMin_25æ›´å®Œçˆ†å®ƒã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆæ„é€ å‡ºä¸€ä¸ªMin_25ç­›å‘¢ï¼Ÿè½¬ç§»æ–¹ç¨‹è¿™ä¹ˆå†™ï¼Ÿ</p><p>è§‚å¯Ÿ$f(p^c)&#x3D;p \oplus c$,å¯¹äºä¸€ä¸ªè´¨æ•°p:</p><ol><li>$if(p&#x3D;2) \;f(p)&#x3D;3$</li><li>$else\;f(p)&#x3D;p-1$</li></ol><p>æ‰€ä»¥æˆ‘ä»¬è¦å¤„ç†è´¨æ•°å’Œï¼Œè®¾$g1[j]&#x3D;\sum_{i&#x3D;2}^j1,g2[j]&#x3D;\sum_{i&#x3D;2}^ji.$ ä¸ç®¡ç¬¬ä¸€ä¸ªf(2)&#x3D;3ï¼Œå°±ç»Ÿä¸€è®¤ä¸ºf(p)&#x3D;p-1ï¼Œæœ€åå¦‚æœæœ‰2çš„è¯ï¼Œans+2å³å¯ã€‚</p><p>è®¾prs[j]ä¸ºå‰jä¸ªè´¨æ•°å’Œï¼Œprz[j]ä¸ºå‰jä¸ªè´¨æ•°ä¸ªæ•°ã€‚</p><p>gå‡½æ•°çŠ¶æ€è½¬ç§»ï¼š $$g_1(j,n)&#x3D;g(j-1,n)-[g(j-1,\frac{n}{p_j})-prz[j-1]]$$</p><p>$$g_2(j,n)&#x3D;g(j-1,n)-pr[j]*(g[j-1,\frac{n}{p_j}]-prs[j-1])$$</p><p>S(x,y)çš„çŠ¶æ€è½¬ç§»ï¼š $$S(x,y)&#x3D;\sum{g_t[id(x)]-sum_t[j-1]}+\sum_{kge y\;p_k^e\leq x}F(p_k^e)*S(\frac{x}{p_k^e},k+1)+F(p_k^{e+1})$$</p><p>$$S(x,y)&#x3D;\sum{g_t[id(x)]-sum_t[j-1]}+\sum_{kge y\;p_k^e\leq x}(p \oplus e)*S(\frac{x}{p_k^e},k+1)+p \oplus (e+1)$$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">         a = a * a % mod;</span><br><span class="line">         b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Min_25 &#123;</span><br><span class="line">    <span class="type">int</span> is_pr[N], id1[N], id2[N], cnt;</span><br><span class="line">    ll n, m, T;</span><br><span class="line">    ll pr[N], prs[N], a[N], g1[N], g2[N];</span><br><span class="line"></span><br><span class="line">    ll inv2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">ID</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &lt;= T ? id1[x] : id2[n / x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">calc1</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (x - <span class="number">1</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">calc2</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x % mod * (x + <span class="number">1</span>) % mod * inv2 % mod - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cnt = m = <span class="number">0</span>;</span><br><span class="line">        inv2 = <span class="built_in">quick_pow</span>(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">        T = <span class="built_in">sqrt</span>(n + <span class="number">0.5</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= T; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!is_pr[i]) pr[++cnt] = i, prs[cnt] = (prs[cnt - <span class="number">1</span>] + i) % mod;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * pr[j] &lt;= T; j++) &#123;</span><br><span class="line">                is_pr[i * pr[j]] = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(i % pr[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(ll l = <span class="number">1</span>;l &lt;= n; l = n / (n / l) + <span class="number">1</span>) &#123;</span><br><span class="line">            a[++m] = n / l;</span><br><span class="line">            <span class="keyword">if</span>(a[m] &lt;= T) id1[a[m]] = m;</span><br><span class="line">            <span class="keyword">else</span> id2[n / a[m]] = m;</span><br><span class="line">            g1[m] = <span class="built_in">calc1</span>(a[m]);</span><br><span class="line">            g2[m] = <span class="built_in">calc2</span>(a[m]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= cnt; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m &amp;&amp; pr[i] * pr[i] &lt;= a[j]; j++) &#123;</span><br><span class="line">                g1[j] = (g1[j] - (g1[<span class="built_in">ID</span>(a[j] / pr[i])] - (i - <span class="number">1</span>))) % mod;</span><br><span class="line">                g2[j] = (g2[j] - pr[i] * (g2[<span class="built_in">ID</span>(a[j] / pr[i])] - prs[i - <span class="number">1</span>]) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ll <span class="title">S</span><span class="params">(ll x, ll y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt;= <span class="number">1</span>  x &lt; pr[y]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        ll ans = (g2[<span class="built_in">ID</span>(x)] - prs[y - <span class="number">1</span>] - (g1[<span class="built_in">ID</span>(x)] - (y - <span class="number">1</span>)) + (y == <span class="number">1</span> ? <span class="number">2</span> : <span class="number">0</span>) + mod) % mod;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = y;i &lt;= cnt &amp;&amp; pr[i] * pr[i] &lt;= x; i++) &#123;</span><br><span class="line">            ll pe = pr[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> e = <span class="number">1</span>;pe * pr[i] &lt;= x; e++, pe *= pr[i]) &#123;</span><br><span class="line">                ans = (ans + (pr[i] ^ e) * <span class="built_in">S</span>(x / pe, i + <span class="number">1</span>) % mod + (pr[i] ^ e + <span class="number">1</span>) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ll <span class="title">Solve</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n = x, <span class="built_in">init</span>(), <span class="built_in">S</span>(n, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n; cin &gt;&gt; n;</span><br><span class="line">    ll ans = Min_25::<span class="built_in">Solve</span>(n);</span><br><span class="line">    cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/05/loj-6053/">https://blog.jujimeizuo.cn/2021/03/05/loj-6053/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´ICPC ä¸Šæµ·ç½‘ç»œèµ› E. Counting Sequences II æŒ‡æ•°å‹ç”Ÿæˆå‡½æ•°</title>
      <link href="/2021/03/05/2019-icpc-online-shanghai-e-counting/"/>
      <url>/2021/03/05/2019-icpc-online-shanghai-e-counting/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://nanti.jisuanke.com/t/41413">https://nanti.jisuanke.com/t/41413</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æ„é€ åºåˆ—$a_1..a_nï¼Œa_i\in [1,m]$ï¼Œä¿è¯å¶æ•°å‡ºç°å¶æ•°æ¬¡æ•°ã€‚è¾“å‡ºæ€»æ–¹æ¡ˆæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è€ƒè™‘æŒ‡æ•°å‹ç”Ÿæˆå‡½æ•°ã€‚ æˆ‘ä»¬çŸ¥é“å¯¹äºä¸€ä¸ªæ•°ï¼Œå‡ºç°æ¬¡æ•°å¯èƒ½ä¸º$e^x&#x3D;1+\frac{x}{1!}+\frac{2^2}{2!}+â€¦$ä¸­çš„ä¸€ä¸ªã€‚</p><p>æ‰€ä»¥å¯¹äºmä¸­ï¼Œè®¾å¥‡æ•°æœ‰aä¸ªï¼Œå¶æ•°æœ‰bä¸ªï¼Œå¶æ•°ä¿è¯å‡ºç°å¶æ•°æ¬¡ï¼Œå¥‡æ•°æ— æ‰€è°“ã€‚å³ï¼š</p><p>$$f(x)&#x3D;(e^x)^a*(\frac{e^x+e^{-x}}{2})^b$$</p><p>äºŒé¡¹å¼å±•å¼€ï¼š</p><p>$$f(x)&#x3D;\frac{1}{2^b}*e^{ax}*\sum_{i&#x3D;0}^bC_b^ie^{xi}e^{-x(b-i)}$$</p><p>$$f(x)&#x3D;\frac{1}{2^b}*e^{(a-b)x}*\sum_{i&#x3D;0}^bC_b^ie^{2ix}$$</p><p>$$f(x)&#x3D;\frac{1}{2^b}*e^{(a-b)x}*\sum_{i&#x3D;0}^bC_b^i\sum_{j&#x3D;0}^{\infty}\frac{(2ix)^j}{j!}$$</p><p>å› ä¸ºåºåˆ—æœ‰nä¸ªï¼Œæ‰€ä»¥å–$x^n$çš„ç³»æ•°åœ¨å®Œå…¨æ’åˆ—å³ä¸ºansã€‚</p><p>$$ans&#x3D;\frac{1}{2^b}*e^{(a-b)x}*\sum_{i&#x3D;0}^bC_b^i\frac{(2i)^n}{n!}*n!$$</p><p>$$ans&#x3D;\frac{1}{2^b}*e^{(a-b)x}*\sum_{i&#x3D;0}^bC_b^i\frac{(2i)^n}{n!}*n!$$</p><ul><li>å½“mä¸ºå¶æ•°æ—¶ï¼Œa&#x3D;b</li></ul><p>$$ans&#x3D;\frac{1}{2^b}*\sum_{i&#x3D;0}^bC_b^i(2i)^n$$</p><ul><li>å½“mä¸ºå¥‡æ•°æ—¶ï¼Œa&#x3D;b+1</li></ul><p>$$ans&#x3D;\frac{1}{2^b}*\sum_{i&#x3D;0}^bC_b^i(2i+1)^n$$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"> <span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll F[N];</span><br><span class="line">ll invn[N];</span><br><span class="line">ll invF[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    F[<span class="number">0</span>] = F[<span class="number">1</span>] = invn[<span class="number">0</span>] = invn[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        F[i] = F[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        invn[i] = mod - (mod / i) * invn[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * invn[i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll m, ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = F[m];</span><br><span class="line">    ans = ans * invF[n] % mod;</span><br><span class="line">    ans = ans * invF[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        ll b = m / <span class="number">2</span>;</span><br><span class="line">        ll ans = <span class="built_in">quick_pow</span>(<span class="built_in">quick_pow</span>(<span class="number">2</span>, b), mod - <span class="number">2</span>);</span><br><span class="line">        ll sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= b; i++) &#123;</span><br><span class="line">            sum = (sum + <span class="built_in">C</span>(b, i) * <span class="built_in">quick_pow</span>(<span class="number">2</span> * i + (m &amp; <span class="number">1</span>), n) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = ans * sum % mod;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/05/2019-icpc-online-shanghai-e-counting/">https://blog.jujimeizuo.cn/2021/03/05/2019-icpc-online-shanghai-e-counting/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Min_25ç­›æ€æƒ³åŠä¾‹é¢˜é›†</title>
      <link href="/2021/03/05/min-25/"/>
      <url>/2021/03/05/min-25/</url>
      
        <content type="html"><![CDATA[<p>éš¾å¾—ä¸€æ‰¹!!!</p><p>Min_25æ˜¯é’ˆå¯¹ç§¯æ€§å‡½æ•°f(i)æ±‚å’Œé—®é¢˜ï¼Œå¯å¤„ç†èŒƒå›´å¯è¾¾åˆ°$n^{11}-n^{12}$ã€‚ æ‰€ä»¥å¤æ‚åº¦æ˜¯ä½äºçº¿æ€§çš„ã€‚å¤§æ¦‚æ˜¯$\frac{n^{\frac{3}{4}}}{\log \sqrt n}$ã€‚å¯ä»¥è¯´æ˜¯å®Œçˆ†æ´²é˜ç­›ç”šè‡³æ‰€æœ‰ç­›æ³•ã€‚ ä½†åŒæ—¶ï¼Œè™½ç„¶æœ‰è¿™äº›ä¼˜ç‚¹ï¼Œå¯ç†è§£èµ·æ¥ç›¸å½“ä¸å®¹æ˜“ï¼Œæ‰€ä»¥å¾ˆéš¾ã€‚</p><p>ç²—ç•¥æ€è·¯ï¼š å…ˆå°†è´¨æ•°åˆ†ä¸ºå°äºç­‰äº$\sqrt{n}$å’Œå¤§äº$\sqrt{n}$ä¸¤ç§ã€‚ å†é¢„å¤„ç†æ‰€æœ‰è´¨æ•°å‡½æ•°çš„å‰ç¼€å’Œï¼Œåˆ©ç”¨å°äºç­‰äº $\sqrt{n}$çš„è´¨æ•°è¿›è¡Œè½¬ç§»ï¼Œæ¨å‡ºæ‰€æœ‰å‡½æ•°çš„å’Œã€‚</p><h2 id="æ€æƒ³"><a href="#æ€æƒ³" class="headerlink" title="æ€æƒ³"></a>æ€æƒ³</h2><h4 id="ç­›è´¨æ•°"><a href="#ç­›è´¨æ•°" class="headerlink" title="ç­›è´¨æ•°"></a>ç­›è´¨æ•°</h4><p>é—®é¢˜ï¼šå‡è®¾æˆ‘ä»¬éœ€è¦æ±‚å‡ºnä»¥å†…æ‰€æœ‰è´¨æ•°å’Œã€‚</p><p>è´¨æ•°ç­›æ±‚å‡ºæ‰€æœ‰å°äºç­‰äº$\sqrt{n}$çš„è´¨æ•°ï¼Œ$p_i$è¡¨ç¤ºç¬¬iä¸ªè´¨æ•°ï¼Œä¸€å…±æœ‰$p_0$ä¸ªè´¨æ•°ï¼Œpsä¸ºpçš„å‰ç¼€å’Œã€‚</p><p>è®¾å‡½æ•°$S(x,j)&#x3D;\sum_{i&#x3D;2}^xi*[iä¸ºè´¨æ•°æˆ–içš„æœ€å°è´¨å› æ•°å¤§äºp_j]$</p><p>$è®¾Sum(n)&#x3D;\frac{n(n+1)}{2}-1.$</p><p>$æ˜¾ç„¶å¯¹äºä»»æ„xï¼ŒS(x,0)&#x3D;Sum(x)-1ï¼Œæˆ‘ä»¬è¦æ±‚çš„ans&#x3D;S(x,p_0)$</p><p>è€ƒè™‘è½¬ç§»ï¼Œå¦‚æœ$p_j^2&gt;x,S(x,j)&#x3D;S(x,j-1).$ å¦åˆ™: $$S(x,j)&#x3D;S(x,j-1)-p_j*(S(\frac{x}{p_j},j-1)-ps_{j-1})$$</p><p>ä¸€ç›´è½¬ç§»ã€é€’å½’ï¼Œå°±å¯ä»¥å¾—åˆ°$S(n,p_0).$</p><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§ç­›æ³•å¯ä»¥ç­›å¾ˆå¤šçš„ç§¯æ€§å‡½æ•°ï¼Œä½†åº”è¯¥ä¸æ˜¯æ‰€æœ‰ç§¯æ€§å‡½æ•°éƒ½èƒ½ç­›å§ï¼Ÿ</p><h4 id="ç§¯æ€§å‡½æ•°æ±‚å’Œ"><a href="#ç§¯æ€§å‡½æ•°æ±‚å’Œ" class="headerlink" title="ç§¯æ€§å‡½æ•°æ±‚å’Œ"></a>ç§¯æ€§å‡½æ•°æ±‚å’Œ</h4><p>é€šè¿‡ä¸Šé¢æ–¹æ³•ï¼Œå¯ä»¥æ±‚å‡ºå¾ˆå¤šç§¯æ€§å‡½æ•°f(x)ï¼Œå½“xä¸ºè´¨æ•°æ—¶çš„å’Œï¼Œç°åœ¨è¦æ±‚ï¼š $$\sum_{i&#x3D;1}^nf(i)$$</p><p>è€ƒè™‘æŠŠä¸Šé¢çš„å¼å­å€’è¿‡æ¥æ¨ï¼Œå®šä¹‰è·Ÿå‰é¢çš„ä¸€æ ·ï¼š(å¯ä»¥ç”¨ä¸Šé¢çš„Sé¢„å¤„ç†$G(x,p_0))$ $è®¾fs_x&#x3D;\sum_{i&#x3D;1}^xf(p_i)$</p><p>$$G(x,j)&#x3D;G(x,j+1)+\sum_{k&#x3D;1}(G(\frac{x}{p_j^k},j+1)-fs_j)*f(p_j^k)+\sum_{k&#x3D;2}f(p_j^k)$$</p><p>åˆ™ans&#x3D;G(n,0).</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>ç”±äºé€’å½’æ¶ˆè€—çš„æ—¶é—´ä¼šè¿‡é•¿ï¼Œæ‰€ä»¥é‡‡ç”¨å¾ªç¯ä»£æ›¿é€’å½’.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Min25 &#123;</span><br><span class="line">    <span class="type">int</span> prime[N], id1[N], id2[N], flag[N], ncnt, m;</span><br><span class="line"></span><br><span class="line">    ll g[N], sum[N], a[N], T, n;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">ID</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &lt;= T ? id1[x] : id2[n / x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">calc</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x * (x + <span class="number">1</span>) / <span class="number">2</span> - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">f</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ncnt = <span class="number">0</span>, m = <span class="number">0</span>;</span><br><span class="line">        T = <span class="built_in">sqrt</span>(n + <span class="number">0.5</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= T; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!flag[i]) prime[++ncnt] = i, sum[ncnt] = sum[ncnt - <span class="number">1</span>] + i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= ncnt &amp;&amp; i * prime[j] &lt;= T; j++) &#123;</span><br><span class="line">                flag[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (ll l = <span class="number">1</span>; l &lt;= n; l = n / (n / l) + <span class="number">1</span>) &#123;</span><br><span class="line">            a[++m] = n / l;</span><br><span class="line">            <span class="keyword">if</span> (a[m] &lt;= T) id1[a[m]] = m; <span class="keyword">else</span> id2[n / a[m]] = m;</span><br><span class="line">            g[m] = <span class="built_in">calc</span>(a[m]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= ncnt; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m &amp;&amp; (ll)prime[i] * prime[i] &lt;= a[j]; j++)</span><br><span class="line">                g[j] = g[j] - (ll)prime[i] * (g[<span class="built_in">ID</span>(a[j] / prime[i])] - sum[i - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">Solve</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x &lt;= <span class="number">1</span>) <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">return</span> n = x, <span class="built_in">init</span>(), g[<span class="built_in">ID</span>(n)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><h3 id="ç¬¬ä¸€éƒ¨åˆ†"><a href="#ç¬¬ä¸€éƒ¨åˆ†" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†"></a>ç¬¬ä¸€éƒ¨åˆ†</h3><p>è€ƒè™‘ä¸€ä¸ªé€’æ¨å…¬å¼g(j,n)ï¼Œè¡¨ç¤ºnä»¥å†…ç­›è¿‡å‰jä¸ªè´¨æ•°çš„å€æ•°çš„åˆæ•°å’Œã€‚ $g(j,n)&#x3D;\sum_{i\epsilon f(i)æœ€å°è´¨å› å­&gt;p_j}f(i)&#x3D;\sum_{i\epsilon f(i)æœ€å°è´¨å› å­&gt;p_j}i^k$</p><p>çŠ¶æ€è½¬ç§»ï¼š</p><p>$$g(j,n)&#x3D;g(j-1,n)-f(p_j)[g(j-1,\frac{n}{p_j})-\sum_{i&#x3D;1}^{j-1}f(p_i)]&#x3D;g(j-1,n)-p_j^k[g(j-1,\frac{n}{p_j})-\sum_{i&#x3D;1}^{j-1}p_i^k]$$</p><p>å½“$p_j^2&gt;næ—¶ï¼Œg(j,n)&#x3D;g(j-1,n)$ï¼Œæ‰€ä»¥åªéœ€è¦è®¡ç®—å‡º$\sqrt{n}$ä»¥å†…çš„ç´ æ•°ã€‚</p><h3 id="ç¬¬äºŒéƒ¨åˆ†"><a href="#ç¬¬äºŒéƒ¨åˆ†" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†"></a>ç¬¬äºŒéƒ¨åˆ†</h3><p>é¢„å¤„ç†$id1[]ï¼Œid2[]$å’Œå„ç§$\frac{n}{l}$çš„å‰ç¼€å’Œã€‚</p><h3 id="ç¬¬ä¸‰éƒ¨åˆ†"><a href="#ç¬¬ä¸‰éƒ¨åˆ†" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ†"></a>ç¬¬ä¸‰éƒ¨åˆ†</h3><p>è®¾S(n,j)è¡¨ç¤ºnä»¥å†…æ‰€æœ‰æœ€å°è´¨å› å­å¤§äºç­‰äº$p_j$çš„f(x)çš„å’Œï¼Œå³$S(n,j)&#x3D;\sum_{i&#x3D;1}^nF(i)[iæœ€å¤§è´¨å› å­\ge p_j]$</p><p>çŠ¶æ€è½¬ç§»ï¼š</p><p>$$S(n,j)&#x3D;\sum{g_t(id[n])-sum_t[j-1]}+\sum_{k\ge y\;p_k^{e+1}\leq n}F(p_k^e)*S(\frac{n}{p_k^e},k+1)+F(p_k^{e+1})$$</p><p>$sum_t(j-1)&#x3D;\sum_{i&#x3D;1}^{j-1}p_i^t$ä¸ºå‰j-1ä¸ªè´¨æ•°çš„tæ¬¡å¹‚ä¹‹å’Œ. $\sum{g_t(id[n])-sum_t[j-1]}$ä¸ºå¤šä¸ªå¤šé¡¹å¼åŠ å‡è¿ç®—å‡‘æˆçš„å¤šé¡¹å¼çš„è´¨æ•°å’Œ$\sum_{p\epsilon primes}F(x)[p&lt;P_j]$ åé¢ç›´æ¥è®¡ç®—å¤šé¡¹å¼å‡½æ•°$F(p_k^e),F(p_k^{e+1})$</p><p>é€’å½’å®Œæˆå³å¯ã€‚</p><h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><h4 id="LOJ-6235-åŒºé—´ç´ æ•°ä¸ªæ•°"><a href="#LOJ-6235-åŒºé—´ç´ æ•°ä¸ªæ•°" class="headerlink" title="LOJ 6235. åŒºé—´ç´ æ•°ä¸ªæ•°"></a>LOJ 6235. åŒºé—´ç´ æ•°ä¸ªæ•°</h4><p>ä¼ é€é—¨ï¼š<a href="https://loj.ac/p/6235">https://loj.ac/p/6235</a></p><p>æ±‚è§£1-nä¹‹é—´æ‰€æœ‰ç´ æ•°ä¸ªæ•°</p><p>$$g(j,n)&#x3D;g(j-1,n)-f(p_j)[g(j-1,\frac{n}{p_j})-\sum_{i&#x3D;1}^{j-1}f(p_i)]&#x3D;g(j-1,n)-g(j-1,\frac{n}{p_j})-(j-1)$$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Min_25 &#123;</span><br><span class="line">    <span class="type">int</span> is_pr[N], pr[N], prs[N], cnt, m;</span><br><span class="line">    ll n, T;</span><br><span class="line">    ll id1[N], id2[N], a[N], g[N];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">ID</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &lt;= T ? id1[x] : id2[n / x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">calc</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">f</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cnt = m = <span class="number">0</span>;</span><br><span class="line">        T = <span class="built_in">sqrt</span>(n + <span class="number">0.5</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= T; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!is_pr[i]) pr[++cnt] = i, prs[cnt] = prs[cnt - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * pr[j] &lt;= T; j++) &#123;</span><br><span class="line">                is_pr[i * pr[j]] = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(i % pr[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(ll l = <span class="number">1</span>;l &lt;= n; l = n / (n / l) + <span class="number">1</span>) &#123;</span><br><span class="line">            a[++m] = n / l;</span><br><span class="line">            <span class="keyword">if</span>(a[m] &lt;= T) id1[a[m]] = m;</span><br><span class="line">            <span class="keyword">else</span> id2[n / a[m]] = m;</span><br><span class="line">            g[m] = <span class="built_in">calc</span>(a[m]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= cnt; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m &amp;&amp; (ll)pr[i] * pr[i] &lt;= a[j]; j++) &#123;</span><br><span class="line">                g[j] = g[j] - (g[<span class="built_in">ID</span>(a[j] / pr[i])] - prs[i - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ll <span class="title">Solve</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt;= <span class="number">1</span>) <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">return</span> n = x, <span class="built_in">init</span>(), g[<span class="built_in">ID</span>(n)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n; cin &gt;&gt; n;</span><br><span class="line">    cout &lt;&lt; Min_25::<span class="built_in">Solve</span>(n) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="LOJ-6053-ç®€å•çš„å‡½æ•°"><a href="#LOJ-6053-ç®€å•çš„å‡½æ•°" class="headerlink" title="LOJ 6053. ç®€å•çš„å‡½æ•°"></a>LOJ 6053. ç®€å•çš„å‡½æ•°</h4><p>ä¼ é€é—¨ï¼š<a href="https://loj.ac/p/6053">https://loj.ac/p/6053</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">         a = a * a % mod;</span><br><span class="line">         b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Min_25 &#123;</span><br><span class="line">    <span class="type">int</span> is_pr[N], id1[N], id2[N], cnt;</span><br><span class="line">    ll n, m, T;</span><br><span class="line">    ll pr[N], prs[N], a[N], g1[N], g2[N];</span><br><span class="line"></span><br><span class="line">    ll inv2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">ID</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &lt;= T ? id1[x] : id2[n / x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">calc1</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (x - <span class="number">1</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> ll <span class="title">calc2</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x % mod * (x + <span class="number">1</span>) % mod * inv2 % mod - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cnt = m = <span class="number">0</span>;</span><br><span class="line">        inv2 = <span class="built_in">quick_pow</span>(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">        T = <span class="built_in">sqrt</span>(n + <span class="number">0.5</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= T; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!is_pr[i]) pr[++cnt] = i, prs[cnt] = (prs[cnt - <span class="number">1</span>] + i) % mod;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * pr[j] &lt;= T; j++) &#123;</span><br><span class="line">                is_pr[i * pr[j]] = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(i % pr[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(ll l = <span class="number">1</span>;l &lt;= n; l = n / (n / l) + <span class="number">1</span>) &#123;</span><br><span class="line">            a[++m] = n / l;</span><br><span class="line">            <span class="keyword">if</span>(a[m] &lt;= T) id1[a[m]] = m;</span><br><span class="line">            <span class="keyword">else</span> id2[n / a[m]] = m;</span><br><span class="line">            g1[m] = <span class="built_in">calc1</span>(a[m]);</span><br><span class="line">            g2[m] = <span class="built_in">calc2</span>(a[m]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= cnt; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m &amp;&amp; pr[i] * pr[i] &lt;= a[j]; j++) &#123;</span><br><span class="line">                g1[j] = (g1[j] - (g1[<span class="built_in">ID</span>(a[j] / pr[i])] - (i - <span class="number">1</span>))) % mod;</span><br><span class="line">                g2[j] = (g2[j] - pr[i] * (g2[<span class="built_in">ID</span>(a[j] / pr[i])] - prs[i - <span class="number">1</span>]) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ll <span class="title">S</span><span class="params">(ll x, ll y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt;= <span class="number">1</span>  x &lt; pr[y]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        ll ans = (g2[<span class="built_in">ID</span>(x)] - prs[y - <span class="number">1</span>] - (g1[<span class="built_in">ID</span>(x)] - (y - <span class="number">1</span>)) + (y == <span class="number">1</span> ? <span class="number">2</span> : <span class="number">0</span>) + mod) % mod;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = y;i &lt;= cnt &amp;&amp; pr[i] * pr[i] &lt;= x; i++) &#123;</span><br><span class="line">            ll pe = pr[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> e = <span class="number">1</span>;pe * pr[i] &lt;= x; e++, pe *= pr[i]) &#123;</span><br><span class="line">                ans = (ans + (pr[i] ^ e) * <span class="built_in">S</span>(x / pe, i + <span class="number">1</span>) % mod + (pr[i] ^ e + <span class="number">1</span>) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ll <span class="title">Solve</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n = x, <span class="built_in">init</span>(), <span class="built_in">S</span>(n, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n; cin &gt;&gt; n;</span><br><span class="line">    ll ans = Min_25::<span class="built_in">Solve</span>(n);</span><br><span class="line">    cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/05/min-25/">https://blog.jujimeizuo.cn/2021/03/05/min-25/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´ICPCå—äº¬ç½‘ç»œèµ›E-K Sum è«æ¯”ä¹Œæ–¯åæ¼”+æœæ•™ç­›+æ¬§æ‹‰é™å¹‚</title>
      <link href="/2021/03/04/2019-icpc-online-nanjing-e/"/>
      <url>/2021/03/04/2019-icpc-online-nanjing-e/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$å®šä¹‰f_n(k)&#x3D;\sum_{l_1&#x3D;1}^n\sum_{l_2&#x3D;1}^nâ€¦\sum_{l_k&#x3D;1}^n[gcd(l_1,l_2,â€¦,l_k)]^2$</p><p>$$æ±‚è§£\sum_{i&#x3D;2}^kf_{n(i)}$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$$f_n(k)&#x3D;\sum_{l_1&#x3D;1}^n\sum_{l_2&#x3D;1}^nâ€¦\sum_{l_k&#x3D;1}^n[gcd(l_1,l_2,â€¦,l_k)]^2$$</p><p>$$&#x3D;\sum_{t&#x3D;1}^n\sum_{l_1&#x3D;1}^n\sum_{l_2&#x3D;1}^nâ€¦\sum_{l_k&#x3D;1}^n[gcd(l_1,l_2,â€¦,l_k)&#x3D;t]*t^2$$</p><p>$$&#x3D;\sum_{t&#x3D;1}^{n}t^2\sum_{l_1&#x3D;1}^{\left \lfloor \frac{n}{t} \right \rfloor }\sum_{l_2&#x3D;1}^{\left \lfloor \frac{n}{t} \right \rfloor }â€¦\sum_{l_k&#x3D;1}^{\left \lfloor \frac{n}{t} \right \rfloor }[gcd(l_1,l_2,â€¦,l_k)&#x3D;1]$$</p><p>$$&#x3D;\sum_{t&#x3D;1}^{n}t^2\sum_{l_1&#x3D;1}^{\left \lfloor \frac{n}{t} \right \rfloor }\sum_{l_2&#x3D;1}^{\left \lfloor \frac{n}{t} \right \rfloor }â€¦\sum_{l_k&#x3D;1}^{\left \lfloor \frac{n}{t} \right \rfloor }\sum_{dl_1\;â€¦dl_k}\mu(d)$$</p><p>$$&#x3D;\sum_{t&#x3D;1}^nt^2\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{t} \right \rfloor}\mu(d)*\left \lfloor \frac{n}{dt} \right \rfloor^k$$</p><p>$ä»¤T&#x3D;dtï¼Œåˆ™ï¼š$</p><p>$$f_n(k)&#x3D;\sum_{T&#x3D;1}^n\sum_{dT}\mu(d)\left \lfloor \frac{T}{d} \right \rfloor^2\left \lfloor \frac{n}{T} \right \rfloor^k$$</p><hr><p>$$\sum_{i&#x3D;2}^kf_n(i)&#x3D;\sum_{i&#x3D;2}^k\sum_{T&#x3D;1}^n\sum_{dT}\mu(d)\left \lfloor \frac{T}{d} \right \rfloor^2\left \lfloor \frac{n}{T} \right \rfloor^i$$</p><p>$$\sum_{T&#x3D;1}^n\sum_{dT}\mu(d)\left \lfloor \frac{T}{d} \right \rfloor^2\sum_{i&#x3D;2}^k\left \lfloor \frac{n}{T} \right \rfloor^i$$</p><p>$ä»¤h(x)&#x3D;\sum_{dx}\mu(d)\left \lfloor \frac{x}{d} \right \rfloor^2ï¼Œè®¾S(n)&#x3D;\sum_{i&#x3D;1}^nh(i)ï¼Œç”¨æœæ•™ç­›æ±‚å‡ºhçš„å‰ç¼€å’Œã€‚$</p><p>$æ ¹æ®æœæ•™ç­›æ±‚å‰ç¼€å’Œå…¬å¼ï¼š$</p><p>$$S(n)&#x3D;\frac{\sum_{i&#x3D;1}^n(f*g)i-\sum_{i&#x3D;2}^ng[i]S(\left \lfloor \frac{n}{i} \right \rfloor)}{g[1]}$$</p><p>$ä¸ºäº†ç®€ä¾¿å…¬å¼ï¼Œè®¾g&#x3D;I,åˆ™(h*g)i&#x3D;(I*\mu *id^2)i&#x3D;i^2$</p><p>$åˆ™$ $$S(n)&#x3D;\frac{n(n+1)(2n+1)}{6}-\sum_{i&#x3D;2}^nS(\left \lfloor \frac{n}{i} \right \rfloor)$$</p><p>$å¯¹äº\sum_{i&#x3D;2}^k\left \lfloor \frac{n}{T} \right \rfloor^iï¼Œåˆ©ç”¨ç­‰æ¯”å…¬å¼ï¼Œp&#x3D;\left \lfloor \frac{n}{T} \right \rfloor.$</p><p>$$\sum_{i&#x3D;2}^k\left \lfloor \frac{n}{T} \right \rfloor^i&#x3D;\frac{(\frac{n}{T})^2*[1-(\frac{n}{T})^{k-1}]}{1-\frac{n}{T}}$$</p><p>$æ³¨æ„\frac{n}{T}&#x3D;1çš„æƒ…å†µï¼Œç­”æ¡ˆä¸ºk-1ã€‚$</p><p>$å› ä¸ºkå¾ˆå¤§ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¬§æ‹‰é™å¹‚é¢„å…ˆå¤„ç†å†ä½œç­‰æ¯”ï¼Œå†é…åˆæœæ•™ç­›æ±‚å‰ç¼€å’Œã€‚$</p><p>$$\sum_{i&#x3D;2}^nf_n(i)&#x3D;\sum_{T&#x3D;1}^nh(i)*\frac{(\frac{n}{T})^2*[1-(\frac{n}{T})^{k-1}]}{1-\frac{n}{T}}$$</p><p>$æ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(T(n^{\frac{2}{3}}+\sqrt n\log n))$</p><h2 id="Code-MS"><a href="#Code-MS" class="headerlink" title="Code(MS)"></a>Code(MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N], cnt;</span><br><span class="line">ll h[N], s[N];</span><br><span class="line">ll inv6, k1, k2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    h[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_prime[i]) &#123;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">            h[i] = <span class="number">1ll</span> * i * i % mod - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                h[i * prime[j]] = h[i] * prime[j] % mod * prime[j] % mod;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                h[i * prime[j]] = h[i] * h[prime[j]] % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) s[i] = (s[i - <span class="number">1</span>] + h[i]) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map&lt;ll, ll&gt; mp;</span><br><span class="line"><span class="function">ll <span class="title">S</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; N) <span class="keyword">return</span> s[x];</span><br><span class="line">    <span class="keyword">if</span>(mp[x]) <span class="keyword">return</span> mp[x];</span><br><span class="line">    ll ans = x * (x + <span class="number">1</span>) % mod * (<span class="number">2</span> * x + <span class="number">1</span>) % mod * inv6 % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">2</span>, r;l &lt;= x; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = <span class="built_in">min</span>(x / (x / l), x);</span><br><span class="line">        ans = (ans - <span class="number">1ll</span> * (r - l + <span class="number">1</span>) * <span class="built_in">S</span>(x / l) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mp[x] = (ans % mod + mod) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Sum</span><span class="params">(ll p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> k2 - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> p * p % mod * (<span class="built_in">quick_pow</span>(p, k1 - <span class="number">1</span>) - <span class="number">1</span>) % mod * <span class="built_in">quick_pow</span>(p - <span class="number">1</span>, mod - <span class="number">2</span>) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">sieve</span>();</span><br><span class="line">    inv6 = <span class="built_in">quick_pow</span>(<span class="number">6</span>, mod - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        k1 = k2 = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        string K; cin &gt;&gt; K;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; K.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            k1 = (k1 * <span class="number">10</span> + K[i] - <span class="string">&#x27;0&#x27;</span>) % (mod - <span class="number">1</span>);</span><br><span class="line">            k2 = (k2 * <span class="number">10</span> + K[i] - <span class="string">&#x27;0&#x27;</span>) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        k1 += mod - <span class="number">1</span>;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        ll pre = <span class="number">0</span>, now = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">1</span>, r;l &lt;= n; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">            r = <span class="built_in">min</span>(n / (n / l), n);</span><br><span class="line">            now = <span class="built_in">S</span>(r);</span><br><span class="line">            ans = (ans + (now - pre + mod) % mod * <span class="built_in">Sum</span>(n / l) % mod) % mod;</span><br><span class="line">            pre = now;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/04/2019-icpc-online-nanjing-e/">https://blog.jujimeizuo.cn/2021/03/04/2019-icpc-online-nanjing-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›32 F-Friendly Polynomial NTT+å¤šé¡¹å¼æ±‚é€†+ç»„åˆè®¡æ•°</title>
      <link href="/2021/03/03/nowcoder-practice32-f/"/>
      <url>/2021/03/03/nowcoder-practice32-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/272/F">https://ac.nowcoder.com/acm/contest/272/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªnï¼Œè¡¨ç¤ºæœ‰1åˆ°nè¿™äº›æ•°ï¼Œå¯¹äºä¸€ä¸ªiï¼Œå¦‚æœå‰iä¸ªæ˜¯1åˆ°içš„ä¸€ä¸ªæ’åˆ—ï¼Œåˆ™æ•´ä¸ªåºåˆ—ç§°ä¸ºä¸åˆæ ¼åºåˆ—ã€‚ æ±‚å‡ºæ‰€æœ‰ä¸åˆæ ¼åºåˆ—ä¸ªæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è€ƒè™‘æŠŠåºåˆ—ä»¥iä¸ºç•Œé™æ‹†æˆä¸¤åŠï¼Œè®¾f_nä¸ºé•¿åº¦ä¸ºn çš„ä¸åˆæ ¼åºåˆ—ä¸ªæ•°ï¼Œåˆ™ï¼š</p><ul><li>å‰iä¸ªæ˜¯ä¸åˆæ ¼åºåˆ—ï¼Œè´¡çŒ®ä¸ºi!ã€‚</li><li>ån-iä¸ªä¸æ˜¯ä¸åˆæ ¼åºåˆ—ï¼Œè´¡çŒ®ä¸º$(n-i)!-f_{n-i}$</li></ul><p>åˆ™å¯¹äºä»»æ„ä¸€ä¸ªnæ¥è¯´ï¼Œ $$f_n&#x3D;\sum_{i&#x3D;1}^{n-1}i!*[(n-i)!-f_{n-i}]$$</p><p>$$f_n&#x3D;\sum_{i&#x3D;1}^{n-1}i!*(n-i)!-\sum_{i&#x3D;1}^{n-1}i!*f_{n-i}$$</p><p>è®¾$g_n&#x3D;n!$ï¼Œç‰¹åˆ«çš„ï¼Œ$g_0&#x3D;0!&#x3D;0$ï¼Œåˆ™ï¼š</p><p>$$f&#x3D;g*g-g*f$$</p><p>$$f&#x3D;\frac{g*g}{1+g}$$</p><p>éœ€è¦ä¸€ä¸ªå¤šé¡¹å¼æ±‚é€†ï¼Œå¤šé¡¹å¼ä¹˜æ³•ï¼Œç›´æ¥å¥—å³å¯ã€‚</p><p>å› ä¸ºæˆ‘çš„æ¿å­éƒ½æ˜¯ä»»æ„æ¨¡æ•°MTTï¼Œæ‰€ä»¥ç›´æ¥çœç•¥NTTäº†ï¼Œå…¨æ˜¯MTTã€‚</p><h2 id="Code-1579MS"><a href="#Code-1579MS" class="headerlink" title="Code(1579MS)"></a>Code(1579MS)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">##include <span class="string">&quot;bits/stdc++.h&quot;</span></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">##define endl <span class="string">&quot;\n&quot;</span></span><br><span class="line"></span><br><span class="line">const <span class="type">ll</span> <span class="variable">mod</span> <span class="operator">=</span> <span class="number">998244353</span>;</span><br><span class="line">const <span class="type">double</span> <span class="variable">PI</span> <span class="operator">=</span> acos(-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">const <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">struct Complex &#123;</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">    Complex(<span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>, <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>): x(a), y(b) &#123;&#125;</span><br><span class="line">    Complex operator + (const Complex &amp;rhs) &#123; <span class="keyword">return</span> Complex(x + rhs.x, y + rhs.y); &#125;</span><br><span class="line">    Complex operator - (const Complex &amp;rhs) &#123; <span class="keyword">return</span> Complex(x - rhs.x, y - rhs.y); &#125;</span><br><span class="line">    Complex operator * (const Complex &amp;rhs) &#123; <span class="keyword">return</span> Complex(x * rhs.x - y * rhs.y, x * rhs.y + y * rhs.x); &#125;</span><br><span class="line">    Complex <span class="title function_">conj</span><span class="params">()</span> &#123; <span class="keyword">return</span> Complex(x, -y); &#125;</span><br><span class="line">&#125; w[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tr[N];</span><br><span class="line">ll f[N], g[N], invg[N], g2[N];</span><br><span class="line"></span><br><span class="line">ll <span class="title function_">quick_pow</span><span class="params">(ll a, ll b)</span> &#123;</span><br><span class="line">    <span class="type">ll</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">getLen</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">1</span>; <span class="keyword">while</span> (len &lt; (n &lt;&lt; <span class="number">1</span>)) len &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) tr[i] = (tr[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  (i &amp; <span class="number">1</span> ? len &gt;&gt; <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) w[i] = w[i] = Complex(cos(<span class="number">2</span> * PI * i / len), sin(<span class="number">2</span> * PI * i / len));</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">FFT</span><span class="params">(Complex *A, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) <span class="keyword">if</span>(i &lt; tr[i]) swap(A[i], A[tr[i]]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>, lyc = len &gt;&gt; <span class="number">1</span>; i &lt;= len; i &lt;&lt;= <span class="number">1</span>, lyc &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; len; j += i) &#123;</span><br><span class="line">            Complex *l = A + j, *r = A + j + (i &gt;&gt; <span class="number">1</span>), *p = w;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; i &gt;&gt; <span class="number">1</span>; k++) &#123;</span><br><span class="line">                <span class="type">Complex</span> <span class="variable">tmp</span> <span class="operator">=</span> *r * *p;</span><br><span class="line">                *r = *l - tmp, *l = *l + tmp;</span><br><span class="line">                ++l, ++r, p += lyc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inline <span class="keyword">void</span> <span class="title function_">MTT</span><span class="params">(ll *x, ll *y, ll *z, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">1</span>; <span class="keyword">while</span> (len &lt;= n) len &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) tr[i] = (tr[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  (i &amp; <span class="number">1</span> ? len &gt;&gt; <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) w[i] = w[i] = Complex(cos(<span class="number">2</span> * PI * i / len), sin(<span class="number">2</span> * PI * i / len));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) (x[i] += mod) %= mod, (y[i] += mod) %= mod;</span><br><span class="line">    <span class="keyword">static</span> Complex a[N], b[N];</span><br><span class="line">    <span class="keyword">static</span> Complex dfta[N], dftb[N], dftc[N], dftd[N];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) a[i] = Complex(x[i] &amp; <span class="number">32767</span>, x[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) b[i] = Complex(y[i] &amp; <span class="number">32767</span>, y[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    FFT(a, len), FFT(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> (len - i) &amp; (len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">static</span> Complex da, db, dc, dd;</span><br><span class="line">        da = (a[i] + a[j].conj()) * Complex(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        db = (a[i] - a[j].conj()) * Complex(<span class="number">0</span>, -<span class="number">0.5</span>);</span><br><span class="line">        dc = (b[i] + b[j].conj()) * Complex(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        dd = (b[i] - b[j].conj()) * Complex(<span class="number">0</span>, -<span class="number">0.5</span>);</span><br><span class="line">        dfta[j] = da * dc;</span><br><span class="line">        dftb[j] = da * dd;</span><br><span class="line">        dftc[j] = db * dc;</span><br><span class="line">        dftd[j] = db * dd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) a[i] = dfta[i] + dftb[i] * Complex(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) b[i] = dftc[i] + dftd[i] * Complex(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    FFT(a, len), FFT(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">da</span> <span class="operator">=</span> (ll)(a[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="type">int</span> <span class="variable">db</span> <span class="operator">=</span> (ll)(a[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="type">int</span> <span class="variable">dc</span> <span class="operator">=</span> (ll)(b[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="type">int</span> <span class="variable">dd</span> <span class="operator">=</span> (ll)(b[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        z[i] = (da + ((ll)(db + dc) &lt;&lt; <span class="number">15</span>) + ((ll)dd &lt;&lt; <span class="number">30</span>)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">Get_Inv</span><span class="params">(ll *f, ll *g, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) &#123; g[<span class="number">0</span>] = quick_pow(f[<span class="number">0</span>], mod - <span class="number">2</span>); <span class="keyword">return</span> ; &#125;</span><br><span class="line">    Get_Inv(f, g, (n + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> getLen(n);</span><br><span class="line">    <span class="keyword">static</span> ll c[N];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; len; i++) c[i] = i &lt; n ? f[i] : <span class="number">0</span>;</span><br><span class="line">    MTT(c, g, c, len); MTT(c, g, c, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; n; i++) g[i] = (2ll * g[i] - c[i] + mod) % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n;i &lt; len; i++) g[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; len; i++) c[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">    g[<span class="number">0</span>] = <span class="number">1</span>; <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; <span class="number">1e5</span> + <span class="number">10</span>; i++) g2[i] = g[i] = g[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">    Get_Inv(g, invg, <span class="number">1e5</span>);</span><br><span class="line">    g[<span class="number">0</span>] = g2[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    MTT(g2, g, g2, <span class="number">1e5</span> + <span class="number">1e5</span>);</span><br><span class="line">    MTT(g2, invg, f, <span class="number">2e5</span> + <span class="number">1e5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        cout &lt;&lt; f[n] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">signed <span class="title function_">main</span><span class="params">()</span> &#123;(cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line">##<span class="keyword">else</span></span><br><span class="line">    solve();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/03/nowcoder-practice32-f/">https://blog.jujimeizuo.cn/2021/03/03/nowcoder-practice32-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Navicat for mysqlå’ŒIDEAè¿æ¥mysql</title>
      <link href="/2021/03/02/navicat-for-mysql-and-idea-connect-mysql/"/>
      <url>/2021/03/02/navicat-for-mysql-and-idea-connect-mysql/</url>
      
        <content type="html"><![CDATA[<h2 id="Navicat-for-mysqlè¿æ¥mysql"><a href="#Navicat-for-mysqlè¿æ¥mysql" class="headerlink" title="Navicat for mysqlè¿æ¥mysql"></a>Navicat for mysqlè¿æ¥mysql</h2><p>ç‚¹å‡»è¿æ¥ï¼Œä¼šæ˜¾ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/03/20210302163714633.png"></p><p>è¾“å…¥è¿æ¥åï¼Œæ¯”å¦‚ç”¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸¾ä¾‹ã€‚ ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨ipåœ°å€ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/03/20210302163839369.png"></p><p>å–å‰è€…ã€‚ ç„¶åè¾“å…¥ä½ çš„mysql çš„è´¦å·å¯†ç å³å¯ã€‚</p><p><strong>æ³¨æ„ï¼ï¼</strong> è¿™ä¸ªè´¦å·å¯†ç ä¸æ˜¯æœåŠ¡å™¨çš„è´¦å·å¯†ç ï¼Œæ˜¯æ•°æ®åº“çš„è´¦å·å¯†ç ã€‚</p><p>æŸ¥çœ‹çš„è¯å¯ä»¥å…ˆè¿›å…¥æœåŠ¡å™¨mysqlï¼Œç„¶å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> mysql.user;</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»æµ‹è¯•ï¼Œé€šè¿‡æµ‹è¯•åç‚¹å‡»ç¡®å®šå³å¯ã€‚</p><p>æœ€åå°±å¯ä»¥æŸ¥çœ‹æ•°æ®åº“äº†ã€‚</p><h2 id="IDEAè¿æ¥mysql"><a href="#IDEAè¿æ¥mysql" class="headerlink" title="IDEAè¿æ¥mysql"></a>IDEAè¿æ¥mysql</h2><p>ç‚¹å‡»ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/03/20210302164422730.png"></p><p>åŒç†ä¸Šé¢ï¼Œè¾“å…¥ipåœ°å€ï¼Œè´¦å·å¯†ç ã€‚ æ³¨æ„ï¼Œè¿™é‡Œè¿˜éœ€è¦è¾“å…¥Databaseã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/03/2021030216464056.png"></p><p>ç‚¹å‡»æµ‹è¯•ï¼Œé€šè¿‡æµ‹è¯•åç‚¹å‡»ç¡®å®šå³å¯ã€‚</p><p>æœ€åå°±å¯ä»¥æŸ¥çœ‹æ•°æ®åº“äº†ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/02/navicat-for-mysql-and-idea-connect-mysql/">https://blog.jujimeizuo.cn/2021/03/02/navicat-for-mysql-and-idea-connect-mysql/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> utils </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ZOJ 4006Travel along the Line æ•°å­¦æ¨å¯¼+ç»„åˆ</title>
      <link href="/2021/03/01/zoj-4006/"/>
      <url>/2021/03/01/zoj-4006/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370217">https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370217</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>èµ·ç‚¹åœ¨0ç‚¹ï¼Œæœ‰næ­¥ï¼Œæ¯ä¸€æ­¥æœ‰$\frac{1}{4}$å¾€å·¦èµ°ã€$\frac{1}{4}$å¾€å³èµ°ã€$\frac{1}{2}$ä¸åŠ¨ã€‚ å·²çŸ¥ç»ˆç‚¹åœ¨ç‚¹mï¼Œé—®æ‰€æœ‰æ–¹æ¡ˆåˆ°è¾¾mæ—¶$\frac{P}{Q}$æ˜¯å¤šå°‘ï¼Œè¯·å¯¹1e9+7å–æ¨¡ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å‡è®¾å¾€å·¦èµ°äº†xæ­¥ï¼Œå¾€å³èµ°äº†yæ­¥ï¼Œzæ­¥ä¸åŠ¨ï¼Œå³å¯å¾—ï¼š $xã€-x+y&#x3D;mã€x+y+z&#x3D;n$ï¼Œå¾—ï¼š $x&gt;&#x3D;0$ $y&#x3D;x+m\ge 0 \rightarrow x\ge -m$ $z&#x3D;n-x-y\ge 0 \rightarrow x\leq \frac{n-m}{2}$</p><p>æ‰€ä»¥xçš„èŒƒå›´ä¸º$[max(-m, 0),\frac{n-m}{2}]$</p><p>$å¯¹äºæ¯ä¸€ä¸ªxçš„è´¡çŒ®ä¸ºC_n^x(\frac{1}{4})^x*C_{n-x}^y(\frac{1}{4})^y*\frac{1}{2}^zï¼Œå˜é‡æ›¿æ¢ä¸€ä¸‹å¾—ï¼š$ $$ans&#x3D;(\frac{1}{2})^{n+m}*\sum_{x&#x3D;max(-m,0)}^{\frac{n-m}{2}}C_n^xC_{n-x}^{x+m}(\frac{1}{4})^x$$</p><p>$ç®—ä¹‹å‰è¦åˆ¤æ–­xçš„èŒƒå›´æ˜¯å¦é”™è¯¯å³å¯ã€‚$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll f[N], inv[N], invF[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    f[<span class="number">0</span>] = f[<span class="number">1</span>] = inv[<span class="number">0</span>] = inv[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        f[i] = f[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        inv[i] = mod - (mod / i) * inv[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * inv[i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll m, ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = f[m];</span><br><span class="line">    ans = ans * invF[n] % mod;</span><br><span class="line">    ans = ans * invF[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    <span class="type">int</span> _; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    ll inv2 = <span class="built_in">quick_pow</span>(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">    ll inv4 = <span class="built_in">quick_pow</span>(<span class="number">4</span>, mod - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll n, m;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(m) &gt; n) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ll xo = <span class="built_in">max</span>(-m, <span class="number">0ll</span>), xn = (n - m) / <span class="number">2</span>;</span><br><span class="line">        ll ans = <span class="built_in">quick_pow</span>(inv2, n + m);</span><br><span class="line">        ll res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll i = xo;i &lt;= xn; i++) &#123;</span><br><span class="line">            res += <span class="built_in">quick_pow</span>(inv4, i) * <span class="built_in">C</span>(n, i) % mod * <span class="built_in">C</span>(n - i, m + i) % mod;</span><br><span class="line">            res %= mod;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = ans * res % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,(ans + mod) % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/01/zoj-4006/">https://blog.jujimeizuo.cn/2021/03/01/zoj-4006/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Global Round 13 D. Zookeeper and The Infinite Zoo æ€ç»´</title>
      <link href="/2021/03/01/codeforces-global-round-13-d/"/>
      <url>/2021/03/01/codeforces-global-round-13-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1491/problem/D">https://codeforces.com/contest/1491/problem/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™uå’Œvï¼Œé—®uèƒ½ä¸èƒ½åˆ°è¾¾vã€‚ uèƒ½åˆ°è¾¾u+vçš„æ¡ä»¶æ˜¯$u\&amp;v&#x3D;v$ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºuåˆ°u+vçš„æ¡ä»¶æ˜¯$u\&amp;v&#x3D;v$ã€‚$\&amp; $å’ŒäºŒè¿›åˆ¶æœ‰å…³ï¼Œæ‰€ä»¥æ¯”è¾ƒuå’Œvçš„äºŒè¿›åˆ¶ã€‚</p><p>å¦‚æœu&gt;vï¼Œé‚£uç»å¯¹åˆ°ä¸äº†vã€‚ å¦‚æœu&#x3D;&#x3D;vï¼Œemmmï¼Œä¸ç”¨åŠ¨å°±èƒ½åˆ°è¾¾ã€‚</p><p>å…ˆç»™ç»“è®ºï¼šè®¡ç®—uå’Œvçš„äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°ï¼Œåšä¸€ä¸ªå‰ç¼€å’Œï¼Œå¯¹äºæ¯ä¸€ä½å¿…é¡»a[i]&gt;&#x3D;b[i]èƒ½ä¿è¯uåˆ°vã€‚</p><p>$egï¼šå¯¹äº3ï¼Œ(3)_2&#x3D;11ï¼Œæ‰€ä»¥1ï¼Œ10ï¼Œ11ï¼Œ3å¯ä»¥åˆ°è¾¾3+1ï¼Œ3+2,3+3.$ $egï¼šå¯¹äº6ï¼Œ(6)_2&#x3D;110ï¼Œæ‰€ä»¥10ï¼Œ100ï¼Œ110ï¼Œ6å¯ä»¥åˆ°è¾¾6+2ï¼Œ6+4ï¼Œ6+6ï¼Œè€Œ6åˆ°è¾¾ä¸äº†111.$ $å°±æ˜¯å› ä¸º6çš„ç¬¬ä¸€ä½æ˜¯0ï¼Œ7çš„ç¬¬ä¸€ä½æ˜¯1ï¼Œå·²ç»ä¸èƒ½æ»¡è¶³ç»“è®ºäº†ã€‚$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll u, v; cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">100</span>, <span class="number">0</span>)</span>, <span class="title">b</span><span class="params">(<span class="number">100</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">30</span>; i++) &#123;</span><br><span class="line">            a[i] = u &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">            b[i] = v &gt;&gt; i &amp; <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">30</span>; i++) &#123;</span><br><span class="line">            a[i] += a[i - <span class="number">1</span>];</span><br><span class="line">            b[i] += b[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(u &gt; v) cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(u == v) cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">30</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (a[i] &lt; b[i]) &#123;</span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag) cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/01/codeforces-global-round-13-d/">https://blog.jujimeizuo.cn/2021/03/01/codeforces-global-round-13-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Global Round 13 C. Pekora and Trampoline è´ªå¿ƒ</title>
      <link href="/2021/03/01/codeforces-global-round-13-c/"/>
      <url>/2021/03/01/codeforces-global-round-13-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.ml/contest/1491/problem/C">https://codeforces.ml/contest/1491/problem/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªæ•°ç»„aï¼Œå¯ä»¥ä»ä»»æ„åœ°æ–¹å¼€å§‹è·³ã€‚å‡å¦‚åœ¨ç¬¬iä¸ªå¼€å§‹è·³ï¼Œé‚£ä¹ˆè·³åˆ°ä¸‹ä¸€ä¸ªçš„ä½ç½®æ˜¯I+a[i]ï¼Œå¹¶ä¸”å½“å‰ä½ç½®a[i]â€“ï¼Œè·³åˆ°è¶…è¿‡nä¸ºæ­¢ï¼Œè¿™ç®—ä¸€ä¸ªæ“ä½œæ•°ã€‚é—®ï¼Œå½“æ“ä½œæ•°ä¸ºå¤šå°‘æ—¶ï¼Œå¯ä»¥ä½¿æ•°ç»„å…¨éƒ¨å˜æˆ1ï¼Œæ±‚å‡ºæœ€å°‘çš„æ“ä½œæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ¯”èµ›çš„æ—¶å€™çŸ¥é“æ˜¯è´ªå¿ƒï¼Œä½†æ˜¯ä¸ä¼šè´ªï¼Œåªèƒ½æš´åŠ›æ¨¡æ‹Ÿ$n^3$ï¼Œnè™½ç„¶åªæœ‰5000ï¼Œä½†ä¹Ÿä¼šTã€‚ è€Œè´ªå¿ƒçš„è¯æ˜¯$n^2$ï¼Œå¤æ‚åº¦æ˜¯å¤Ÿçš„ã€‚</p><p>è€ƒè™‘æ¯ä¸€æ¬¡éƒ½ä»ç¬¬ä¸€ä¸ªèµ°ï¼Œè¿™æ— æ‰€è°“ï¼Œå¦‚æœå‰é¢å…¨æ˜¯1ï¼Œé‚£ä¹ˆä¼šç›´åˆ°ç¬¬ä¸€ä¸ªä¸ä¸º1çš„ä½ç½®å¼€å§‹è·³ã€‚</p><p>æ‰€ä»¥ä»å‰å¾€åéå†ï¼Œè€ƒè™‘å½“å‰ç¬¬iä½ï¼Œæœ‰å¤šå°‘æ˜¯è¦æˆ‘ä»¬æ“ä½œçš„ï¼Œæœ‰å¤šå°‘æ˜¯ä»ä¹‹å‰çš„æ“ä½œè·³è¿‡æ¥çš„ æ‰€ä»¥è¿™äº›ä¸å¯¹ç­”æ¡ˆåšè´¡çŒ®ã€‚</p><p>å‡è®¾ç¬¬iä¸ªï¼Œé‚£ä¹ˆä»–ä¼šè·³åˆ°[i+2,i+a[i]]ï¼Œè¿™äº›ä¸ªä½ç½®éƒ½å¯ä»¥é€šè¿‡iè·³åˆ°ï¼Œ è€Œç¬¬i+1ä¸ªä½ç½®æ˜¯å¿…ç„¶è·³åˆ°çš„ï¼Œå¹¶ä¸”ç¬¬iä¸ªä½ç½®å¯ä»¥ä»ä¹‹å‰æ“ä½œä¸­è·³è¿‡æ¥ï¼Œé‚£ä¹ˆç¬¬i+1ä½ç½®ä¹Ÿæ˜¯å¯ä»¥ä»ä¹‹å‰æ“ä½œè·³è¿‡æ¥ã€‚</p><p>æ‰€ä»¥éœ€è¦ä¸€ä¸ªæ•°ç»„bæ¥è®°å½•ï¼Œç¬¬iä¸ªä½ç½®æœ‰å¤šå°‘æ˜¯ä»å‰é¢ä½ç½®è·³è¿‡æ¥çš„ï¼Œè¿™äº›ä¸å¯¹ç­”æ¡ˆåšè´¡çŒ®ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _;</span><br><span class="line">    cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span> (_--) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        ll a[n + <span class="number">10</span>], b[n + <span class="number">10</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">        <span class="built_in">mem</span>(b, <span class="number">0</span>);</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            ll temp = b[i];</span><br><span class="line">            <span class="keyword">if</span>(a[i] &gt; temp + <span class="number">1</span>) &#123;</span><br><span class="line">                ans += a[i] - temp - <span class="number">1</span>;</span><br><span class="line">                temp += a[i] - temp - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            b[i + <span class="number">1</span>] += temp - a[i] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i + <span class="number">2</span> &lt;= n) <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">2</span>;j &lt;= <span class="built_in">min</span>(<span class="number">1ll</span>* n, i + a[i]); j++) b[j]++;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/03/01/codeforces-global-round-13-c/">https://blog.jujimeizuo.cn/2021/03/01/codeforces-global-round-13-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›77 D-å°Gçš„LYæ•°å¯¹ æ€ç»´+Hash</title>
      <link href="/2021/02/27/nowcoder-practice77-d/"/>
      <url>/2021/02/27/nowcoder-practice77-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/11160/D">https://ac.nowcoder.com/acm/contest/11160/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>å°Gå®šä¹‰LYæ•°å¯¹ä¸ºä¸¤ä¸ªæ•°xï¼Œyåœ¨äºŒè¿›åˆ¶çš„å¼‚æˆ–æ“ä½œåæ°å¥½æœ‰ä¸¤ä½æ˜¯1 å°Gç°åœ¨æœ‰ä¸¤ä¸ªæ•°ç»„a,bé•¿åº¦åˆ†åˆ«ä¸ºn,m ç°åœ¨å°Gæƒ³çŸ¥é“æœ‰å¤šå°‘å¯¹i,jæ»¡è¶³ (1&lt;&#x3D;i&lt;&#x3D;n,1&lt;&#x3D;j&lt;&#x3D;m)æ»¡è¶³a[i]å’Œb[j]æ˜¯LYæ•°å¯¹</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¦‚æœæ˜¯æš´åŠ›æšä¸¾a[i]çš„åŒæ—¶æš´åŠ›æšä¸¾ä¸¤ä¸ªä½ç½®ä¸Šçš„æ•°ï¼Œå¤æ‚åº¦ä¸º$O(30^2n)$ã€‚ å¿…ç„¶ä¼šTï¼Œæ€ä¹ˆåŠèƒ½æŠŠå…¶ä¸­ä¸€ä¸ª30å˜å°å‘¢ï¼Ÿç›´åˆ°å¤æ‚åº¦åœ¨$O(1e8)$ä¹‹å†…ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“é¢˜ç›®çš„æ„æ€æ˜¯$x \bigoplus y&#x3D;ä¸¤ä½2æ¬¡æ–¹æ•°ç›¸åŠ &#x3D;(1&lt;&lt;i)\bigoplus (1&lt;&lt;j).(i!&#x3D;j)$</p><p>$è½¬åŒ–ä¸ºx\bigoplus (1&lt;&lt;i)&#x3D;y\bigoplus (1&lt;&lt;j).(i!&#x3D;j)$ $è½¬åŒ–ä¸ºx\bigoplus (1&lt;&lt;j)&#x3D;y\bigoplus (1&lt;&lt;i).(i!&#x3D;j)$</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªã€‚ æšä¸¾iï¼ŒHashä¿å­˜æ‰€æœ‰çš„$a_x\bigoplus (1&lt;&lt;i).$ æšä¸¾jæ‰€æœ‰çš„$b_y\bigoplus (1&lt;&lt;j)$ï¼ŒæŸ¥æ‰¾æ˜¯å¦æœ‰å’Œå®ƒç›¸ç­‰çš„æ•°ï¼Œans+ä¸ªæ•°ã€‚</p><p>å¯æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´è¿‡i!&#x3D;jï¼Œæ‰€ä»¥è¦æå‰å‡æ‰è¿™ä¸ªi&#x3D;&#x3D;jçš„æƒ…å†µã€‚ i&#x3D;&#x3D;jå¿…ç„¶x&#x3D;&#x3D;yï¼Œæ‰€ä»¥å‡æ‰x&#x3D;&#x3D;yçš„æ•°é‡å³å¯ã€‚</p><p>æ€»æ—¶é—´å¤æ‚åº¦ä¸º$O(30n*C)$,Cæ˜¯ä¸€ä¸ªå°äº30çš„å¸¸æ•°ã€‚</p><h2 id="Codeï¼ˆ690MSï¼‰"><a href="#Codeï¼ˆ690MSï¼‰" class="headerlink" title="Codeï¼ˆ690MSï¼‰"></a>Codeï¼ˆ690MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e7</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod = <span class="number">1e6</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Hash</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next, w;</span><br><span class="line">&#125;e[N];</span><br><span class="line"><span class="type">int</span> head[N], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Insert</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> u = x % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">        <span class="keyword">if</span>(e[i].v == x) &#123;</span><br><span class="line">            e[i].w++;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    e[cnt] = Hash&#123;x, head[u], <span class="number">1</span>&#125;;</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> u = x % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">        <span class="keyword">if</span>(e[i].v == x) &#123;</span><br><span class="line">            <span class="keyword">return</span> e[i].w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">mem</span>(head, <span class="number">-1</span>);</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">b</span><span class="params">(m + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i], mp[a[i]]++;</span><br><span class="line">    ll res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        cin &gt;&gt; b[i];</span><br><span class="line">        res += mp[b[i]] * <span class="number">30</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; <span class="number">30</span>; k++) &#123;</span><br><span class="line">            <span class="built_in">Insert</span>(a[i] ^ (<span class="number">1ll</span> &lt;&lt; k));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; <span class="number">30</span>; k++) &#123;</span><br><span class="line">            ans += <span class="built_in">get</span>(b[i] ^ (<span class="number">1ll</span> &lt;&lt; k));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; (ans - res) / <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/27/nowcoder-practice77-d/">https://blog.jujimeizuo.cn/2021/02/27/nowcoder-practice77-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬å…­åœºã€‘H-åŠ¨æ€æœ€å°ç”Ÿæˆæ ‘ çº¿æ®µæ ‘ä¼˜åŒ–Kruskal</title>
      <link href="/2021/02/24/2021-nowcoder-hanjia-6-h/"/>
      <url>/2021/02/24/2021-nowcoder-hanjia-6-h/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9986/H">https://ac.nowcoder.com/acm/contest/9986/H</a> è¿™ä¸€é¢˜å¤§éƒ¨åˆ†äººéƒ½æ˜¯æš´åŠ›Kruskalå†²è¿‡å»çš„ï¼Œé¢ï¼Œåº”è¯¥æ˜¯å…¨éƒ¨ï¼Œä½†è¿™æ˜¾ç„¶ä¸æ˜¯æœ€ä¼˜è§£ã€‚</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜æ„å°±åƒé¢˜ç›®ä¸€æ ·ï¼ŒåŠ¨æ€ä¿®æ”¹å’ŒæŸ¥æ‰¾æœ€å°ç”Ÿæˆæ ‘ã€‚ ä¸¤ä¸ªæ“ä½œï¼š</p><ul><li>ä¿®æ”¹ç¬¬xæ¡è¾¹çš„è¿æ¥ç‚¹å’Œè¾¹æƒ</li><li>æŸ¥è¯¢[l,r]æ‰€åœ¨è¾¹ç»„æˆçš„æœ€å°ç”Ÿæˆæ ‘å¤§å°ï¼Œæœ‰åˆ™è¾“å‡ºï¼Œæ²¡æœ‰è¾“å‡ºimpossible</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°æœ€å°ç”Ÿæˆæ ‘ï¼Œå°±çŸ¥é“å¯ä»¥ç”¨Kruskalæ±‚è§£ã€‚ ä¿®æ”¹è¿˜æ˜¯ä¿®æ”¹ï¼Œä¸è¿‡æŸ¥è¯¢çš„æ—¶å€™å°±è¦ç”¨ä¸€æ¬¡Kruskalï¼Œé‡åˆ°åŠå…¶æ¶å¿ƒçš„æ•°æ®é“Tã€‚ å› ä¸ºKruskalçš„å¤æ‚åº¦æ˜¯å’Œè¾¹æ•°mæœ‰å…³çš„ã€‚</p><p>çœ‹åˆ°nåªæœ‰200ï¼Œmæœ‰30000ï¼Œæ‰€ä»¥èƒ½ä¸èƒ½æŠŠå¤æ‚åº¦å¾€nä¸Šé ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚</p><p>åŒºé—´é—®é¢˜ï¼Ÿçº¿æ®µæ ‘!</p><p>çº¿æ®µæ ‘ç»´æŠ¤ä»€ä¹ˆå‘¢ï¼Ÿé’ˆå¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„é‡Œä¿å­˜çš„æ˜¯ç”Ÿæˆæ ‘çš„è¾¹çš„é›†åˆã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å»ºæ ‘æ˜¯build(1,1,m)ï¼Œæ ¹æ®è¾¹å»ºæ ‘ï¼Œè€Œä¸æ˜¯ç‚¹ã€‚</p><p>æ¯æ¬¡æ›´æ–°çš„æ—¶å€™éƒ½è¦é‡æ–°ç»„ç»‡æœ€å°ç”Ÿæˆæ ‘å¹¶ä¿å­˜ï¼Œå°±æ˜¯ä»£ç ä¸­çš„$push_up$ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; pdd;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; pll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> eb emplace_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> R = <span class="number">0.57721566490153286060651209</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, q;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> u, v, w;</span><br><span class="line">&#125;e[N];</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc t[u].l</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc t[u].r</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">505</span>];</span><br><span class="line">&#125;t[N];</span><br><span class="line"><span class="type">int</span> tot = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f[x] == x ? x : f[x] = <span class="built_in">find</span>(f[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">1</span>, y = <span class="number">1</span>, z = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) f[i] = i, t[s].a[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((t[u].a[x]  t[v].a[y]) &amp;&amp; z &lt; n) &#123;</span><br><span class="line">        <span class="keyword">if</span>(e[t[u].a[x]].w &lt; e[t[v].a[y]].w) &#123;</span><br><span class="line">            <span class="type">int</span> U = <span class="built_in">find</span>(e[t[u].a[x]].u);</span><br><span class="line">            <span class="type">int</span> V = <span class="built_in">find</span>(e[t[u].a[x]].v);</span><br><span class="line">            <span class="keyword">if</span>(U != V) &#123;</span><br><span class="line">                f[U] = V;</span><br><span class="line">                t[s].a[z++] = t[u].a[x];</span><br><span class="line">            &#125;</span><br><span class="line">            x++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> U = <span class="built_in">find</span>(e[t[v].a[y]].u);</span><br><span class="line">            <span class="type">int</span> V = <span class="built_in">find</span>(e[t[v].a[y]].v);</span><br><span class="line">            <span class="keyword">if</span>(U != V) &#123;</span><br><span class="line">                f[U] = V;</span><br><span class="line">                t[s].a[z++] = t[v].a[y];</span><br><span class="line">            &#125;</span><br><span class="line">            y++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].a[<span class="number">1</span>] = l;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    t[u].l = ++tot; t[u].r = ++tot;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, mid);</span><br><span class="line">    <span class="built_in">build</span>(rc, mid + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u, lc, rc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= mid) <span class="built_in">modify</span>(lc, l, mid, p);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">modify</span>(rc, mid + <span class="number">1</span>, r, p);</span><br><span class="line">    <span class="built_in">push_up</span>(u, lc, rc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= l &amp;&amp; r &lt;= qr) &#123;</span><br><span class="line">        <span class="built_in">push_up</span>(tot + <span class="number">2</span>, tot + <span class="number">1</span>, u);</span><br><span class="line">        <span class="built_in">memcpy</span>(t[tot + <span class="number">1</span>].a, t[tot + <span class="number">2</span>].a, <span class="number">4</span> * (n + <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">query</span>(lc, l, mid, ql, qr);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">query</span>(rc, mid + <span class="number">1</span>, r, ql, qr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;q);</span><br><span class="line">    e[<span class="number">0</span>].w = INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;e[i].u,&amp;e[i].v,&amp;e[i].w);</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, m);</span><br><span class="line">    <span class="keyword">while</span>(q--) &#123;</span><br><span class="line">        <span class="type">int</span> opt; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;opt);</span><br><span class="line">        <span class="keyword">if</span>(opt == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> x, y, z, w; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;x,&amp;y,&amp;z,&amp;w);</span><br><span class="line">            e[x].u = y; e[x].v = z; e[x].w = w;</span><br><span class="line">            <span class="built_in">modify</span>(<span class="number">1</span>, <span class="number">1</span>, m, x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> l, r; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class="line">            <span class="keyword">if</span>(r - l + <span class="number">1</span> &lt; n - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;Impossible\n&quot;</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">                t[tot + <span class="number">2</span>].a[i] = t[tot + <span class="number">1</span>].a[i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">query</span>(<span class="number">1</span>, <span class="number">1</span>, m, l, r);</span><br><span class="line">            <span class="keyword">if</span>(!t[tot + <span class="number">1</span>].a[n - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;Impossible\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) ans += e[t[tot + <span class="number">1</span>].a[i]].w;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">// cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/24/2021-nowcoder-hanjia-6-h/">https://blog.jujimeizuo.cn/2021/02/24/2021-nowcoder-hanjia-6-h/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬å…­åœºã€‘F-ç»„åˆæ•°é—®é¢˜ äºŒé¡¹å¼å®šç†</title>
      <link href="/2021/02/24/2021-nowcoder-hanjia-6-f/"/>
      <url>/2021/02/24/2021-nowcoder-hanjia-6-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9986/F">https://ac.nowcoder.com/acm/contest/9986/F</a> è¿™ä¸€é¢˜å…¶å®å¾ˆéš¾çš„ï¼Œä¸è¿‡è¿‡äº†é‚£ä¹ˆå¤šäººå°±ç¦»è°±ï¼Œä¼°è®¡å¤§éƒ¨åˆ†éƒ½æ˜¯OEISçš„å§ã€‚</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$è¾“å‡ºC_n^0+C_n^4+C_n^8+â€¦+C_n^n\;\;(4ï½œn)$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$æˆ‘ä»¬çŸ¥é“$ $(1+1)^n&#x3D;C_n^0+C_n^1+â€¦+C_n^n&#x3D;2^n$ $(1-1)^n&#x3D;C_n^0-C_n^1+â€¦+C_n^n&#x3D;0$</p><p>$ä¸¤å¼ç›¸åŠ é™¤2å¾—ï¼š$ $2^{n-1}&#x3D;C_n^0+C_n^2+â€¦+C_n^n$</p><p>$è¿™æ˜¯2çš„å€æ•°ï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚çš„æ˜¯4çš„å€æ•°ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ$ $æˆ‘ä»¬å¯ä¸å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ–¹æ³•å‡‘å‡ºæ¥å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œè€ƒè™‘è™šæ•°iã€‚$</p><p>$æŠŠå…¶ä¸­ä¸€ä¸ª1æ¢æˆiä¹‹åï¼Œæˆ‘ä»¬åœ¨äºŒé¡¹å¼å±•å¼€çœ‹çœ‹ï¼š$ $(1+i)^n&#x3D;C_n^0+iC_{n}^1-C_n^2-â€¦+C_n^n$ $(1-i)^n&#x3D;C_n^0-iC_n^1-C_n^2-â€¦.+C_n^n$</p><p>$ä¸¤å¼ç›¸åŠ é™¤2å¾—$ $(1+i)^n+(1-i)^n&#x3D;C_n^0-C_n^2+C_n^4-â€¦+C_n^n$</p><p>$è€Œè™šæ•°æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æ¬¡å¹‚çš„æƒ…å†µä¸‹éƒ½æ˜¯æœ‰å¾ªç¯èŠ‚çš„ï¼Œæ¯”å¦‚è¿™é‡Œå°±æ˜¯4ä¸ªä¸€å¾ªç¯.$</p><p>$æ‰€ä»¥(1+i)^4&#x3D;(1-i)^4&#x3D;-4$ $æ‰€ä»¥(1+i)^{4n}&#x3D;(-4)^{n}$</p><p>$å³(-4)^{\frac{n}{4}}&#x3D;C_n^0-C_n^2+C_n^4-â€¦+C_n^n$</p><p>$ç»“åˆä¸¤å¼ç›¸åŠ é™¤2å³å¯å¾—ï¼š$</p><p>$2^{n-2}+\frac{1}{2}(-4)^{\frac{n}{4}}&#x3D;C_n^0+C_n^4+C_n^8+â€¦+C_n^n$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; pdd;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; pll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> eb emplace_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> R = <span class="number">0.57721566490153286060651209</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (b) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n; cin &gt;&gt; n;</span><br><span class="line">    cout &lt;&lt; (((<span class="built_in">quick_pow</span>(<span class="number">2</span>, n - <span class="number">2</span>) % mod + <span class="built_in">quick_pow</span>(<span class="number">-4</span>, n / <span class="number">4</span>) * <span class="built_in">quick_pow</span>(<span class="number">2</span>, mod - <span class="number">2</span>) % mod) % mod + mod) % mod) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/24/2021-nowcoder-hanjia-6-f/">https://blog.jujimeizuo.cn/2021/02/24/2021-nowcoder-hanjia-6-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬å…­åœºã€‘B-ç³»æ•° å‚»é€¼é¢˜</title>
      <link href="/2021/02/24/2021-nowcoder-hanjia-6-b/"/>
      <url>/2021/02/24/2021-nowcoder-hanjia-6-b/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9986/B">https://ac.nowcoder.com/acm/contest/9986/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$è¾“å‡º(x^2+x+1)^nçš„ç¬¬ké¡¹\%3ã€‚$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°æ•°æ®èŒƒå›´å°±çŸ¥é“ï¼Œæ¯æ¬¡æŸ¥è¯¢å¿…é¡»O(1)æˆ–è€…O(logn)ï¼Œç›´æ¥å°±æƒ³åˆ°äº†Lucasã€‚</p><p>ä½†æ˜¯èµ›ä¸­çš„æ—¶å€™æƒ³çš„æ€è·¯ç‰¹åˆ«éº»çƒ¦ï¼Œæƒ³äº†æˆ‘å°†è¿‘3ä¸ªå°æ—¶ï¼Œä¸€ç›´ä»¥ä¸ºæ˜¯æ‰¾è§„å¾‹é¢˜ï¼Œèµ›åçªå‘å¥‡æƒ³ï¼ŒçœŸå°±å‚»é€¼é¢˜ã€‚</p><p>å› ä¸ºæ˜¯\%3ï¼Œæ‰€ä»¥æ¬¡å¹‚é‡Œé¢å¯ä»¥+3xçš„ä»»æ„å€æ•°è€Œä¿æŒä¸å˜ï¼Œå³</p><p>$$(x^2+x+1)^n&#x3D;(x^2-2x+1)^n&#x3D;(x-1)^{2n}$$</p><p>æ‰€ä»¥ç¬¬ké¡¹ç³»æ•°ä¸º$C_{2n}^kx^k(-1)^{2n-k}$ã€‚</p><p>å› ä¸ºnå’Œkéƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥è¦ç”¨Lucasä¼˜åŒ–ä¸€ä¸‹ã€‚</p><p>æ€»æ—¶é—´å¤æ‚åº¦ä¸º$O(N+T\log n)$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (b) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll p = <span class="number">3</span>; <span class="comment">// C(n,m) % p</span></span><br><span class="line"></span><br><span class="line">ll f[N], inv[N], invF[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    f[<span class="number">0</span>] = f[<span class="number">1</span>] = inv[<span class="number">0</span>] = inv[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= p; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        f[i] = f[i - <span class="number">1</span>] * i % p;</span><br><span class="line">        inv[i] = p - (p / i) * inv[p % i] % p;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * inv[i] % p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll m, ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = f[m];</span><br><span class="line">    ans = ans * invF[n] % p;</span><br><span class="line">    ans = ans * invF[m - n] % p;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Lucas</span><span class="params">(ll m, ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n ? <span class="built_in">Lucas</span>(m / p, n / p) * <span class="built_in">C</span>(m % p, n % p) % p : <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        ll n, k; cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">        k = <span class="built_in">min</span>(k, <span class="number">2</span> * n - k);</span><br><span class="line">        ans = <span class="built_in">Lucas</span>(<span class="number">2</span> * n, k);</span><br><span class="line">        <span class="keyword">if</span>((<span class="number">2</span> * n - k) &amp; <span class="number">1</span>) ans = -ans;</span><br><span class="line">        cout &lt;&lt; (ans % <span class="number">3</span> + <span class="number">3</span>) % <span class="number">3</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/24/2021-nowcoder-hanjia-6-b/">https://blog.jujimeizuo.cn/2021/02/24/2021-nowcoder-hanjia-6-b/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´æµ™æ±Ÿçœèµ› é˜Ÿå†…æ€»ç»“+é¢˜ç›®åˆ†æ</title>
      <link href="/2021/02/22/2019-zhejiang-competition/"/>
      <url>/2021/02/22/2019-zhejiang-competition/</url>
      
        <content type="html"><![CDATA[<p>4ä¸ªå°æ—¶Aäº†8é¢˜ã€‚ä¸å¾—ä¸è¯´ï¼Œæ¨¡æ‹Ÿèµ›çš„ç¥ï¼Œç°åœºèµ›çš„ç‹—ã€‚ ä¸åˆ°2å°æ—¶Aäº†5é¢˜ç®€å•é¢˜ï¼Œå1ä¸ªå°æ—¶Aäº†2é“é¢˜ï¼Œå­—ç¬¦ä¸²å’Œå›¾è®ºï¼Œæœ€åAäº†ä¸€é“é¢˜ï¼Œæ•°å­¦é¢˜ã€‚</p><p>æ€»ä½“æ¥çœ‹ï¼Œ8é¢˜æ˜¯ç¨³æ‹¿é“¶ç‰Œçš„ï¼Œä¸è¿‡è€ƒè™‘åˆ°ç°åœºèµ›é™æ™ºï¼Œæ‰€ä»¥æœ€å·®é“œç‰Œè¿˜æ˜¯æœ‰çš„ã€‚ 4ä¸ªå°æ—¶ä¸‹æ¥ï¼Œå‰7é¢˜éƒ½å¾ˆé¡ºåˆ©ï¼Œç¬¬8é¢˜æœ‰ç‚¹å›°éš¾ï¼Œå› ä¸ºé˜Ÿå†…åªæœ‰æˆ‘ä¸€ä¸ªè´Ÿè´£æ•°å­¦ï¼Œå…¶ä»–ä¸¤ä¸ªå°±ç­‰æˆ‘acï¼Œä¸è¿‡æœ€åè¿˜æ˜¯aæ‰äº†ï¼Œä¼°è®¡waäº†å°†è¿‘5ã€6å‘ï¼Ÿ</p><p>ä¸‹é¢æŒ‰ç…§Aé¢˜é¡ºåºæ¥é‡æ¸©ä¸€ä¸‹ã€‚</p><h2 id="Lucky-7-in-the-Pocket"><a href="#Lucky-7-in-the-Pocket" class="headerlink" title="Lucky 7 in the Pocket"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370501">Lucky 7 in the Pocket</a></h2><p>ä»nå¾€ä¸Šç»§ç»­æ‰¾ç¬¬ä¸€ä¸ªèƒ½è¢«7æ•´é™¤ä¸èƒ½è¢«4æ•´é™¤çš„æ•°ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> \_; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;\_);</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n; ;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">7</span> == <span class="number">0</span> &amp;&amp; i % <span class="number">4</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Abbreviation"><a href="#Abbreviation" class="headerlink" title="Abbreviation"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370500">Abbreviation</a></h2><p>è¾“å‡ºåˆ æ‰é™¤äº†ç¬¬ä¸€ä¸ªå­—ç¬¦ä»¥ä¸ºçš„a,e,i,o,u,yçš„å­—ç¬¦ä¸²ã€‚</p><h2 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> \_; cin &gt;&gt; \_;</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        string s;cin &gt;&gt; s;</span><br><span class="line">        string t = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; (<span class="type">int</span>)s.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i != <span class="number">0</span> &amp;&amp; (s[i] == <span class="string">&#x27;a&#x27;</span>  s[i] == <span class="string">&#x27;e&#x27;</span>  s[i] == <span class="string">&#x27;i&#x27;</span>  s[i] == <span class="string">&#x27;o&#x27;</span>  s[i] == <span class="string">&#x27;u&#x27;</span>  s[i] == <span class="string">&#x27;y&#x27;</span>)) <span class="keyword">continue</span>;</span><br><span class="line">            t += s[i];</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Fibonacci-in-the-Pocket"><a href="#Fibonacci-in-the-Pocket" class="headerlink" title="Fibonacci in the Pocket"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370503">Fibonacci in the Pocket</a></h2><p>åˆ¤æ–­$\sum_{i&#x3D;l}^rf(i)$çš„å¥‡å¶æ€§ã€‚ å› ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—éƒ½æ˜¯ä¸¤ä¸ªå¥‡æ•°ï¼Œç„¶åä¸€ä¸ªå¶æ•°ã€‚</p><p>æ‰€ä»¥è€ƒè™‘n%3çš„ä½™æ•°ã€‚</p><h2 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> \_; cin &gt;&gt; \_;</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        string a, b; cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="type">int</span> len1 = <span class="number">0</span>, len2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; a.<span class="built_in">length</span>(); i++) len1 += a[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; b.<span class="built_in">length</span>(); i++) len2 += b[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(len1 % <span class="number">3</span> == <span class="number">0</span> &amp;&amp; (len2 % <span class="number">3</span> == <span class="number">2</span>  len2 % <span class="number">3</span> == <span class="number">0</span>)) cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(len1 % <span class="number">3</span> == <span class="number">1</span> &amp;&amp; (len2 % <span class="number">3</span> == <span class="number">2</span>  len2 % <span class="number">3</span> == <span class="number">0</span>)) cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(len1 % <span class="number">3</span> == <span class="number">2</span> &amp;&amp; len2 % <span class="number">3</span> == <span class="number">1</span>) cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Singing-Everywhere"><a href="#Singing-Everywhere" class="headerlink" title="Singing Everywhere"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370502">Singing Everywhere</a></h2><p>è€ƒè™‘åˆ æ‰æ¯ä¸ªæ•°ä¹‹åå¯¹æ³¢å³°çš„å½±å“ã€‚</p><h2 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> \_;</span><br><span class="line">    cin &gt;&gt; \_;</span><br><span class="line">    <span class="keyword">while</span> (\_--) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">10</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">        <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">2</span> &amp;&amp; (a[i - <span class="number">1</span>] &gt; a[i] &amp;&amp; a[i - <span class="number">1</span>] &gt; a[i - <span class="number">2</span>]) &amp;&amp; !(a[i - <span class="number">1</span>] &gt; a[i - <span class="number">2</span>] &amp;&amp; a[i - <span class="number">1</span>] &gt; a[i + <span class="number">1</span>]))</span><br><span class="line">                k++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &gt; <span class="number">2</span> &amp;&amp; !(a[i - <span class="number">1</span>] &gt; a[i] &amp;&amp; a[i - <span class="number">1</span>] &gt; a[i - <span class="number">2</span>]) &amp;&amp; (a[i - <span class="number">1</span>] &gt; a[i - <span class="number">2</span>] &amp;&amp; a[i - <span class="number">1</span>] &gt; a[i + <span class="number">1</span>]))</span><br><span class="line">                k--;</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">2</span> &lt;= n &amp;&amp; (a[i + <span class="number">1</span>] &gt; a[i] &amp;&amp; a[i + <span class="number">1</span>] &gt; a[i + <span class="number">2</span>]) &amp;&amp; !(a[i + <span class="number">1</span>] &gt; a[i - <span class="number">1</span>] &amp;&amp; a[i + <span class="number">1</span>] &gt; a[i + <span class="number">2</span>]))</span><br><span class="line">                k++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i + <span class="number">2</span> &lt;= n &amp;&amp; !(a[i + <span class="number">1</span>] &gt; a[i] &amp;&amp; a[i + <span class="number">1</span>] &gt; a[i + <span class="number">2</span>]) &amp;&amp; (a[i + <span class="number">1</span>] &gt; a[i - <span class="number">1</span>] &amp;&amp; a[i + <span class="number">1</span>] &gt; a[i + <span class="number">2</span>]))</span><br><span class="line">                k--;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[i - <span class="number">1</span>] &amp;&amp; a[i] &gt; a[i + <span class="number">1</span>]) k++, t++;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, k);</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; t - ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Sequence-in-the-Pocket"><a href="#Sequence-in-the-Pocket" class="headerlink" title="Sequence in the Pocket"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370499">Sequence in the Pocket</a></h2><p>æ’åºå®Œæ•°ç»„åï¼Œæ¯”è¾ƒæ¯ä¸ªæ•°çš„ç›¸å¯¹ä½ç½®ã€‚ è¦ä»åå¾€å‰æ¯”è¾ƒï¼Œè¿™æ ·å‰é¢ä¸ä¼šå¯¹åé¢äº§ç”Ÿå½±å“ã€‚</p><h2 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> \_; cin &gt;&gt; \_;</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(n)</span>, <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; v[i]; a[i] = v[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>;i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] == v[i + ans]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> ans++;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Welcome-Party"><a href="#Welcome-Party" class="headerlink" title="Welcome Party"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370504">Welcome Party</a></h2><p>é˜Ÿå‹å†™çš„ã€‚ åº”è¯¥æ‹“æ‰‘æ’åºï¼Ÿ</p><h2 id="Code-5"><a href="#Code-5" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> MAXN 2500000<span class="comment">//ç‚¹æ•°</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> MAXM 20000000</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> search(i,y) for(int i = head[y];i;i=edge[i].next)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> add(u,v,c) &#123;edge[++cnt]=&#123;u,v,c,head[u]&#125;;head[u]=cnt;&#125;</span></span><br><span class="line"><span class="type">int</span> head[MAXN],cnt=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EDGE</span>&#123;</span><br><span class="line">    <span class="type">int</span> u,v,c;</span><br><span class="line">    <span class="type">int</span> next;</span><br><span class="line">&#125;edge[MAXM];</span><br><span class="line"><span class="type">int</span> used[MAXN];</span><br><span class="line"><span class="type">int</span> used2[MAXN];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> tot;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;tot);</span><br><span class="line">    <span class="keyword">while</span>(tot--)&#123;</span><br><span class="line">        ans.<span class="built_in">clear</span>();</span><br><span class="line">        cnt = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> n,m;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line">            used[i] = head[i]=used2[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            <span class="type">int</span> a,b;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">            <span class="built_in">add</span>(a,b,<span class="number">1</span>);<span class="built_in">add</span>(b,a,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; que;</span><br><span class="line">        priority\_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,greater&lt;<span class="type">int</span>&gt;&gt; que2;</span><br><span class="line">        <span class="type">int</span> unhappy = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> tt = <span class="number">1</span>;tt&lt;=n;tt++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!used[tt])&#123;</span><br><span class="line">                unhappy++;</span><br><span class="line">                used[tt] = <span class="literal">true</span>;</span><br><span class="line">                que.<span class="built_in">push</span>(tt);que2.<span class="built_in">push</span>(tt);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(!que.<span class="built_in">empty</span>())&#123;</span><br><span class="line">                <span class="type">int</span> x = que.<span class="built_in">front</span>();</span><br><span class="line">                que.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="built_in">search</span>(i,x)&#123;</span><br><span class="line">                    <span class="type">int</span> y = edge[i].v;</span><br><span class="line">                    <span class="keyword">if</span>(used[y])<span class="keyword">continue</span>;</span><br><span class="line">                    used[y] = <span class="literal">true</span>;</span><br><span class="line">                    que.<span class="built_in">push</span>(y);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!que2.<span class="built_in">empty</span>())&#123;</span><br><span class="line">            <span class="type">int</span> x = que2.<span class="built_in">top</span>();</span><br><span class="line">            que2.<span class="built_in">pop</span>();</span><br><span class="line">            ans.push\_back(x);</span><br><span class="line">            used2[x] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">search</span>(i,x)&#123;</span><br><span class="line">                <span class="type">int</span> y = edge[i].v;</span><br><span class="line">                <span class="keyword">if</span>(used2[y])<span class="keyword">continue</span>;</span><br><span class="line">                used2[y] = <span class="literal">true</span>;</span><br><span class="line">                que2.<span class="built_in">push</span>(y);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,unhappy);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>  i  = <span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,ans[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans[n<span class="number">-1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Strings-in-the-Pocket"><a href="#Strings-in-the-Pocket" class="headerlink" title="Strings in the Pocket"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370505">Strings in the Pocket</a></h2><p>é˜Ÿå‹å†™çš„ã€‚ é©¬æ‹‰è½¦ã€‚</p><h2 id="Code-6"><a href="#Code-6" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">4e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">char</span> s[maxn];</span><br><span class="line"><span class="type">char</span> t[maxn];</span><br><span class="line"><span class="type">char</span> str[<span class="number">2</span>*maxn];</span><br><span class="line">ll len1,len2,p[maxn],ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> <span class="comment">//æŠŠåŸæ•°ç»„è¿›è¡Œå¤„ç†</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    str[<span class="number">0</span>]=<span class="string">&#x27;$&#x27;</span>; <span class="comment">//å­—ç¬¦ä¸²å¼€å¤´åŠ ä¸Šç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line">    str[<span class="number">1</span>]=<span class="string">&#x27;##&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;len1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        str[i*<span class="number">2</span>+<span class="number">2</span>]=s[i];</span><br><span class="line">        str[i*<span class="number">2</span>+<span class="number">3</span>]=<span class="string">&#x27;##&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    len2=len1*<span class="number">2</span>+<span class="number">2</span>;</span><br><span class="line">    str[len2]=<span class="string">&#x27;##&#x27;</span>;  <span class="comment">//å­—ç¬¦ä¸²æœ«å°¾ä¹ŸåŠ ä¸Šç‰¹æ®Šå­—ç¬¦ï¼ˆå’Œå¼€å¤´ä¸åŒçš„ï¼‰</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">manacher</span><span class="params">()</span>  <span class="comment">//æ­£ç‰‡å¼€å§‹ï¼Œé©¬æ‹‰è½¦</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    ll id=<span class="number">0</span>,mx=<span class="number">0</span>; <span class="comment">//idè¡¨ç¤ºå›æ–‡å­ä¸²çš„ä¸­å¿ƒä½ç½®ï¼Œmxè¡¨ç¤ºå›æ–‡å­ä¸²çš„æœ«å°¾ä½ç½®ã€‚</span></span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;len2; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(mx&gt;i)</span><br><span class="line">            p[i]=<span class="built_in">min</span>(p[<span class="number">2</span>*id-i],mx-i); <span class="comment">//è¿™ä¸€æ­¥æ˜¯é©¬æ‹‰è½¦çš„å…³é”®éƒ¨åˆ†ï¼Œåé¢æˆ‘åœ¨é‡ç‚¹è®²è§£ã€‚</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p[i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(; str[i+p[i]]==str[i-p[i]]; p[i]++); <span class="comment">//å‘ä¸¤è¾¹æ‰©å±•ï¼ŒåŒ¹é…ã€‚</span></span><br><span class="line">        <span class="keyword">if</span>(p[i]+i&gt;mx)</span><br><span class="line">        &#123;</span><br><span class="line">            mx=p[i]+i;</span><br><span class="line">            id=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len2;i++)</span><br><span class="line">        ans+=p[i]/<span class="number">2LL</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">reverse</span><span class="params">(ll l,ll r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i=l,j=r;i&lt;=r;i++,j--)</span><br><span class="line">        <span class="keyword">if</span>(s[i]!=t[j])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> Case=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;Case);</span><br><span class="line">    <span class="keyword">while</span>(Case--) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>,s,t);</span><br><span class="line">        ll l=<span class="number">-1</span>;</span><br><span class="line">        ll r=<span class="number">-1</span>;</span><br><span class="line">        ll flag=<span class="number">0</span>;</span><br><span class="line">        len1=<span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="keyword">for</span> (ll i = <span class="number">0</span>; i &lt; len1; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i]!=t[i])&#123;</span><br><span class="line">                flag=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (l==<span class="number">-1</span>)</span><br><span class="line">                    l=i;</span><br><span class="line">                r=i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (flag)&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">reverse</span>(l,r))&#123;</span><br><span class="line">                ans=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (ll i = r+<span class="number">1</span>,j=l<span class="number">-1</span>; i &lt;len1,j&gt;=<span class="number">0</span>; i++,j--) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(s[i]==s[j])</span><br><span class="line">                        ans++;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                ans=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ans=<span class="built_in">manacher</span>();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Element-Swapping"><a href="#Element-Swapping" class="headerlink" title="Element Swapping"></a><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827370496">Element Swapping</a></h2><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$åŸåºåˆ—a_{1},a_2..a_n$ $x&#x3D;\sum_{i&#x3D;1}^ni*a_i$ $y&#x3D;\sum_{i&#x3D;1}^ni*a_i^2$</p><p>$é¢˜ç›®ç»™çš„æ˜¯båºåˆ—ï¼Œè¿™ä¸¤ä¸ªåºåˆ—çš„å·®åˆ«å°±æ˜¯båºåˆ—æ˜¯aåºåˆ—çš„åŸºç¡€ä¸Šä¸¤ä¸ªä½ç½®äº¤æ¢äº†ã€‚$</p><p>$æœ€åé—®èƒ½æœ‰å¤šå°‘å¯¹äº¤æ¢äº†ä½ç½®ï¼Ÿ$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$è®¾Bx&#x3D;1*b_1+2*b_2+â€¦i*b_i+â€¦+j*b_j+â€¦+n*b_n$ $å‡è®¾iå’Œjäº¤æ¢äº†ï¼Œåˆ™$ $x&#x3D;1*b_1+â€¦+i*b_j+â€¦+j*b_i+â€¦+n*b_n$ $åˆ™Bx-x&#x3D;i*b_i+j*b_j-i*b_j-j*b_i&#x3D;(j-i)*(b_j-b_i)$</p><p>$åŒç†ï¼Œè®¾By&#x3D;â€¦$ $åˆ™By-y&#x3D;(j-i)*(b_j^2-b_i^2)&#x3D;(j-i)*(b_j-b_i)*(b_j+b_i)$</p><p>$æˆ‘ä»¬å‘ç°(Bx-x)*(b_i+b_j)&#x3D;(B_y-y)ï¼Œé™¤äº†iå’Œjä¸Šçš„æ•°å­—æˆ‘ä»¬ä¸çŸ¥é“ä»¥ä¸ºï¼Œå…¶ä»–éƒ½èƒ½ç®—å‡ºæ¥ã€‚$</p><p>$æ‰€ä»¥(b_i+b_j)æ˜¯ä¸€ä¸ªå®šå€¼ã€‚$</p><p>$æ‰€ä»¥æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š$</p><ul><li>$if\;Bx-x&#x3D;0\&amp;\&amp;By-y&#x3D;0ï¼Œans&#x3D;0$</li><li>$if\;Bx-x&#x3D;0\&amp;\&amp;By-y!&#x3D;0ï¼Œans&#x3D;C_{æ¯ç§æ•°å­—çš„ä¸ªæ•°}^2$</li><li>$if\;(By-y)\%(Bx-x)!&#x3D;0 (By-y)&#x2F;(Bx-x) &lt;&#x3D;0ï¼Œans&#x3D;0$</li><li>$else$ $elseå°±æ˜¯æˆ‘ä»¬æœ€éº»çƒ¦å¤„ç†çš„äº†ã€‚$ $æˆ‘ä»¬çŸ¥é“(b_j+b_i)æ˜¯ä¸€ä¸ªå®šå€¼ï¼Œæ‰€ä»¥æšä¸¾b_iï¼Œæ ¹æ®ä¸Šé¢å‡ ä¸ªç­‰å¼å¯ä»¥ç®—å‡ºjï¼Œåˆ¤æ–­b_j&#x3D;b[j]$ $å‰é¢æ˜¯ç®—å‡ºæ¥çš„ï¼Œåé¢jæ˜¯ç®—å‡ºæ¥çš„ï¼Œb[j]å°±æ˜¯é¢˜ç›®ç»™çš„åºåˆ—ã€‚$</li></ul><p>$é‚£ä¹ˆjæ€ä¹ˆç®—å‘¢ï¼Ÿ$</p><p>$Bx-x&#x3D;(j-i)(b_j-b_i)$</p><p>$æšä¸¾b_iï¼Œç®—å‡ºb_jï¼Œj&#x3D;\frac{Bx-x}{b_j-b_i}+i$ $è¿™é¢˜ç»†èŠ‚å¾ˆå¤šï¼Œè¦åˆ¤æ–­b_j-b_iæ˜¯å¦&#x3D;0ï¼Ÿjæ˜¯å¦&gt;i\&amp;\&amp;j&lt;&#x3D;nã€‚$</p><p>$å¦‚æœä¸€åˆ‡æˆç«‹çš„è¯ï¼Œans++ã€‚$</p><p>$æœ€åè¾“å‡ºansã€‚$</p><p>$å¦‚æœæš´åŠ›O(n^2)é“Tï¼Œè€Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯O(n)ã€‚$</p><h2 id="Code-7"><a href="#Code-7" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    <span class="keyword">while</span> (_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; ll x, y; <span class="built_in">scanf</span>(<span class="string">&quot;%d%lld%lld&quot;</span>,&amp;n,&amp;x,&amp;y);</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">b</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">        map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">        ll Bx = <span class="number">0</span>, By = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;b[i]);</span><br><span class="line">            mp[b[i]]++;</span><br><span class="line">            Bx += <span class="number">1ll</span> * i * b[i];</span><br><span class="line">            By += <span class="number">1ll</span> * i * b[i] * b[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(Bx == x) &#123;</span><br><span class="line">            <span class="keyword">if</span>(By - y != <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ll ans = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">auto</span> i : mp) &#123;</span><br><span class="line">                    ans += <span class="number">1ll</span> * i.second * (i.second - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(Bx == x  By == y) <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            ll tmp = (By - y) / (Bx - x);</span><br><span class="line">            <span class="keyword">if</span>((tmp * (Bx - x) == By - y) &amp;&amp; tmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                ll ans = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">                    ll aj = tmp - b[i];</span><br><span class="line">                    <span class="keyword">if</span>(aj &lt;= <span class="number">0</span>  (aj - b[i]) == <span class="number">0</span>  (Bx - x) % (b[i] - aj) != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    ll j = (Bx - x) / (aj - b[i]) + i;</span><br><span class="line">                    <span class="keyword">if</span>(j &lt;= i  j &gt; n) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(b[j] == aj) ans++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/22/2019-zhejiang-competition/">https://blog.jujimeizuo.cn/2021/02/22/2019-zhejiang-competition/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬äº”åœºã€‘C-æ¯”æ­¦æ‹›äº²ï¼ˆä¸‹ï¼‰æ¬§æ‹‰é™å¹‚+å¤šé¡¹å¼æ±‚é€†é¢„å¤„ç†ä¼¯åŠªåˆ©æ•°è®¡ç®—ç­‰å¹‚æ±‚å’Œ</title>
      <link href="/2021/02/22/2021-nowcoder-hanjia-5-c/"/>
      <url>/2021/02/22/2021-nowcoder-hanjia-5-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9985/C">https://ac.nowcoder.com/acm/contest/9985/C</a></p><p>è¿™åº”è¯¥æ˜¯æˆ‘æ‰“çš„æœ€å¥½çš„ä¸€åœºäº†ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/03/2021022218215161.png"></p><h2 id="å‰ç½®æŠ€èƒ½"><a href="#å‰ç½®æŠ€èƒ½" class="headerlink" title="å‰ç½®æŠ€èƒ½"></a>å‰ç½®æŠ€èƒ½</h2><p>æ¬§æ‹‰é™å¹‚ã€å¤šé¡¹å¼æ±‚é€†ã€ä¼¯åŠªåˆ©æ•°ã€ç­‰å¹‚æ±‚å’Œ}</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œå¾€é‡Œé¢å¡«æ•°å­—ï¼Œæ•°å­—èŒƒå›´ä¸º[1,m]ï¼Œå¯ä»¥é‡å¤å¡«ã€‚</p><p>$m&#x3D;n^{n^{n^{..}}}$</p><p>è¯·è®¡ç®—æ‰€æœ‰åºåˆ—è´¡çŒ®å’Œans \% pï¼Œpä¸€å®šæ˜¯ä¸€ä¸ªè´¨æ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°$m&#x3D;n^{n^{n^{..}}}$è¿™ä¸ªå¼å­ï¼Œå¾ˆå¤šäººå°±çŸ¥é“æ¨¡pä¹‹åæ˜¯ä¸€ä¸ªå®šå€¼ï¼Œæ ¹æ®æ¬§æ‹‰é™å¹‚ã€‚ å…·ä½“è¯·çœ‹<a href="https://blog.csdn.net/qq_37632935/article/details/81264965">æ¬§æ‹‰é™å¹‚</a>ã€‚</p><p>å¥½ï¼Œæˆ‘ä»¬ç®—å‡ºæ¥mä¹‹åï¼Œåˆ°è¿™é‡Œè¿˜æ˜¯éå¸¸ç®€å•çš„ï¼Œéš¾ç‚¹åœ¨åé¢ã€‚</p><p>å› ä¸ºnå’Œmæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¸ºäº†æ–¹ä¾¿èµ·æ¥ï¼Œæˆ‘ä»¬æŠŠnå’Œmäº’æ¢ä¸€ä¸‹ã€‚ nè¡¨ç¤ºå¯ä»¥ç”¨çš„æ•°å­—ï¼Œmè¡¨ç¤ºä½ç½®ä¸ªæ•°ã€‚</p><p>æˆ‘ä»¬è¿˜åƒBé¢˜ä¸€æ ·ï¼Œè®¡ç®—æ¯ä¸€ä¸ªæœ€å¤§å€¼çš„è´¡çŒ®å€¼ã€‚</p><p>å‡è®¾æœ€å¤§å€¼ä¸ºxï¼Œåˆ™å‰©ä¸‹m-1ä¸ªä½ç½®å¡«çš„æ•°ä¸èƒ½è¶…è¿‡xï¼Œé‚£ä¹ˆè¿™ä¹ˆçš„åºåˆ—ä¸€å…±æœ‰ $$x^m-(x-1)^m$$ å°±æ˜¯å­˜åœ¨xæ•°å­—çš„å‡æ‰ä¸å­˜åœ¨xæ•°å­—çš„ä¸ªæ•°ï¼Œå¹¶ä¸”ä¸€å®šæœ‰xã€‚</p><p>æœ‰äººé—®ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯$m*x^m$ï¼Œå› ä¸ºåºåˆ—ä¸­æ˜¯æœ‰å¯é‡å¤æ•°å­—çš„ã€‚ æ¯”å¦‚m&#x3D;3,x&#x3D;2ï¼Œå‰©ä¸‹ä¸º2å’Œ1ï¼ŒæŠŠxæ”¾åœ¨ç¬¬ä¸€ä¸ªå¾—$2\;2\;1$ï¼Œæ”¾åœ¨ç¬¬äºŒä¸ªå¾—$2\;2\;1$ã€‚è¿™æ˜¯ä¸å¯¹çš„ã€‚</p><p>ä½†æ˜¯æ¯”èµ›ä¸­æˆ‘æ²¡æœ‰ç›´æ¥çœ‹å‡ºæ¥ï¼Œè¿˜æ˜¯ç”¨äºŒé¡¹å¼å®šç†æ¨å‡ºæ¥ï¼Œå¥½èœï¼</p><p>æ ¹æ®è®¡ç®—å‡ºæ¥çš„è´¡çŒ®ï¼Œå¾—åˆ°æœ€ç»ˆå…¬å¼:</p><p>$$\sum_{i&#x3D;1}^ni*[i^m-(i-1)^m]\;mod\;p$$</p><p>ç”±äºnæ˜¯æˆ‘ä»¬æ¬§æ‹‰é™å¹‚æ±‚å‡ºæ¥çš„ï¼Œæœ€å¤§ä¹Ÿä¼šæœ‰$1e9$è¿™ä¹ˆå¤šï¼Œæ‰€ä»¥O(n)è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚</p><p>é‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™å°±æ˜¯è¿™é¢˜æœ€éš¾çš„åœ°æ–¹äº†ï¼Œä¼¯åŠªåˆ©æ•°å°±è¯ç”Ÿäº†ã€‚ <a href="https://oi-wiki.org/math/bernoulli/">https://oi-wiki.org/math/bernoulli/</a></p><p>å› ä¸ºä¼¯åŠªåˆ©æ•°ä¸€å¤§åº”ç”¨å°±æ˜¯ç­‰å¹‚æ±‚å’Œã€‚</p><p>æ ¹æ®OI-Wikiä¸Šä»‹ç»ï¼Œæš´åŠ›æ±‚å¤æ‚åº¦ä¸º$O(n^2)$ï¼Œä¸è¿‡å¤šé¡¹å¼æ±‚é€†å¯ä»¥è¾¾åˆ°$O(nlogn)$ è¿™é‡Œçš„nä¸æ˜¯æ•°å­—ä¸ªæ•°ï¼Œè€Œæ˜¯å¹‚æ¬¡ã€‚æ‰€ä»¥ä¸ºä»€ä¹ˆè¯´é•¿åº¦ä¸º1e5ï¼Œå°±æ˜¯ä¸º$O(nlogn)$å‡†å¤‡çš„ã€‚</p><p>æœ€åç­‰å¹‚æ±‚å’ŒO(n)å¤„ç†ï¼Œæœ€ç»ˆå¤æ‚åº¦ä¸ºO(nlogn)ã€‚å®Œå…¨å¯ä»¥æ¥å—ã€‚</p><p>æ‰€ä»¥è¿™é¢˜æ•´ä¸ªæ­¥éª¤å°±æ˜¯</p><p>æ¬§æ‹‰é™å¹‚æ±‚mï¼Œå¤šé¡¹å¼æ±‚é€†O(nlogn)å¤„ç†ä¼¯åŠªåˆ©æ•°ï¼Œä¼¯åŠªåˆ©æ•°O(n)å¤„ç†ç­‰å¹‚æ±‚å’Œã€‚</p><h2 id="Code-715MS"><a href="#Code-715MS" class="headerlink" title="Code(715MS)"></a>Code(715MS)</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>, M = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Complex</span> &#123;</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">    <span class="built_in">Complex</span>(<span class="type">double</span> a = <span class="number">0</span>, <span class="type">double</span> b = <span class="number">0</span>): <span class="built_in">x</span>(a), <span class="built_in">y</span>(b) &#123;&#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> + (<span class="type">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x + rhs.x, y + rhs.y); &#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> - (<span class="type">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x - rhs.x, y - rhs.y); &#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> * (<span class="type">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x * rhs.x - y * rhs.y, x * rhs.y + y * rhs.x); &#125;</span><br><span class="line">    <span class="function">Complex <span class="title">conj</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">Complex</span>(x, -y); &#125;</span><br><span class="line">&#125; w[N];</span><br><span class="line"></span><br><span class="line">ll mod;</span><br><span class="line"><span class="type">int</span> tr[N];</span><br><span class="line">ll F[N], G[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b, ll p)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % p;</span><br><span class="line">        a = a * a % p;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FFT</span><span class="params">(Complex *A, <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) <span class="keyword">if</span>(i &lt; tr[i]) <span class="built_in">swap</span>(A[i], A[tr[i]]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>, lyc = len &gt;&gt; <span class="number">1</span>; i &lt;= len; i &lt;&lt;= <span class="number">1</span>, lyc &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; len; j += i) &#123;</span><br><span class="line">            Complex *l = A + j, *r = A + j + (i &gt;&gt; <span class="number">1</span>), *p = w;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; i &gt;&gt; <span class="number">1</span>; k++) &#123;</span><br><span class="line">                Complex tmp = *r * *p;</span><br><span class="line">                *r = *l - tmp, *l = *l + tmp;</span><br><span class="line">                ++l, ++r, p += lyc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">MTT</span><span class="params">(ll *x, ll *y, ll *z, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="number">1</span>; <span class="keyword">while</span> (len &lt;= n) len &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) tr[i] = (tr[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  (i &amp; <span class="number">1</span> ? len &gt;&gt; <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) w[i] = w[i] = <span class="built_in">Complex</span>(<span class="built_in">cos</span>(<span class="number">2</span> * PI * i / len), <span class="built_in">sin</span>(<span class="number">2</span> * PI * i / len));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) (x[i] += mod) %= mod, (y[i] += mod) %= mod;</span><br><span class="line">    <span class="type">static</span> Complex a[N], b[N];</span><br><span class="line">    <span class="type">static</span> Complex dfta[N], dftb[N], dftc[N], dftd[N];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) a[i] = <span class="built_in">Complex</span>(x[i] &amp; <span class="number">32767</span>, x[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) b[i] = <span class="built_in">Complex</span>(y[i] &amp; <span class="number">32767</span>, y[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    <span class="built_in">FFT</span>(a, len), <span class="built_in">FFT</span>(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="type">int</span> j = (len - i) &amp; (len - <span class="number">1</span>);</span><br><span class="line">        <span class="type">static</span> Complex da, db, dc, dd;</span><br><span class="line">        da = (a[i] + a[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        db = (a[i] - a[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">-0.5</span>);</span><br><span class="line">        dc = (b[i] + b[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        dd = (b[i] - b[j].<span class="built_in">conj</span>()) * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">-0.5</span>);</span><br><span class="line">        dfta[j] = da * dc;</span><br><span class="line">        dftb[j] = da * dd;</span><br><span class="line">        dftc[j] = db * dc;</span><br><span class="line">        dftd[j] = db * dd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) a[i] = dfta[i] + dftb[i] * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) b[i] = dftc[i] + dftd[i] * <span class="built_in">Complex</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FFT</span>(a, len), <span class="built_in">FFT</span>(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="type">int</span> da = (ll)(a[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="type">int</span> db = (ll)(a[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="type">int</span> dc = (ll)(b[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="type">int</span> dd = (ll)(b[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        z[i] = (da + ((ll)(db + dc) &lt;&lt; <span class="number">15</span>) + ((ll)dd &lt;&lt; <span class="number">30</span>)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getLen</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="number">1</span>; <span class="keyword">while</span> (len &lt; (n &lt;&lt; <span class="number">1</span>)) len &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) tr[i] = (tr[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  (i &amp; <span class="number">1</span> ? len &gt;&gt; <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) w[i] = w[i] = <span class="built_in">Complex</span>(<span class="built_in">cos</span>(<span class="number">2</span> * PI * i / len), <span class="built_in">sin</span>(<span class="number">2</span> * PI * i / len));</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Get_Inv</span><span class="params">(ll *f, ll *g, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) &#123; g[<span class="number">0</span>] = <span class="built_in">quick_pow</span>(f[<span class="number">0</span>], mod - <span class="number">2</span>, mod); <span class="keyword">return</span> ; &#125;</span><br><span class="line">    <span class="built_in">Get_Inv</span>(f, g, (n + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">getLen</span>(n);</span><br><span class="line">    <span class="type">static</span> ll c[N];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; len; i++) c[i] = i &lt; n ? f[i] : <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">MTT</span>(c, g, c, len); <span class="built_in">MTT</span>(c, g, c, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) g[i] = (<span class="number">2ll</span> * g[i] - c[i] + mod) % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = n;i &lt; len; i++) g[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; len; i++) c[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll ff[N], invff[N], inv[N];</span><br><span class="line">ll B[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ff[<span class="number">0</span>] = ff[<span class="number">1</span>] = inv[<span class="number">0</span>] = inv[<span class="number">1</span>] = invff[<span class="number">0</span>] = invff[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ff[i] = ff[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        inv[i] = mod - (mod / i) * inv[mod % i] % mod;</span><br><span class="line">        invff[i] = invff[i - <span class="number">1</span>] * inv[i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll m, ll n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = ff[m];</span><br><span class="line">    ans = ans * invff[n] % mod;</span><br><span class="line">    ans = ans * invff[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init_B</span><span class="params">(<span class="type">int</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= m + <span class="number">10</span>; i++) F[i] = invff[i + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">Get_Inv</span>(F, G, m + <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= m + <span class="number">10</span>; i++) B[i] = G[i] * ff[i] % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll n;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">ph</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">    ll res = x,a = x;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">2</span>;i * i &lt;= x; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(a % i == <span class="number">0</span>) &#123;</span><br><span class="line">            res=res / i * (i - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span>(a % i == <span class="number">0</span>) a /= i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a &gt; <span class="number">1</span>) res = res / a * (a - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">f</span><span class="params">(ll p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll k = <span class="built_in">ph</span>(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">quick_pow</span>(n, <span class="built_in">f</span>(k) + k, p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; mod;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    ll k = <span class="built_in">f</span>(mod);</span><br><span class="line">    ll m = n; n = k;</span><br><span class="line">    <span class="built_in">init_B</span>(m);</span><br><span class="line">    ll ans = <span class="number">0</span>, prod = n % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = m; ~i ; i--) &#123;</span><br><span class="line">        ans = (ans + prod * B[i] % mod * <span class="built_in">C</span>(m + <span class="number">1</span>, i) % mod) % mod;</span><br><span class="line">        prod = prod * n % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    ans = ans * <span class="built_in">quick_pow</span>(m + <span class="number">1</span>, mod - <span class="number">2</span>, mod) % mod;</span><br><span class="line">    ans = (n * <span class="built_in">quick_pow</span>(n, m, mod) % mod - ans) % mod;</span><br><span class="line">    cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/22/2021-nowcoder-hanjia-5-c/">https://blog.jujimeizuo.cn/2021/02/22/2021-nowcoder-hanjia-5-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬äº”åœºã€‘B-æ¯”æ­¦æ‹›äº²ï¼ˆä¸Šï¼‰æ’åˆ—ç»„åˆ</title>
      <link href="/2021/02/22/2021-nowcoder-hanjia-5-b/"/>
      <url>/2021/02/22/2021-nowcoder-hanjia-5-b/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9985/B">https://ac.nowcoder.com/acm/contest/9985/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/2021022217471712.png"></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è€ƒè™‘æœ€å¤§å€¼å’Œæœ€å°å€¼è´¡çŒ®ã€‚</p><p>å…ˆçœ‹æœ€å¤§å€¼ï¼š å‡è®¾æˆ‘ä»¬é€‰æ‹©æœ€å¤§å€¼ä¸ºxï¼Œåˆ™å‰©ä¸‹m-1ä¸ªä½ç½®åªèƒ½é€‰ä¸è¶…è¿‡xçš„æ•°å­— é¢˜ç›®è¡¨ç¤ºæ’å®Œåºä¹‹åæœ¬è´¨ä¸åŒ! æ‰€ä»¥å°±æ˜¯åœ¨ä¸è¶…è¿‡xçš„æ•°å­—ä¸­ä»»æ„é‡å¤é€‰æ‹©m-1ä¸ªå¹¶ä¸”ç”Ÿæˆä¸é€’å‡åºåˆ—çš„ä¸ªæ•°ã€‚</p><p>æ²¡é”™ï¼Œnä¸ªä¸­é€‰mä¸ªæ•°(å¯é‡å¤)ä¸”ä¸é€’å‡åºåˆ—ä¸ªæ•°ä¸º$C_{n+m-1}^{m}$ã€‚è¯·è‡ªè¡Œç™¾åº¦ï¼</p><p>x&#x3D;næ—¶ï¼Œè´¡çŒ®ä¸º$n*C_{n+m-2}^{m-1}$ x&#x3D;n-1æ—¶ï¼Œè´¡çŒ®ä¸º$(n-1)*C_{n-1+m-2}^{m-1}$ â€¦</p><p>æ‰€ä»¥æˆ‘ä»¬æœ€å¤§å€¼çš„è´¡çŒ®å°±æ˜¯</p><p>$$\sum_{i&#x3D;1}^n(n-i+1)*C_{n-i+1+m-2}^{m-1}$$</p><p>åŒç†ï¼Œæœ€å°å€¼å°±æ˜¯m-1ä¸ªä½ç½®å¿…é¡»é€‰æ‹©ä¸å°äºxçš„æ•°å­—ï¼Œè´¡çŒ®å°±æ˜¯</p><p>$$\sum_{i&#x3D;1}^ni*C_{n-i+1+m-2}^{m-1}$$</p><p>è¿™ä¸¤ä¸ªå¼å­æ˜¯æˆ‘åŒ–ç®€è¿‡åçš„ã€‚éš¾ç‚¹å°±æ˜¯ä¸é€’å‡åºåˆ—ä¸ªæ•°æ˜¯å¤šå°‘ã€‚</p><p>ä¸¤ä¸ªå‡ä¸€å‡å¾—ï¼š</p><p>$$\sum_{i&#x3D;1}^n(n-i+1)*C_{n-i+m-1}^{m-1}$$</p><h2 id="Code-44MS"><a href="#Code-44MS" class="headerlink" title="Code(44MS)"></a>Code(44MS)</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line">ll f[N], invF[N], inv[N];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    f[<span class="number">0</span>] = f[<span class="number">1</span>] = inv[<span class="number">0</span>] = inv[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        f[i] = f[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        inv[i] = mod - (mod / i) * inv[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * inv[i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll m, ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = f[m];</span><br><span class="line">    ans = ans * invF[n] % mod;</span><br><span class="line">    ans = ans * invF[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ll quick_pow(ll a, ll b) &#123;</span></span><br><span class="line"><span class="comment">//    ll ans = 1;</span></span><br><span class="line"><span class="comment">//    while(b) &#123;</span></span><br><span class="line"><span class="comment">//        if(b &amp; 1) ans = ans * a % mod;</span></span><br><span class="line"><span class="comment">//        a = a * a % mod;</span></span><br><span class="line"><span class="comment">//        b &gt;&gt;= 1;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    return ans % mod;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    ll n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// C(n + m - 1, m) nä¸ªæ•°ä¸­é€‰mä¸ªä¸é€’å‡ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="comment">// cout &lt;&lt; &quot;ä¸ªæ•°ï¼š&quot; &lt;&lt; C(n - i + 1 + m - 1 - 1, m - 1) &lt;&lt; endl;</span></span><br><span class="line">        ans = (ans + (n - <span class="number">2</span> * i + <span class="number">1</span>) * <span class="built_in">C</span>(n - i + m - <span class="number">1</span>, m - <span class="number">1</span>) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; (ans % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/22/2021-nowcoder-hanjia-5-b/">https://blog.jujimeizuo.cn/2021/02/22/2021-nowcoder-hanjia-5-b/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring boot ä¸‰å±‚æ¡†æ¶daoå±‚ã€serviceå±‚ã€controllerå±‚+å®ä½“modelå±‚</title>
      <link href="/2021/02/20/springboot-three-tier-architecture/"/>
      <url>/2021/02/20/springboot-three-tier-architecture/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªspringbooté¡¹ç›®ã€‚</p><hr><h2 id="modelå±‚"><a href="#modelå±‚" class="headerlink" title="modelå±‚"></a>modelå±‚</h2><p>modelå±‚ä¹Ÿå«pojoå±‚æˆ–è€…entityå±‚ï¼Œä¸ªäººæ¯”è¾ƒå–œæ¬¢pojoå±‚ã€‚ ä¸€èˆ¬æ•°æ®åº“çš„ä¸€å¼ è¡¨å¯¹åº”ä¸€ä¸ªpojoå±‚ï¼Œå¹¶ä¸”è¡¨ä¸­æ‰€æœ‰å­—æ®µéƒ½åœ¨pojoå±‚éƒ½ä¸€ä¸€å¯¹åº”ã€‚</p><p>egï¼šä¸€å¼ Goodsè¡¨</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/202102201819220.png"></p><p>ç„¶åè¦å…ˆå»ºä¸€ä¸ªpojoçš„packageï¼Œä»£è¡¨å®ƒæ˜¯å®ä½“å±‚ã€‚ å†åœ¨è¯¥packageä¸‹åˆ›å»ºä¸€ä¸ªGoodsçš„javaæ–‡ä»¶ï¼Œåˆ›å»ºçš„å¯¹è±¡éƒ½æ˜¯å’Œè¡¨é‡Œå­—æ®µä¸€ä¸€å¯¹åº”ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Goods</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    å•†å“ç¼–å·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String GNo;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    å•†å“åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String GName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    å•†å“ä»·æ ¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Double GPrice;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„lombokçš„ä½œç”¨æ—¶ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œå› ä¸ºå¯¹äºprivateè¿™æ ·çš„å¯¹è±¡ï¼Œæƒ³è¦è°ƒç”¨å®ƒçš„æ—¶å€™ï¼Œéœ€è¦getå’Œsetä¸¤ä¸ªæ–¹æ³•ï¼Œè€Œæœ‰äº†lombokä¹‹åå°±å¯ä»¥ä¸ç”¨å†™ï¼Œç›´æ¥ç”¨å³å¯ã€‚ ä¸è¿‡è¦æ·»åŠ ä¾èµ–å’Œæ³¨è§£@Dataï¼Œlombokè¿˜æœ‰å¾ˆå¤šå…¶ä»–ç”¨æ³•ï¼Œä¹‹åå¯èƒ½ä¼šå‡ºä¸€ç¯‡åšå®¢ã€‚</p><p>é€šè¿‡mavenä¸‹è½½ä¾èµ–ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">    &lt;optional&gt;<span class="literal">true</span>&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ•°æ®åº“é‡Œçš„å­—æ®µï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å¯¹è±¡æ¥è¡¨ç¤ºã€‚</p><hr><p>ä½†æ˜¯modelä¸å±äºspringbootçš„ä¸‰å±‚æ¡†æ¶ã€‚ ä¸»è¦è¯´æ˜æ˜¯daoå±‚ã€serviceå±‚å’Œcontrollerå±‚ã€‚ è¿™äº›å·²ç»æ˜¯å±äºåç«¯äº†ã€‚</p><p>å¯¹äºä¸€ä¸ªé¡¹ç›®ï¼Œå®‰å…¨æ€§æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œæ‰€ä»¥springbootå¾ˆå¥½åœ°ä½“ç°äº†è¿™ä¸€ç‚¹ã€‚</p><p>æ¯”å¦‚ï¼š æƒ³è¦è®¿é—®æ•°æ®åº“å¹¶ä¸”æ“ä½œï¼Œåªèƒ½é€šè¿‡daoå±‚å‘æ•°æ®åº“å‘é€sqlè¯­å¥ï¼Œå°†è¿™äº›ç»“æœé€šè¿‡æ¥å£ä¼ ç»™serviceå±‚ã€‚ æƒ³è¦å¤„ç†æ•°æ®ï¼Œè¦å…ˆå‘daoå±‚è¯·æ±‚æ•°æ®ï¼Œå¯¹daoå±‚ä¼ è¿‡æ¥çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œå°†è¿™äº›å¤„ç†å¥½çš„æ•°æ®é€šè¿‡æ¥å£ä¼ ç»™controllerå±‚ã€‚ å®¢æˆ·æƒ³è¦æŸ¥è¯¢æˆ–ä¿®æ”¹æ•°æ®æ—¶ï¼Œè¦å…ˆå‘serviceå±‚è¯·æ±‚æ•°æ®ï¼Œæ”¶é›†serviceå±‚ä¼ è¿‡æ¥çš„æ•°æ®ï¼Œå°†è¿™äº›æ•°æ®é€šè¿‡æ¥å£æ˜¾ç¤ºç»™å®¢æˆ·ï¼Œä¸€èˆ¬é€šè¿‡htmlç­‰æ–¹æ³•ç»™å®¢æˆ·ã€‚ ä¸‹é¢ä¼šä¸€ä¸€è¯´æ˜ã€‚</p><hr><h2 id="daoå±‚"><a href="#daoå±‚" class="headerlink" title="daoå±‚"></a>daoå±‚</h2><p>daoå±‚ä¹Ÿå«mapperå±‚ï¼Œæ•°æ®æŒä¹…å±‚ï¼Œä¸ªäººæ¯”è¾ƒå–œæ¬¢mapperå±‚ã€‚ å¯¹æ•°æ®åº“è¿›è¡ŒæŒä¹…åŒ–æ“ä½œï¼Œä»–çš„æ–¹æ³•æ˜¯é’ˆå¯¹æ•°æ®åº“æ“ä½œçš„ï¼ŒåŸºæœ¬ç”¨åˆ°çš„å°±æ˜¯å¢åˆ æ”¹æŸ¥ã€‚å®ƒåªæ˜¯ä¸ªæ¥å£ï¼Œåªæœ‰æ–¹æ³•åå­—ï¼Œå…·ä½“å®ç°åœ¨mapper.xmlä¸­ã€‚</p><p>æ—¢ç„¶mapperå±‚æ˜¯ç›´æ¥ä¸æ•°æ®åº“ç›¸æŒ‚é’©çš„ï¼Œæ‰€ä»¥è¦å…ˆè¿æ¥æ•°æ®åº“ã€‚ å¯ä»¥åœ¨sqlMapConfig.xmlæ–‡ä»¶æˆ–è€…application.propertiesæ–‡ä»¶é‡Œæ·»åŠ æ•°æ®åº“å±æ€§ç­‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul><li>sqlMapConfig.xmlæ·»åŠ å±æ€§ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- åŠ è½½å±æ€§æ–‡ä»¶ --&gt;</span><br><span class="line">&lt;properties resource=<span class="string">&quot;/config/db.properties&quot;</span>&gt;&lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- å’Œspringæ•´åˆåenvironmenté…ç½®å°†åºŸé™¤ --&gt;</span><br><span class="line">&lt;environments <span class="keyword">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span><br><span class="line">    &lt;environment id=<span class="string">&quot;development&quot;</span>&gt;</span><br><span class="line">        &lt;!-- ä½¿ç”¨jdbcäº‹åŠ¡ç®¡ç† --&gt;</span><br><span class="line">        &lt;transactionManager type=<span class="string">&quot;JDBC&quot;</span> /&gt;</span><br><span class="line">        &lt;!-- æ•°æ®åº“è¿æ¥æ± ,ç”±mybatisç®¡ç† --&gt;</span><br><span class="line">        &lt;dataSource type=<span class="string">&quot;POOLED&quot;</span>&gt;</span><br><span class="line">            &lt;property name=<span class="string">&quot;driver&quot;</span> value=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br><span class="line">            &lt;property name=<span class="string">&quot;url&quot;</span> value=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br><span class="line">            &lt;property name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br><span class="line">            &lt;property name=<span class="string">&quot;password&quot;</span> value=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br><span class="line">        &lt;/dataSource&gt;</span><br><span class="line">    &lt;/environment&gt;</span><br><span class="line">&lt;/environments&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ SqlMapConfig.xmlå°±ä¸éœ€è¦å¯¹æ•°æ®åº“è¿æ¥å‚æ•°ç¡¬ç¼–ç ã€‚</p><ul><li>application.propertiesæ·»åŠ å±æ€§ï¼š</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210220185731148.png"></p><p>æ–¹ä¾¿å¯¹å‚æ•°è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå…¶ä»– xml å¯ä»¥åº”ç”¨è¯¥é…ç½®æ–‡ä»¶ã€‚</p><p>ç„¶åæ£€æŸ¥æ˜¯å¦è¿ä¸Šæ•°æ®åº“ï¼Œè¯·çœ‹ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210220185938611.png"></p><p>ç„¶åè‡ªå·±é…ç½®æ•°æ®åº“ã€‚</p><p>æ•°æ®åº“è¿æ¥ä¸Šäº†ï¼Œåˆ°äº†ä¸¤ä¸ªæ–‡ä»¶çš„ç¼–å†™ï¼Œæˆ‘é‡‡ç”¨mybatisæ¡†æ¶ã€‚</p><p>å¦‚ä½•ç¼–å†™mapper.xmlï¼Œå¯¹æ•°æ®åº“å¢åˆ æ”¹æŸ¥ï¼Ÿ</p><p><strong>åœ¨å­¦ä¹ MyBatisæ¡†æ¶çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°åœ¨ideaé‡Œé¢æ²¡æ³•åˆ›å»ºMapper.xmlæ˜ å°„æ–‡ä»¶ï¼Œåˆ›å»ºå‡ºçš„xmlæ–‡ä»¶æ²¡æœ‰Mapper.xmlæ–‡ä»¶çš„åŸºæœ¬æ ¼å¼ï¼Œä¸‹é¢è¯´æ˜å¦‚ä½•åœ¨ideaä¸­åˆ›å»ºMapper.xmlæ˜ å°„æ–‡ä»¶æ¨¡æ¿ã€‚</strong></p><p>File â†’ Settingsâ€¦ â†’ Editor â†’ File and Code Templates</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210220190615764.jpg"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210220190739783.png"></p><p>ç‚¹å‡»â€+â€å·ï¼Œå¹¶è¾“å…¥æ–‡ä»¶çš„åç§°å’Œæ–‡ä»¶çš„ç±»å‹ï¼Œç¼–è¾‘å¥½æ¨¡æ¿åç‚¹å‡»Applyå³å¯åˆ›å»ºæˆåŠŸ}</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210220190846808.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210220190913559.png"></p><p><strong>mapper.xmlæ–‡ä»¶æ¨¡ç‰ˆ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> </span><br><span class="line"><span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºGoodsMapper.xmlæ–‡ä»¶ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210220191221241.png"></p><p>ç¼–å†™å†…å®¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="line">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">&quot;mapper.GoodsMapper&quot;</span>&gt;</span><br><span class="line">    &lt;!--å¢åŠ å•†å“--&gt;</span><br><span class="line">    &lt;insert id=<span class="string">&quot;insertGoods&quot;</span> parameterType=<span class="string">&quot;mapper.GoodsMapper&quot;</span>&gt;</span><br><span class="line">        insert into <span class="title function_">Goods</span><span class="params">(GNo, GName, GPrice)</span> values(##&#123;GNo&#125;,##&#123;GName&#125;,##&#123;GPrice&#125;)</span><br><span class="line">    &lt;/insert&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--åˆ é™¤å•†å“--&gt;</span><br><span class="line">    &lt;delete id=<span class="string">&quot;deleteGoods&quot;</span> parameterType=<span class="string">&quot;java.String&quot;</span>&gt;</span><br><span class="line">        delete from Goods where id=##&#123;id&#125;</span><br><span class="line">    &lt;/delete&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--ä¿®æ”¹å•†å“--&gt;</span><br><span class="line">    &lt;update id=<span class="string">&quot;uodateGoods&quot;</span> parameterType=<span class="string">&quot;mapper.GoodsMapper&quot;</span>&gt;</span><br><span class="line">        update Goods set GNo=##&#123;GNo&#125;, GName=##&#123;GName&#125;, GPrice=##&#123;GPrice&#125; where id=##&#123;id&#125;</span><br><span class="line">    &lt;/update&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--æŸ¥æ‰¾å•†å“--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findGoods&quot;</span> parameterType=<span class="string">&quot;java.String&quot;</span> resultType=<span class="string">&quot;mapper.GoodsMapper&quot;</span>&gt;</span><br><span class="line">        select *from Goods where id=##&#123;id&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºGoodsMapperçš„æ¥å£ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pojo.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">GoodsMapper</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *å¢åŠ å•†å“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> goods</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throw</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insertGoods</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤å•†å“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> GNo</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throw</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteGoods</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿®æ”¹å•†å“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> goods</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throw</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">updateGoods</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®GNoæŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throw</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Goods <span class="title function_">findByGNo</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸éœ€è¦ç¼–å†™æ¥å£å¯¹å®ç°ç±»äº†ï¼Œåªè¦è¿™ä¸¤ä¸ªæ–‡ä»¶çš„æ˜ å°„å…³ç³»å¯¹åº”å¥½å°±okï¼Œè¿™ä¸åœ¨æœ¬æ–‡çš„è®²è¿°èŒƒå›´å†…ã€‚</p><hr><h2 id="serviceå±‚"><a href="#serviceå±‚" class="headerlink" title="serviceå±‚"></a>serviceå±‚</h2><p>serviceå±‚å«ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå­˜æ”¾ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œä¸ç›´æ¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œæœ‰æ¥å£å’Œæ¥å£å®ç°ç±»ï¼Œæä¾›controllerå±‚è°ƒç”¨çš„æ–¹æ³•ã€‚</p><p>åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªå­˜æ”¾æ¥å£ç±»ï¼Œä¸€ä¸ªå­˜æ”¾æ¥å£å®ç°ç±»ã€‚</p><p>GoodsServiceæ¥å£ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> service.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pojo.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">GoodsService</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insertGoods</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteGoods</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">updateGood</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">findByGNo</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>GoodsServiceImplæ¥å£å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> service.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> mapper.GoodsMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> pojo.Goods;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GoodsServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">GoodsService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> GoodsMapper goodsMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertGoods</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        goodsMapper.insertGoods(goods);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteGoods</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        goodsMapper.deleteGoods(GNo);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateGood</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        goodsMapper.updateGoods(goods);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">findByGNo</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        goodsMapper.findByGNo(GNo);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å°±è¿™æ ·ï¼Œserviceå±‚ä¸mapperå±‚å»ºç«‹èµ·äº†è”ç³»ï¼Œserviceå±‚å¯ä»¥è°ƒç”¨mapperå±‚çš„æ–¹æ³•ã€‚</strong></p><hr><h2 id="controllerå±‚"><a href="#controllerå±‚" class="headerlink" title="controllerå±‚"></a>controllerå±‚</h2><p>controllerå±‚å«æ§åˆ¶å™¨å±‚ï¼Œè´Ÿè´£å‰åç«¯äº¤äº’ï¼Œæ¥å—å‰ç«¯è¯·æ±‚ï¼Œè°ƒç”¨serviceå±‚ï¼Œæ¥æ”¶serviceå±‚è¿”å›çš„æ•°æ®ï¼Œæœ€åè¿”å›å…·ä½“çš„é¡µé¢å’Œæ•°æ®åˆ°å®¢æˆ·ç«¯ã€‚</p><p>åŒæ ·ï¼Œä¹Ÿéœ€è¦ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ¥å£ç±»å’Œæ¥å£å®ç°ç±»ã€‚</p><p>GoodsControllerIæ¥å£ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Controller.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pojo.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">GoodsController</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insertGoods</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteGoods</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">updateGood</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">findByGNo</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>GoodsControllerImplæ¥å£å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Controller.Goods;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> pojo.Goods;</span><br><span class="line"><span class="keyword">import</span> service.Goods.GoodsService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GoodsControllerImpl</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> GoodsService goodsService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">insertGoods</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        goodsService.insertGoods(goods);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteGoods</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        goodsService.deleteGoods(GNo);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">updateGoods</span><span class="params">(Goods goods)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        goodsService.updateGood(goods);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">findByGNo</span><span class="params">(String GNo)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Goods</span> <span class="variable">goods</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Goods</span>();</span><br><span class="line">        goods = goodsService.findByGNo(GNo);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå®¢æˆ·å¯ä»¥é€šè¿‡è¯·æ±‚çš„æ–¹å¼ï¼Œå°†æ•°æ®ä»å‰ç«¯ä¼ ç»™Controllerå±‚ï¼Œç„¶åä¸€å±‚ä¸€å±‚ä¼ ä¸‹å»ï¼Œåœ¨ä¸€å±‚ä¸€å±‚åœ°ä¼ ä¸Šæ¥ï¼Œå®ç°äº†åç«¯å¼€å‘ã€‚</p><p>æ˜¯ä¸æ˜¯å‘ç°å’Œå‰ç«¯æ²¡ä»€ä¹ˆå…³ç³»ï¼Ÿ æ˜¯çš„ï¼Œspringbootè¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹å°±æ˜¯å®ç°äº†å‰åç«¯åˆ†ç¦»ï¼Œä»è€Œå·¥ä½œäººå‘˜åˆ†é…ä»»åŠ¡çš„æ—¶å€™æ›´åŠ å…·æœ‰æ¡ç†æ€§ã€‚è€Œä¸‰å±‚çš„æ¶æ„å¯ä»¥è®©ç¨‹åºå‘˜å¾ˆå¿«åœ°çŸ¥é“bugå‡ºç°åœ¨å“ªé‡Œï¼Œå“ªä¸€å±‚ï¼Œå“ªä¸€æ–‡ä»¶ï¼Œå¾ˆå¿«çš„ä¿®æ”¹bugã€‚</p><p><strong>å‘œå‘¼ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œspringbootä½œä¸ºwebå¼€å‘çš„ä¸€ä¸ªä¸»æµæ¡†æ¶ï¼Œæ­£å¼å› ä¸ºè¿™äº›ä¼˜ç§€ç‚¹è®©å®ƒè„±é¢–è€Œå‡ºã€‚</strong></p><p><strong>è¿™ä¸€ç¯‡å†™å¾—å¥½ç´¯ã€‚</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/20/springboot-three-tier-architecture/">https://blog.jujimeizuo.cn/2021/02/20/springboot-three-tier-architecture/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬å››åœºã€‘Bé¢˜ æ­¦è¾°å»¶çš„å­—ç¬¦ä¸² äºŒåˆ†+å“ˆå¸Œ</title>
      <link href="/2021/02/19/2021-nowcoder-hanjia-4-b/"/>
      <url>/2021/02/19/2021-nowcoder-hanjia-4-b/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9984/B">https://ac.nowcoder.com/acm/contest/9984/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™å­—ç¬¦ä¸²så’Œtï¼Œé—®æœ‰å¤šå°‘ç§sçš„ä¸¤ä¸ªå‰ç¼€ç›¸è¿æ˜¯tçš„å‰ç¼€çš„ä¸ªæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆè¿™é¢˜æš´åŠ›n^2è‚¯å®šä¼šTçš„ã€‚ æ­£ç¡®è§£æ³•æ˜¯å…ˆæ‰¾sçš„å‰ç¼€s1å’Œtçš„å‰åŠéƒ¨åˆ†é…å¯¹ï¼Œå†æ‰¾sçš„æœ€é•¿å‰ç¼€s2å’Œtçš„ååŠéƒ¨åˆ†é…å¯¹ï¼Œè´¡çŒ®ä¸ºs2çš„é•¿åº¦ã€‚</p><p>å¦‚ä½•é…å¯¹? åŒºé—´å­—ç¬¦ä¸²å“ˆå¸Œ!</p><p><strong>å…³äºå­—ç¬¦ä¸²å“ˆå¸Œï¼Œå°±æ˜¯å°†ä¸€ä¸ªåŒºé—´çš„å­—ç¬¦æ®µç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºï¼Œåœ¨æ²¡æœ‰å“ˆå¸Œå†²çªçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ•´æ•°å°±ä»£è¡¨ç‹¬ä¸€æ— äºŒçš„å­—ç¬¦æ®µã€‚</strong></p><p>å¦‚ä½•æ‰¾æœ€é•¿å‰ç¼€ï¼Ÿ äºŒåˆ†ï¼</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ull mod = <span class="number">131</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line">ull p[N];</span><br><span class="line">ull sums[N], sumt[N];</span><br><span class="line"><span class="type">char</span> s[N], t[N];</span><br><span class="line"><span class="type">int</span> lens, lent;</span><br><span class="line"></span><br><span class="line"><span class="function">ull <span class="title">hashs</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sums[r] - sums[l - <span class="number">1</span>] * p[r - l + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ull <span class="title">hasht</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(r &gt; lent) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> sumt[r] - sumt[l - <span class="number">1</span>] * p[r - l + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; (s + <span class="number">1</span>) &gt;&gt; (t + <span class="number">1</span>);</span><br><span class="line">    lens = <span class="built_in">strlen</span>(s + <span class="number">1</span>), lent = <span class="built_in">strlen</span>(t + <span class="number">1</span>);</span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="built_in">max</span>(lens, lent); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i &lt;= lens) sums[i] = sums[i - <span class="number">1</span>] * mod + s[i];</span><br><span class="line">        <span class="keyword">if</span>(i &lt;= lent) sumt[i] = sumt[i - <span class="number">1</span>] * mod + t[i];</span><br><span class="line">        p[i] = p[i - <span class="number">1</span>] * mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ull ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= lent - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] != t[i]) <span class="keyword">break</span>; <span class="comment">// å…ˆåŒ¹é…ç¬¬ä¸€ä¸ªs1</span></span><br><span class="line">        <span class="keyword">if</span>(t[i + <span class="number">1</span>] != s[<span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">1</span>, r = lens, res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt;= r) &#123; <span class="comment">// äºŒåˆ†æ‰¾å‡ºæœ€é•¿å‰ç¼€</span></span><br><span class="line">            <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">hashs</span>(<span class="number">1</span>, mid) == <span class="built_in">hasht</span>(i + <span class="number">1</span>, i + mid)) &#123;</span><br><span class="line">                res = mid; l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += res;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/19/2021-nowcoder-hanjia-4-b/">https://blog.jujimeizuo.cn/2021/02/19/2021-nowcoder-hanjia-4-b/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/02/19/codeforces-round-703-div2-d/"/>
      <url>/2021/02/19/codeforces-round-703-div2-d/</url>
      
        <content type="html"><![CDATA[<p>@(Codeforces Round ##703 Div2 D. Max Median äºŒåˆ†ç­”æ¡ˆ) ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1486/problem/D">https://codeforces.com/contest/1486/problem/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œåœ¨é‡Œé¢æ‰¾è‹¥å¹²ä¸ªé•¿åº¦$\ge k$çš„åŒºé—´ï¼Œé—®è¿™äº›åŒºé—´ä¸­æœ€å¤§çš„ä¸­ä½æ•°æ˜¯å¤šå°‘ã€‚ ä¸­ä½æ•°ï¼Œè¯·è¾“å‡ºæœ€å¤§å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä¾é æˆ‘ä»¬å°å­¦äºŒå¹´çº§çš„çŸ¥è¯†ï¼Œå°†ä¸€ä¸ªåºåˆ—æ’åºåï¼Œä¸­ä½æ•°ä¸ºä¸­é—´çš„æ•°å­—ã€‚ å¥‡æ•°åˆ™ä¸º$\frac{(n+1)}{2}$ï¼Œå¶æ•°ä¸º$\frac{n}{2}$å¤„ã€‚ æ‰€ä»¥ä¸ç®¡å¥‡å¶ï¼Œéƒ½ä¼šæœ‰ä¸€åŠ$(\ge)$ä¸­ä½æ•°ï¼Œä¸€åŠ$(&lt;)$ä¸­ä½æ•°ã€‚å³$(\ge)$ä¸­ä½æ•°$&gt;(&lt;)$ä¸­ä½æ•°çš„æ•°ã€‚</p><p>$eg:1\;2\;3 \;4ã€‚$ $3ä¸ª(\ge)2ï¼Œ1ä¸ª(&lt;)2$ï¼Œåˆ™$2$ä¸€å®šæ˜¯ä¸­ä½æ•°ï¼Œ$2ä¸ª(\ge)3ï¼Œ2ä¸ª(&lt;)3$ï¼Œåˆ™$3$ä¸æ˜¯ä¸­ä½æ•°ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥O(n)åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯ä¸æ˜¯ä¸­ä½æ•°ã€‚</p><p>é¦–å…ˆè¦è·å–è¿™ä¸ªä¸­ä½æ•°ï¼Œä¹Ÿå°±æ˜¯ç­”æ¡ˆï¼Œé‚£ä¹ˆå°±äºŒåˆ†è·å–ç­”æ¡ˆï¼</p><p>æˆ‘ä»¬äºŒåˆ†è·å–xä¹‹åï¼Œåˆ¤æ–­è¯¥æ•°å­—æ˜¯ä¸æ˜¯å¯ä»¥ä¸ºä¸­ä½æ•°ï¼Œå¦‚æœæ˜¯l&#x3D;midï¼Œå¦åˆ™r&#x3D;mid-1ã€‚</p><p>å¯¹äºæ€ä¹ˆO(n)åˆ¤æ–­ï¼Œç”¨ä¸€ä¸ªå‰ç¼€å’Œæ•°å­—å­˜å–ä¸xå¤§å°æœ‰å…³çš„ã€‚ $if(a[i]&gt;&#x3D;x) \;sum[i] &#x3D; sum[i-1]+1$ $else\;sum[i]&#x3D;sum[i-1]-1$</p><p>å½“å¤„ç†å®Œå‰ç¼€å’Œä¹‹åï¼Œä»ç¬¬kä¸ªå¼€å§‹æ£€æŸ¥ï¼Œæœ‰æ²¡æœ‰åœ¨ä¸€ä¸ªåŒºé—´é‡Œèµ·ç‚¹åˆ°ç»ˆç‚¹ï¼Œ$(\ge x)$çš„æ•°æ˜¯å¦å¤§äº$(&lt;x)$ã€‚ å­˜åœ¨ï¼Œç›´æ¥è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><h2 id="Codeï¼ˆ78MSï¼‰"><a href="#Codeï¼ˆ78MSï¼‰" class="headerlink" title="Codeï¼ˆ78MSï¼‰"></a>Codeï¼ˆ78MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(N + <span class="number">1</span>)</span>, <span class="title">sum</span><span class="params">(N + <span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="type">int</span> n, k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) sum[i] = sum[i - <span class="number">1</span>] + (a[i] &gt;= x ? <span class="number">1</span> : <span class="number">-1</span>);</span><br><span class="line">    <span class="type">int</span> mx = <span class="number">0</span>, ans = sum[k];</span><br><span class="line">    <span class="keyword">if</span>(ans &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = k + <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        mx = <span class="built_in">min</span>(mx, sum[i - k]); <span class="comment">// ç»ˆç‚¹</span></span><br><span class="line">        ans = <span class="built_in">max</span>(ans, sum[i] - mx); <span class="comment">// èµ·ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span>(ans &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = n + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(l + <span class="number">1</span> &lt; r) &#123;</span><br><span class="line">        <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; (<span class="built_in">check</span>(l + <span class="number">1</span>) ? l + <span class="number">1</span> : l) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/19/codeforces-round-703-div2-d/">https://blog.jujimeizuo.cn/2021/02/19/codeforces-round-703-div2-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU6071 Lazy Running åŒä½™æœ€çŸ­è·¯</title>
      <link href="/2021/02/18/hdu6071/"/>
      <url>/2021/02/18/hdu6071/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6071">http://acm.hdu.edu.cn/showproblem.php?pid=6071</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ä¸€å¼ å›¾ä¸Šæœ‰4ä¸ªç‚¹ï¼Œä¸€å¼€å§‹åœ¨ç‚¹2å¤„ ï¼Œæœ€ç»ˆä¹Ÿå›åˆ°ç‚¹2å¤„ ï¼Œé—®æˆ‘ä»¬æ€æ ·èµ°ï¼Œä½¿å¾—æ€»è·¯å¾„å’Œå¤§äºç­‰äºKå¹¶ä¸”æœ€å°ã€‚è¾“å‡ºæœ€çŸ­è·¯å¾„å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p><strong>åŒä½™æ€æƒ³ï¼š</strong> ä»¤$w&#x3D;min(dis_{12},dis_{23})$ï¼Œå–$min$æ˜¯ä¸ºäº†é™ä½æ—¶ç©ºå¤æ‚åº¦ï¼Œä»£ç é‡Œä¼šçœ‹åˆ°ã€‚ wå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯å¯ä»¥ä¸€ç›´åœ¨ç‚¹2å’Œç‚¹1æˆ–3ä¹‹é—´æ— æ­¢å¢ƒå¾€è¿”ã€‚ å‡è®¾å­˜åœ¨ä¸€æ¡åˆæ³•è·¯å¾„2-&gt;2ï¼Œè¯¥è·¯å¾„é•¿åº¦ä¸º$len$ï¼Œåˆ™$len+n*2w$ä¹Ÿæ˜¯ä¸€æ¡åˆæ³•è·¯å¾„ã€‚è€Œæˆ‘ä»¬è¦æ‰¾çš„å°±æ˜¯æœ€çŸ­è·¯å¾„ã€‚è¿™äº›ä¸ªè·¯å¾„ä¼šè¢«$\%2w$åˆ†æˆ$2w$ç»„ï¼Œæ±‚å‡ºæ¯ä¸€ç»„åŒä½™ç±»$i$çš„åˆæ³•è·¯å¾„é•¿åº¦ï¼Œæœ€å$ans$å–$min$ã€‚</p><p><strong>Dijkstraçš„è¿‡ç¨‹ä¸­ï¼š</strong> dis[i][j]è¡¨ç¤º2åˆ°içš„è·¯å¾„ä¸­\%wä¸ºjçš„æœ€å°å€¼ï¼Œæ‰€ä»¥è¦æ±‚å‡ºæ‰€æœ‰çš„dis[2][i]ã€‚</p><p><strong>æ›´æ–°ç­”æ¡ˆï¼š</strong> è‹¥dis[2][i]&gt;&#x3D;kï¼Œåˆ™ans&#x3D;min(ans, dis[2][i]) è‹¥dis[2][i]&lt;kï¼Œåˆ™ans&#x3D;min(ans, dis[2][i]+è‹¥å¹²2w)</p><h2 id="Code-62MS"><a href="#Code-62MS" class="headerlink" title="Code(62MS)"></a>Code(62MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v; ll w;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> now; ll d;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> node&amp; rhs) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> d &gt; rhs.d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;edge&gt; g[<span class="number">5</span>];</span><br><span class="line">ll dis[<span class="number">5</span>][N], w;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dij</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; w; j++) &#123;</span><br><span class="line">            dis[i][j] = <span class="number">1e18</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dis[<span class="number">2</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;<span class="number">2</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        node p = q.<span class="built_in">top</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> u = p.now;</span><br><span class="line">        <span class="keyword">if</span>(dis[u][p.d % w] &lt; p.d) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> e : g[u]) &#123;</span><br><span class="line">            <span class="type">int</span> v = e.v;</span><br><span class="line">            ll len = e.w + p.d;</span><br><span class="line">            <span class="keyword">if</span>(dis[v][len % w] &gt; len) &#123;</span><br><span class="line">                dis[v][len % w] = len;</span><br><span class="line">                q.<span class="built_in">push</span>(&#123;v, len&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll d12, d23, d34, d41, K;</span><br><span class="line">        cin &gt;&gt; K &gt;&gt; d12 &gt;&gt; d23 &gt;&gt; d34 &gt;&gt; d41;</span><br><span class="line">        g[<span class="number">1</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">2</span>, d12&#125;);g[<span class="number">2</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">1</span>, d12&#125;);</span><br><span class="line">        g[<span class="number">2</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">3</span>, d23&#125;);g[<span class="number">3</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">2</span>, d23&#125;);</span><br><span class="line">        g[<span class="number">3</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">4</span>, d34&#125;);g[<span class="number">4</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">3</span>, d34&#125;);</span><br><span class="line">        g[<span class="number">4</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">1</span>, d41&#125;);g[<span class="number">1</span>].<span class="built_in">emplace_back</span>(edge&#123;<span class="number">4</span>, d41&#125;);</span><br><span class="line">        w = <span class="number">2</span> * <span class="built_in">min</span>(d12, d23);</span><br><span class="line">        <span class="built_in">Dij</span>();</span><br><span class="line">        ll ans = <span class="number">1e19</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; w; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(dis[<span class="number">2</span>][i] &gt;= K) ans = <span class="built_in">min</span>(dis[<span class="number">2</span>][i], ans);</span><br><span class="line">            <span class="keyword">else</span> ans = <span class="built_in">min</span>(ans, dis[<span class="number">2</span>][i] + (K - dis[<span class="number">2</span>][i] + w - <span class="number">1</span>) / w * w);</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">4</span>; i++) g[i].<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/18/hdu6071/">https://blog.jujimeizuo.cn/2021/02/18/hdu6071/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootå®ç°é‚®ä»¶å‘é€ã€å¼‚æ­¥åŠŸèƒ½</title>
      <link href="/2021/02/17/springboot-realize-mail-sending-asynchronous-function/"/>
      <url>/2021/02/17/springboot-realize-mail-sending-asynchronous-function/</url>
      
        <content type="html"><![CDATA[<h2 id="é‚®ä»¶å‘é€"><a href="#é‚®ä»¶å‘é€" class="headerlink" title="é‚®ä»¶å‘é€"></a>é‚®ä»¶å‘é€</h2><h4 id="åˆ›å»ºä¸€ä¸ªspringbooté¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªspringbooté¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªspringbooté¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªspringbooté¡¹ç›®</h4><p>ç”¨IDEAåˆ›å»ºspringbooté¡¹ç›®ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210217205938118.png"></p><p>ä¹‹åå¯ä»¥ä¸€ç›´nextï¼Œä¾èµ–ä¹‹åè¯´ã€‚</p><h4 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h4><p>æ‰“å¼€pom.xmlï¼Œæ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p>æ‰“å¼€application.propertiesï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç½‘æ˜“é‚®ç®±æµ‹è¯•</span></span><br><span class="line">spring.mail.username=xxxxxx@<span class="number">163.</span>com</span><br><span class="line">spring.mail.password=ç½‘æ˜“è´¦å·æˆæƒç </span><br><span class="line">spring.mail.host=smtp<span class="number">.163</span>.com</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯QQé‚®ç®±ï¼Œåˆ™éœ€è¦åŠ ä¸€è¡Œï¼Œç½‘æ˜“é‚®ç®±ä¸ç”¨</span></span><br><span class="line">##spring.mail.properties.mail.smtp.ssl.enable=<span class="literal">true</span> <span class="comment">// å¼€å¯åŠ å¯†éªŒè¯</span></span><br></pre></td></tr></table></figure><p>å…³äºæˆæƒç ï¼Œæ³¨æ„ä¸æ˜¯ä½ çš„é‚®ç®±å¯†ç ï¼Œä½ç½®å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210217210531708.png"></p><p>åªè¦é€‰æ‹©å¼€å¯ä¹‹åå‘ä¸ªçŸ­ä¿¡å³å¯è·å–ã€‚</p><h4 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h4><p>é¦–å…ˆåœ¨æµ‹è¯•ç±»è¦æ³¨å…¥<strong>JavaMailSenderImpl</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> JavaMailSenderImpl mailSender;</span><br></pre></td></tr></table></figure><h4 id="è¿è¡Œæµ‹è¯•ç±»è¿›è¡Œé‚®ä»¶å‘é€"><a href="#è¿è¡Œæµ‹è¯•ç±»è¿›è¡Œé‚®ä»¶å‘é€" class="headerlink" title="è¿è¡Œæµ‹è¯•ç±»è¿›è¡Œé‚®ä»¶å‘é€"></a>è¿è¡Œæµ‹è¯•ç±»è¿›è¡Œé‚®ä»¶å‘é€</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">SimpleMailMessage</span> <span class="variable">simpleMailMessage</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleMailMessage</span>();</span><br><span class="line">    simpleMailMessage.setSubject(<span class="string">&quot;ä¸»é¢˜&quot;</span>);</span><br><span class="line">    simpleMailMessage.setText(<span class="string">&quot;å†…å®¹&quot;</span>);</span><br><span class="line">    simpleMailMessage.setFrom(<span class="string">&quot;xxxxxx@163.com&quot;</span>); <span class="comment">// å‘ä»¶äººé‚®ç®±</span></span><br><span class="line">    simpleMailMessage.setTo(<span class="string">&quot;xxxxxx@163.com&quot;</span>); <span class="comment">// æ”¶ä»¶äººé‚®ç®±</span></span><br><span class="line">    mailSender.send(simpleMailMessage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è®¸ä½ å¯èƒ½ä¸€æ¬¡æˆåŠŸï¼Œæˆ–è®¸ä½ å¤±è´¥äº†ï¼Œå¤±è´¥çš„åŸå› 80%éƒ½æ˜¯è¿™ä¸ªã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: <span class="number">535</span> Error: xxxxxxx: http:<span class="comment">//service.mail.qq.com/cgi-bin/help?subtype=1&amp;&amp;id=28&amp;&amp;no=1001256</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜ä½ çš„æˆæƒç ä¸å¯¹ï¼Œé‚£å°±å†è¯•è¯•å§ã€‚</p><p>åˆ°è¿™ä¸€æ­¥ï¼Œä½ å·²ç»å®ç°äº†ä¸€å°ç”±springbootå‘é€çš„é‚®ä»¶ã€‚</p><hr><h2 id="å®ç°å¼‚æ­¥"><a href="#å®ç°å¼‚æ­¥" class="headerlink" title="å®ç°å¼‚æ­¥"></a>å®ç°å¼‚æ­¥</h2><p>éœ€è¦æå‰æ·»åŠ webä¾èµ–ã€‚</p><h4 id="ä¿®æ”¹å¯åŠ¨ç±»"><a href="#ä¿®æ”¹å¯åŠ¨ç±»" class="headerlink" title="ä¿®æ”¹å¯åŠ¨ç±»"></a>ä¿®æ”¹å¯åŠ¨ç±»</h4><p>æ·»åŠ @EnableAsyncæ³¨è§£ï¼Œå¼€å¯å¼‚æ­¥æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableAsync</span> <span class="comment">// å¼€å¯å¼‚æ­¥æ“ä½œ</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºControllerå±‚å’ŒServiceå±‚"><a href="#åˆ›å»ºControllerå±‚å’ŒServiceå±‚" class="headerlink" title="åˆ›å»ºControllerå±‚å’ŒServiceå±‚"></a>åˆ›å»ºControllerå±‚å’ŒServiceå±‚</h4><p><strong>Serviceå±‚</strong></p><p>åˆ›å»ºä¸€ä¸ªAsyncServiceç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.annotation.Async;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AsyncService</span> &#123;</span><br><span class="line">    <span class="meta">@Async</span> <span class="comment">// Springçœ‹åˆ°è¿™ä¸ªå°±çŸ¥é“æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œäº†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">async</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">10000</span>); <span class="comment">// åœæ­¢10ç§’</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ•°æ®æ­£åœ¨å¤„ç†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Controllerå±‚</strong> åˆ›å»ºä¸€ä¸ªAsyncControllerç±»ï¼š é¡µé¢è®¿é—®ï¼Œå½“æˆ‘ä»¬è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œé‡åˆ°çº¿ç¨‹æ–¹æ³•ä¼šåœæ­¢10ç§’ã€‚</p><p>éšä¾¿ç©ç©ï¼Œä¸è¦æ±‚è·å–æ–¹å¼äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Service.AsyncService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AsyncController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    AsyncService asyncService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/async&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">async</span><span class="params">()</span> &#123;</span><br><span class="line">        asyncService.async();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ @Asyncæ³¨è§£ï¼Œå®ç°å¼‚æ­¥æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Service.AsyncService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.annotation.Async;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AsyncController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    AsyncService asyncService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Async</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/async&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">async</span><span class="params">()</span> &#123;</span><br><span class="line">        asyncService.async();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/17/springboot-realize-mail-sending-asynchronous-function/">https://blog.jujimeizuo.cn/2021/02/17/springboot-realize-mail-sending-asynchronous-function/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›62 E-æ°´ç¾ Kruskalé‡æ„æ ‘</title>
      <link href="/2021/02/17/nowcoder-practice62-e/"/>
      <url>/2021/02/17/nowcoder-practice62-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5205/E">https://ac.nowcoder.com/acm/contest/5205/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ª n ä¸ªèŠ‚ç‚¹ m æ¡å¸¦æƒè¾¹çš„æ— å‘è¿é€šå›¾ï¼Œæœ‰ q æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®å›¾ä¸­ ki ä¸ªäº’ä¸ç›¸åŒçš„ç‚¹ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ•° xï¼Œç„¶åå°†å›¾ä¸­æ‰€æœ‰è¾¹æƒå°äºç­‰äº x çš„è¾¹åˆ é™¤ã€‚æ±‚å½“åˆ é™¤è¿™äº›è¾¹å ki ä¸ªç‚¹äº’ä¸è¿é€šæ—¶ï¼Œx çš„æœ€å°å€¼ã€‚ <strong>å¼ºåˆ¶åœ¨çº¿</strong></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å­¦è¿‡kruskalé‡æ„æ ‘çš„éƒ½çŸ¥é“ï¼Œè¿™é¢˜ä¸€å®šæ˜¯è¿™ç§è§£æ³•ã€‚</p><p>è¦ä½¿ä¸¤ç‚¹äº’ä¸è¿é€šï¼Œåœ¨å¾ˆå¤šæ¡è·¯å¾„ä¸­é€‰æ‹©æœ€å°è¾¹æƒ\&lt;xå³å¯ã€‚åªéœ€è¦åˆ é™¤ä¸€æ¡å°±å¯ä»¥è®©ä»–ä»¬ä¸è¿é€šã€‚</p><p>æ‰€ä»¥ç›´æ¥æ‰¾å‡ºkiä¸ªç‚¹ä¹‹é—´æœ€å°è¾¹æƒçš„æœ€å¤§å€¼ï¼Œå³æ˜¯æˆ‘ä»¬è¦æ±‚çš„xã€‚</p><p>æŒ‰ç…§è¾¹æƒä»å¤§åˆ°å°å»ºç«‹kruskalé‡æ„æ ‘ï¼Œæ ¹æ®é‡æ„æ ‘çš„æ€§è´¨ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå°æ ¹å †ã€‚</p><p>ans&#x3D;val[lca(u,v)]ï¼Œä½†æ˜¯è¿™é¢˜æ•°æ®é‡å·¨å¤§ï¼Œä¸¤ä¸¤æ‰¾lcaä¼šTã€‚</p><p>æˆ‘ä»¬åªéœ€è¦è®©æ ‘ä¸Šç›¸é‚»ä¸¤ç‚¹çš„val&gt;xï¼Œä»–ä»¬çš„çˆ¶äº²å°±æ˜¯lcaï¼Œä¹Ÿæ˜¯ç­”æ¡ˆã€‚</p><p>å°†a[]æŒ‰ç…§dfsåºæ’åºï¼Œ$ans&#x3D;max(ans, val[lca(a[i],a[i-1])])$ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>, M = <span class="number">2e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> u, v, w;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Edge &amp;rhs) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; rhs.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;E[M];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[N];</span><br><span class="line"><span class="type">int</span> val[N], f[N], cnt;</span><br><span class="line"><span class="type">int</span> dep[N], son[N], fa[N], siz[N], top[N], dfn[N], tim;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> par)</span> </span>&#123;</span><br><span class="line">    dep[u] = dep[fa[u] = par] + (siz[u] = <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == par) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">if</span>(!son[u]  siz[v] &gt; siz[son[u]])</span><br><span class="line">            son[u] = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> topf)</span> </span>&#123;</span><br><span class="line">    dfn[u] = ++tim;</span><br><span class="line">    top[u] = topf;</span><br><span class="line">    <span class="keyword">if</span>(!son[u]) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">dfs2</span>(son[u], topf);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == fa[u]  v == son[u])  <span class="keyword">continue</span>;</span><br><span class="line">            <span class="built_in">dfs2</span>(v, v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dep[x] &lt; dep[y] ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f[x] == x ? x : f[x] = <span class="built_in">find</span>(f[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">EX_Kruskal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cnt = n; <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; (n &lt;&lt; <span class="number">1</span>); i++) f[i] = i;</span><br><span class="line">    <span class="built_in">sort</span>(E + <span class="number">1</span>, E + m + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="built_in">find</span>(E[i].u);</span><br><span class="line">        <span class="type">int</span> v = <span class="built_in">find</span>(E[i].v);</span><br><span class="line">        <span class="keyword">if</span>(u == v) <span class="keyword">continue</span>;</span><br><span class="line">        val[++cnt] = E[i].w;</span><br><span class="line">        f[u] = f[v] = cnt;</span><br><span class="line">        g[u].<span class="built_in">emplace_back</span>(cnt); g[cnt].<span class="built_in">emplace_back</span>(u);</span><br><span class="line">        g[v].<span class="built_in">emplace_back</span>(cnt); g[cnt].<span class="built_in">emplace_back</span>(v);</span><br><span class="line">        <span class="keyword">if</span>(cnt == (n &lt;&lt; <span class="number">1</span>) - <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> rt = <span class="built_in">find</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs1</span>(rt, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(rt, rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dfn[x] &lt; dfn[y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;_);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v, w; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line">        E[i] = &#123;u, v, w&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">EX_Kruskal</span>();</span><br><span class="line">    <span class="type">int</span> lastans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> k; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;k);</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(k)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; k; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]), a[i] ^= lastans;</span><br><span class="line">        lastans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">sort</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), cmp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; k; i++) &#123;</span><br><span class="line">            lastans = <span class="built_in">max</span>(lastans, val[<span class="built_in">lca</span>(a[i], a[i - <span class="number">1</span>])]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,lastans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/17/nowcoder-practice62-e/">https://blog.jujimeizuo.cn/2021/02/17/nowcoder-practice62-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P4768 å½’ç¨‹ æœ€çŸ­è·¯+Kruskalé‡æ„æ ‘</title>
      <link href="/2021/02/16/luogu-p4768/"/>
      <url>/2021/02/16/luogu-p4768/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.luogu.com.cn/problem/P4768">https://www.luogu.com.cn/problem/P4768</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>åœ¨ä¸€ä¸ªé›¨å¤©æ¼«æ­¥çš„æ— å‘è”é€šåŸå¸‚ï¼Œæœ‰nä¸ªç‚¹ï¼Œmæ¡è¾¹ï¼Œå·²çŸ¥å°æ˜çš„å®¶æ˜¯1å·ç‚¹ã€‚ æ¯æ¡è¾¹æœ‰u,v,l,aï¼Œåˆ†åˆ«ä»£è¡¨èµ·ç‚¹ï¼Œä¸­ç‚¹ï¼Œé•¿åº¦å’Œæµ·æ‹”ã€‚</p><p>ç»™Qä¸ªè¯¢é—®ï¼Œæ¯æ¬¡ç»™ä¸€ä¸ªvå‡ºå‘ç‚¹å’Œpæ°´ä½çº¿(å¼ºåˆ¶åœ¨çº¿)ã€‚ å°æ˜ä»ç‚¹vä¹˜è½¦å‡ºå‘ï¼Œå½“ä¸€æ¡è¾¹çš„æµ·æ‹”å°äºç­‰äºpæ—¶ï¼Œæ±½è½¦å¯ä»¥é€šè¿‡ï¼Œå¦åˆ™å¿…é¡»å¼ƒè½¦æ­¥è¡Œã€‚ æ­¥è¡Œä¸éœ€è¦è€ƒè™‘æ°´ä½çº¿ã€‚ è¯·è¾“å‡ºå°æ˜åœ¨ä¸€æ¬¡è¯¢é—®ä¸­æ­¥è¡Œçš„æœ€å°æ­¥è¡Œè·ç¦»ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆè¿™ä¸€é¢˜ï¼Œé¢˜ç›®å¾ˆé•¿ï¼Œå¾ˆéš¾è¯»ï¼ï¼ï¼</p><p>é¢˜æ„è½¬åŒ–ä¸€ä¸‹ï¼Œå°æ˜å…ˆä¹˜è½¦åˆ°ä¸€ä¸ªç‚¹ï¼Œç”±äºæ°´ä½çº¿çš„åŸå› ä¸å¾—ä¸å¼ƒè½¦ï¼Œå³å…ˆä¹˜è½¦åæ­¥è¡Œã€‚</p><p>è¿™ä¸ªç‚¹å°±æ˜¯ä¸vè”é€šçš„æ‰€æœ‰ç‚¹ä¸­ï¼Œä¸1è·ç¦»æœ€çŸ­çš„ç‚¹ã€‚æ‰€ä»¥æ€ä¹ˆæ‰¾åˆ°è¿™ä¸ªå…³é”®ç‚¹å‘¢ï¼Ÿ</p><p>è¿™å°±è¦è¯·å‡ºä»Šå¤©çš„ä¸»è§’ï¼šKruskalé‡æ„æ ‘</p><p>æˆ‘ä»¬ä»¥æµ·æ‹”ä¸ºè¾¹æƒï¼Œå»ºç«‹ä¸€æ£µè¾¹æƒä»å¤§åˆ°å°çš„é‡æ„æ ‘ã€‚</p><p>å‡è®¾æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€æ£µå­æ ‘çš„æ ¹èŠ‚ç‚¹uï¼Œä¸”$val[u]&gt;p\;\;\&amp;\&amp;\;\;val[fa[u]]&lt;&#x3D;p$. é‚£ä¹ˆä»uå‡ºå‘åˆ°å­æ ‘çš„ä»»æ„èŠ‚ç‚¹ä¸éœ€è¦æ­¥è¡Œï¼Œæ‰€ä»¥è¦åœ¨å¾ˆå¤šå¶å­ç»“ç‚¹æ‰¾è·ç¦»1æœ€çŸ­è·ç¦»çš„ç‚¹â€”å…³é”®ç‚¹ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ç®—æ³•æµç¨‹ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œå…ˆè·‘æœ€çŸ­è·¯ï¼Œæ‰¾åˆ°1åˆ°ä»»æ„ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œæ–¹ä¾¿ç¬¬ä¸‰æ­¥æ›´æ–°ã€‚</li><li>ç¬¬äºŒæ­¥ï¼Œå»ºé‡æ„æ ‘ï¼ŒæŠŠé—®é¢˜è½¬åŒ–æˆæ ‘å½¢ç»“æ„ã€‚</li><li>ç¬¬ä¸‰æ­¥ï¼Œå¤„ç†å…³é”®ç‚¹ï¼Œå¯æ ‘å½¢dpï¼Œå¯æ ‘ä¸Šå€å¢ï¼Œæ‰¾åˆ°ä¸1è·ç¦»æœ€çŸ­çš„ç‚¹ä¸”æ»¡è¶³val[u]&gt;pã€‚</li></ul><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>, M = <span class="number">2e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*----------æœ€çŸ­è·¯-------------*/</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next, w;</span><br><span class="line">&#125;e[M];</span><br><span class="line"><span class="type">int</span> head[M], cnt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> now, d;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> node&amp; rhs) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> d &gt; rhs.d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> dis[N];</span><br><span class="line"><span class="type">bool</span> vis[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) head[i] = <span class="number">-1</span>;</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> w)</span> </span>&#123;</span><br><span class="line">    e[cnt] = &#123;v, head[u], w&#125;;</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="type">int</span> s)</span> </span>&#123;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) dis[i] = INF, vis[i] = <span class="number">0</span>;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;s, <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        node p = q.<span class="built_in">top</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> u = p.now;</span><br><span class="line">        <span class="keyword">if</span>(vis[u]) <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">            <span class="type">int</span> v = e[i].v;</span><br><span class="line">            <span class="keyword">if</span>(dis[v] &gt; dis[u] + e[i].w) &#123;</span><br><span class="line">                dis[v] = dis[u] + e[i].w;</span><br><span class="line">                <span class="keyword">if</span>(!vis[v]) q.<span class="built_in">push</span>(&#123;v, dis[v]&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*-------------Kruskalé‡æ„æ ‘---------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> u, v, w;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Edge&amp; rhs) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; rhs.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;E[M];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[N];</span><br><span class="line"><span class="type">int</span> f[N], val[N], tot;</span><br><span class="line"><span class="type">int</span> fa[N][<span class="number">33</span>], d[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> par)</span> </span>&#123;</span><br><span class="line">    d[u] = (u &lt;= n ? dis[u] : INF);</span><br><span class="line">    fa[u][<span class="number">0</span>] = par;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">32</span>; i++) fa[u][i] = fa[fa[u][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : g[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(v == par) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(v, u);</span><br><span class="line">        d[u] = <span class="built_in">min</span>(d[u], d[v]);</span><br><span class="line">    &#125;</span><br><span class="line">    g[u].<span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">32</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span>(val[fa[u][i]] &gt; p) u = fa[u][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> u;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f[x] == x ? x : f[x] = <span class="built_in">find</span>(f[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">EX_Kruskal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    tot = n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; (n &lt;&lt; <span class="number">1</span>); i++) f[i] = i, val[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">sort</span>(E + <span class="number">1</span>, E + m + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="built_in">find</span>(E[i].u);</span><br><span class="line">        <span class="type">int</span> v = <span class="built_in">find</span>(E[i].v);</span><br><span class="line">        <span class="keyword">if</span>(u == v) <span class="keyword">continue</span>;</span><br><span class="line">        val[++tot] = E[i].w;</span><br><span class="line">        f[u] = f[v] = tot;</span><br><span class="line">        g[u].<span class="built_in">emplace_back</span>(tot); g[tot].<span class="built_in">emplace_back</span>(u);</span><br><span class="line">        g[v].<span class="built_in">emplace_back</span>(tot); g[tot].<span class="built_in">emplace_back</span>(v);</span><br><span class="line">        <span class="keyword">if</span>(tot == (n &lt;&lt; <span class="number">1</span>) - <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> rt = <span class="built_in">find</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs</span>(rt, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="built_in">init</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">            <span class="type">int</span> u, v, l, a; cin &gt;&gt; u &gt;&gt; v &gt;&gt; l &gt;&gt; a;</span><br><span class="line">            E[i] = &#123;u, v, a&#125;;</span><br><span class="line">            <span class="built_in">add</span>(u, v, l); <span class="built_in">add</span>(v, u, l);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">Dijkstra</span>(<span class="number">1</span>); <span class="comment">// å…ˆè·‘æœ€çŸ­è·¯</span></span><br><span class="line">        <span class="built_in">EX_Kruskal</span>(); <span class="comment">// åœ¨å»ºé‡æ„æ ‘</span></span><br><span class="line">        <span class="type">int</span> lastans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> Q, K, S; cin &gt;&gt; Q &gt;&gt; K &gt;&gt; S;</span><br><span class="line">        <span class="keyword">while</span>(Q--) &#123;</span><br><span class="line">            <span class="type">int</span> v, p; cin &gt;&gt; v &gt;&gt; p;</span><br><span class="line">            v = (v + K * lastans - <span class="number">1</span>) % n + <span class="number">1</span>;</span><br><span class="line">            p = (p + K * lastans) % (S + <span class="number">1</span>);</span><br><span class="line">            cout &lt;&lt; (lastans = d[<span class="built_in">get</span>(v, p)]) &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/16/luogu-p4768/">https://blog.jujimeizuo.cn/2021/02/16/luogu-p4768/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Educational Codeforces Round 104 Div. 2 A~E</title>
      <link href="/2021/02/16/educational-codeforces-round-104-div-2-ae/"/>
      <url>/2021/02/16/educational-codeforces-round-104-div-2-ae/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1487">https://codeforces.com/contest/1487</a></p><h2 id="A-Arena"><a href="#A-Arena" class="headerlink" title="A-Arena"></a>A-Arena</h2><p>è¾“å‡ºn-æœ€å°æ•°çš„ä¸ªæ•°ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">        <span class="type">int</span> mx = <span class="number">1e9</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">            mp[x]++;</span><br><span class="line">            mx = <span class="built_in">min</span>(mx, x);</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; n - mp[mx] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Cat-Cycle"><a href="#B-Cat-Cycle" class="headerlink" title="B - Cat Cycle"></a>B - Cat Cycle</h2><p>å› ä¸ºçŒ«Bé¦–å…ˆå‘†åœ¨1çš„ä½ç½®ï¼Œæ‰€ä»¥kè¦å‡1ï¼Œæœ€åä½ç½®åŠ 1å³å¯ã€‚</p><p>å½“nä¸ºå¥‡æ•°æ—¶ï¼Œç›´æ¥è¾“å‡º$(k-1)\%n+1$ å½“nä¸ºå¶æ•°æ—¶ï¼Œå› ä¸ºä¼šæœ‰ç›¸é‡é—®é¢˜ã€‚ è€Œç›¸é‡æ—¶é—´ä¸º$(n-1)&#x2F;2$ï¼Œæ€»ç›¸é‡æ¬¡æ•°ä¸º$\frac{(k-1)}{(n-1)&#x2F;2}$. æœ€åä½ç½®ä¸º$(k-1+\frac{(k-1)}{(n-1)&#x2F;2})\%n+1$.</p><h2 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n, k; cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">        k -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n &amp; <span class="number">1</span>) &#123;</span><br><span class="line">            cout &lt;&lt; (k + k / ((n - <span class="number">1</span>) / <span class="number">2</span>)) % n + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; k % n + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Minimum-Ties"><a href="#C-Minimum-Ties" class="headerlink" title="C - Minimum Ties"></a>C - Minimum Ties</h2><p>å½“nä¸ºå¥‡æ•°æ—¶ï¼Œé‚£ä¹ˆæ¯ä¸ªé˜Ÿéƒ½æ˜¯$\frac{n}{2}$çš„èµ¢å’Œè¾“ã€‚æ‰€ä»¥è¾“å‡º1ã€-1ã€1â€¦å³å¯ã€‚</p><p>å½“nä¸ºå¶æ•°æ—¶ï¼Œé‚£ä¹ˆæ¯ä¸ªé˜Ÿéƒ½æ˜¯$\frac{n}{2}-1$çš„èµ¢å’Œè¾“è¿˜æœ‰ä¸€åœºå¹³å±€ã€‚</p><p>å¹³å±€åœºå°±æ˜¯1å’Œ2ï¼Œ3å’Œ4ï¼Œ5å’Œ6ç­‰ç­‰ã€‚å‰©ä¸‹åœºéƒ½æ˜¯ä¸€åŠèµ¢ä¸€åŠè¾“ã€‚</p><h3 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        <span class="keyword">if</span>(n &amp; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= (n - <span class="number">1</span>) * n / <span class="number">2</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i &amp; <span class="number">1</span>) cout &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">                <span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(n--) &#123;</span><br><span class="line">                t++;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; (t &amp; <span class="number">1</span>)) cout &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span>(!(i &amp; <span class="number">1</span>)) cout &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">                        <span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="D-Pythagorean-Triples"><a href="#D-Pythagorean-Triples" class="headerlink" title="D - Pythagorean Triples"></a>D - Pythagorean Triples</h4><p>ä¸‰ä¸ªæ¡ä»¶ï¼š</p><ul><li>$c&#x3D;a^2-b$</li><li>$c^2&#x3D;a^2+b^2$</li><li>$1\leq a,b,c\leq n$</li></ul><p>é—®è¿™æ ·(a,b,c)çš„ç»„æ•°æœ‰å¤šå°‘ï¼Ÿ</p><p>æ¥åŒ–ç®€ä¸€ä¸‹ï¼ŒäºŒå¼-ä¸€å¼å¾—$c^2-c&#x3D;b^2+b\;\;\;\;\;(c+b)(c-b)&#x3D;b+c$ ç»§ç»­åŒ–ç®€$c-b&#x3D;1\;\;b&#x3D;c-1$ï¼Œå¸¦å…¥ä¸€å¼å¾—$2c&#x3D;a^2+1$ã€‚</p><p>æ‰€ä»¥æ•´ä¸ªæ¡ä»¶å°±å˜ä¸ºï¼Œaä¸€å®šè¦æ˜¯å¥‡æ•°ï¼Œå¹¶ä¸”$a\leq n$ï¼Œå¾—ï¼š</p><p>$$ans&#x3D;\left \lceil \frac{\sqrt{2*n-1}}{2} \right \rceil-1$$</p><p>è¿™ä¸ªå‡1æ˜¯å› ä¸ºc&#x3D;1æ—¶ï¼Œb&#x3D;0ï¼Œé”™è¯¯ç»„ã€‚</p><h2 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll n; cin &gt;&gt; n;</span><br><span class="line">        ll a = <span class="built_in">sqrt</span>(<span class="number">2</span> * n - <span class="number">1</span>);</span><br><span class="line">        cout &lt;&lt; a / <span class="number">2</span> + (a % <span class="number">2</span> == <span class="number">1</span>) - <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Cheap-Dinner"><a href="#E-Cheap-Dinner" class="headerlink" title="E - Cheap Dinner"></a>E - Cheap Dinner</h2><p>å› ä¸ºé™åˆ¶åªåœ¨ç›¸é‚»çš„ä¸¤ç§é£Ÿç‰©ä¹‹é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªé—®é¢˜åˆ†å‰²æˆä¸‰ä¸ªå­é—®é¢˜ï¼šå¯¹äºæ¯ç§ç¬¬äºŒç§é£Ÿç‰©æ¥è¯´ï¼Œä¸ä»–èƒ½åœ¨ä¸€èµ·ä¸”ä»·æ ¼æœ€ä½çš„é£Ÿç‰©æ˜¯è°ï¼Œå¯¹äºç¬¬ä¸‰ç§å’Œç¬¬å››ç§åŒç†æ±‚å³å¯ï¼Œæœ€åæŠŠç­”æ¡ˆåˆå¹¶èµ·æ¥ã€‚é‚£ä¹ˆå¦‚ä½•æ‰¾æœ€å°å€¼ï¼Œå¹¶ä¸”åœ¨é™åˆ¶å…³ç³»ä¸­åˆå¯ä»¥æœ‰åˆ é™¤çš„æ“ä½œå‘¢ï¼Œå°±å¯ä»¥ç”¨mapå®ç°ã€‚</p><h2 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> pb push_back</span></span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a[<span class="number">5</span>], <span class="built_in">n</span>(<span class="number">5</span>);</span><br><span class="line">vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; que, tt;</span><br><span class="line">map&lt;<span class="type">int</span>, set&lt;<span class="type">int</span>&gt;&gt; mp[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) cin &gt;&gt; n[i], a[i].<span class="built_in">pb</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n[i]; j++) &#123;</span><br><span class="line">            <span class="type">int</span> x;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            a[i].<span class="built_in">pb</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        cin &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="type">int</span> x, y;</span><br><span class="line">            cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">            mp[i][x].<span class="built_in">insert</span>(y);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n[<span class="number">1</span>]; i++) que.<span class="built_in">pb</span>(&#123;a[<span class="number">1</span>][i], i&#125;);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">2</span>; k &lt;= <span class="number">4</span>; k++) &#123;</span><br><span class="line">        <span class="built_in">sort</span>(que.<span class="built_in">begin</span>(), que.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n[k]; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> j : que) &#123;</span><br><span class="line">                <span class="type">int</span> x = j.first, y = j.second;</span><br><span class="line">                <span class="keyword">if</span> (mp[k - <span class="number">1</span>][y].<span class="built_in">find</span>(i) == mp[k - <span class="number">1</span>][y].<span class="built_in">end</span>()) &#123;</span><br><span class="line">                    tt.<span class="built_in">pb</span>(&#123;a[k][i] + x, i&#125;);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        que = tt;</span><br><span class="line">        tt.<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(que.<span class="built_in">begin</span>(), que.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">if</span> (que.<span class="built_in">empty</span>())</span><br><span class="line">        cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; que[<span class="number">0</span>].first &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/16/educational-codeforces-round-104-div-2-ae/">https://blog.jujimeizuo.cn/2021/02/16/educational-codeforces-round-104-div-2-ae/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹  K-meansç®—æ³•ï¼ˆäºŒç»´ï¼‰</title>
      <link href="/2021/02/15/k-means/"/>
      <url>/2021/02/15/k-means/</url>
      
        <content type="html"><![CDATA[<p>2021å¹´æ•°å­¦å»ºæ¨¡ç¾èµ›ç”¨åˆ°è¯¥ç®—æ³•ï¼Œç‰¹è®°æ­¤æ–‡ã€‚</p><p><strong>K-meansç®—æ³•ä¸­æ–‡åä¸ºK-å‡å€¼èšç±»ç®—æ³•ã€‚</strong></p><h2 id="èšç±»"><a href="#èšç±»" class="headerlink" title="èšç±»"></a>èšç±»</h2><p><strong>èšç±»ï¼ˆClusteringï¼‰</strong>ï¼šå°±æ˜¯å¯¹å¤§é‡æœªçŸ¥æ ‡æ³¨çš„æ•°æ®é›†ï¼ŒæŒ‰æ•°æ®çš„å†…åœ¨ ç›¸ä¼¼æ€§å°†æ•°æ®é›†åˆ’åˆ†ä¸ºå¤šä¸ªæ—ï¼ˆClusterï¼‰ï¼Œä½¿æ—å†…çš„æ•°æ®ç›¸ä¼¼åº¦ å°½å¯èƒ½å¤§è€Œç±»åˆ«é—´çš„æ•°æ®ç›¸ä¼¼åº¦å°½å¯èƒ½å°ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¦èšç±»</strong>ï¼šå®¢æˆ·åˆ†å‰²ï¼ˆsegmentationï¼‰æ˜¯ä¸€ç§å‘ç°ç”¨æˆ·ç‰¹æ€§çš„æ–¹æ³•ã€‚ v å°†ä¸€ä¸ªåŸºäºæ•°æ®çš„å®¢æˆ·ä¿¡æ¯åˆ†ç»„ï¼›ä»è€Œç»™ä½ ä¸€ä¸ªå®¢æˆ·ä¿¡æ¯çš„æ¦‚å†µï¼Œ è¿™å¯ä»¥ç›´æ¥è½¬åŒ–ä¸ºé’ˆå¯¹ä¸åŒå®¢æˆ·çš„è¥é”€ç­–ç•¥ã€‚</p><p><strong>åº”ç”¨é¢†åŸŸ</strong>ï¼š</p><p>ç»æµé¢†åŸŸï¼š</p><ul><li>å¸®åŠ©å¸‚åœºåˆ†æäººå‘˜ä»å®¢æˆ·æ•°æ®åº“ä¸­å‘ç°ä¸åŒçš„å®¢æˆ·ç¾¤</li><li>å¯¹ä½å®…åŒºè¿›è¡Œèšç±»ï¼Œç¡®å®šè‡ªåŠ¨ææ¬¾æœºATMçš„å®‰æ”¾ä½ç½®</li><li>è‚¡ç¥¨å¸‚åœºæ¿å—åˆ†æï¼Œæ‰¾å‡ºæœ€å…·æ´»åŠ›çš„æ¿å—é¾™å¤´è‚¡</li><li>ä¼ä¸šä¿¡ç”¨ç­‰çº§åˆ†ç±»</li></ul><p>ç”Ÿç‰©å­¦é¢†åŸŸï¼š</p><ul><li>æ¨å¯¼æ¤ç‰©å’ŒåŠ¨ç‰©çš„åˆ†ç±»</li><li>å¯¹åŸºå› åˆ†ç±»ï¼Œè·å¾—å¯¹ç§ç¾¤çš„è®¤è¯†</li></ul><p>å…¶ä»–ï¼š</p><ul><li>ä½œä¸ºå…¶ä»–æ•°å­¦ç®—æ³•çš„é¢„å¤„ç†æ­¥éª¤ï¼Œè·å¾—æ•°æ®åˆ†å¸ƒçŠ¶å†µ</li></ul><p><strong>åŸç†</strong>ï¼š</p><p>èšç±»åˆ†æä¸­â€œç±»â€çš„ç‰¹å¾ï¼š</p><ul><li>èšç±»æ‰€è¯´çš„ç±»ä¸æ˜¯äº‹å…ˆç»™å®šçš„ï¼Œè€Œæ˜¯æ ¹æ®æ•°æ®çš„ç›¸ä¼¼æ€§å’Œè· ç¦»æ¥åˆ’åˆ†ï¼›</li><li>èšç±»çš„æ•°ç›®å’Œç»“æ„éƒ½æ²¡æœ‰äº‹å…ˆå‡å®š</li></ul><p>èšç±»æ–¹æ³•çš„ç›®çš„æ˜¯å¯»æ‰¾æ•°æ®ä¸­ï¼š</p><ul><li>æ½œåœ¨çš„è‡ªç„¶åˆ†ç»„ç»“æ„</li><li>æ„Ÿå…´è¶£çš„å…³ç³»</li></ul><h2 id="K-meansç®—æ³•æ¦‚è¿°"><a href="#K-meansç®—æ³•æ¦‚è¿°" class="headerlink" title="K-meansç®—æ³•æ¦‚è¿°"></a>K-meansç®—æ³•æ¦‚è¿°</h2><p>Kæ˜¯ä»€ä¹ˆï¼Ÿ Kæ˜¯èšç±»ç®—æ³•å½“ä¸­ç±»çš„ä¸ªæ•°ã€‚</p><p>meansæ˜¯ä»€ä¹ˆï¼Ÿ meansæ˜¯å‡å€¼ç®—æ³•ã€‚</p><p>Summaryï¼šK-meansæ˜¯é‡‡ç”¨å‡å€¼ç®—æ³•æŠŠæ•°æ®åˆ†æˆKä¸ªç±»çš„ç¡¬èšç±»ç®—æ³•ï¼</p><p>å¯¹äº<strong>è¿ç»­å‹å±æ€§</strong>å…·æœ‰è¾ƒå¥½çš„èšç±»æ•ˆæœï¼Œä¸é€‚åˆå¤„ç†ç¦»æ•£å‹å±æ€§ã€‚</p><h2 id="K-meansè¯„ä»·æ ‡å‡†"><a href="#K-meansè¯„ä»·æ ‡å‡†" class="headerlink" title="K-meansè¯„ä»·æ ‡å‡†"></a>K-meansè¯„ä»·æ ‡å‡†</h2><p>ä¸€ä¸ªå¥½çš„èšç±»æ–¹æ³•è¦èƒ½äº§ç”Ÿé«˜è´¨é‡çš„èšç±»ç»“æœâ€”ç°‡ï¼Œè¿™äº›ç°‡è¦å…·å¤‡ä»¥ ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š</p><ul><li>é«˜çš„ç°‡å†…ç›¸ä¼¼æ€§</li><li>ä½çš„ç°‡é—´ç›¸ä¼¼æ€§</li></ul><p>åŸºæœ¬æ€æƒ³ï¼šå±äºåˆ’åˆ†æ–¹æ³•ï¼ˆpartitioning methodï¼‰ï¼Œé€šè¿‡è¿­ä»£æŠŠæ•°æ®é›† åˆ’åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼ˆæˆ–ç§°ç°‡ï¼‰ï¼Œä½¿å¾—è¯„ä»·èšç±»æ€§èƒ½çš„å‡†åˆ™å‡½æ•°è¾¾åˆ°æœ€ ä¼˜ï¼Œä½¿å¾—æ¯ä¸ªèšç±»ç±»å†…ç´§å‡‘ï¼Œç±»é—´ç‹¬ç«‹ã€‚</p><h2 id="ç®—æ³•åŸºæœ¬æµç¨‹"><a href="#ç®—æ³•åŸºæœ¬æµç¨‹" class="headerlink" title="ç®—æ³•åŸºæœ¬æµç¨‹"></a>ç®—æ³•åŸºæœ¬æµç¨‹</h2><ol><li>éšæœºæŠ½å–k ä¸ªç‚¹ä½œä¸ºåˆå§‹èšç±»çš„ä¸­å¿ƒï¼Œç”±å„ä¸­å¿ƒä»£è¡¨å„èšç±»</li><li>è®¡ç®—æ‰€æœ‰ç‚¹åˆ°è¿™kä¸ªä¸­å¿ƒçš„è·ç¦»ï¼Œå¹¶å°†ç‚¹å½’åˆ°ç¦»å…¶æœ€è¿‘çš„èšç±»</li><li>è°ƒæ•´èšç±»ä¸­å¿ƒï¼Œå³å°†èšç±»çš„ä¸­å¿ƒç§»åŠ¨åˆ°èšç±»çš„å‡ ä½•ä¸­å¿ƒï¼ˆå³å¹³å‡å€¼ï¼‰</li><li>é‡å¤ç¬¬2ã€3æ­¥ç›´åˆ°èšç±»çš„ä¸­å¿ƒä¸å†ç§»åŠ¨ï¼Œæ­¤æ—¶ç®—æ³•æ”¶æ•›</li></ol><h2 id="K-meansç®—æ³•ä¸»è¦å› ç´ "><a href="#K-meansç®—æ³•ä¸»è¦å› ç´ " class="headerlink" title="K-meansç®—æ³•ä¸»è¦å› ç´ "></a>K-meansç®—æ³•ä¸»è¦å› ç´ </h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210215172244122.png"></p><h2 id="K-meansä¼˜ç¼ºç‚¹"><a href="#K-meansä¼˜ç¼ºç‚¹" class="headerlink" title="K-meansä¼˜ç¼ºç‚¹"></a>K-meansä¼˜ç¼ºç‚¹</h2><p><strong>ä¼˜ç‚¹</strong>:</p><ol><li>æ€æƒ³ç®€å•æ˜“è¡Œ</li><li>æ—¶é—´æ‚åº¦æ¥è¿‘çº¿æ€§</li><li>å¯¹å¤§æ•°æ®é›†ï¼Œå…·æœ‰é«˜æ•ˆæ€§å’Œå¯ä¼¸ç¼©æ€§</li></ol><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ol><li>ä¾èµ–äºåˆå§‹å‡å€¼çš„é€‰æ‹©</li><li>é¡»äº‹å…ˆç»™å®šèšç±»æ•°kå€¼</li><li>å¯¹å™ªå£°å’Œå­¤ç«‹æ•°æ®æ•æ„Ÿ</li></ol><h2 id="pythonå®ç°äºŒç»´K-meansç®—æ³•å¹¶ç”¨matplotlibå®ç°ç”»å›¾"><a href="#pythonå®ç°äºŒç»´K-meansç®—æ³•å¹¶ç”¨matplotlibå®ç°ç”»å›¾" class="headerlink" title="pythonå®ç°äºŒç»´K-meansç®—æ³•å¹¶ç”¨matplotlibå®ç°ç”»å›¾"></a>pythonå®ç°äºŒç»´K-meansç®—æ³•å¹¶ç”¨matplotlibå®ç°ç”»å›¾</h2><p><strong>è¿™é‡Œçš„æ•°æ®æ˜¯éšæœºæ•°æ®ï¼Œåªéœ€è¦æ”¹ä¸€ä¸‹è¾“å…¥æ–¹å¼å³å¯ã€‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">distance</span>(<span class="params">e1, e2</span>):</span><br><span class="line">    <span class="keyword">return</span> np.sqrt((e1[<span class="number">0</span>] - e2[<span class="number">0</span>]) ** <span class="number">2</span> + (e1[<span class="number">1</span>] - e2[<span class="number">1</span>]) ** <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">means</span>(<span class="params">arr</span>):</span><br><span class="line">    <span class="keyword">return</span> np.array([np.mean([e[<span class="number">0</span>] <span class="keyword">for</span> e <span class="keyword">in</span> arr]), np.mean([e[<span class="number">1</span>] <span class="keyword">for</span> e <span class="keyword">in</span> arr])])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">farthest</span>(<span class="params">k_arr, arr</span>):</span><br><span class="line">    f = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    max_d = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> arr:</span><br><span class="line">        d = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k_arr.__len__()):</span><br><span class="line">            d = d + np.sqrt(distance(k_arr[i], e))</span><br><span class="line">        <span class="keyword">if</span> d &gt; max_d:</span><br><span class="line">            max_d = d</span><br><span class="line">            f = e</span><br><span class="line">    <span class="keyword">return</span> f</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">closest</span>(<span class="params">a, arr</span>):</span><br><span class="line">    c = arr[<span class="number">1</span>]</span><br><span class="line">    min_d = distance(a, arr[<span class="number">1</span>])</span><br><span class="line">    arr = arr[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> arr:</span><br><span class="line">        d = distance(a, e)</span><br><span class="line">        <span class="keyword">if</span> d &lt; min_d:</span><br><span class="line">            min_d = d</span><br><span class="line">            c = e</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">    arr = np.random.randint(<span class="number">100</span>, size=(<span class="number">100</span>, <span class="number">1</span>, <span class="number">2</span>))[:, <span class="number">0</span>, :]</span><br><span class="line"></span><br><span class="line">    m = <span class="number">5</span></span><br><span class="line">    r = np.random.randint(arr.__len__() - <span class="number">1</span>)</span><br><span class="line">    k_arr = np.array([arr[r]])</span><br><span class="line">    cla_arr = [[]]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m - <span class="number">1</span>):</span><br><span class="line">        k = farthest(k_arr, arr)</span><br><span class="line">        k_arr = np.concatenate([k_arr, np.array([k])])</span><br><span class="line">        cla_arr.append([])</span><br><span class="line"></span><br><span class="line">    n = <span class="number">20</span></span><br><span class="line">    cla_temp = cla_arr</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> e <span class="keyword">in</span> arr:</span><br><span class="line">            ki = <span class="number">0</span></span><br><span class="line">            min_d = distance(e, k_arr[ki])</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, k_arr.__len__()):</span><br><span class="line">                <span class="keyword">if</span> distance(e, k_arr[j]) &lt; min_d:</span><br><span class="line">                    min_d = distance(e, k_arr[j])</span><br><span class="line">                    ki = j</span><br><span class="line">            cla_temp[ki].append(e)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(k_arr.__len__()):</span><br><span class="line">            <span class="keyword">if</span> n - <span class="number">1</span> == i:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            k_arr[k] = means(cla_temp[k])</span><br><span class="line">            cla_temp[k] = []</span><br><span class="line"></span><br><span class="line">    col = [<span class="string">&#x27;HotPink&#x27;</span>, <span class="string">&#x27;Aqua&#x27;</span>, <span class="string">&#x27;Chartreuse&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;LightSalmon&#x27;</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">        plt.scatter(k_arr[i][<span class="number">0</span>], k_arr[i][<span class="number">1</span>], linewidth=<span class="number">10</span>, color=col[i])</span><br><span class="line">        plt.scatter([e[<span class="number">0</span>] <span class="keyword">for</span> e <span class="keyword">in</span> cla_temp[i]], [e[<span class="number">1</span>] <span class="keyword">for</span> e <span class="keyword">in</span> cla_temp[i]], color=col[i])</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210215172842839.png"></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/15/k-means/">https://blog.jujimeizuo.cn/2021/02/15/k-means/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> deep-learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces237 E. Build String æœ€å°è´¹ç”¨æœ€å¤§æµ</title>
      <link href="/2021/02/15/codeforces237-e/"/>
      <url>/2021/02/15/codeforces237-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/237/problem/E">https://codeforces.com/contest/237/problem/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªæ¨¡å¼ä¸²Så’Œnä¸ªå­—ç¬¦ä¸²ï¼Œé—®èƒ½ä¸èƒ½åœ¨è¿™nä¸ªå­—ç¬¦ä¸²ä¸­é€‰å–å­—ç¬¦ä»è€Œç»„æˆä¸€ä¸ªSã€‚ åœ¨t_iä¸­å–ä¸€ä¸ªå­—ç¬¦çš„è´¹ç”¨ä¸ºiï¼Œæ¯ä¸ªå­—ç¬¦ä¸²æœ€å¤§å–å­—ç¬¦ä¸ªæ•°ä¸º$a_i$ã€‚</p><p>è‹¥èƒ½ç»„æˆï¼Œåˆ™è¾“å‡ºæœ€å°è´¹ç”¨ï¼Œå¦åˆ™è¾“å‡º-1.</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°è¿™ä¸ªè´¹ç”¨ï¼Œåœ¨è½¬åŒ–æˆç½‘ç»œæµæ¨¡å‹ï¼Œè¿™é¢˜å°±Aäº†ã€‚</p><p><strong>è®¾ç‚¹ï¼š</strong> è®¾æ¯ä¸ªå­—ç¬¦ä¸º1-26ï¼Œnä¸ªä¸²çš„ä¸º$26+i(i\epsilon n)$ã€‚æºç‚¹ä¸º0ï¼Œæ±‡ç‚¹ä¸ºn+26+1ã€‚</p><p><strong>å»ºè¾¹ï¼š</strong></p><ul><li>æºç‚¹è¿æ¥æ¯ä¸ªå­—ç¬¦add(s,i,num[i],0)ï¼Œå­—ç¬¦içš„ä¸ªæ•°ã€‚</li><li>æ¯ä¸ªå­—ç¬¦è¿æ¥nä¸ªå­—ç¬¦ä¸²add(i,j+26,mp[j][i],0)ï¼Œç¬¬jä¸ªå­—ç¬¦ä¸²ä¸­å­—ç¬¦içš„ä¸ªæ•°ã€‚</li><li>$ä¸ªå­—ç¬¦ä¸²è¿æ¥æ±‡ç‚¹ï¼Œadd(i+26,t,a[i],j)ï¼Œç¬¬jä¸ªå­—ç¬¦ä¸²ä¸­æœ€å¤§å¯å–å­—ç¬¦ä¸ªæ•°a[i]ï¼Œè´¹ç”¨ä¸ºjã€‚</li></ul><p>è·‘ä¸€éMCMFï¼Œåˆ¤æ–­æ˜¯å¦æ»¡æµï¼Œå³maxflow&#x3D;nï¼Œè¾“å‡ºmincostï¼Œå¦åˆ™è¾“å‡º-1ã€‚</p><h2 id="Codeï¼ˆ62MSï¼‰"><a href="#Codeï¼ˆ62MSï¼‰" class="headerlink" title="Codeï¼ˆ62MSï¼‰"></a>Codeï¼ˆ62MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> pb push_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> R = <span class="number">0.57721566490153286060651209</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1005</span>;      <span class="comment">//ç‚¹æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> from, to, cap, flow, cost;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Edge</span>(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> c, <span class="type">int</span> f, <span class="type">int</span> cc)</span><br><span class="line">            : <span class="built_in">from</span>(u), <span class="built_in">to</span>(v), <span class="built_in">cap</span>(c), <span class="built_in">flow</span>(f), <span class="built_in">cost</span>(cc) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MCMF</span> &#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    vector&lt;Edge&gt; edges;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; G[maxn];</span><br><span class="line">    <span class="type">int</span> inq[maxn];  <span class="comment">//æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line">    <span class="type">int</span> d[maxn];    <span class="comment">//bellmanford</span></span><br><span class="line">    <span class="type">int</span> p[maxn];    <span class="comment">//ä¸Šä¸€æ¡å¼§</span></span><br><span class="line">    <span class="type">int</span> a[maxn];    <span class="comment">//å¯æ”¹è¿›é‡</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;n = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; ++i) G[i].<span class="built_in">clear</span>();</span><br><span class="line">        edges.<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to, <span class="type">int</span> cap, <span class="type">int</span> cost)</span> </span>&#123;</span><br><span class="line">        edges.<span class="built_in">emplace_back</span>(<span class="built_in">Edge</span>(from, to, cap, <span class="number">0</span>, cost));</span><br><span class="line">        edges.<span class="built_in">emplace_back</span>(<span class="built_in">Edge</span>(to, from, <span class="number">0</span>, <span class="number">0</span>, -cost));</span><br><span class="line">        m = <span class="built_in">int</span>(edges.<span class="built_in">size</span>());</span><br><span class="line">        G[from].<span class="built_in">emplace_back</span>(m - <span class="number">2</span>);</span><br><span class="line">        G[to].<span class="built_in">emplace_back</span>(m - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">spfa</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span> t, <span class="type">int</span> &amp;flow, <span class="type">int</span> &amp;cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) d[i] = INF;</span><br><span class="line">        <span class="built_in">memset</span>(inq, <span class="number">0</span>, <span class="built_in">sizeof</span>(inq));</span><br><span class="line">        d[s] = <span class="number">0</span>;</span><br><span class="line">        inq[s] = <span class="number">1</span>;</span><br><span class="line">        p[s] = <span class="number">0</span>;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">        a[s] = INF;</span><br><span class="line">        q.<span class="built_in">push</span>(s);</span><br><span class="line">        <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> u = q.<span class="built_in">front</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line">            inq[u] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">int</span>(G[u].<span class="built_in">size</span>()); ++i) &#123;</span><br><span class="line">                Edge &amp;e = edges[G[u][i]];</span><br><span class="line">                <span class="keyword">if</span> (e.cap &gt; e.flow &amp;&amp; d[e.to] &gt; d[u] + e.cost) &#123;</span><br><span class="line">                    d[e.to] = d[u] + e.cost;</span><br><span class="line">                    p[e.to] = G[u][i];</span><br><span class="line">                    a[e.to] = <span class="built_in">min</span>(a[u], e.cap - e.flow);</span><br><span class="line">                    <span class="keyword">if</span> (!inq[e.to]) &#123;</span><br><span class="line">                        q.<span class="built_in">push</span>(e.to);</span><br><span class="line">                        inq[e.to] = <span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (d[t] == INF) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        flow += a[t];</span><br><span class="line">        cost += d[t] * a[t];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> u = t; u != s; u = edges[p[u]].from) &#123;</span><br><span class="line">            edges[p[u]].flow += a[t];</span><br><span class="line">            edges[p[u] ^ <span class="number">1</span>].flow -= a[t];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">MincostMaxflow</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span> t, <span class="type">int</span> &amp;cost)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> flow = <span class="number">0</span>;</span><br><span class="line">        cost = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">spfa</span>(s, t, flow, cost));</span><br><span class="line">        <span class="keyword">return</span> flow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; mcmf;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, mincost;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    string S; cin &gt;&gt; S;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; num, mp[n + <span class="number">1</span>];</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; S.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">        num[S[i] - <span class="string">&#x27;a&#x27;</span> + <span class="number">1</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        string T;</span><br><span class="line">        cin &gt;&gt; T &gt;&gt; a[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; T.<span class="built_in">length</span>(); j++) &#123;</span><br><span class="line">            mp[i][T[j] - <span class="string">&#x27;a&#x27;</span> + <span class="number">1</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>, t = n + <span class="number">26</span> + <span class="number">1</span>;</span><br><span class="line">    mcmf.<span class="built_in">init</span>(t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">26</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!num[i]) <span class="keyword">continue</span>;</span><br><span class="line">        mcmf.<span class="built_in">add</span>(s, i, num[i], <span class="number">0</span>); <span class="comment">// æºç‚¹è¿æ¥æ¯ä¸ªå­—ç¬¦ï¼Œæµé‡ä¸ºSä¸²æ¯ä¸ªå­—ç¬¦ç‚¹ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!mp[j][i]) <span class="keyword">continue</span>;</span><br><span class="line">            mcmf.<span class="built_in">add</span>(i, j + <span class="number">26</span>, mp[j][i], j); <span class="comment">// æ¯ä¸ªå­—ç¬¦è¿æ¥nä¸ªå­—ç¬¦ä¸²ï¼Œæµé‡ä¸ºè¯¥å­—ç¬¦ä¸²ä¸­içš„ä¸ªæ•°ï¼Œè´¹ç”¨ä¸ºè¡Œæ ‡j</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        mcmf.<span class="built_in">add</span>(i + <span class="number">26</span>, t, a[i], <span class="number">0</span>); <span class="comment">// æ¯ä¸ªå­—ç¬¦ä¸²è¿æ¥æ±‡ç‚¹ï¼Œæµé‡ä¸ºa[i]ï¼Œå³æœ€å¤§ä½¿ç”¨æ¬¡æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> maxflow = mcmf.<span class="built_in">MincostMaxflow</span>(s, t, mincost);</span><br><span class="line">    <span class="keyword">if</span>(maxflow == S.<span class="built_in">length</span>()) cout &lt;&lt; mincost &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/15/codeforces237-e/">https://blog.jujimeizuo.cn/2021/02/15/codeforces237-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces277 E. Binary Tree on Plane æœ€å°è´¹ç”¨æœ€å¤§æµ</title>
      <link href="/2021/02/15/codeforces277-e/"/>
      <url>/2021/02/15/codeforces277-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/277/problem/E">https://codeforces.com/contest/277/problem/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä½ å¹³é¢ä¸Š n ä¸ªç‚¹ (2â‰¤nâ‰¤400)ï¼Œè¦æ±‚ç”¨è¿™äº›ç‚¹ç»„æˆä¸€ä¸ªäºŒå‰æ ‘ã€‚ å®šä¹‰æ¯æ¡è¾¹çš„æƒå€¼ä¸ºä¸¤ä¸ªç‚¹ä¹‹é—´çš„æ¬§å‡ é‡Œå¾—è·ç¦»ã€‚æ±‚ä¸€ä¸ªæƒå€¼å’Œæœ€å°çš„äºŒå‰æ ‘ï¼Œå¹¶è¾“å‡ºã€‚ ç‚¹ i çš„ y åæ ‡æ¯” j çš„ y åæ ‡å¤§ï¼Œåˆ™ç‚¹iå¯ä»¥æˆä¸ºç‚¹jçš„çˆ¶äº²ã€‚ å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„äºŒå‰æ ‘ï¼Œè¾“å‡º âˆ’1 ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¦‚æœæ²¡æœ‰äºŒå‰æ ‘çš„é™åˆ¶ï¼Œé‚£ä¹ˆå°±æ˜¯æœ€å°ç”Ÿæˆæ ‘äº†ã€‚å¯ä»¥è€ƒè™‘ç½‘ç»œæµæ¨¡å‹ã€‚</p><hr><p>å¯¹äºä¸€ä¸ªäºŒå‰æ ‘ï¼Œä¸€ä¸ªæ ¹èŠ‚ç‚¹æœ€å¤šå¯ä»¥è¿æ¥ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯¹äºä¸€ä¸ªç‚¹iï¼Œè¿›è¡Œæ‹†ç‚¹ï¼Œæ‹†æˆæ ¹èŠ‚ç‚¹iå’Œå­èŠ‚ç‚¹n+iã€‚</p><p>å¯¹äºäºŒå‰æ ‘çš„è¾¹ï¼Œä¸€å®šæ˜¯æ ¹ç»“ç‚¹è¿æ¥å­èŠ‚ç‚¹ï¼Œæƒå€¼ä¸ºä¸¤ç‚¹çš„æ¬§å¼è·ç¦»ã€‚</p><p>æ ¹èŠ‚ç‚¹æœ€å¤š1ä¸ªï¼Œå­èŠ‚ç‚¹æœ€å¤šä¸¤ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬æ ¹æ®ä¸Šé¢æ‰€è¿°ï¼š add(ç‚¹iï¼Œç‚¹jï¼Œæµï¼Œè´¹ç”¨)</p><ul><li>æºç‚¹è¿æ¥å­èŠ‚ç‚¹-add(s, n + i, 2, 0)ï¼Œè¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚</li><li>æ ¹ç»“ç‚¹è¿æ¥æ±‡ç‚¹-add(i, t, 1, 0)ï¼Œè¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚</li><li>æ ¹èŠ‚ç‚¹è¿æ¥å­èŠ‚ç‚¹-add(n+i,j,1,Dis(i,j))ï¼Œè¡¨ç¤ºiå¯ä»¥æˆä¸ºjçš„æ ¹èŠ‚ç‚¹ã€‚</li></ul><p>è·‘ä¸€éMCMFï¼Œå¦‚æœæ»¡æµå³maxflow&#x3D;n-1ï¼Œåˆ™è¯¥äºŒå‰æ ‘å­˜åœ¨ï¼Œå¦åˆ™è¾“å‡º-1ã€‚</p><h2 id="Codeï¼ˆ467MSï¼‰"><a href="#Codeï¼ˆ467MSï¼‰" class="headerlink" title="Codeï¼ˆ467MSï¼‰"></a>Codeï¼ˆ467MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> pb push_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> R = <span class="number">0.57721566490153286060651209</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1005</span>;      <span class="comment">//ç‚¹æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> from, to, cap, flow;</span><br><span class="line">    <span class="type">double</span> cost;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Edge</span>(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> c, <span class="type">int</span> f, <span class="type">double</span> cc)</span><br><span class="line">            : <span class="built_in">from</span>(u), <span class="built_in">to</span>(v), <span class="built_in">cap</span>(c), <span class="built_in">flow</span>(f), <span class="built_in">cost</span>(cc) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MCMF</span> &#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    vector&lt;Edge&gt; edges;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; G[maxn];</span><br><span class="line">    <span class="type">int</span> inq[maxn];  <span class="comment">//æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line">    <span class="type">double</span> d[maxn];    <span class="comment">//bellmanford</span></span><br><span class="line">    <span class="type">int</span> p[maxn];    <span class="comment">//ä¸Šä¸€æ¡å¼§</span></span><br><span class="line">    <span class="type">int</span> a[maxn];    <span class="comment">//å¯æ”¹è¿›é‡</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;n = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; ++i) G[i].<span class="built_in">clear</span>();</span><br><span class="line">        edges.<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to, <span class="type">int</span> cap, <span class="type">double</span> cost)</span> </span>&#123;</span><br><span class="line">        edges.<span class="built_in">emplace_back</span>(<span class="built_in">Edge</span>(from, to, cap, <span class="number">0</span>, cost));</span><br><span class="line">        edges.<span class="built_in">emplace_back</span>(<span class="built_in">Edge</span>(to, from, <span class="number">0</span>, <span class="number">0</span>, -cost));</span><br><span class="line">        m = <span class="built_in">int</span>(edges.<span class="built_in">size</span>());</span><br><span class="line">        G[from].<span class="built_in">emplace_back</span>(m - <span class="number">2</span>);</span><br><span class="line">        G[to].<span class="built_in">emplace_back</span>(m - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">spfa</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span> t, <span class="type">int</span> &amp;flow, <span class="type">double</span> &amp;cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) d[i] = INF;</span><br><span class="line">        <span class="built_in">memset</span>(inq, <span class="number">0</span>, <span class="built_in">sizeof</span>(inq));</span><br><span class="line">        d[s] = <span class="number">0</span>;</span><br><span class="line">        inq[s] = <span class="number">1</span>;</span><br><span class="line">        p[s] = <span class="number">0</span>;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">        a[s] = INF;</span><br><span class="line">        q.<span class="built_in">push</span>(s);</span><br><span class="line">        <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> u = q.<span class="built_in">front</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line">            inq[u] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">int</span>(G[u].<span class="built_in">size</span>()); ++i) &#123;</span><br><span class="line">                Edge &amp;e = edges[G[u][i]];</span><br><span class="line">                <span class="keyword">if</span> (e.cap &gt; e.flow &amp;&amp; d[e.to] &gt; d[u] + e.cost) &#123;</span><br><span class="line">                    d[e.to] = d[u] + e.cost;</span><br><span class="line">                    p[e.to] = G[u][i];</span><br><span class="line">                    a[e.to] = <span class="built_in">min</span>(a[u], e.cap - e.flow);</span><br><span class="line">                    <span class="keyword">if</span> (!inq[e.to]) &#123;</span><br><span class="line">                        q.<span class="built_in">push</span>(e.to);</span><br><span class="line">                        inq[e.to] = <span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (d[t] == INF) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        flow += a[t];</span><br><span class="line">        cost += d[t] * a[t];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> u = t; u != s; u = edges[p[u]].from) &#123;</span><br><span class="line">            edges[p[u]].flow += a[t];</span><br><span class="line">            edges[p[u] ^ <span class="number">1</span>].flow -= a[t];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">MincostMaxflow</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span> t, <span class="type">double</span> &amp;cost)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> flow = <span class="number">0</span>;</span><br><span class="line">        cost = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">spfa</span>(s, t, flow, cost));</span><br><span class="line">        <span class="keyword">return</span> flow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; mcmf;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Dis</span><span class="params">(pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; a, pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>(((a.first - b.first) * (a.first - b.first)) + (a.second - b.second) * (a.second - b.second));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; a, pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.second == b.second ? a.first &lt; b.first : a.second &gt; b.second;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    mcmf.<span class="built_in">init</span>(<span class="number">2</span> * n + <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>, t = <span class="number">2</span> * n + <span class="number">1</span>;</span><br><span class="line">    pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; p[maxn];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf&quot;</span>,&amp;p[i].first, &amp;p[i].second);</span><br><span class="line">        mcmf.<span class="built_in">addEdge</span>(s, n + i, <span class="number">2</span>, <span class="number">0</span>); <span class="comment">// æºç‚¹è¿æ¥å­èŠ‚ç‚¹</span></span><br><span class="line">        mcmf.<span class="built_in">addEdge</span>(i, t, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">// æ ¹èŠ‚ç‚¹è¿æ¥æ±‡ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(p + <span class="number">1</span>, p + n + <span class="number">1</span>, cmp);</span><br><span class="line">    <span class="keyword">if</span>(p[<span class="number">1</span>].second == p[<span class="number">2</span>].second) &#123; <span class="comment">// ä¸¤ä¸ªæ ¹ç»“ç‚¹ï¼Ÿä¸å­˜åœ¨çš„</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>;j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(p[i].second == p[j].second) <span class="keyword">continue</span>;</span><br><span class="line">            mcmf.<span class="built_in">addEdge</span>(n + i, j, <span class="number">1</span>, <span class="built_in">Dis</span>(p[i], p[j]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> mincost;</span><br><span class="line">    <span class="keyword">auto</span> ans = mcmf.<span class="built_in">MincostMaxflow</span>(s, t, mincost);</span><br><span class="line">    <span class="keyword">if</span>(ans == n - <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;%.8lf\n&quot;</span>,mincost);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/15/codeforces277-e/">https://blog.jujimeizuo.cn/2021/02/15/codeforces277-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/02/13/codeforces-round-701-d/"/>
      <url>/2021/02/13/codeforces-round-701-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1485/problem/D">https://codeforces.com/contest/1485/problem/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªn*mçš„çŸ©é˜µï¼Œæ¯ä¸€ä½æ•°éƒ½èƒ½ä¹˜ä»»æ„å€æ•°ï¼Œä¸”è¦æ»¡è¶³ç›¸é‚»æ•°çš„å·®ç»å¯¹å€¼æ˜¯$k^4(k \ge 1)$ï¼Œè¾“å‡ºæ„é€ å®Œçš„çŸ©é˜µï¼Œå¹¶ä¸”æ„é€ ä¹‹åçš„æ¯ä¸€ä½æ•°éƒ½ä¸èƒ½å¤§äº1e6ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¿™é¢˜åªè¦æƒ³åˆ°äº†å°±æ²¡ä»€ä¹ˆéš¾åº¦ï¼Œæ„Ÿè§‰è¿˜æ²¡æœ‰Cé¢˜æ¨çš„çˆ½ã€‚</p><p>æ¯ä¸€ä½éƒ½$\leq 16$ï¼Œè¿™å¾ˆé‡è¦ã€‚ä»–ä»¬çš„lcmä¸ä¼šå¤ªå¤§ï¼Œæœ€å¤§ä¸º$2*3*5*7*11*13$ã€‚</p><p>å½“kå¯ä»¥ä¸º0çš„æ—¶å€™ï¼Œç›´æ¥è¾“å‡ºlcmï¼Œç›¸é‚»å·®ä¸º$0^4$.</p><p>ä½†æ˜¯$k \ge 1$ï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä»¬éš”é¡¹+$a[i][j]^4$å°±è¡Œï¼Œè¿™æ ·ç›¸é‚»å·®ä¸º$a[i][j]^4$ã€‚</p><h2 id="Codeï¼ˆ124MSï¼‰"><a href="#Codeï¼ˆ124MSï¼‰" class="headerlink" title="Codeï¼ˆ124MSï¼‰"></a>Codeï¼ˆ124MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">ll a[<span class="number">505</span>][<span class="number">505</span>];</span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    ll g;</span><br><span class="line">    ll sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            cin &gt;&gt; a[i][j];</span><br><span class="line">            sum *= a[i][j];</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; j == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; j == <span class="number">2</span>)&#123;</span><br><span class="line">                g = a[<span class="number">1</span>][<span class="number">1</span>] * a[<span class="number">1</span>][<span class="number">2</span>] / <span class="built_in">gcd</span>(a[<span class="number">1</span>][<span class="number">1</span>], a[<span class="number">2</span>][<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                g = g * a[i][j] / <span class="built_in">gcd</span>(g, a[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((i + j) &amp; <span class="number">1</span>) cout &lt;&lt; g &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; g + a[i][j] * a[i][j] * a[i][j] * a[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/13/codeforces-round-701-d/">https://blog.jujimeizuo.cn/2021/02/13/codeforces-round-701-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/02/13/codeforces-round-701-c/"/>
      <url>/2021/02/13/codeforces-round-701-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/1485/problem/C">https://codeforces.com/contest/1485/problem/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$ç»™ä¸€ä¸ªxå’Œyï¼Œæ±‚\left \lfloor \frac{a}{b}\right \rfloor &#x3D;a\;mod\;bæˆç«‹çš„ä¸ªæ•°ã€‚$ $1\leq a \leq x\;\;\;1\leq b \leq y$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ˜¾ç„¶è¿™é¢˜æ˜¯å›´ç»•$\left \lfloor \frac{a}{b}\right \rfloor &#x3D;a\;mod\;b.$ æ²¡æœ‰é™åˆ¶çš„è¯ï¼Œä¼šæœ‰b-1ä¸ªï¼ˆ0ä¸å­˜åœ¨ï¼‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ‰‹æ¨å‡º$\frac{3}{2},\frac{4}{3}$éƒ½å¯ä»¥ï¼Œå¹¶ä¸”$\frac{8}{3}$ä¹Ÿå¯ä»¥ã€‚ æ‰€ä»¥$\frac{b+1}{b}&#x3D;1ï¼Œ\frac{2(b+1)}{b}&#x3D;2$ç­‰ç­‰ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¾—å‡ºæ¥$\frac{k(b+1)}{b}&#x3D;k&#x3D;a\;mod\;bã€‚k(b+1)\leq a$</p><p>æšä¸¾bï¼Œä½†æ˜¯é¢˜ç›®æ˜¯æœ‰é™åˆ¶æ¡ä»¶çš„ï¼Œå–minå°±è¡Œã€‚</p><p>$$\sum_{i&#x3D;2}^bmin(i-1,\frac{a}{i+1})$$</p><p>é¦–å…ˆè¦ç®—ä¸€ä¸‹ä¸­é—´å€¼$i-1&#x3D;\frac{a}{i+1},i&#x3D;\sqrt{a+1}$ï¼Œæœ€åå¾—ï¼š</p><p>$$\sum_{i&#x3D;2}^{\sqrt{a+1}}i-1+\sum_{i&#x3D;\sqrt{a+1}+1}^b\frac{a}{i+1}$$</p><p>å‰åŠéƒ¨åˆ†å°±ç­‰å·®æ•°åˆ—æ±‚å’Œï¼ŒååŠéƒ¨åˆ†æ•´é™¤åˆ†å—å³å¯ã€‚</p><h2 id="Codeï¼ˆ62MSï¼‰"><a href="#Codeï¼ˆ62MSï¼‰" class="headerlink" title="Codeï¼ˆ62MSï¼‰"></a>Codeï¼ˆ62MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"> <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll a, b; cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        ll t = <span class="built_in">sqrt</span>(a + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(t &gt; b) &#123;</span><br><span class="line">            t = b;</span><br><span class="line">            ans += t * (t - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            ans += t * (t - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">for</span> (ll l = t + <span class="number">1</span>, r; l &lt;= <span class="built_in">min</span>(a, b); l = r + <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (a / (l + <span class="number">1</span>) == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">else</span> r = <span class="built_in">min</span>(b, <span class="built_in">min</span>(a, a / (a / (l + <span class="number">1</span>)) - <span class="number">1</span>));</span><br><span class="line">                ans += (r - l + <span class="number">1</span>) * (a / (l + <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/13/codeforces-round-701-c/">https://blog.jujimeizuo.cn/2021/02/13/codeforces-round-701-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/02/05/codeforces-round-290-div-1-c/"/>
      <url>/2021/02/05/codeforces-round-290-div-1-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/512/problem/C">https://codeforces.com/contest/512/problem/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªæ•°ï¼Œé—®èƒ½ä¸èƒ½æŠŠnä¸ªæ•°åˆ†æˆkæ¡Œï¼Œä¸”è¦æ±‚å¦‚ä¸‹</p><ul><li>æ¯æ¡Œè‡³å°‘3ä¸ªæ•°ä»¥ä¸Š</li><li>ä¸€æ¡Œä¸Šç›¸é‚»çš„æ•°ç›¸åŠ ä¸ºç´ æ•°</li></ul><p>é—®èƒ½ä¸èƒ½æ„é€ å‡ºkæ¡Œï¼Œèƒ½åˆ™è¾“å‡ºï¼Œå¦åˆ™è¾“å‡º-1.</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¢˜ç›®è¦æ±‚ç›¸è¿çš„æ•°ç›¸åŠ ä¸ºç´ æ•°ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œè¿™ä¸¤ä¸ªæ•°ä¸€å®šæ˜¯ä¸€å¥‡ä¸€å¶ã€‚ è€Œå¥‡æ•°ç›¸é‚»ä¸¤ä¸ªä¸€å®šæ˜¯å¶æ•°ï¼Œå¶æ•°ç›¸é‚»ä¸¤ä¸ªä¸€å®šæ˜¯å¥‡æ•°ã€‚æ‰€ä»¥å¯ä»¥å»ºç«‹ç½‘ç»œæµæ¨¡å‹ã€‚</p><p>å…ˆåˆ¤æ–­ä¸¤ä¸ªæ•°ç›¸åŠ æ˜¯å¦ä¸ºç´ æ•°ï¼Œæ˜¯çš„è¯å°±å°†å¥‡æ•°å‘å¶æ•°è¿ä¸€æ¡æœ‰å‘è¾¹ï¼Œå¹¶ä¸”å®¹é‡ä¸º1ã€‚ è€Œè¿™ä¸ªå¥‡æ•°å¯ä»¥è¿æ¥ä¸¤ä¸ªå¶æ•°ï¼Œæ‰€ä»¥å°†æºç‚¹å‘è¿™ä¸ªå¥‡æ•°è¿æ¥ä¸€æ¡æœ‰å‘è¾¹ï¼Œå®¹é‡ä¸º2ã€‚ åŒæ ·ï¼Œæ¯ä¸ªå¶æ•°éƒ½è¦å‘æ±‡ç‚¹è¿æ¥ä¸€æ¡æœ‰å‘è¾¹ï¼Œå®¹é‡ä¸º2ã€‚</p><p>è·‘ä¸€éæœ€å¤§æµï¼Œå¦‚æœæœ€å¤§æµ&#x3D;nï¼Œåˆ™æ˜¯å¯ä»¥å¾—åˆ°kæ¡Œã€‚åœ¨æ®‹ç•™ç½‘ç»œä¸Šè·‘ä¸€éDFSå³å¯ã€‚</p><p>æ³¨æ„ï¼šnä¸ºå¥‡æ•°ä¸€å®šæ˜¯ä¸å­˜åœ¨ã€‚</p><h2 id="Codeï¼ˆ30MSï¼‰"><a href="#Codeï¼ˆ30MSï¼‰" class="headerlink" title="Codeï¼ˆ30MSï¼‰"></a>Codeï¼ˆ30MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"> <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">405</span>, M = <span class="number">10005</span>;</span><br><span class="line"><span class="type">int</span> n, m, s, t;</span><br><span class="line"><span class="type">int</span> maxflow;</span><br><span class="line"><span class="type">int</span> deep[N], cur[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next, cap;</span><br><span class="line">&#125;e[M &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> head[M &lt;&lt; <span class="number">1</span>], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">mem</span>(head, <span class="number">-1</span>);</span><br><span class="line">    cnt = maxflow = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> cap)</span> </span>&#123;</span><br><span class="line">    e[cnt].v = v;</span><br><span class="line">    e[cnt].cap = cap;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line"></span><br><span class="line">    e[cnt].v = u;</span><br><span class="line">    e[cnt].cap = <span class="number">0</span>;</span><br><span class="line">    e[cnt].next = head[v];</span><br><span class="line">    head[v] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= t; i++) &#123;</span><br><span class="line">        deep[i] = <span class="number">-1</span>; cur[i] = head[i];</span><br><span class="line">    &#125;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(s); deep[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = q.<span class="built_in">front</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">            <span class="type">int</span> v = e[i].v;</span><br><span class="line">            <span class="keyword">if</span>(deep[v] == <span class="number">-1</span> &amp;&amp; e[i].cap) &#123;</span><br><span class="line">                deep[v] = deep[u] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(deep[t] &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> mx)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">if</span>(u == t) <span class="keyword">return</span> mx;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = cur[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">        cur[u] = i;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(e[i].cap &amp;&amp; deep[v] == deep[u] + <span class="number">1</span> &amp;&amp; (a = <span class="built_in">dfs</span>(v, <span class="built_in">min</span>(mx, e[i].cap)))) &#123;</span><br><span class="line">            e[i].cap -= a;</span><br><span class="line">            e[i ^ <span class="number">1</span>].cap += a;</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dinic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">bfs</span>()) &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">            res = <span class="built_in">dfs</span>(s, INF);</span><br><span class="line">            <span class="keyword">if</span>(!res) <span class="keyword">break</span>;</span><br><span class="line">            maxflow += res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">4e4</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">bool</span> is_prime[maxn];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; maxn; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_prime[i]) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + i;j &lt; maxn; j += i) &#123;</span><br><span class="line">                is_prime[j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; ans[N];</span><br><span class="line"><span class="type">bool</span> vis[N];</span><br><span class="line"><span class="type">int</span> ver;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DFS</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    vis[u] = <span class="number">1</span>;</span><br><span class="line">    ans[ver].<span class="built_in">push_back</span>(u); <span class="type">int</span> v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">        <span class="keyword">if</span>(e[i].cap) <span class="keyword">continue</span>;</span><br><span class="line">        v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(vis[v]) <span class="keyword">continue</span>;</span><br><span class="line">        vis[v] = <span class="number">1</span>;</span><br><span class="line">        ans[ver].<span class="built_in">push_back</span>(v);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[v]; ~i; i = e[i].next) &#123;</span><br><span class="line">        <span class="keyword">if</span>(e[i ^ <span class="number">1</span>].cap) <span class="keyword">continue</span>;</span><br><span class="line">        v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(vis[v]) <span class="keyword">continue</span>;</span><br><span class="line">        vis[v] = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">DFS</span>(v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">405</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">sieve</span>();</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">if</span>(n &amp; <span class="number">1</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    s = <span class="number">0</span>; t = n + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        <span class="keyword">if</span>(a[i] &amp; <span class="number">1</span>) <span class="built_in">add</span>(s, i, <span class="number">2</span>); <span class="comment">// æºç‚¹è¿æ¥å¥‡æ•°</span></span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">add</span>(i, t, <span class="number">2</span>); <span class="comment">// å¶æ•°è¿æ¥æ±‡ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!is_prime[a[i] + a[j]]) &#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i] &amp; <span class="number">1</span>)</span><br><span class="line">                    <span class="built_in">add</span>(i, j, <span class="number">1</span>); <span class="comment">// å¥‡æ•°è¿æ¥å¶æ•°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dinic</span>();</span><br><span class="line">    <span class="keyword">if</span>(maxflow != n) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!vis[i] &amp;&amp; (a[i] &amp; <span class="number">1</span>)) &#123;</span><br><span class="line">            <span class="built_in">DFS</span>(i); <span class="comment">// æœç´¢æ¯ä¸€æ¡Œ</span></span><br><span class="line">            ver++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ver &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; ver; i++) &#123;</span><br><span class="line">        cout &lt;&lt; ans[i].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; ans[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; ans[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/05/codeforces-round-290-div-1-c/">https://blog.jujimeizuo.cn/2021/02/05/codeforces-round-290-div-1-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces653D Delivery Bears äºŒåˆ†ç­”æ¡ˆ+æœ€å¤§æµ</title>
      <link href="/2021/02/04/codeforces653d/"/>
      <url>/2021/02/04/codeforces653d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/653/problem/D">https://codeforces.com/contest/653/problem/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªnä¸ªç‚¹mæ¡è¾¹çš„æœ‰å‘å›¾ï¼Œæ¯æ¡è¾¹éƒ½æœ‰æœ€å¤§çš„è´§ç‰©é€šé“ï¼Œæœ‰xä¸ªå·¥äººï¼Œæ¯ä¸ªå·¥äººéƒ½å¯ä»¥æ‹¿åŒæ ·é‡é‡çš„è´§ç‰©ï¼Œé—®èµ°å®Œè¿™ä¸ªå›¾ä¹‹åå¯ä»¥å¾—åˆ°æœ€å¤šå¤šå°‘é‡é‡çš„è´§ç‰©ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æˆ‘ä»¬ä¸çŸ¥é“å·¥äººçš„æµå‘ï¼Œå› ä¸ºä¼šæœ‰æµé‡é™åˆ¶ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆç¡®å®šè´§ç‰©æ˜¯å¤šå°‘ï¼Œç„¶åå°±çŸ¥é“æ¯æ¡è¾¹å¯ä»¥é€šè¿‡å¤šå°‘ä¸ªå·¥äººã€‚</p><p>è®¾é‡é‡ä¸ºwï¼Œåˆ™æ¯æ¡è¾¹é€šè¿‡äººæ•°ä¸º$min(x,cap[i]&#x2F;w)$ï¼Œè·‘ä¸€ä¸‹æœ€å¤§æµï¼Œæ£€æŸ¥åˆ°è¾¾æ±‡ç‚¹çš„å·¥äººæ•°æ˜¯ä¸æ˜¯æœ€å¤§æµã€‚</p><p>è€Œè¿™ä¸ªè´§ç‰©é‡é‡wæˆ‘ä»¬å¯ä»¥é€šè¿‡äºŒåˆ†å¾—å‡ºã€‚</p><h2 id="Codeï¼ˆ31MSï¼‰"><a href="#Codeï¼ˆ31MSï¼‰" class="headerlink" title="Codeï¼ˆ31MSï¼‰"></a>Codeï¼ˆ31MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">105</span>, M = <span class="number">1005</span>;</span><br><span class="line"><span class="type">int</span> n, m, s, t, x;</span><br><span class="line"><span class="type">int</span> maxflow;</span><br><span class="line"><span class="type">int</span> deep[N], cur[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">    <span class="type">int</span> cap;</span><br><span class="line">&#125; e[M &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> head[M &lt;&lt; <span class="number">1</span>], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">mem</span>(head, <span class="number">-1</span>);</span><br><span class="line">    cnt = maxflow = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> cap)</span> </span>&#123;</span><br><span class="line">    e[cnt].v = v;</span><br><span class="line">    e[cnt].cap = cap;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line"></span><br><span class="line">    e[cnt].v = u;</span><br><span class="line">    e[cnt].cap = <span class="number">0</span>;</span><br><span class="line">    e[cnt].next = head[v];</span><br><span class="line">    head[v] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= t; i++) &#123;</span><br><span class="line">        deep[i] = <span class="number">-1</span>;</span><br><span class="line">        cur[i] = head[i];</span><br><span class="line">    &#125;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(s);</span><br><span class="line">    deep[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">            <span class="type">int</span> v = e[i].v;</span><br><span class="line">            <span class="keyword">if</span> (deep[v] == <span class="number">-1</span> &amp;&amp; e[i].cap) &#123;</span><br><span class="line">                deep[v] = deep[u] + <span class="number">1</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (deep[t] &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> mx)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">if</span> (u == t) <span class="keyword">return</span> mx;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = cur[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">        cur[u] = i;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span> (e[i].cap &amp;&amp; deep[v] == deep[u] + <span class="number">1</span> &amp;&amp; (a = <span class="built_in">dfs</span>(v, <span class="built_in">min</span>(mx, e[i].cap)))) &#123;</span><br><span class="line">            e[i].cap -= a;</span><br><span class="line">            e[i ^ <span class="number">1</span>].cap += a;</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dinic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">bfs</span>()) &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">            res = <span class="built_in">dfs</span>(s, INF);</span><br><span class="line">            <span class="keyword">if</span> (!res) <span class="keyword">break</span>;</span><br><span class="line">            maxflow += res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> u[M &lt;&lt; <span class="number">1</span>], v[M &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> cap[M &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">judge</span><span class="params">(<span class="type">double</span> w)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="built_in">add</span>(u[i], v[i], (<span class="type">int</span>)<span class="built_in">min</span>(<span class="number">1.0</span> * x, cap[i] / w));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dinic</span>();</span><br><span class="line">    <span class="keyword">if</span> (maxflow &gt;= x) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; x;</span><br><span class="line">    s = <span class="number">1</span>; t = n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        cin &gt;&gt; u[i] &gt;&gt; v[i] &gt;&gt; cap[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> l = <span class="number">0</span>, r = <span class="number">1e18</span>;</span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">        <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">judge</span>(mid)) &#123;</span><br><span class="line">            ans = mid;</span><br><span class="line">            l = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">10</span>) &lt;&lt; ans * x &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/04/codeforces653d/">https://blog.jujimeizuo.cn/2021/02/04/codeforces653d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 6808 Go Running äºŒåˆ†å›¾æœ€å°ç‚¹è¦†ç›–</title>
      <link href="/2021/02/04/hdu-6808/"/>
      <url>/2021/02/04/hdu-6808/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6808">http://acm.hdu.edu.cn/showproblem.php?pid=6808</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ:"></a>å‚è€ƒ:</h2><p><a href="https://blog.csdn.net/kaka03200/article/details/107711487">https://blog.csdn.net/kaka03200/article/details/107711487</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>åœ¨ä¸€æ¡è·‘é“ä¸Šï¼Œæœ‰nä¸ªæ—¶é—´ï¼Œåœ¨æ¯ä¸ªæ—¶é—´é‡Œä¸€ä¸ªäººçš„ä½ç½®åœ¨xå¤„ï¼Œæ¯ä¸ªäººå¯ä»¥å¾€å·¦æˆ–è€…å¾€å³è·‘ï¼Œé—®æ¨æ–­å‡ºæœ€å°‘æœ‰å¤šå°‘äººï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p><strong>è¿™é¢˜ä¸æ˜¯è´ªå¿ƒï¼ï¼ï¼</strong></p><p>æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªt-xåæ ‡ç³»ï¼Œæ¨ªåæ ‡ä¸ºæ—¶é—´ï¼Œçºµåæ ‡ä¸ºä½ç½®xã€‚ æ‰€ä»¥å·¦å³è·‘çš„æ¦‚å¿µç­‰ä»·äºæ–œç‡ä¸º1æˆ–-1çš„ç›´çº¿ï¼Œæ‰€ä»¥è¦æ±‚çš„å°±æ˜¯æœ€å°‘å¤šå°‘æ¡çº¿å¯ä»¥è¦†ç›–æ‰€æœ‰çš„ç‚¹ã€‚</p><p>æ¯ä¸ªç‚¹ç»è¿‡-1æˆ–1æ–œç‡çš„ç›´çº¿éƒ½å¯ä»¥å¾—åˆ°åœ¨yè½´ä¸Šçš„æˆªè·ã€‚ æˆ‘ä»¬å°†è¿™ä¸¤ä¸ªç‚¹è¿æ¥ï¼Œè¯´æ˜å¯ä»¥é€šè¿‡ä¸€æ¡è¾¹å°±å¯ä»¥è¿æ¥è¿™ä¸¤ä¸ªç‚¹ï¼ˆåŒä¸€ç‚¹è€Œå·²ï¼‰ã€‚</p><p>æ‰€ä»¥å»ºå›¾å®Œæˆä¹‹åï¼Œç”¨åŒˆç‰™åˆ©ç®—æ³•è·‘æœ€å¤§åŒ¹é…å³å¯ã€‚$</p><p>ä½†æ˜¯è¿™é¢˜næœ‰1e5ï¼ˆå¯ä»¥å…ˆç¦»æ•£åŒ–ï¼‰ï¼Œæ‰€ä»¥åŒˆç‰™åˆ©ä¼šTï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä»¬ç”¨Dinicè·‘æœ€å¤§æµä¹Ÿè¡Œã€‚ ä¸è¿‡è¦åœ¨åŸæ¥çš„äºŒåˆ†å›¾ä¸­åŠ æºç‚¹å’Œæ±‡ç‚¹ï¼Œå¹¶ä¸”å»ºè¾¹ã€‚</p><h2 id="Codeï¼ˆ1326MSï¼‰"><a href="#Codeï¼ˆ1326MSï¼‰" class="headerlink" title="Codeï¼ˆ1326MSï¼‰"></a>Codeï¼ˆ1326MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Dinic</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>, M = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> n, m, s, t, maxflow;</span><br><span class="line">    <span class="type">int</span> deep[N], cur[N];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">        <span class="type">int</span> v, next;</span><br><span class="line">        <span class="type">int</span> cap;</span><br><span class="line">    &#125;e[M &lt;&lt; <span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> head[M &lt;&lt; <span class="number">1</span>], cnt;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">mem</span>(head, <span class="number">-1</span>);</span><br><span class="line">        cnt = maxflow = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> cap)</span> </span>&#123;</span><br><span class="line">        e[cnt].v = v;</span><br><span class="line">        e[cnt].cap = cap;</span><br><span class="line">        e[cnt].next = head[u];</span><br><span class="line">        head[u] = cnt++;</span><br><span class="line"></span><br><span class="line">        e[cnt].v = u;</span><br><span class="line">        e[cnt].cap = <span class="number">0</span>;</span><br><span class="line">        e[cnt].next = head[v];</span><br><span class="line">        head[v] = cnt++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= t; i++) &#123;</span><br><span class="line">            deep[i] = <span class="number">-1</span>; cur[i] = head[i];</span><br><span class="line">        &#125;</span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">        q.<span class="built_in">push</span>(s); deep[s] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> u = q.<span class="built_in">front</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">                <span class="type">int</span> v = e[i].v;</span><br><span class="line">                <span class="keyword">if</span>(deep[v] == <span class="number">-1</span> &amp;&amp; e[i].cap) &#123;</span><br><span class="line">                    deep[v] = deep[u] + <span class="number">1</span>;</span><br><span class="line">                    q.<span class="built_in">push</span>(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(deep[t] &gt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> mx)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> a;</span><br><span class="line">        <span class="keyword">if</span>(u == t) <span class="keyword">return</span> mx;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = cur[u]; ~i; i = e[i].next) &#123;</span><br><span class="line">            cur[u] = i;</span><br><span class="line">            <span class="type">int</span> v = e[i].v;</span><br><span class="line">            <span class="keyword">if</span>(e[i].cap &amp;&amp; deep[v] == deep[u] + <span class="number">1</span> &amp;&amp; (a = <span class="built_in">dfs</span>(v, <span class="built_in">min</span>(mx, e[i].cap)))) &#123;</span><br><span class="line">                e[i].cap -= a;</span><br><span class="line">                e[i ^ <span class="number">1</span>].cap += a;</span><br><span class="line">                <span class="keyword">return</span> a;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dinic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res;</span><br><span class="line">        <span class="keyword">while</span>(<span class="built_in">bfs</span>()) &#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">                res = <span class="built_in">dfs</span>(s, INF);</span><br><span class="line">                <span class="keyword">if</span>(!res) <span class="keyword">break</span>;</span><br><span class="line">                maxflow += res;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;mf;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        mf.<span class="built_in">init</span>();</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; v1, v2;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">x</span><span class="params">(n)</span>, <span class="title">y</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> a, b; cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">            x[i] = a + b; y[i] = a - b;</span><br><span class="line">            v1.<span class="built_in">push_back</span>(x[i]);</span><br><span class="line">            v2.<span class="built_in">push_back</span>(y[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>());</span><br><span class="line">        v1.<span class="built_in">erase</span>(<span class="built_in">unique</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>()), v1.<span class="built_in">end</span>());</span><br><span class="line">        v2.<span class="built_in">erase</span>(<span class="built_in">unique</span>(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>()), v2.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> len = v1.<span class="built_in">size</span>();</span><br><span class="line">        mf.s = <span class="number">0</span>; mf.t = v1.<span class="built_in">size</span>() + v2.<span class="built_in">size</span>() + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= len; i++) &#123; <span class="comment">// æºç‚¹ä¸å·¦</span></span><br><span class="line">            mf.<span class="built_in">add</span>(mf.s, i, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = len + <span class="number">1</span>;i &lt;= mf.t - <span class="number">1</span>; i++) &#123; <span class="comment">// å³ä¸æ±‡ç‚¹</span></span><br><span class="line">            mf.<span class="built_in">add</span>(i, mf.t, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123; <span class="comment">// æ‹†ç‚¹å»ºå›¾</span></span><br><span class="line">            <span class="type">int</span> u = <span class="built_in">lower_bound</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), x[i]) - v1.<span class="built_in">begin</span>() + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> v = <span class="built_in">lower_bound</span>(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), y[i]) - v2.<span class="built_in">begin</span>() + <span class="number">1</span>;</span><br><span class="line">            mf.<span class="built_in">add</span>(u, v + len, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        mf.<span class="built_in">dinic</span>();</span><br><span class="line">        cout &lt;&lt; mf.maxflow &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/04/hdu-6808/">https://blog.jujimeizuo.cn/2021/02/04/hdu-6808/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬äºŒåœºã€‘Fé¢˜ ç‰›ç‰›ä¸äº¤æ¢æ’åº å¹³è¡¡æ ‘åŒºé—´ç¿»è½¬</title>
      <link href="/2021/02/03/2021-nowcoder-hanjia-2-f/"/>
      <url>/2021/02/03/2021-nowcoder-hanjia-2-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9982/F">https://ac.nowcoder.com/acm/contest/9982/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªåºåˆ—ï¼Œè®©ä½ æ‰¾ä¸€ä¸ªkï¼Œkä»£è¡¨åŒºé—´ï¼Œä»å·¦åˆ°å³å¯ä»¥å°†åŒºé—´ç¿»è½¬ï¼Œé—®å¯ä»¥ä¸å¯ä»¥å°†æ•´ä¸ªåºåˆ—å‡åºæ’åˆ—ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>èµ›ä¸­çš„è¿™é“é¢˜ï¼Œå¤§å¤šæ•°éƒ½æ˜¯æš´åŠ›è¿‡çš„ï¼Œå¯èƒ½æ˜¯æ•°æ®å¤ªå¼±äº†ã€‚</p><p>ä¸€å¼€å§‹å°±èƒ½æƒ³åˆ°çš„å°±æ˜¯splayåŒºé—´ç¿»è½¬äº†ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n, cnt, root;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> ch[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> val, fa;</span><br><span class="line">    <span class="type">int</span> siz, tag;</span><br><span class="line">&#125; t[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    t[x].siz = t[t[x].ch[<span class="number">0</span>]].siz + t[t[x].ch[<span class="number">1</span>]].siz + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_down</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &amp;&amp; t[x].tag) &#123;</span><br><span class="line">        t[t[x].ch[<span class="number">0</span>]].tag ^= <span class="number">1</span>;</span><br><span class="line">        t[t[x].ch[<span class="number">1</span>]].tag ^= <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">swap</span>(t[x].ch[<span class="number">0</span>], t[x].ch[<span class="number">1</span>]);</span><br><span class="line">        t[x].tag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">id</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x == t[t[x].fa].ch[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">connect</span><span class="params">(<span class="type">int</span> fa, <span class="type">int</span> x, <span class="type">int</span> d)</span> </span>&#123;</span><br><span class="line">    t[x].fa = fa;</span><br><span class="line">    t[fa].ch[d] = x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">rotate</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> f = t[x].fa;</span><br><span class="line">    <span class="type">int</span> ff = t[f].fa;</span><br><span class="line">    <span class="built_in">push_down</span>(x);</span><br><span class="line">    <span class="built_in">push_down</span>(f);</span><br><span class="line">    <span class="type">int</span> fson = <span class="built_in">id</span>(x);</span><br><span class="line">    <span class="type">int</span> ffson = <span class="built_in">id</span>(f);</span><br><span class="line">    <span class="type">int</span> son = t[x].ch[fson ^ <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">connect</span>(f, son, fson);</span><br><span class="line">    <span class="built_in">connect</span>(x, f, fson ^ <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">connect</span>(ff, x, ffson);</span><br><span class="line">    <span class="built_in">update</span>(f), <span class="built_in">update</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">splay</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> to)</span> </span>&#123; <span class="comment">// å°† x è½¬åˆ° to çš„å­èŠ‚ç‚¹ä½ç½®</span></span><br><span class="line">    <span class="keyword">while</span> (t[x].fa != to) &#123;</span><br><span class="line">        <span class="type">int</span> f = t[x].fa;</span><br><span class="line">        <span class="keyword">if</span> (t[f].fa != to) &#123;</span><br><span class="line">            <span class="built_in">rotate</span>(<span class="built_in">id</span>(x) == <span class="built_in">id</span>(f) ? f : x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">rotate</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!to) &#123; <span class="comment">// åœ¨ splay(l, 0) æ—¶èµ·ä½œç”¨</span></span><br><span class="line">        root = x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">build</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt; r) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> x = ++cnt;</span><br><span class="line">    t[x].fa = fa;</span><br><span class="line">    t[x].siz = <span class="number">1</span>;</span><br><span class="line">    t[x].val = a[mid];</span><br><span class="line">    t[x].ch[<span class="number">0</span>] = <span class="built_in">build</span>(l, mid - <span class="number">1</span>, x);</span><br><span class="line">    t[x].ch[<span class="number">1</span>] = <span class="built_in">build</span>(mid + <span class="number">1</span>, r, x);</span><br><span class="line">    <span class="built_in">update</span>(x);</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> rank)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x = root;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">push_down</span>(x);</span><br><span class="line">        <span class="keyword">if</span> (rank &lt;= t[t[x].ch[<span class="number">0</span>]].siz) &#123;</span><br><span class="line">            x = t[x].ch[<span class="number">0</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            rank -= t[t[x].ch[<span class="number">0</span>]].siz + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (!rank) &#123;</span><br><span class="line">                <span class="keyword">return</span> x;</span><br><span class="line">            &#125;</span><br><span class="line">            x = t[x].ch[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    l = <span class="built_in">find</span>(l);</span><br><span class="line">    r = <span class="built_in">find</span>(r);</span><br><span class="line">    <span class="built_in">splay</span>(l, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">splay</span>(r, l);</span><br><span class="line">    <span class="type">int</span> pos = t[t[root].ch[<span class="number">1</span>]].ch[<span class="number">0</span>];</span><br><span class="line">    t[pos].tag ^= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!x) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(x);</span><br><span class="line">    <span class="built_in">print</span>(t[x].ch[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span> (t[x].val != INF &amp;&amp; t[x].val != -INF) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, t[x].val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(t[x].ch[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; ++i) &#123;</span><br><span class="line">        cin &gt;&gt; a[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    a[<span class="number">1</span>] = -INF; a[n + <span class="number">2</span>] = INF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != a[i + <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt;= n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == a[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                    k = j - i + <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;k&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">0</span>) &#123;</span><br><span class="line">        cout&lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        root=<span class="built_in">build</span>(<span class="number">1</span>, n + <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n - k + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(t[<span class="built_in">find</span>(i + <span class="number">1</span>)].val != i) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t[<span class="built_in">find</span>(i + k)].val != i) &#123;</span><br><span class="line">                    cout &lt;&lt; <span class="string">&quot;no&quot;</span> &lt;&lt; endl;</span><br><span class="line">                    <span class="keyword">return</span> ;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">reverse</span>(i, i + k + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl &lt;&lt; k &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/03/2021-nowcoder-hanjia-2-f/">https://blog.jujimeizuo.cn/2021/02/03/2021-nowcoder-hanjia-2-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬äºŒåœºã€‘Jé¢˜ ç‰›ç‰›æƒ³è¦æˆä¸ºhacker æ„é€ </title>
      <link href="/2021/02/03/2021-nowcoder-hanjia-2-j/"/>
      <url>/2021/02/03/2021-nowcoder-hanjia-2-j/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9982/J">https://ac.nowcoder.com/acm/contest/9982/J</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªnï¼Œæ„é€ ä¸€ä¸ªæ•°ç»„ï¼Œé—®ä¸‰å±‚å¾ªç¯ä¸­ï¼ˆèƒ½ä¸èƒ½æ„é€ ä¸€ä¸ªä¸‰è§’å½¢ï¼‰ æ‰§è¡Œæ¬¡æ•°æ¬¡æ•°èƒ½ä¸èƒ½è¶…è¿‡$min(C_n^3,n^2log_2n)ã€‚$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä¸‰è§’å½¢æˆç«‹æ¡ä»¶ï¼šæœ€çŸ­çš„ä¸¤æ¡è¾¹&gt;æœ€é•¿è¾¹ï¼Œæ‰€ä»¥ç›¸ç­‰çš„è¯æ˜¯å¯ä»¥çš„ã€‚</p><p>æƒ³åˆ°2ä¸ªæ•°ç›¸åŠ ç­‰äºç¬¬ä¸‰ä¸ªæ•°ï¼Œè¿™æ˜¯ä»€ä¹ˆï¼Ÿè¿™æ˜¯æ–æ³¢é‚£å¥‘æ•°ã€‚</p><p>è€Œ1e9çš„æ–æ³¢é‚£å¥‘æ•°æœ‰45ä¸ªï¼Œæ‰€ä»¥n&#x3D;1e5çš„æ—¶å€™ï¼Œ45*n*nçš„æ‰§è¡Œæ¬¡æ•°æ˜¯å¯ä»¥çš„ã€‚</p><p>æ³¨æ„ï¼Œæœ€å‰é¢çš„1å’Œ1æ˜¯ä¸èƒ½è¦çš„ï¼Œè¿™ä¸€ç‚¹å¥½å¥½æƒ³æƒ³ï¼Œæ‰€ä»¥ä»£ç å°±å¾ˆç®€å•äº†ã€‚</p><h2 id="Code-3MS"><a href="#Code-3MS" class="headerlink" title="Code(3MS)"></a>Code(3MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> ll MAX = <span class="number">1e9</span>;</span><br><span class="line">ll f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line"><span class="comment">//    cout &lt;&lt; log2(N) &lt;&lt; endl;</span></span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>; f[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="type">bool</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">            f[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            f[i] = f[i - <span class="number">1</span>] + f[i - <span class="number">2</span>];</span><br><span class="line">            <span class="keyword">if</span>(f[i] &gt; MAX)  &#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                f[i] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    cout &lt;&lt; min(1ll * n * n * (int)log2(n), 1ll * n * (n - 1) * (n - 2) / 6) &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//    cout &lt;&lt; ans &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cout &lt;&lt; f[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/03/2021-nowcoder-hanjia-2-j/">https://blog.jujimeizuo.cn/2021/02/03/2021-nowcoder-hanjia-2-j/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2021ç‰›å®¢å¯’å‡ç¬¬ä¸€åœºã€‘Hé¢˜ å¹‚å¡”ä¸ªä½æ•°çš„è®¡ç®— æ¬§æ‹‰é™å¹‚</title>
      <link href="/2021/02/01/2021-nowcoder-hanjia-1-h/"/>
      <url>/2021/02/01/2021-nowcoder-hanjia-1-h/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9981/H">https://ac.nowcoder.com/acm/contest/9981/H</a> <strong>ä»Šå¤©è¢«å¤§ä¸€æŒ‰åœ¨åœ°ä¸Šæ‘©æ“¦ï¼Œå¾ˆä¸çˆ½ï¼ˆä¼°è®¡ä»¥åéƒ½æ˜¯ï¼Œå‘œå‘œå‘œ</strong></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210201232512185.png"></p><p>æ±‚$a \uparrow \uparrow n$çš„æœ€åä¸€ä½ã€‚</p><p>å°çŸ¥è¯†ï¼š$\uparrow$ è¿™ä¸ªç¬¦å·æ˜¯é«˜å¾·çº³ç®­å¤´ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œç™¾åº¦ï¼Œå’Œå·²çŸ¥çš„æœ€å¤§æ•°æœ‰å…³è”ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>åœ¨æˆ‘å­¦æ¬§æ‹‰é™å¹‚çš„æ—¶å€™ï¼Œåšè¿‡è¿™æ ·çš„ä¸€ä¸ªé¢˜ç›®ï¼Œæ±‚$2^{2^{2^{â€¦}}} mod\;p$ã€‚ <strong>æ³¨æ„ï¼š</strong>æ˜¯æ— ç©·å¤šä¸ªï¼Œè€Œä¸æ˜¯æœ‰é™ä¸ªã€‚</p><p>æ‰€ä»¥è¿™å¾ˆå¥½åœ°å‘Šè¯‰æˆ‘ä»¬ï¼Œå½“å¹‚æ¬¡å·¨å¤§æ—¶ï¼Œmodä¹‹ååŸºæœ¬ä¸Šä¸ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–äº†ã€‚è¿™ä¸€é¢˜åªä¸è¿‡æ˜¯\%10è€Œå·²ã€‚</p><p>$è¦è§£å†³è¿™ä¸€é¢˜ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼šæ¬§æ‹‰é™å¹‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/02/20210201233024375.png"></p><p>å› ä¸ºæˆ‘ä»¬çš„pæ˜¯10ï¼Œä¸ä¸€å®šæ»¡è¶³æœ´ç´ ç‰ˆæ¬§æ‹‰é™å¹‚ã€‚æ‰€ä»¥éœ€è¦ä¸‹é¢çš„å¹¿ä¹‰æ¬§æ‹‰é™å¹‚ã€‚</p><p>å½“æˆ‘ä»¬è¦æ±‚$a^{a^{a^{aâ€¦}}} \%10$æ—¶ï¼Œç”¨å¹¿ä¹‰æ¬§æ‹‰é™å¹‚å¯å¾—ï¼š</p><p>$$a^{a^{a^{a^{a^{â€¦} \%1} \%2 + 2}} \%4 + 4} \%10$$</p><p>æˆ‘ä»¬ä¼šå‘ç°ï¼Œå½“n&gt;3æ—¶ï¼Œæ•´ä¸ªå¼å­å˜æˆäº†$a^{a \%4+4}\%10$ æ‰€ä»¥æˆ‘ä»¬æœ‰ä¸‰ç§è®¨è®ºæ–¹å¼ï¼š</p><ul><li>n&#x3D;1æ—¶ï¼Œç›´æ¥è¾“å‡ºæœ€åä¸€ä½</li><li>n&#x3D;2æ—¶ï¼Œç­”æ¡ˆä¸º$a^{a \%4+4} \%10$</li><li>n&#x3D;3æ—¶ï¼Œç­”æ¡ˆä¸º$a^{a^{a \%2+2} \%4+4} \% 10$</li><li>n&gt;3æ—¶ï¼Œç­”æ¡ˆä¸º$a^{a \%4+4} \%10$</li></ul><p>æ‰€ä»¥ï¼Œå°±å®Œäº‹äº†ã€‚</p><p>é¢˜è§£ç»™çš„å°±æ˜¯æ‰¾è§„å¾‹æš´åŠ›æ±‚è§£ï¼Œä½†å®ƒå†…å«çš„å°±æ˜¯æ¬§æ‹‰é™å¹‚çš„æ€æƒ³ã€‚</p><h2 id="Code-9MS"><a href="#Code-9MS" class="headerlink" title="Code(9MS)"></a>Code(9MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    string a, n; cin &gt;&gt; a &gt;&gt; n;</span><br><span class="line">    ll t = a[a.<span class="built_in">length</span>() - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">        cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        ll tmp1, tmp2;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="string">&quot;2&quot;</span>) tmp1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> tmp1 = t % <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line">        ll mod4 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; a.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            mod4 = mod4 * <span class="number">10</span> + a[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            mod4 %= <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp2 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= tmp1; i++) &#123;</span><br><span class="line">            tmp2 = tmp2 * mod4 % <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp2 += <span class="number">4</span>;</span><br><span class="line">        ll ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= tmp2; i++) &#123;</span><br><span class="line">            ans = ans * t % <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/02/01/2021-nowcoder-hanjia-1-h/">https://blog.jujimeizuo.cn/2021/02/01/2021-nowcoder-hanjia-1-h/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder Beginner Contest 190 D - Staircase Sequenceså”¯ä¸€åˆ†è§£å®šç†</title>
      <link href="/2021/01/30/atcoder-beginner-contest-190-d/"/>
      <url>/2021/01/30/atcoder-beginner-contest-190-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://atcoder.jp/contests/abc190/tasks/abc190_d">https://atcoder.jp/contests/abc190/tasks/abc190_d</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªNï¼Œé—®æœ‰å¤šå°‘ç§ç­‰å·®æ•°åˆ—ï¼ˆå…¬å·®ä¸º1ï¼‰çš„å’Œç­‰äºNï¼Œè¾“å‡ºä¸ªæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å‡è®¾æˆ‘ä»¬é€‰æ‹©çš„ç­‰å·®æ•°åˆ—ä¸º[a,b]ï¼Œåˆ™æ ¹æ®é¢˜æ„å¯ä»¥å¾—åˆ° $\frac{(b+a)(b-a+1)}{2}&#x3D;N$ $(b+a)(b-a + 1)&#x3D;2N$</p><p>ä¸ç®¡aå’Œbçš„å¥‡å¶æ€§ã€‚éƒ½å¯ä»¥å¾—åˆ°(b+a)å’Œ(b-a+1)ä¸€å®šæ˜¯ä¸€å¥‡ä¸€å¶ã€‚ æ‰€ä»¥æˆ‘ä»¬åªç”¨æ±‚å‡º2*Nçš„å¥‡æ•°å› å­ä¸ªæ•°ï¼Œç”¨ç®—æ•°åŸºæœ¬å®šç†æ±‚ã€‚ ç”±äºæ˜¯å¥‡æ•°ï¼Œæ‰€ä»¥2çš„å› å­å°±ä¸ç”¨äº†ï¼Œæ‰€ä»¥ç›´æ¥æ±‚Nçš„å¥‡æ•°å› å­ä¸ªæ•°ã€‚</p><p>æ³¨æ„ï¼šä»»ä½•ä¸€ç»„è§£éƒ½èƒ½åœ¨å·¦è¾¹åŠ ä¸Šä¸€æ­£ä¸€è´Ÿç»™æŠµæ¶ˆæ‰ï¼Œæ‰€ä»¥æœ€åç»“æœ*2.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">get_Count</span><span class="params">(ll n)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">2</span>;i * i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">                a++;</span><br><span class="line">                n /= i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i != <span class="number">2</span>)</span><br><span class="line">                ans *= (a + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n &gt; <span class="number">1</span>)  ans *= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n; cin &gt;&gt; n;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">get_Count</span>(n) * <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/30/atcoder-beginner-contest-190-d/">https://blog.jujimeizuo.cn/2021/01/30/atcoder-beginner-contest-190-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2021/01/29/codeforces-round-698-div-2-a-e/"/>
      <url>/2021/01/29/codeforces-round-698-div-2-a-e/</url>
      
        <content type="html"><![CDATA[<h2 id="A-Nezzar-and-Colorful-Balls"><a href="#A-Nezzar-and-Colorful-Balls" class="headerlink" title="A - Nezzar and Colorful Balls"></a>A - Nezzar and Colorful Balls</h2><p>è¾“å‡ºåºåˆ—ä¸­å‡ºç°æœ€å¤šæ¬¡æ•°çš„ä¸ªæ•°ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        mp.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">            mp[x]++;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, mp[x]);</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Nezzar-and-Lucky-Number"><a href="#B-Nezzar-and-Lucky-Number" class="headerlink" title="B - Nezzar and Lucky Number"></a>B - Nezzar and Lucky Number</h2><p>é¢˜æ„ï¼šæœ‰ä¸€ä¸ªluckæ•°dï¼Œé—®èƒ½ä¸èƒ½å°†ä¸€ä¸ªxæ‹†æˆä»»æ„å¤šä¸ªæ•°ä¹‹å’Œï¼Œå¹¶ä¸”æ¯ä¸ªæ•°ä¹‹ä¸­éƒ½è¦æœ‰ä¸€ä¸ªdï¼Ÿ</p><p>æ€è·¯ï¼š é¦–å…ˆç›²çŒœå†™$x&gt;d*10$éƒ½æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºéƒ½å¯ä»¥æ‹†æˆ10ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°æ— éå¤šåŠ äº†å¾ˆå¤šä¸ª10è€Œå·²ã€‚ æ‰€ä»¥æ‰“è¡¨$d*10$ä¹‹å†…çš„æ•°å³å¯ï¼Œåªéœ€è¦åˆ¤æ–­å°¾éƒ¨ï¼Œå°¾éƒ¨å¯¹äº†ï¼Œå¹¶ä¸”å°äºxï¼Œæ— éå°±å¤šåŠ å‡ ä¸ª10è€Œå·²ã€‚</p><h2 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> q, d; cin &gt;&gt; q &gt;&gt; d;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= q; i++) &#123;</span><br><span class="line">            <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(x &gt;= d * <span class="number">10</span>) flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= <span class="number">10</span>; j++) &#123;</span><br><span class="line">                <span class="type">int</span> t = j * d;</span><br><span class="line">                <span class="keyword">if</span>(t &lt;= x &amp;&amp; (t % <span class="number">10</span> == x % <span class="number">10</span>)) &#123;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; (flag ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span>) &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Nezzar-and-Symmetric-Array"><a href="#C-Nezzar-and-Symmetric-Array" class="headerlink" title="C - Nezzar and Symmetric Array"></a>C - Nezzar and Symmetric Array</h2><p>é¢˜æ„:ç»™æœ‰$2*n$ä¸ªæ•°å­—çš„æ•°ç»„dï¼Œé—®èƒ½ä¸èƒ½æ„é€ å‡ºä¸€ç»„â€œå¯¹ç§°æ•°ç»„â€ï¼ˆæœ‰ä¸€ä¸ªæ•´æ•°aï¼Œå¿…ç„¶æœ‰ä¸€ä¸ªè´Ÿæ•°-aï¼Œ0ä¸è¡Œï¼‰ï¼Œå¹¶ä¸”ä¸€ä¸ªæ•°å’Œå…¶ä»–æ‰€æœ‰æ•°ä¹‹å·®çš„ç»å¯¹å€¼ä¹‹å’Œéƒ½èƒ½åœ¨åŸæ•°ç»„æ‰¾åˆ°ã€‚å³$\sum_{j&#x3D;1}^na_i-a_j&#x3D;d_{æŸä¸ªæ•°}$ã€‚</p><p>æ€è·¯ï¼š å› ä¸ºæ˜¯å¯¹ç§°æ•°ç»„ï¼Œæ‰€ä»¥åŸæ•°ç»„ä¸­çš„æ•°å¿…é¡»æœ‰ä¸åŒçš„nä¸ªå¶æ•°ï¼Œå¥‡æ•°æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸º$\sum_{j&#x3D;1}^na_i-a_j$å¾—å‡ºæ¥ä¸€å®šæ˜¯ä¸ªå¶æ•°ã€‚</p><p>åŠ å…¥æˆ‘ä»¬è®¾è¦æ„é€ çš„æ•°ç»„ä¸º$a_1,a_2â€¦a_n,-a_1,-a_2â€¦-a_n$ï¼Œæ‰€ä»¥$\sum_{j&#x3D;1}^na_i-a_j$æœ€å°çš„æ•°ä¸º$2(a_1+a_2+â€¦+a_n)$ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸€å®šè¦æ˜¯å¶æ•°äº†ï¼Œæ–¹ä¾¿èµ·è§ï¼Œå°†dæ•°ç»„æ¯ä¸ªæ•°éƒ½é™¤2åˆ¤æ–­ä¸€ä¸‹ï¼Œè®¾$a_1+a_2+â€¦+a_n&#x3D;sum$é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ‰€æœ‰çš„æ•°ï¼š (å°†dæ•°ç»„ä»å°åˆ°å¤§æ’åº)</p><ul><li>$ç¬¬ä¸€å°ï¼šsum&#x3D;d[1]$</li><li>$ç¬¬äºŒå°ï¼šsum+a_2-a_1&#x3D;d[2]$</li><li>$ç¬¬ä¸‰å°:sum+a_3-a_2+a_3-a_1&#x3D;d[3]$</li></ul><p>è¿™æ ·æˆ‘ä»¬æ˜¯çœ‹ä¸å‡ºæ¥ä»€ä¹ˆæ ·çš„ï¼Œå‰ååšä¸€ä¸ªå·®åˆ†å¯ä»¥å¾—åˆ°ï¼š</p><p>$sum&#x3D;d[1]$ $a_2-a_1&#x3D;d[2]-d[1]$ $2(a_3-a_2)&#x3D;d[3]-d[2]$ $3(a_4-a_3)&#x3D;d[4]-d[3]$ â€¦ $(n-1)(a_n-a_{n-1})&#x3D;d[n]-d[n-1]$</p><p>æˆ‘ä»¬å¯ä»¥è§£è¿™nä¸ªæ–¹ç¨‹ï¼Œå¾—åˆ°aæ•°ç»„çš„nä¸ªæ­£æ•°ï¼Œä½†ä¸ä¸å¥½è§£å®ƒï¼Œæˆ‘ä»¬å…ˆå‡è®¾$a_1&#x3D;1(ä¸èƒ½ç­‰äº0ï¼Œå¯¹ç§°æ•°ç»„ï¼Œ0æ˜¯ä¸å…è®¸çš„)$ï¼Œç„¶åè§£å‡ºæ‰€æœ‰çš„$a_i$ï¼Œæœ€åç®—å‡º$sum$æ˜¯$a_1+â€¦+a_n$ã€‚</p><p>$a_2&#x3D;d[2]-d[1]+a_1$ $a_3&#x3D;\frac{d[3]-d[2]}{2}+a_2$ $a_4&#x3D;\frac{d[4]-d[3]}{3}+a_3$ â€¦ $a_n&#x3D;\frac{d[n]-d[n-1]}{n-1}+a_{n-1}$</p><p>å¦‚ä½•åˆ¤æ–­YESè¿˜æ˜¯NOå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å‘ç°ï¼Œ$a_1$æ¯+1éƒ½ä¼šä½¿æ‰€æœ‰æ•°+1ï¼Œå³sumåŠ äº†nï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ¤æ–­å¦‚æœ$sum&lt;&#x3D;d[1]ï¼Œå¹¶ä¸”(d[1]-sum]\%n)&#x3D;&#x3D;0ï¼Œè¾“å‡ºYESï¼Œåä¹‹NOã€‚$</p><h2 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        vector&lt;ll&gt;<span class="built_in">v</span>(n * <span class="number">2</span>);</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n * <span class="number">2</span>; i++) &#123;</span><br><span class="line">            cin &gt;&gt; v[i];</span><br><span class="line">            <span class="keyword">if</span>(v[i] &amp; <span class="number">1</span>) flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> v[i] /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">        v.<span class="built_in">erase</span>(<span class="built_in">unique</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()), v.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">if</span>(v.<span class="built_in">size</span>() != n) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ll t = <span class="number">1</span>;</span><br><span class="line">        ll sum = t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>((v[i] - v[i - <span class="number">1</span>]) % i == <span class="number">0</span>) &#123;</span><br><span class="line">                ll a = (v[i] - v[i - <span class="number">1</span>]) / i + t;</span><br><span class="line">                sum += a;</span><br><span class="line">                t = a;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag &amp;&amp; (sum &lt;= v[<span class="number">0</span>] &amp;&amp; (v[<span class="number">0</span>] - sum) % n == <span class="number">0</span>)) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Nezzar-and-Board"><a href="#D-Nezzar-and-Board" class="headerlink" title="D - Nezzar and Board"></a>D - Nezzar and Board</h2><p>é¢˜æ„ï¼šç»™nä¸ªæ•°$x_1,x_2â€¦x_n$ï¼Œä»ä¸­é€‰æ‹©ä¸¤ä¸ªæ•°xå’Œyï¼Œå°†$2*x-y$æ”¾å…¥æ•°ç»„ä¸­ï¼Œå¯ä»¥æ“ä½œå¤šæ¬¡ï¼Œé—®èƒ½ä¸èƒ½å¾—åˆ°ä¸€ä¸ªkã€‚</p><p>æ€è·¯ï¼š $2*x-y&#x3D;x+x-y$ï¼Œå› ä¸ºä¸¤ä¸ªæ•°ä¸€ç›´è¾—è½¬ç›¸å‡æ˜¯å¯ä»¥å¾—åˆ°è¿™ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬å› æ•°ï¼Œæ‰€ä»¥ä¸¤ä¸ªæ•°çš„å·®å³ä¸ºæœ€å¤§å…¬å› æ•°çš„å€æ•°ï¼Œæ‰€ä»¥ä¸ºäº†æ¯ä¸ªæ•°éƒ½å¯ä»¥è¢«ç”¨åˆ°ï¼Œæˆ‘ä»¬å…ˆæ±‚å‡º$n-1$ä¸ªå·®çš„$gcd$ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»»æ„å¤šä¸ª$gcd$çš„å’Œï¼Œç„¶åè¿˜å‰©ä¸‹ä¸€ä¸ª$x$ï¼Œå°±çœ‹çœ‹$k$èƒ½ä¸èƒ½ç­‰äº$x_i+ä»»æ„å¤šä¸ªgcd$ï¼Œå³åˆ¤æ–­$(k-x_i)\%gcd&#x3D;&#x3D;0$ã€‚</p><h2 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        ll k;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">        vector&lt;ll&gt;<span class="built_in">v</span>(n + <span class="number">1</span>);</span><br><span class="line">        ll GCD;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; v[i];</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">2</span>) &#123;</span><br><span class="line">                GCD = v[i] - v[i - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                GCD = <span class="built_in">gcd</span>(v[i] - v[i - <span class="number">1</span>], GCD);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>((k - v[i]) % GCD == <span class="number">0</span>) &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; (flag ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Nezzar-and-Binary-String"><a href="#E-Nezzar-and-Binary-String" class="headerlink" title="E - Nezzar and Binary String"></a>E - Nezzar and Binary String</h2><p>é¢˜æ„ï¼šç»™ä¸¤ä¸ª01ä¸²ï¼Œé—®ç»è¿‡qå¤©ä¹‹åèƒ½ä¸èƒ½æŠŠs1è½¬åŒ–æˆs2ï¼Œæ¯ä¸€å¤©ç»™ä¸€ä¸ªåŒºé—´ï¼Œå¯ä»¥å°†è¯¥åŒºé—´ä¸¥æ ¼å°äºä¸€åŠçš„å­—ç¬¦æ•°å˜æˆå¦ä¸€ç§ï¼Œæœ€åï¼Œå¦‚æœå¯ä»¥è½¬åŒ–è¾“å‡ºYESï¼Œåä¹‹NOã€‚</p><p>æ€è·¯ï¼š ä»ç¬¬ä¸€å¤©å¼€å§‹ï¼Œåé¢çš„æ“ä½œæ˜¯åŸºäºå‰é¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ—¶é—´é€†åºã€‚ æ¯ä¸€æ¬¡æ“ä½œï¼Œä¼šæœ‰ä¸‰ç§æƒ…å†µï¼š</p><ul><li>å½“å‰1çš„ä¸ªæ•°ä¸¥æ ¼å°äºåŒºé—´ä¸€åŠï¼Œå°†åŒºé—´å…¨éƒ¨å˜æˆ0</li><li>å½“å‰0çš„ä¸ªæ•°ä¸¥æ ¼å°äºåŒºé—´ä¸€åŠï¼Œå°†åŒºé—´å…¨éƒ¨å˜æˆ1</li><li>å½“å‰1å’Œ0çš„ä¸ªæ•°ç›¸åŒï¼Œç›´æ¥è¾“å‡ºNO</li></ul><p>æ‰€ä»¥éœ€è¦åŒºé—´è¦†ç›–ï¼Œæƒ³åˆ°åŒºé—´é—®é¢˜ï¼Œçº¿æ®µæ ‘æ˜¯å±…å®¶æ—…è¡Œçš„å¥½ä¸œè¥¿ã€‚ ç›´æ¥ç”¨æœ€ç®€å•çš„çº¿æ®µæ ‘æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹å³å¯ã€‚</p><h2 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n, q;</span><br><span class="line">string s1, s2;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> sum;</span><br><span class="line">    <span class="type">int</span> tag;</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].sum = t[lc].sum + t[rc].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[u].tag == <span class="number">-1</span>) <span class="keyword">return</span> ;</span><br><span class="line">    t[lc].sum = t[u].tag * (t[lc].r - t[lc].l + <span class="number">1</span>);</span><br><span class="line">    t[rc].sum = t[u].tag * (t[rc].r - t[rc].l + <span class="number">1</span>);</span><br><span class="line">    t[lc].tag = t[u].tag;</span><br><span class="line">    t[rc].tag = t[u].tag;</span><br><span class="line">    t[u].tag = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r;</span><br><span class="line">    t[u].sum = <span class="number">0</span>;</span><br><span class="line">    t[u].tag = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].sum = s2[l - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        t[u].sum = v * (t[u].r - t[u].l + <span class="number">1</span>);</span><br><span class="line">        t[u].tag = v;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify</span>(lc, ql, qr, v);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">modify</span>(rc, ql, qr, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="keyword">return</span> t[u].sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) ans += <span class="built_in">query</span>(lc, ql, qr);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  ans += <span class="built_in">query</span>(rc, ql, qr);</span><br><span class="line">    <span class="keyword">return</span> ans ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">        cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">l</span><span class="params">(q + <span class="number">1</span>)</span>, <span class="title">r</span><span class="params">(q + <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= q; i++) &#123;</span><br><span class="line">            cin &gt;&gt; l[i] &gt;&gt; r[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = q;i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> len = r[i] - l[i] + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> v = <span class="built_in">query</span>(<span class="number">1</span>, l[i], r[i]);</span><br><span class="line">            <span class="keyword">if</span>(v * <span class="number">2</span> &lt; len) <span class="built_in">modify</span>(<span class="number">1</span>, l[i], r[i], <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(v * <span class="number">2</span> &gt; len) <span class="built_in">modify</span>(<span class="number">1</span>, l[i], r[i], <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">query</span>(<span class="number">1</span>, i, i) != s1[i - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; (flag ? <span class="string">&quot;YES&quot;</span> : <span class="string">&quot;NO&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/29/codeforces-round-698-div-2-a-e/">https://blog.jujimeizuo.cn/2021/01/29/codeforces-round-698-div-2-a-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCæµå—ç«™ Aé¢˜ Matrix Equationé«˜æ–¯æ¶ˆå…ƒæ±‚å¼‚æˆ–æ–¹ç¨‹ç»„</title>
      <link href="/2021/01/27/2020-icpc-jinan-a/"/>
      <url>/2021/01/27/2020-icpc-jinan-a/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/10662/A">https://ac.nowcoder.com/acm/contest/10662/A</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>è®¾$AÃ—C&#x3D;Bâ‹…Cï¼Œ$æ±‚Cçš„ä¸ªæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ¯”èµ›çš„æ—¶å€™çŒœç­”æ¡ˆæ˜¯2çš„å¹‚æ¬¡ï¼Œç¡®å®æ²¡é”™ï¼Œç„¶åæƒ³è§£æ³•æ˜¯å…ˆæ±‚Açš„é€†ï¼Œæœ€åç­”æ¡ˆä¸º$C&#x3D;A^{-1}Ã—Bâ‹…C$ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€ï¼Œ$A^{-1}Ã—B$è¿™ä¸ªç»“æœï¼Œå¦‚æœä¸º0ï¼Œé‚£ä¹ˆå¯ä»¥å»0æˆ–1ï¼Œå¦‚æœæ˜¯1ï¼Œé‚£ä¹ˆåªèƒ½å–1ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º$2^{0çš„ä¸ªæ•°}$,å¯æ˜¯ï¼ŒAå¯èƒ½æ²¡æœ‰é€†ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•æ˜¯è¡Œä¸é€šçš„ã€‚</p><p>å…ˆæ¥è§‚å¯Ÿå¼å­ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/01/fangchengzu.jpg"></p><p>æ‰€ä»¥æ¯åˆ—éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ±‚æ¯åˆ—çš„ç§æ•°ï¼Œæœ€åå…¨éƒ¨ä¹˜èµ·æ¥å°±å¥½ã€‚</p><p>ç”±äºè¿™ä¸ªçŸ©é˜µä¹˜æ³•æœ‰ä¸€ä¸ªè¦æ±‚ï¼Œæœ€åæ±‚å¾—çš„è¦ç›¸åŠ å¹¶\%2ï¼Œè¿™æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸å°±æ˜¯å¼‚æˆ–å—ï¼Ÿ</p><p>é‚£ä¹ˆç­”æ¡ˆæ˜¯å¤šå°‘ï¼Ÿæ¯ä¸€åˆ—çš„ç§æ•°æ˜¯å¤šå°‘ï¼Ÿç­”æ¡ˆå°±æ˜¯ä¸Šé¢æ¯ä¸€ä¸ªå¼‚æˆ–æ–¹ç¨‹ç»„çš„è‡ªç”±å…ƒçš„ä¸ªæ•°n-rï¼Œrä¸ºæ–¹ç¨‹ç»„çš„ç§©ã€‚æ¯ä¸ªå€¼éƒ½å¯ä»¥å–0æˆ–1ï¼Œå³ç­”æ¡ˆä¸º$2^{n-r}$ã€‚æœ€åå°†æ‰€æœ‰åˆ—çš„ç§æ•°ç›¸ä¹˜å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FZT_ACM_LOCAL 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"> <span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">210</span>;</span><br><span class="line"><span class="type">int</span> a[N][N];<span class="comment">//å¢å¹¿çŸ©é˜µ</span></span><br><span class="line"><span class="type">int</span> x[N];<span class="comment">//è§£é›†</span></span><br><span class="line"><span class="type">int</span> freeX[N];<span class="comment">//è‡ªç”±å˜å…ƒ</span></span><br><span class="line"><span class="comment">// equ:æ–¹ç¨‹ä¸ªæ•° var:å˜é‡ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Gauss</span><span class="params">(<span class="type">int</span> equ, <span class="type">int</span> var)</span> </span>&#123;<span class="comment">//è¿”å›è‡ªç”±å˜å…ƒä¸ªæ•°</span></span><br><span class="line">    <span class="comment">/*åˆå§‹åŒ–*/</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= var; i++) &#123;</span><br><span class="line">        x[i] = <span class="number">0</span>;</span><br><span class="line">        freeX[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*è½¬æ¢ä¸ºé˜¶æ¢¯é˜µ*/</span></span><br><span class="line">    <span class="type">int</span> col = <span class="number">0</span>;<span class="comment">//å½“å‰å¤„ç†çš„åˆ—</span></span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;<span class="comment">//è‡ªç”±å˜å…ƒçš„åºå·</span></span><br><span class="line">    <span class="type">int</span> k;<span class="comment">//å½“å‰å¤„ç†çš„è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; equ &amp;&amp; col &lt; var; k++, col++) &#123;<span class="comment">//æšä¸¾å½“å‰å¤„ç†çš„è¡Œ</span></span><br><span class="line">        <span class="type">int</span> maxr = k;<span class="comment">//å½“å‰åˆ—ç»å¯¹å€¼æœ€å¤§çš„è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = k + <span class="number">1</span>; i &lt; equ; i++) &#123;<span class="comment">//å¯»æ‰¾å½“å‰åˆ—ç»å¯¹å€¼æœ€å¤§çš„è¡Œ</span></span><br><span class="line">            <span class="keyword">if</span> (a[i][col] &gt; a[maxr][col]) &#123;</span><br><span class="line">                maxr = i;</span><br><span class="line">                <span class="built_in">swap</span>(a[k], a[maxr]);<span class="comment">//ä¸ç¬¬kè¡Œäº¤æ¢</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a[k][col] == <span class="number">0</span>) &#123;<span class="comment">//colåˆ—ç¬¬kè¡Œä»¥ä¸‹å…¨æ˜¯0ï¼Œå¤„ç†å½“å‰è¡Œçš„ä¸‹ä¸€åˆ—</span></span><br><span class="line">            freeX[num++] = col;<span class="comment">//è®°å½•è‡ªç”±å˜å…ƒ</span></span><br><span class="line">            k--;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = k + <span class="number">1</span>; i &lt; equ; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i][col] != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = col; j &lt; var + <span class="number">1</span>; j++) &#123;<span class="comment">//å¯¹äºä¸‹é¢å‡ºç°è¯¥åˆ—ä¸­æœ‰1çš„è¡Œï¼Œéœ€è¦æŠŠ1æ¶ˆæ‰</span></span><br><span class="line">                    a[i][j] ^= a[k][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*æ±‚è§£*/</span></span><br><span class="line">    <span class="comment">//æ— è§£ï¼šåŒ–ç®€çš„å¢å¹¿é˜µä¸­å­˜åœ¨(0,0,...,a)è¿™æ ·çš„è¡Œï¼Œä¸”a!=0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = k; i &lt; equ; i++)</span><br><span class="line">        <span class="keyword">if</span> (a[i][col] != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ— ç©·è§£: åœ¨var*(var+1)çš„å¢å¹¿é˜µä¸­å‡ºç°(0,0,...,0)è¿™æ ·çš„è¡Œ</span></span><br><span class="line">    <span class="keyword">if</span> (k &lt; var)<span class="comment">//è¿”å›è‡ªç”±å˜å…ƒæ•°</span></span><br><span class="line">        <span class="keyword">return</span> var - k;<span class="comment">//è‡ªç”±å˜å…ƒæœ‰var-kä¸ª</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å”¯ä¸€è§£: åœ¨var*(var+1)çš„å¢å¹¿é˜µä¸­å½¢æˆä¸¥æ ¼çš„ä¸Šä¸‰è§’é˜µ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = var - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;<span class="comment">//è®¡ç®—è§£é›†</span></span><br><span class="line">        x[i] = a[i][var];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; var; j++)</span><br><span class="line">            x[i] ^= (a[i][j] &amp;&amp; x[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> A[N][N];</span><br><span class="line"><span class="type">int</span> B[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            cin &gt;&gt; A[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            cin &gt;&gt; B[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                a[i][j] = A[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (B[i][k]) a[i][i] ^= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="built_in">Gauss</span>(n, n);</span><br><span class="line">        ans += cnt &gt; <span class="number">0</span> ? cnt : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="built_in">quick_pow</span>(<span class="number">2</span>, ans) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/27/2020-icpc-jinan-a/">https://blog.jujimeizuo.cn/2021/01/27/2020-icpc-jinan-a/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›76 C-CGçš„é€šå…³ç§˜ç± ç»„åˆ+æ•°å­¦æ¨å¯¼</title>
      <link href="/2021/01/15/nowcoder-practice76-c/"/>
      <url>/2021/01/15/nowcoder-practice76-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/10845/C">https://ac.nowcoder.com/acm/contest/10845/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªä½ç½®ï¼Œ[1..m]ä¸­çš„æ•°æ— ç©·å¤šä¸ªï¼Œæ„é€ æ‰€æœ‰å¯èƒ½çš„åºåˆ—ã€‚ æ¯ä¸ªåºåˆ—çš„è´¡çŒ®å–å†³äºï¼Œè‹¥$a_i&gt;a_{i-1}$ï¼Œè´¡çŒ®+1ï¼Œè‹¥$a_i&lt;a_{i-1}$ï¼Œè´¡çŒ®-1.ç›¸ç­‰æ²¡æœ‰è´¡çŒ®ã€‚</p><p>é—®ï¼šæ„é€ å®Œæ‰€æœ‰å¯èƒ½çš„åºåˆ—ä¹‹åçš„è´¡çŒ®å’Œï¼Œè¯·$mod\;1e9+7$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºè´¡çŒ®åªå–å†³äºç¬¬iä½å’Œç¬¬i-1ä½ï¼Œç„¶åå…¶ä»–ä½ç½®éšä¾¿å–ï¼Œåˆ™ä¸ºè¯¥è´¡çŒ®$*m^{n-2}.$</p><p>ç„¶åä»ç¬¬äºŒä¸ªä½ç½®å¼€å§‹æšä¸¾ï¼Œå‡è®¾æšä¸¾åˆ°äº†ç¬¬iä½ã€‚</p><p>ç¬¬iä½ä¸Šå¯ä»¥å–[1,m]ä¹‹é—´çš„æ‰€æœ‰æ•°ï¼Œå‡è®¾å–ä¸€ä¸ªjï¼Œåˆ™å¯¹äºå‰ä¸€ä½æ¥è¯´æœ‰j-1ä¸ªæ¯”å®ƒå°,m-jä¸ªæ¯”å®ƒå¤§ã€‚</p><p>æ‰€ä»¥è´¡çŒ®ä¸º$(j-1)+2*(m-j)ã€‚$</p><p>æ‰€ä»¥è¯¥ä½ç½®ä¸Šçš„æ€»è´¡çŒ®ä¸º$[\sum_{j&#x3D;1}^m(j-1)+(m-j)]*m^{n-2}$</p><p>æœ€åç»“åˆä¸€ä¸‹æ‰€æœ‰ä½ç½®(æ³¨æ„æ˜¯ä»ç¬¬äºŒä½å¼€å§‹å–)ï¼Œè´¡çŒ®å’Œä¸º$$\sum_{i&#x3D;2}^n[\sum_{j&#x3D;1}^m(j-1)+2*(m-j)]*m^{n-2}$$</p><p>æ•´ç†ä¸€ä¸‹å¾—ï¼š $$\frac{3m^2-3m}{2}*m^{n-2}*(n-1)$$</p><h2 id="Codeï¼ˆ702MSï¼‰"><a href="#Codeï¼ˆ702MSï¼‰" class="headerlink" title="Codeï¼ˆ702MSï¼‰"></a>Codeï¼ˆ702MSï¼‰</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    ll inv2 = <span class="built_in">quick_pow</span>(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll n, m; <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">if</span>(m == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans = m * (<span class="number">3</span> * m - <span class="number">3</span>) % mod * inv2 % mod;</span><br><span class="line">        ans = ans * <span class="built_in">quick_pow</span>(m, n - <span class="number">2</span>) % mod * (n - <span class="number">1</span>) % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,(ans + mod) % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/15/nowcoder-practice76-c/">https://blog.jujimeizuo.cn/2021/01/15/nowcoder-practice76-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›76 F-phi and phi è«æ¯”ä¹Œæ–¯åæ¼”+å·®åˆ†</title>
      <link href="/2021/01/15/nowcoder-practice76-f/"/>
      <url>/2021/01/15/nowcoder-practice76-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/10845/F">https://ac.nowcoder.com/acm/contest/10845/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£ans[i]&#x3D;\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\varphi (ij)\varphi [gcd(i,j)]$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å‰ç½®æŠ€èƒ½ï¼š$\varphi(ij)&#x3D;\frac{\varphi(i) \varphi(j)gcd(i,j)}{\varphi[gcd(i,j)]}$</p><p>æ ¹æ®ä¸Šå¼å¾—ï¼š $$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\varphi (i)\varphi(j)gcd(i,j)$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\varphi (i)\varphi(j)[gcd(i,j)&#x3D;k]$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k}\right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{k}\right \rfloor}\varphi (ik)\varphi(jk)[gcd(i,j)&#x3D;1]$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k}\right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{k}\right \rfloor}\varphi (ik)\varphi(jk)\sum_{di\;dj}\mu(d)$$</p><p>äº¤æ¢æšä¸¾é¡ºåºï¼š</p><p>$$\sum_{k&#x3D;1}^nk\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k}\right \rfloor}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{kd}\right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{kd}\right \rfloor}\varphi (ikd)\varphi(jkd)$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k}\right \rfloor}\mu(d)[\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{kd}\right \rfloor}\varphi (ikd)]^2$$</p><p>ä»¤T&#x3D;kdå¹¶äº¤æ¢æšä¸¾é¡ºåºï¼š</p><p>$$\sum_{T&#x3D;1}^{n}\sum_{kT}k\mu(\frac{T}{k})[\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{T}\right \rfloor}\varphi (iT)]^2$$</p><p>$ç”±\varphi &#x3D; id*\muå¾—ï¼š$</p><p>$$\sum_{T&#x3D;1}^{n}\varphi(T)[\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{T}\right \rfloor}\varphi (iT)]^2$$</p><p>$è®¾f(n&#x2F;T)&#x3D;\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{T}\right \rfloor}\varphi (iT)ï¼Œåˆ™æœ€ç»ˆå¼ä¸ºï¼š$</p><p>$$ans[n]&#x3D;\sum_{T&#x3D;1}^n\varphi(T)[f(n&#x2F;T)]^2$$</p><p>ä½†æ˜¯è¿™é¢˜è¦æ±‚çš„æ˜¯ans[1 - n]ï¼Œæˆ‘ä»¬å‘ç°</p><p>$åœ¨æšä¸¾Tæ—¶ï¼Œnåœ¨[i*T,(i+1)*T)ä¹‹é—´,\frac{n}{T}çš„å€¼éƒ½ä¸€æ ·ï¼Œ\varphi(T)[f(n&#x2F;T)]^2çš„è´¡çŒ®ä¸å˜ã€‚$</p><p>$æ‰€ä»¥æˆ‘ä»¬åœ¨æ±‚ans[n]çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹i*Tåšä¸€ä¸ªå·®åˆ†ï¼Œæœ€ååœ¨æ±‚ä¸€ä¸ªå‰ç¼€å’Œå³å¯ã€‚$</p><h2 id="Code-445MS"><a href="#Code-445MS" class="headerlink" title="Code(445MS)"></a>Code(445MS)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">##pragma GCC <span class="title function_">optimize</span><span class="params">(<span class="number">2</span>)</span></span><br><span class="line">##include &lt;bits/stdc++.h&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">typedef <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">##define INF <span class="number">0x3f3f3f3f</span></span><br><span class="line">##define <span class="title function_">lowbit</span><span class="params">(x)</span> x &amp; (-x)</span><br><span class="line">##define <span class="title function_">mem</span><span class="params">(a, b)</span> memset(a , b , sizeof(a))</span><br><span class="line">##define <span class="title function_">FOR</span><span class="params">(i, x, n)</span> <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x;i &lt;= n; i++)</span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"> const <span class="type">ll</span> <span class="variable">mod</span> <span class="operator">=</span> <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line">const <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> vis[N * <span class="number">3</span>], prime[N * <span class="number">3</span>], num;</span><br><span class="line">ll phi[N * <span class="number">3</span>], ans[N * <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">    phi[<span class="number">1</span>] = <span class="number">1</span>; num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">            prime[++num] = i; phi[i] = i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= num &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            vis[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                phi[i * prime[j]] = phi[i] * prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> phi[i * prime[j]] = phi[i] * phi[prime[j]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="type">int</span> n; scanf(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">T</span> <span class="operator">=</span> <span class="number">1</span>;T &lt;= n; T++) &#123;</span><br><span class="line">        <span class="type">ll</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt;= n / T; i++) &#123;</span><br><span class="line">            sum = (sum + phi[i * T]) % mod;</span><br><span class="line">            ans[i * T] = (ans[i * T] + phi[T] * sum % mod * sum % mod + mod) % mod;</span><br><span class="line">            ans[(i + <span class="number">1</span>) * T] = (ans[(i + <span class="number">1</span>) * T] - phi[T] * sum % mod * sum % mod + mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        ans[i] = ((ans[i] + ans[i - <span class="number">1</span>]) % mod + mod) % mod;</span><br><span class="line">        printf(<span class="string">&quot;%lld\n&quot;</span>,ans[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// cout &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">signed <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    solve();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/15/nowcoder-practice76-f/">https://blog.jujimeizuo.cn/2021/01/15/nowcoder-practice76-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder Beginner Contest 188 F- +1-1x2 è®°å¿†åŒ–æœç´¢</title>
      <link href="/2021/01/14/atcoder-beginner-contest-188-f/"/>
      <url>/2021/01/14/atcoder-beginner-contest-188-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://atcoder.jp/contests/abc188/tasks/abc188_f">https://atcoder.jp/contests/abc188/tasks/abc188_f</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>åœ¨åªèƒ½åœ¨+1-1å’Œ*2ä¸‰ç§æ“ä½œçš„æƒ…å†µä¸‹ï¼Œå¦‚æœå°†Xå˜ä¸ºY?</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºæ¯æ¬¡æ“ä½œéƒ½ä¼šç»è¿‡ä¸‰æ¬¡é€‰æ‹©ï¼Œæ˜¯+1å‘¢è¿˜æ˜¯-1å‘¢è¿˜æ˜¯*2å‘¢ï¼Ÿ</p><p>å› ä¸ºè¿™ä¸ªè½¬ç§»æ˜¯ä»åå¾€å‰è½¬ç§»ï¼Œæ‰€ä»¥æ˜¯å°†Yå¦‚ä½•å˜ä¸ºXå³å¯ï¼Œåªä¸è¿‡*2å˜ä¸º&#x2F;2è€Œå·²ã€‚</p><p>æ‰€ä»¥æœ‰ä¸€ä¸‹è½¬ç§»æ–¹æ¡ˆï¼š$()^{-1}$è¡¨ç¤ºé€†è¿‡ç¨‹</p><p>åœ¨è½¬ç§»åˆ°ä¸ºnæ—¶</p><ul><li>å½“n&lt;&#x3D;xæ—¶ï¼Œ$return \;\;n-x((-1)^{-1}$è½¬ç§»ï¼‰</li><li>å½“nä¸ºä»»æ„æ•°æ—¶ï¼Œ$return \;\;x-nï¼ˆ(+1)^{-1}$è½¬ç§»ï¼‰</li><li>å½“nä¸ºå¶æ•°æ—¶ï¼Œ$return \;\;DFS(n &#x2F; 2)+1((*2)^{-1}$è½¬ç§»)</li><li>å½“nä¸ºå¥‡æ•°æ—¶ï¼Œ$return \;\;DFS((n-1) &#x2F; 2)+2(+1*2)^{-1}$è½¬ç§»</li><li>å½“nä¸ºå¥‡æ•°æ—¶ï¼Œ$return \;\;DFS((n+1)&#x2F;2)+2(-1*2)^{-1}$è½¬ç§» <strong>æœ€åå–minå³å¯ã€‚</strong></li></ul><p>çœ‹åˆ°ä¸Šé¢æœ‰å¾ˆå¤šçŠ¶æ€è½¬ç§»ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨DFSè¿‡ç¨‹ä¸­è®°å¿†åŒ–ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">##include &lt;bits/stdc++.h&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef long long ll;</span><br><span class="line"></span><br><span class="line">ll X, Y;</span><br><span class="line">map&lt;ll, ll&gt; dp;</span><br><span class="line"></span><br><span class="line">ll DFS(ll n) &#123;</span><br><span class="line">    if(X &gt;= n) return X - n; // ç›´æ¥-1è½¬ç§»</span><br><span class="line">    if(dp[n]) return dp[n]; // è®°å¿†åŒ–æœç´¢</span><br><span class="line">    ll ans = n - X; // ç›´æ¥+1è½¬ç§»</span><br><span class="line">    ans = min(ans, DFS(n / 2) + 1 + n % 2); // å¶æ•°ç›´æ¥*2 æˆ–è€… å…ˆ+1åœ¨*2</span><br><span class="line">    if(n % 2) ans = min(ans, DFS(n / 2 + 1) + 2); // å…ˆ-1åœ¨*2</span><br><span class="line">    return dp[n] = ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void solve() &#123;</span><br><span class="line">    cin &gt;&gt; X &gt;&gt; Y;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; DFS(Y) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">signed main() &#123;</span><br><span class="line">    solve();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/14/atcoder-beginner-contest-188-f/">https://blog.jujimeizuo.cn/2021/01/14/atcoder-beginner-contest-188-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> uncategorized </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces - 786B Legacy çº¿æ®µæ ‘å»ºå›¾+æœ€çŸ­è·¯</title>
      <link href="/2021/01/13/codeforces-786b/"/>
      <url>/2021/01/13/codeforces-786b/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/contest/786/problem/B">https://codeforces.com/contest/786/problem/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªæ˜Ÿçƒï¼Œqæ¡è·¯å¾„ï¼Œé—®ä»ä¸€ä¸ªèµ·ç‚¹ä¸ºsçš„æ˜Ÿçƒåˆ°å…¶ä»–æ˜Ÿçƒçš„è·ç¦»ã€‚</p><p>æ¯æ¡è·¯å¾„å¯èƒ½æœ‰ä»¥ä¸‹ä¸‰ç§å½¢å¼ï¼š</p><ul><li>$1\;u\;v\;w$ï¼šä¸€ä¸ªç‚¹uåˆ°å¦ä¸€ç‚¹vï¼Œè·¯ç¨‹ä¸ºw</li><li>$2\;u\;l\;r\;w$ï¼šä»ä¸€ç‚¹uåˆ°[l,r]åŒºé—´ä»»æ„ä¸€ä¸ªæ˜Ÿçƒï¼Œè·¯ç¨‹ä¸ºw</li><li>$3\;u\;l\;r\;w$ï¼šä»[l,r]åŒºé—´ä»»æ„ä¸€ä¸ªæ˜Ÿçƒåˆ°å¦ä¸€ç‚¹uï¼Œè·¯ç¨‹ä¸ºw</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æœ€çŸ­è·¯é—®é¢˜ï¼Œç›´æ¥Dijkatraè·‘å‡ºæ¥ã€‚ä¸è¿‡è¿™é¢˜è€ƒæŸ¥çš„ç‚¹æ˜¯åŒºé—´å’Œç‚¹æ€ä¹ˆå»ºè¾¹ã€‚åŒºé—´ï¼Ÿçº¿æ®µæ ‘ï¼ï¼ï¼</p><p>å› ä¸ºçº¿æ®µæ ‘é‡Œçš„ä¸€ä¸ªç‚¹èƒ½ä»£è¡¨ä¸€ä¸ªåŒºé—´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨çº¿æ®µæ ‘å»ºå›¾ã€‚</p><p>å› ä¸ºæœ‰çš„æ“ä½œæ˜¯ç‚¹è¿æ¥åŒºé—´ï¼Œæœ‰çš„æ˜¯åŒºé—´è¿æ¥ç‚¹ï¼Œæ‰€ä»¥ä¸€æ£µçº¿æ®µæ ‘æ˜¯ä¸å¤Ÿçš„ï¼Œéœ€è¦ä¸¤æ£µçº¿æ®µæ ‘-ä¸€æ£µå…¥æ ‘ã€ä¸€æ£µå‡ºæ ‘ã€‚</p><p>å¯¹äºå…¥æ ‘ï¼Œæˆ‘ä»¬è®¤ä¸ºä»–æ˜¯åŒºé—´è¿æ¥ç‚¹çš„çº¿æ®µæ ‘ï¼Œæ‰€ä»¥å¶å­ç»“ç‚¹éƒ½è¦å¾€çˆ¶èŠ‚ç‚¹èµ°ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/01/20210131152026846.png"></p><p>å¯¹äºå‡ºæ ‘ï¼Œæˆ‘ä»¬è®¤ä¸ºä»–æ˜¯ç‚¹è¿æ¥åŒºé—´çš„çº¿æ®µæ ‘ï¼Œæ‰€ä»¥çˆ¶èŠ‚ç‚¹è¦å¾€å¶å­ç»“ç‚¹èµ°ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/01/20210131152112438.png"></p><p>è¿™ä¸¤æ£µçº¿æ®µæ ‘å†…éƒ¨çš„è¾¹åœ¨å»ºæ ‘çš„æ—¶å€™å°±å»ºè¾¹ï¼Œå¹¶ä¸”è®¤ä¸ºä¸éœ€è¦è·¯ç¨‹ã€‚ è€Œä¸¤æ£µæ ‘çš„å¶å­ç»“ç‚¹æ²¡æœ‰è¿ï¼Œè™½æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å¯ä»¥æ•´åˆæˆä¸€å¹…å›¾ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2021/01/20210131152311495.png"></p><p>æˆ‘ä»¬é»˜è®¤è¾¹éƒ½æ˜¯ä»ä¸‹æŒ‡å‘ä¸Šçš„ï¼ˆç»Ÿä¸€ï¼‰ã€‚ è¿™æ ·å°±æ–¹ä¾¿æˆ‘ä»¬çš„ä¸‰ä¸ªæ“ä½œï¼š å¦‚æœæ˜¯ç‚¹ä¸ç‚¹å»ºè¾¹ï¼Œå°†å…¥æ ‘çš„å¶å­ç»“ç‚¹ä¸å‡ºæ ‘çš„å¶å­ç»“ç‚¹ç›¸è¿ã€‚ å¦‚æœæ˜¯ç‚¹ä¸åŒºé—´å»ºè¾¹ï¼Œå°†å…¥æ ‘çš„å¶å­ç»“ç‚¹ä¸å‡ºæ ‘çš„åŒºé—´ç»“ç‚¹ç›¸è¿ã€‚ å¦‚æœæ˜¯åŒºé—´ä¸ç‚¹å»ºè¾¹ï¼Œå°†å…¥æ ‘çš„åŒºé—´ç»“ç‚¹ä¸å…¥æ ‘çš„å¶å­ç»“ç‚¹ç›¸è¿ã€‚</p><p>æœ€åè·‘ä¸€éæœ€çŸ­è·¯å³å¯ã€‚</p><h2 id="Code-374MS"><a href="#Code-374MS" class="headerlink" title="Code(374MS)"></a>Code(374MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">    ll w;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">4</span>];</span><br><span class="line"><span class="type">int</span> head[maxn &lt;&lt; <span class="number">4</span>], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, ll w)</span> </span>&#123;</span><br><span class="line">    e[++cnt].v = v;</span><br><span class="line">    e[cnt].w = w;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> idin[maxn &lt;&lt; <span class="number">4</span>], idout[maxn &lt;&lt; <span class="number">4</span>]; <span class="comment">// å…¥æ ‘å’Œå‡ºæ ‘ä¸Šç‚¹çš„ç¼–å·</span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r, id;</span><br><span class="line">&#125;tin[N &lt;&lt; <span class="number">4</span>], tout[N &lt;&lt; <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tot; <span class="comment">// åŠ¨æ€å¼€ç‚¹å†…å­˜æ± </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_up_in</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123; <span class="comment">// å¶å­ç»“ç‚¹å‘çˆ¶èŠ‚ç‚¹è¿çº¿</span></span><br><span class="line">    <span class="built_in">add</span>(tin[lc].id, tin[u].id, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">add</span>(tin[rc].id, tin[u].id, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_up_out</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123; <span class="comment">// çˆ¶èŠ‚ç‚¹å‘å¶å­ç»“ç‚¹è¿çº¿</span></span><br><span class="line">    <span class="built_in">add</span>(tout[u].id, tout[lc].id, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">add</span>(tout[u].id, tout[rc].id, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¥æ ‘</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build_in</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    tin[u].l = l; tin[u].r = r;</span><br><span class="line">    tin[u].id = ++tot;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        idin[l] = tin[u].id;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build_in</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build_in</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up_in</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡ºæ ‘</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build_out</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    tout[u].l = l; tout[u].r = r;</span><br><span class="line">    tout[u].id = ++tot;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        idout[l] = tout[u].id;</span><br><span class="line">        <span class="built_in">add</span>(idout[l], idin[l], <span class="number">0</span>); <span class="comment">// ä¸¤æ£µæ ‘çš„å¶å­ç»“ç‚¹ä»¥0è·ç¦»è¿æ¥</span></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build_out</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build_out</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up_out</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify_in</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> v, ll w)</span> </span>&#123; <span class="comment">// ç‚¹è¿æ¥åŒºé—´</span></span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= tout[u].l &amp;&amp; tout[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="built_in">add</span>(idin[v], tout[u].id, w);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> mid = (tout[u].l + tout[u].r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify_in</span>(lc, ql, qr, v, w);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">modify_in</span>(rc, ql, qr, v, w);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify_out</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> v, ll w)</span> </span>&#123; <span class="comment">// åŒºé—´è¿æ¥ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= tin[u].l &amp;&amp; tin[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="built_in">add</span>(tin[u].id, idout[v], w);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> mid = (tin[u].l + tin[u].r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify_out</span>(lc, ql, qr, v, w);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">modify_out</span>(rc, ql, qr, v, w);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> vis[maxn &lt;&lt; <span class="number">4</span>];</span><br><span class="line">ll dis[maxn &lt;&lt; <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> now;</span><br><span class="line">    ll d;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> node &amp;rhs) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> d &gt; rhs.d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dij</span><span class="params">(<span class="type">int</span> s)</span> </span>&#123;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;s, <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        node p = q.<span class="built_in">top</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="type">int</span> u = p.now;</span><br><span class="line">        <span class="keyword">if</span>(vis[u]) <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">            <span class="type">int</span> v = e[i].v;</span><br><span class="line">            <span class="keyword">if</span>(dis[v] &gt; dis[u] + e[i].w) &#123;</span><br><span class="line">                dis[v] = dis[u] + e[i].w;</span><br><span class="line">                q.<span class="built_in">push</span>(&#123;v, dis[v]&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m, s; cin &gt;&gt; n &gt;&gt; m &gt;&gt; s;</span><br><span class="line">    <span class="built_in">build_in</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">    <span class="built_in">build_out</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> opt, l, r, u, v;</span><br><span class="line">        ll w;</span><br><span class="line">        cin &gt;&gt; opt;</span><br><span class="line">        <span class="comment">// è§„å®šè¿æ¥éƒ½æ˜¯ç”±ä¸‹å¾€ä¸Šï¼Œå…¥æ ‘çš„ç‚¹è¿æ¥å‡ºæ ‘çš„ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span>(opt == <span class="number">1</span>) &#123;</span><br><span class="line">            cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">            <span class="built_in">add</span>(idin[u], idout[v], w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(opt == <span class="number">2</span>) &#123; <span class="comment">// ç‚¹è¿æ¥åŒºé—´</span></span><br><span class="line">            cin &gt;&gt; u &gt;&gt; l &gt;&gt; r &gt;&gt; w;</span><br><span class="line">            <span class="built_in">modify_in</span>(<span class="number">1</span>, l, r, u, w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(opt == <span class="number">3</span>) &#123; <span class="comment">// åŒºé—´è¿æ¥ç‚¹</span></span><br><span class="line">            cin &gt;&gt; u &gt;&gt; l &gt;&gt; r &gt;&gt; w;</span><br><span class="line">            <span class="built_in">modify_out</span>(<span class="number">1</span>, l, r, u, w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é¢„å¤„ç†æ‰€æœ‰ç‚¹ï¼Œçº¿æ®µæ ‘çš„å¶å­ç»“ç‚¹ç¼–å·ä¼šè¶…è¿‡nï¼Œï¼Œæ‰€ä»¥è¦å¤šå¼€å‡ å€</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">8</span> * n; i++) dis[i] = INF;</span><br><span class="line">    <span class="built_in">Dij</span>(idin[s]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dis[idin[i]] != INF) cout &lt;&lt; dis[idin[i]] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/13/codeforces-786b/">https://blog.jujimeizuo.cn/2021/01/13/codeforces-786b/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢æŒ‘æˆ˜èµ›47 F-ç®€å•é¢˜ è«æ¯”ä¹Œæ–¯åæ¼”</title>
      <link href="/2021/01/12/nowcoder-challenge47-f/"/>
      <url>/2021/01/12/nowcoder-challenge47-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/10743/F">https://ac.nowcoder.com/acm/contest/10743/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^mgcd(i,j)\mu(ij)\varphi (ij)$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ ¹æ®ç§¯æ€§å‡½æ•°å’Œ$\mu$çš„æ€§è´¨ï¼Œåªæœ‰iå’Œjäº’è´¨æ—¶æ‰æœ‰è´¡çŒ®ï¼Œä¸ç„¶$\mu(ij)&#x3D;0$ iå’Œjäº’è´¨æ—¶ï¼Œ$\varphi (ij)&#x3D;\varphi (i)\varphi (j)\;\;\mu(ij)&#x3D;\mu(i)\mu(j)\;\;gcd(i,j)&#x3D;1$</p><p>æ ¹æ®ä¸Šè¿°å¯å¾—ï¼š</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m[gcd(i,j)&#x3D;1]\varphi (i)\mu(i)\varphi (j)\mu(j)$$ $è®¾f(i)&#x3D;\varphi (i)*\mu(i)ï¼Œg(j)&#x3D;\varphi (j)*\mu(j)ï¼Œåˆ™$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m[gcd(i,j)&#x3D;1]f(i)g(j)$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^mf(i)g(j)\sum_{di\;dj}\mu(d)$$</p><p>äº¤æ¢æšä¸¾é¡ºåºï¼š</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}\mu(d)\sum_{i&#x3D;1}^nf(i)[di]\sum_{j&#x3D;1}^mg(j)[dj]$$</p><p>æ ¹æ®ä¸Šå¼ï¼Œå¯ä»¥é¢„å¤„ç†$\varphi,\mu,f,g$å‡½æ•°ã€‚ç„¶åæš´åŠ›æ±‚è§£ï¼Œå³ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) f[i] = phi[i];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) g[j] = phi[j];</span><br><span class="line">ll ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> d = <span class="number">1</span>;d &lt;= <span class="built_in">min</span>(n, m); d++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!mu[d]) <span class="keyword">continue</span>;</span><br><span class="line">    ll sum1 = <span class="number">0</span>, sum2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = d;i &lt;= n; i += d) sum1 += f[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = d;j &lt;= m; j += d) sum2 += g[j];</span><br><span class="line">    ans = (ans + sum1 \* sum2 \* mu[d]) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ ·ä¼šTæ‰ï¼Œå› ä¸ºd&#x3D;1æ—¶ï¼Œnè¿‡å¤§ï¼Œé‚£å¤æ‚åº¦å°±æ˜¯$O(n^2)$äº†ã€‚</p><p>éœ€è¦ Dirichlet å‰ç¼€å’Œä¼˜åŒ–å³å¯ã€‚è¿™æ˜¯å‰ç¼€å’Œçš„å‡ ä¸ªç‰ˆæœ¬ï¼š<a href="https://blog.csdn.net/weixin_45697774/article/details/111052242">Dirichlet å‰ç¼€å’Œ</a></p><p>Dirichlet å‰ç¼€å’Œä¼˜åŒ–ä¹‹åçš„å¤æ‚åº¦ä¸º$O(n\log \log n)$ï¼Œå®Œå…¨å¯ä»¥æ¥å—ã€‚</p><h2 id="Code-2512-MS"><a href="#Code-2512-MS" class="headerlink" title="Code(2512 MS)"></a>Code(2512 MS)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = (<span class="number">1ll</span> &lt;&lt; <span class="number">32</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e7</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cnt;</span><br><span class="line"><span class="type">int</span> prime[N];</span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> mu[N];</span><br><span class="line"><span class="type">int</span> phi[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    phi[<span class="number">1</span>] = mu[<span class="number">1</span>] = is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_prime[i]) &#123;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">            phi[i] = i - <span class="number">1</span>;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; prime[j] * i &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i * prime[j]] = <span class="number">0</span>;</span><br><span class="line">                phi[i * prime[j]] = phi[i] * prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            phi[i * prime[j]] = phi[i] * (prime[j] - <span class="number">1</span>);</span><br><span class="line">            mu[i * prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) phi[i] *= mu[i];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> f[N], g[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) f[i] = phi[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) g[j] = phi[j];</span><br><span class="line"></span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= cnt; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = n / prime[i];j &gt;= <span class="number">1</span>; j--) f[j] += f[j * prime[i]];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = m / prime[i];j &gt;= <span class="number">1</span>; j--) g[j] += g[j * prime[i]];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="built_in">min</span>(n, m); i++) &#123;</span><br><span class="line">            ans += <span class="number">1ll</span> * f[i] * g[i] * mu[i] % mod;</span><br><span class="line">            ans %= mod;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; (ans + mod) % mod &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2021/01/12/nowcoder-challenge47-f/">https://blog.jujimeizuo.cn/2021/01/12/nowcoder-challenge47-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Educational Codeforces Round 101 (Rated for Div. 2) Dé¢˜ æ€ç»´ã€æ„é€ </title>
      <link href="/2020/12/29/educational-codeforces-round-101-rated-for-div-2-d/"/>
      <url>/2020/12/29/educational-codeforces-round-101-rated-for-div-2-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.ml/contest/1469/problem/D">https://codeforces.ml/contest/1469/problem/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ä¸€æ®µåºåˆ—$a_1â€¦a_nï¼Œa_i&#x3D;i$ï¼Œæœ€å¤šn+5æ¬¡æ“ä½œåï¼Œä½¿åºåˆ—å˜ä¸ºn-1ä¸ª1å’Œ1ä¸ª2ã€‚ è¿™ä¸ªæ“ä½œä¸ºï¼Œå…ˆé€‰æ‹©ä¸¤ä¸ªæ•°xå’Œyï¼Œç„¶åä½¿$ax&#x3D;\left \lceil \frac{ax}{ay} \right \rceil$.</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¾—è½¬æ ¹å·ï¼Œè¿™ä¸ªæ“ä½œåœ¨n&#x3D;2e5æ—¶ï¼Œæœ€å¤š5*2æ¬¡ï¼Œæ¯æ¬¡$(n,\sqrt n)$éœ€è¦ä¸¤æ¬¡ã€‚</p><p>å¯¹äºæ¯ä¸ªåŒºé—´$(\sqrt n, n)$ï¼Œåªéœ€è¦é€‰æ‹©(i,i+1)æ“ä½œä¸€æ¬¡å°±å˜æˆ1äº†ã€‚</p><p>æ€»æ¬¡æ•°ä¸ºn-7+5*2&#x3D;n+3æ¬¡ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">pragma</span> GCC optimize(2)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">        vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; &gt; v, <span class="built_in">x</span>(<span class="number">20</span>);</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> t = n;</span><br><span class="line">        <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(t &gt; <span class="number">2</span>) &#123;</span><br><span class="line">            a[++k] = t;</span><br><span class="line">            t = (<span class="type">int</span>) (<span class="built_in">ceil</span>(<span class="built_in">sqrt</span>(t)));</span><br><span class="line">        &#125;</span><br><span class="line">        t = k;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">3</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == a[t]) &#123;</span><br><span class="line">                x[t * <span class="number">2</span>] = &#123;i, (<span class="type">int</span>)(<span class="built_in">ceil</span>(<span class="built_in">sqrt</span>(i)))&#125;;</span><br><span class="line">                x[t * <span class="number">2</span> - <span class="number">1</span>] = &#123;i, (<span class="type">int</span>)(<span class="built_in">ceil</span>(<span class="built_in">sqrt</span>(i)))&#125;;</span><br><span class="line">                t--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> v.<span class="built_in">push_back</span>(&#123;i, i + <span class="number">1</span>&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; v.<span class="built_in">size</span>() + k * <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : v) &#123;</span><br><span class="line">            cout &lt;&lt; i.first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; i.second &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">2</span> * k; i++) &#123;</span><br><span class="line">            cout &lt;&lt; x[i].first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; x[i].second &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/29/educational-codeforces-round-101-rated-for-div-2-d/">https://blog.jujimeizuo.cn/2020/12/29/educational-codeforces-round-101-rated-for-div-2-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCæµå—ç«™ é“¸é“œè®°</title>
      <link href="/2020/12/28/2020icpc-jinan-summary/"/>
      <url>/2020/12/28/2020icpc-jinan-summary/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘å¤§äºŒç¬¬ä¸€æšé“œç‰Œï¼Œä¹Ÿæ˜¯acmç”Ÿæ¶¯ç¬¬ä¸€æšé“œç‰Œï¼Œç‰¹è®°æ­¤ç«™ï¼Œå†æ¥å†å‰ã€‚</p><h2 id="èµ›å‰é˜Ÿå†…çº çº·"><a href="#èµ›å‰é˜Ÿå†…çº çº·" class="headerlink" title="èµ›å‰é˜Ÿå†…çº çº·"></a>èµ›å‰é˜Ÿå†…çº çº·</h2><p>åœ¨æ¯”èµ›çš„å‰å‡ å¤©ï¼Œå®éªŒå®¤é‡Œå¼€äº†ä¸€åœºå—äº¬ç«™çš„å¤ç°ï¼Œæœ¬æ¥é˜Ÿé‡Œè¿˜æ˜¯å…´è‡´å‹ƒå‹ƒåœ°æ¯”èµ›ï¼Œå¾ˆå¿«çš„Aæ‰äº†ä¸¤é¢˜ï¼Œæ¯”å®éªŒå®¤é‡Œåœ¨å—äº¬ç«™çš„é“¶ç‰Œé˜ŸAä¸¤é¢˜çš„é€Ÿåº¦è¿˜å¿«ä¸€ç‚¹ç‚¹ã€‚ä½†æ˜¯åˆ°äº†ç¬¬ä¸‰é¢˜ï¼Œå·²ç»æœ‰ä¸¤é¢˜æ˜¯å¯ä»¥å†™çš„ï¼Œè€Œä¸”éƒ½è¿‡äº†100å¤šäººï¼Œä½†æ˜¯ylé€‰æ‹©å†™ä¸€é“30å¤šäººè¿‡çš„é¢˜ï¼Œè€Œä¸”æœ‰æ€è·¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è®©ä»–å…ˆå†™å®Œï¼Œè¿‡äº†40åˆ†é’Ÿï¼Œè¿˜æ˜¯æ²¡æœ‰å†™å®Œï¼Œç„¶åå±…ç„¶å’Œæˆ‘è¯´01èƒŒåŒ…æ€ä¹ˆå†™ï¼Œæˆ‘çš„æ€§å­è¿˜å¥½ï¼Œè·Ÿä»–è¯´äº†ï¼Œåˆè®©ä»–å†™äº†20å¤šåˆ†é’Ÿï¼Œè¿™æ—¶å€™æˆ‘å¿æ— å¯å¿ï¼Œå°±èµ·äº†ä¸€ç‚¹å°çŸ›ç›¾ï¼Œç„¶åylæœ‰äº‹æƒ…å°±å…ˆèµ°äº†ï¼Œå°±å‰©ä¸‹æˆ‘å’Œsgç»§ç»­å¥‹æ–—ï¼Œä½†é‚£ä¸ªæ—¶å€™æˆ‘å“ªæœ‰å¿ƒæƒ…ç»§ç»­æ³„é¢˜å‘¢ï¼Ÿæœ€ç»ˆåªAæ‰äº†ä¸¤é¢˜ï¼Œæˆä¸ºå…¨å®éªŒå®¤æœ€èœçš„ä¸€é˜Ÿï¼Œè™½ç„¶æœ‰é˜Ÿä¼å˜²è®½æˆ‘ä»¬ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æ²¡æœ‰ç†ä»–ï¼Œå¿ƒæ€å¥½æ‰æ˜¯çœŸï¼Œä¸è¦åœ¨ä¹åˆ«äººçš„çœ¼å…‰ã€‚</p><h2 id="èµ›å‰é˜Ÿå†…ä¼šè®®"><a href="#èµ›å‰é˜Ÿå†…ä¼šè®®" class="headerlink" title="èµ›å‰é˜Ÿå†…ä¼šè®®"></a>èµ›å‰é˜Ÿå†…ä¼šè®®</h2><p>ç”±äºé˜Ÿé‡Œèµ·äº†çŸ›ç›¾ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ˜ŸæœŸäº”æ™šä¸Šå¼€äº†1ä¸ªå¤šå°æ—¶ä¼šè®®ï¼Œæˆ‘è®¤ä¸ºæˆ‘ä»¬æ˜¯æœ‰æ‹¿ç‰Œçš„å®åŠ›ï¼Œå› ä¸ºä¹‹å‰çš„çœèµ›ã€CCPCé•¿æ˜¥ç«™ã€ICPCä¸Šæµ·ç«™ï¼Œé¢˜é‡éƒ½å¤Ÿäº†ï¼Œä½†æ˜¯ç½šæ—¶å¤ªé«˜ï¼Œæ‰€ä»¥åœºåœºæ‰“é“ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæŸä¸ªäººçœŸçš„å¾ˆå®¹æ˜“ä¸Šå¤´ï¼Œè¿™å¯èƒ½å’Œä»–çš„æ€§æ ¼ä¹Ÿæœ‰å…³ç³»ã€‚ä½†æ˜¯æˆ‘å’Œå¦å¤–ä¸€åé˜Ÿå‹éƒ½ä¸€ç›´åœ¨åŠè¯´ä»–ä¸è¦ä¸Šå¤´ï¼Œä¸è¦æ¿€åŠ¨ï¼Œä½†æ˜¯å—äº¬ç«™çš„æ¨¡æ‹Ÿèµ›å……åˆ†åœ°è¡¨ç¤ºè¿™ä¸ªä¼šéå¼€ä¸å¯ï¼åœ¨å¼€ä¼šçš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªäººæ€»ç»“äº†è‡ªå·±çš„å¼±ç‚¹ï¼Œè€Œylä¹Ÿè®¤è¯†åˆ°è‡ªå·±çš„é”™è¯¯ï¼Œåœ¨é•¿è¾¾ä¸€ä¸ªå¤šå°æ—¶çš„ä¼šè®®ä¸­ï¼Œé˜Ÿé‡Œçš„å¿ƒç»“ç®—æ˜¯å¥½äº†ä¸€ç‚¹ç‚¹ã€‚</p><h2 id="çƒ­èº«èµ›"><a href="#çƒ­èº«èµ›" class="headerlink" title="çƒ­èº«èµ›"></a>çƒ­èº«èµ›</h2><p>åœ¨çƒ­èº«èµ›çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å……åˆ†åœ°è§‚å¯Ÿäº†ylçš„æ¯”èµ›æƒ…ç»ªï¼Œå‘ç°æ˜¯æ¯”ä»¥å‰å¥½å¾ˆå¤šï¼Œå¹¶ä¸”åœ¨çƒ­èº«èµ›é‡Œï¼Œæˆ‘ä»¬ä¹ŸAæ‰äº†ä¸¤é¢˜ï¼Œç¬¬ä¸‰é¢˜ç”±äºæ²¡æœ‰æ—¶é—´äº†ï¼Œæ‰€ä»¥å°±æ”¾å¼ƒäº†ï¼Œä½†æ˜¯æˆ‘å·²ç»çœ‹åˆ°æ˜å¤©æ­£å¼èµ›çš„æˆ‘ä»¬æ˜¯ä¸ä¼šæ‰“é“çš„ï¼</p><h2 id="æ­£å¼èµ›æ‹¿ç‰Œï¼"><a href="#æ­£å¼èµ›æ‹¿ç‰Œï¼" class="headerlink" title="æ­£å¼èµ›æ‹¿ç‰Œï¼"></a>æ­£å¼èµ›æ‹¿ç‰Œï¼</h2><p>åœ¨11ç‚¹æ¯”èµ›å‰ï¼Œæ¯ä¸ªäººçš„å¿ƒæƒ…éƒ½æ˜¯éå¸¸æ¿€åŠ¨çš„ï¼ŒåŒæ—¶æƒ…ç»ªä¹Ÿæ˜¯ç¨³å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç­‰å¾…è¿æ¥æ¯”èµ›çš„å¼€å§‹ã€‚ æ¯”èµ›å¼€å§‹åï¼Œå¾ˆå¿«å•Šï¼Œå¾ˆå¿«å°±Aæ‰äº†4é¢˜ï¼ŒMGCä¸‰é¢˜æˆ‘å‡ ä¹å‡ ç§’é’Ÿå°±èƒ½æƒ³åˆ°æ€è·¯å¹¶ä¸”å†™å‡ºä»£ç ï¼Œä½†æ˜¯ç”±äºæ€•waæ‰ï¼Œæ‰€ä»¥å¤šæµ‹äº†å‡ ç»„æ ·ä¾‹ï¼Œä¸è¿‡éƒ½æ˜¯ä¸€å‘acçš„ï¼ŒDé¢˜æ˜¯ylç«‹é©¬æƒ³åˆ°äº†æ€è·¯ï¼Œç„¶åä¹Ÿæ˜¯ä¸€å‘acã€‚ åœ¨ä¸€ä¸ªå°æ—¶Aæ‰äº†4é¢˜ï¼Œè€Œä¸”éƒ½æ˜¯ä¸€å‘å…¥é­‚ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ’åœ¨ç¬¬68åï¼Œåœ¨æ¯”èµ›ä¸€ä¸ªå°æ—¶åï¼Œæˆ‘ä»¬é˜Ÿå·²ç»æ„Ÿåˆ°æ— æ¯”å…´å¥‹ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ä¸èƒ½æ¾æ‡ˆï¼Œå› ä¸ºåœ¨Aæ‰ä¸€é¢˜æˆ–è€…ä¸¤é¢˜æœ‰å¯èƒ½æœ‰é“¶ç‰Œçš„å¸Œæœ›ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸‰ä¸ªäººç»§ç»­è¯»é¢˜ã€æƒ³æ€è·¯ï¼Œæœ€å…ˆçœ‹çš„æ˜¯Lé¢˜ï¼Œç”±äºæ˜¯æ‰¾[0,L]ä¹‹é—´æ»¡è¶³çš„ä¸ªæ•°ï¼Œæ‰€ä»¥æˆ‘ç«‹é©¬æƒ³åˆ°äº†æ•°ä½dpï¼Œä½†æ˜¯ç”±äºæˆ‘ä¸çŸ¥é“æ€ä¹ˆè½¬ç§»çš„ç­–ç•¥ï¼Œå¹¶ä¸”çœ‹äº†è¿‡é¢˜äººæ•°å¾ˆå°‘ï¼Œæ‰€ä»¥å°±æ”¾å¼ƒï¼Œè½¬æ”»Aé¢˜å»äº†ã€‚Aé¢˜æ˜¯çº¿ä»£çš„é¢˜ï¼Œæˆ‘ä»¬é˜Ÿä¸¤ä¸ªäººæœ‰ä¸€ç‚¹ç‚¹çº¿ä»£çš„åŸºç¡€ï¼Œæ‰€ä»¥è¿™ä¸€é¢˜æˆ‘è®¤ä¸ºæ˜¯å¯ä»¥å†™çš„ï¼Œè€Œä¸”è¿‡é¢˜äººæ•°å¾ˆå¤šï¼Œæ˜¯éå¸¸æœ‰å¸Œæœ›çš„ã€‚çœ‹äº†çœ‹æ ·ä¾‹ï¼Œæˆ‘å°±æ‰“ä¿ç¥¨ï¼Œç­”æ¡ˆä¸€å®šæ˜¯æ˜¯2çš„æ¬¡æ–¹ï¼Œé«˜æ–¯æ¶ˆå…ƒä¸€å®šè¦çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œè€Œä¸”æ²¡æœ‰ä¸€å¥—å®Œç¾çš„æ€è·¯ï¼Œä¸€å¼€å§‹å¾€å¼‚æˆ–æ–¹é¢æƒ³ï¼Œç„¶åå‘ç°Aç§»è¿‡å»å°±è¡Œäº†ï¼Œåªè¦æ±‚ä¸ªçŸ©é˜µæ±‚é€†å°±è¡Œäº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘éå¸¸è‡ªè´£ï¼Œå› ä¸ºæˆ‘æ˜¯æ•°å­¦é€‰æ‰‹ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰çŸ©é˜µæ±‚é€†çš„æ¿å­ï¼Œèµ›åå‘ç°æ˜¯å¼‚æˆ–æ–¹ç¨‹ç»„ï¼Œé‚£æ²¡äº‹äº†ï¼Œè¿™é”…æˆ‘ä¸èƒŒã€‚æ‰€ä»¥è¿™ä¸€é¢˜åˆ°æœ€åä¹Ÿæ²¡æœ‰Aæ‰ã€‚æˆ‘ä»¬å†çœ‹Açš„åŒæ—¶ï¼Œylç»§ç»­çœ‹äº†Jé¢˜ï¼Œå¹¶ä¸”å¾ˆå¿«åœ°å†™å‡ºäº†Jçš„ä»£ç ï¼Œä»–è¯´å°±æ˜¯ä¸€ä¸ªæŸ“è‰²é—®é¢˜ï¼Œæ‰€ä»¥ç”µè„‘ä¸€ç›´äº¤ç»™ä»–ï¼Œæˆ‘ä»¬é€ äº†å¥½å‡ ç»„ç‰¹æ®Šæ ·ä¾‹éƒ½è¿‡äº†ï¼Œä½†æ˜¯å§‹ç»ˆéƒ½æ˜¯waï¼Œæ‰€ä»¥ä¹Ÿæ²¡æŠ±å¤šå¤§å¸Œæœ›ï¼Œå°±è®©ä»–éšä¾¿äº¤é¢˜äº†ï¼Œä½†æ˜¯çªç„¶ä¸€ç¬é—´ï¼ï¼ï¼Jé¢˜è¿‡äº†ï¼Œé‚£ä¸ªæ—¶å€™æˆ‘å‘†ä½äº†ï¼Œè€Œä¸”ä¸åŒä»¥å¾€ï¼Œåªwaäº†7å‘å°±è¿‡äº†ï¼Œåæ¥ä»–è¯´å°±å°‘å†™äº†ä¸€è¡Œä»£ç ï¼Œä¸ç„¶å¯ä»¥ä¸waçš„ï¼Œè¿™å·²ç»æ²¡å…³ç³»äº†ï¼Œ5é¢˜çš„æˆ‘ä»¬å¯¹äºæ‹¿ç‰Œå·²ç»æ— å¯é˜»æŒ¡äº†ã€‚èµ›åçœ‹æ’åï¼Œå¦‚æœJé¢˜å°‘waå‡ å‘ï¼ŒçœŸçš„å¯ä»¥é“¶ç‰Œäº†ã€‚ï¼ˆè¿™ä¸ªæ•…äº‹å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸è¦è®©é˜Ÿå‹éšä¾¿äº¤é¢˜ï¼Œä¸ç„¶å¯ä»¥æ‹¿é“¶ç‰Œå“Ÿ~ï¼‰ã€‚æœ€ç»ˆè¿˜æ˜¯æ‹¿äº†é“œç‰Œï¼Œé‚£ä¸ªæ—¶å€™æˆ‘æ— æ¯”åœ°é«˜å…´ï¼ŒåŒæ—¶ä¹ŸæœŸå¾…ä»¥åçš„ACMæ¯”èµ›ï¼Œå¸Œæœ›å†æ¥å†å‰ã€‚</p><h2 id="èµ›åèšé¤"><a href="#èµ›åèšé¤" class="headerlink" title="èµ›åèšé¤"></a>èµ›åèšé¤</h2><p>æ¯”èµ›ä¹‹åï¼Œæˆ‘ä»¬é˜Ÿé‡Œå»å¤–é¢èšé¤ï¼ŒåŒæ—¶åˆ†æäº†è‡ªå·±åœ¨è¿™æ¬¡æ¯”èµ›ä¸­çš„æ„Ÿæƒ³ã€‚å¤§äºŒçš„ICPCä¹Ÿç»“æŸäº†ï¼Œæ‰€ä»¥åªèƒ½æ‰“æ‰“cfå•¥çš„äº†ã€‚å¸Œæœ›è‡ªå·±çš„cfå…ˆä¸Šä¸ª1600ï¼Œåœ¨ä¸Šä¸ªç´«åã€‚</p><p><strong>2020.12.17 ç‹™å‡»ç¾ä½</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/28/2020icpc-jinan-summary/">https://blog.jujimeizuo.cn/2020/12/28/2020icpc-jinan-summary/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCå—äº¬ç«™ Fé¢˜ Firworks å‡ ä½•åˆ†å¸ƒ + ä¸‰åˆ†</title>
      <link href="/2020/12/25/2020-icpc-nanjing-f/"/>
      <url>/2020/12/25/2020-icpc-nanjing-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/10272/F">https://ac.nowcoder.com/acm/contest/10272/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>nåˆ†é’Ÿåšä¸€ä¸ªçƒŸèŠ±ï¼Œmåˆ†é’Ÿæ”¾æ‰æ‰€æœ‰åšå®Œçš„çƒŸèŠ±ã€‚pçš„æ¦‚ç‡åˆ¶é€ å‡ºå®Œç¾çš„çƒŸèŠ±ã€‚é—®æœ€å°‘çš„æœŸæœ›æ—¶é—´å¯ä»¥åšå‡ºå®Œç¾çš„çƒŸèŠ±ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¿™ä¸ªçƒŸèŠ±åªæœ‰æ˜¯ä¸æ˜¯å®Œç¾çš„ä¸¤ç§ï¼Œæ‰€ä»¥æ˜¯å‡ ä½•åˆ†å¸ƒã€‚è€Œå‡ ä½•åˆ†å¸ƒçš„æœŸæœ›ä¸º$\frac{1}{p}$ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€æ¬¡æ€§åšå¤šå°‘ä¸ªçƒŸèŠ±å¯ä»¥åšå‡ºå®Œç¾çš„çƒŸèŠ±ã€‚</p><p>å‡è®¾æˆ‘ä»¬åˆ¶é€ å‡ºkä¸ªçƒŸèŠ±ï¼Œç„¶åä¸€æ¬¡æ€§èŠ±måˆ†é’Ÿé‡Šæ”¾å®Œï¼Œå…¶ä¸­å°±æœ‰å®Œç¾çš„çƒŸèŠ±ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€»æ—¶é—´ä¸º$(n*k+m)$ï¼Œè€Œå­˜åœ¨å®Œç¾çƒŸèŠ±çš„æ¦‚ç‡ä¸º$1-(1-p)^k$,æ‰€ä»¥åšå‡ºä¸€ä¸ªå®Œç¾çƒŸèŠ±çš„æœŸæœ›ä¸º$\frac{1}{1-(1-p)^k}$ï¼Œä¹˜ä¸Šæ—¶é—´ï¼Œæ€»æœŸæœ›æ—¶é—´ä¸º$\frac{(n*k+m)}{1-(1-p)^k}$ã€‚</p><p><strong>æ‰€ä»¥æˆ‘ä»¬æƒ³çŸ¥é“è¿™ä¸ªkæ˜¯å¤šå°‘ã€‚å›ç­”ï¼šä¸‰åˆ†ç­”æ¡ˆã€‚</strong></p><p>å› ä¸ºæ€»æœŸæœ›æ—¶é—´å‡½æ•°ä¸æ˜¯å•è°ƒçš„ï¼Œæ‰€ä»¥äºŒåˆ†ä¸è¡Œçš„ï¼Œéœ€è¦ä¸‰åˆ†ã€‚ å³ä¸‰åˆ†ç­”æ¡ˆï¼Œæšä¸¾kï¼Œåˆšå¼€å§‹çš„åŒºé—´ä¸º[1,10000]ã€‚å–æœ€å°anså³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line">ll n, m;</span><br><span class="line"><span class="type">double</span> p;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">quick_pow</span><span class="params">(<span class="type">double</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a;</span><br><span class="line">        a = a * a;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Clac</span><span class="params">(<span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (k * n + m) / (<span class="number">1</span> - <span class="built_in">quick_pow</span>(<span class="number">1</span> - p, k));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lf&quot;</span>,&amp;n,&amp;m,&amp;p);</span><br><span class="line">        p *= <span class="number">0.0001</span>;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">1</span>, r = <span class="number">100000</span>;</span><br><span class="line">        <span class="type">double</span> ans = (n + m) / p;</span><br><span class="line">        <span class="keyword">while</span>(r - l &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">            <span class="type">int</span> mid1 = l + (r - l) / <span class="number">3</span>;</span><br><span class="line">            <span class="type">int</span> mid2 = r - (r - l) / <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">Clac</span>(mid1) &lt; <span class="built_in">Clac</span>(mid2)) r = mid2;</span><br><span class="line">            <span class="keyword">else</span> l = mid1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = l;i &lt;= r; i++) &#123;</span><br><span class="line">            ans = <span class="built_in">min</span>(ans, <span class="built_in">Clac</span>(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lf\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/25/2020-icpc-nanjing-f/">https://blog.jujimeizuo.cn/2020/12/25/2020-icpc-nanjing-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å—æ˜Œé‚€è¯·èµ›ç½‘ç»œèµ› Jé¢˜ Distance on the tree è¾¹æƒæ ‘å‰– + æ ‘ä¸ŠDFSåºå»ºä¸»å¸­æ ‘</title>
      <link href="/2020/12/23/2019-icpc-nanchang-yaoqing-j/"/>
      <url>/2020/12/23/2019-icpc-nanchang-yaoqing-j/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://nanti.jisuanke.com/t/38229">https://nanti.jisuanke.com/t/38229</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™nä¸ªç‚¹ï¼Œn-1æ¡è¾¹ï¼Œæ¯æ¡è¾¹éƒ½æœ‰è¾¹æƒã€‚ mæ­¤è¯¢é—®ï¼Œè¾“å‡ºuåˆ°vè¿™æ¡ç®€å•è·¯å¾„ä¸Šè¾¹æƒ&lt;&#x3D;kçš„è¾¹æ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆçœ‹åˆ°è¿™é“é¢˜ï¼Œæ‰¾åˆ°å‡ ä¸ªå…³é”®ç‚¹ã€‚<strong>uåˆ°vã€åŒºé—´å°äºkçš„ä¸ªæ•°</strong></p><ul><li>uåˆ°vçš„ç®€å•è·¯å¾„ï¼Œå¯ä»¥æ ‘å‰–å°†æ ‘åŒ–ä¸ºæ•°åˆ—è¿›è¡Œæ¨¡æ‹Ÿ.</li><li>åŒºé—´&lt;&#x3D;kçš„ä¸ªæ•°ï¼Œåœ¨æ ‘çš„dfsåºä¸Šå»ºä¸»å¸­æ ‘ã€‚</li></ul><p>è¿™é¢˜æ˜¯è¾¹æƒï¼Œæˆ‘ä»¬æ ‘å‰–å®Œæˆä¹‹åï¼Œæ ¹æ®æ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦ï¼Œå°†è¾¹æƒç»™å„¿å­ä½œä¸ºç‚¹æƒã€‚ <strong>æ ¹èŠ‚ç‚¹1å°±æ²¡æœ‰æƒå€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†æ ¹èŠ‚ç‚¹çš„ç‚¹æƒè®¾ä¸ºæœ€å¤§å€¼ï¼Œä½¿ä¸»å¸­æ ‘ä¸å½±å“ã€‚</strong></p><p>ç„¶åæ ¹æ®dfsåºï¼Œå»ºné¢—ä¸»å¸­æ ‘ï¼Œæœ€ååˆ©ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼Œå¾—å‡ºç­”æ¡ˆã€‚</p><p>root[0]è¿™æ£µåˆå§‹ä¸»å¸­æ ‘å»ºä¸å»ºæ— æ‰€è°“ï¼Œéƒ½okã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*-------------------å»ºè¾¹-----------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> head[maxn &lt;&lt; <span class="number">1</span>], t;</span><br><span class="line"><span class="type">int</span> eg[N &lt;&lt; <span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    e[++t].v = v;</span><br><span class="line">    e[t].next = head[u];</span><br><span class="line">    head[u] = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*-------------------è½»é‡é“¾å‰–åˆ†-----------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dep[N], siz[N], fa[N], son[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> par)</span> </span>&#123;</span><br><span class="line">    dep[u] = dep[fa[u] = par] + (siz[u] = <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == par) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">if</span>(!son[u]  siz[v] &gt; siz[son[u]])</span><br><span class="line">            son[u] = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tim, dfn[N], nodeof[N], top[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> topf)</span> </span>&#123;</span><br><span class="line">    nodeof[dfn[u] = ++tim] = u;</span><br><span class="line">    top[u] = topf;</span><br><span class="line">    <span class="keyword">if</span>(!son[u]) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">dfs2</span>(son[u], topf);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa[u]  v == son[u]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(v, v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*-------------------æ ‘ä¸Šä¸»å¸­æ ‘-----------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"><span class="type">int</span> cnt, root[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> sum;</span><br><span class="line">&#125;hjt[N * <span class="number">40</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">getid</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">lower_bound</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), x) - v.<span class="built_in">begin</span>() + <span class="number">1</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> &amp;now, <span class="type">int</span> l , <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    now = ++cnt;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(hjt[now].l, l, m);</span><br><span class="line">    <span class="built_in">build</span>(hjt[now].r, m + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> pre, <span class="type">int</span> &amp;now, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    hjt[now = ++cnt] = hjt[pre];</span><br><span class="line">    hjt[now].sum++;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) <span class="built_in">insert</span>(hjt[pre].l, hjt[now].l, l, m, p);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">insert</span>(hjt[pre].r, hjt[now].r, m + <span class="number">1</span>, r, p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> L, <span class="type">int</span> R, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> hjt[R].sum - hjt[L].sum;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= m) ans += <span class="built_in">query</span>(hjt[L].l, hjt[R].l, l, m, k);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        ans += hjt[hjt[R].l].sum - hjt[hjt[L].l].sum;</span><br><span class="line">        ans += <span class="built_in">query</span>(hjt[L].r, hjt[R].r, m + <span class="number">1</span>, r, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query_chain</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">        ans += <span class="built_in">query</span>(root[dfn[top[x]] - <span class="number">1</span>], root[dfn[x]], <span class="number">1</span>, n, k);</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x == y) <span class="keyword">return</span> ans;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &gt; dep[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    ans += <span class="built_in">query</span>(root[dfn[x]], root[dfn[y]], <span class="number">1</span>, n, k);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="comment">// å‰–åˆ†</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v, w;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line">        <span class="built_in">add</span>(u, v);</span><br><span class="line">        <span class="built_in">add</span>(v, u);</span><br><span class="line">        eg[i][<span class="number">0</span>] = u; eg[i][<span class="number">1</span>] = v; eg[i][<span class="number">2</span>] = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs1</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// å»ºæ ‘</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[eg[i][<span class="number">0</span>]] &gt; dep[eg[i][<span class="number">1</span>]]) <span class="built_in">swap</span>(eg[i][<span class="number">0</span>], eg[i][<span class="number">1</span>]);</span><br><span class="line">        a[eg[i][<span class="number">1</span>]] = eg[i][<span class="number">2</span>];</span><br><span class="line">        v.<span class="built_in">push_back</span>(eg[i][<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">    v.<span class="built_in">erase</span>(<span class="built_in">unique</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()), v.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">build</span>(root[<span class="number">0</span>], <span class="number">1</span>, n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> x = <span class="built_in">getid</span>(a[nodeof[i]]);</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">1</span>) x = n + <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">insert</span>(root[i - <span class="number">1</span>], root[i], <span class="number">1</span>, n, x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> l, r, k;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;l,&amp;r,&amp;k);</span><br><span class="line">        k = <span class="built_in">upper_bound</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), k) - v.<span class="built_in">begin</span>() + <span class="number">1</span>; <span class="comment">// ç¬¬ä¸€ä¸ªæ¯”kå¤§äºç­‰äºçš„æ•°çš„ä¸‹æ ‡</span></span><br><span class="line">        k--;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">query_chain</span>(l, r, k));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line"><span class="comment">//    int size=40&lt;&lt;20;</span></span><br><span class="line"><span class="comment">//    __asm__ (&quot;movq %0,%%rsp\n&quot;::&quot;r&quot;((char*)malloc(size)+size));</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/23/2019-icpc-nanchang-yaoqing-j/">https://blog.jujimeizuo.cn/2020/12/23/2019-icpc-nanchang-yaoqing-j/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder Beginner Contest 186 A~F</title>
      <link href="/2020/12/21/atcoder-beginner-contest-186-af/"/>
      <url>/2020/12/21/atcoder-beginner-contest-186-af/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://atcoder.jp/contests/abc186/tasks">https://atcoder.jp/contests/abc186/tasks</a></p><hr><h2 id="A-Brick-ç­¾åˆ°"><a href="#A-Brick-ç­¾åˆ°" class="headerlink" title="A - Brick ç­¾åˆ°"></a>A - Brick ç­¾åˆ°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    cout &lt;&lt; n / m &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="B-Blocks-on-Grid-æš´åŠ›"><a href="#B-Blocks-on-Grid-æš´åŠ›" class="headerlink" title="B - Blocks on Grid æš´åŠ›"></a>B - Blocks on Grid æš´åŠ›</h2><p>å…ˆæ‰¾çŸ©é˜µæœ€å°å€¼mx,æœ€åæ‰¾$ans&#x3D;mp[i][j] - mx$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> mp[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> mx = <span class="number">99999999</span>;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            cin &gt;&gt; mp[i][j];</span><br><span class="line">            mx = <span class="built_in">min</span>(mx, mp[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            ans += mp[i][j] - mx;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="C-Unlucky-7-æš´åŠ›"><a href="#C-Unlucky-7-æš´åŠ›" class="headerlink" title="C - Unlucky 7 æš´åŠ›"></a>C - Unlucky 7 æš´åŠ›</h2><p>åˆ†åˆ«æ‰¾åè¿›åˆ¶ä¸‹å’Œå…«è¿›åˆ¶ä¸­ä¸å‡ºç°7è¿™ä¸ªæ•°çš„ä¸ªæ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    ll ans = n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">7</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> tt = i;</span><br><span class="line">        <span class="type">bool</span> flag1 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(tt) &#123;</span><br><span class="line">            <span class="keyword">if</span>(tt % <span class="number">10</span> == <span class="number">7</span>) &#123;</span><br><span class="line">                flag1 = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            tt /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tt = i;</span><br><span class="line">        <span class="type">bool</span> flag2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(tt) &#123;</span><br><span class="line">            <span class="keyword">if</span>(tt % <span class="number">8</span> == <span class="number">7</span>) &#123;</span><br><span class="line">                flag2 = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            tt /= <span class="number">8</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag1  flag2) ans--;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="D-Sum-of-difference-æ€ç»´"><a href="#D-Sum-of-difference-æ€ç»´" class="headerlink" title="D - Sum of difference æ€ç»´"></a>D - Sum of difference æ€ç»´</h2><p>å…ˆæ’åºï¼Œåœ¨å¯¹æ¯ä¸ªæ•°$a_j-a_i$å–è´¡çŒ®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">v</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">sum</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    v[<span class="number">0</span>] = <span class="number">-1e9</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; v[i];</span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        sum[i] = sum[i - <span class="number">1</span>] + v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        ans += (sum[n] - sum[i]) - (n - i) * v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="E-Throne-æ‰©å±•æ¬§å‡ é‡Œå¾—"><a href="#E-Throne-æ‰©å±•æ¬§å‡ é‡Œå¾—" class="headerlink" title="E - Throne æ‰©å±•æ¬§å‡ é‡Œå¾—"></a>E - Throne æ‰©å±•æ¬§å‡ é‡Œå¾—</h4><p>æ±‚$Kx+Ny&#x3D;N-S$çš„æœ€å°æ­£æ•´æ•°xï¼Œæœ‰åˆ™è¾“å‡ºï¼Œæ— åˆ™è¾“å‡º-1ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">ex_gcd</span><span class="params">(ll a, ll b, ll &amp;x, ll &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res, t;</span><br><span class="line">    <span class="keyword">if</span>(!b)</span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    res = <span class="built_in">ex_gcd</span>(b, a % b, x, y);</span><br><span class="line">    t = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = t - (a / b) * y;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">solve_ex_gcd</span><span class="params">(ll a, ll b, ll c, ll &amp;x, ll &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll d = <span class="built_in">ex_gcd</span>(a, b, x, y);</span><br><span class="line">    <span class="keyword">if</span>(c % d)</span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">-1</span>;</span><br><span class="line">        y = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    x *= (c / d);</span><br><span class="line">    b = <span class="built_in">abs</span>(b / d);</span><br><span class="line">    x %= b;</span><br><span class="line">    <span class="keyword">while</span>(x &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        x += b;</span><br><span class="line">    &#125;</span><br><span class="line">    y = (c - a * x) / b;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll x, y;</span><br><span class="line">        ll N, S, K; cin &gt;&gt; N &gt;&gt; S &gt;&gt; K;</span><br><span class="line">        <span class="built_in">solve_ex_gcd</span>(K, N, N - S, x, y);</span><br><span class="line">        cout &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="F-Rook-on-Grid-æ‰«æçº¿-BIT"><a href="#F-Rook-on-Grid-æ‰«æçº¿-BIT" class="headerlink" title="F - Rook on Grid æ‰«æçº¿ + BIT"></a>F - Rook on Grid æ‰«æçº¿ + BIT</h2><p>æˆ‘ä»¬åˆ°è¾¾ä¸€ä¸ªç‚¹ï¼Œæœ‰ä¸¤ç§èµ°æ³•ï¼Œ<strong>å…ˆå³åœ¨ä¸‹å’Œå…ˆä¸‹åœ¨å³</strong>ã€‚ ä½†æ˜¯å¯¹äºx&#x3D;1æˆ–y&#x3D;1çš„æƒ…å†µï¼Œæœ‰ä¸€ä¸ªéšœç¢å µåœ¨ä¸­é—´ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯èµ°ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ‰¾æœ€å°çš„x&#x3D;1æ˜¯çš„yå’Œæœ€å°çš„y&#x3D;1æ—¶çš„xï¼Œåœ¨æŠŠè¿™ä¸¤ä¸ªéšœç¢ä¹‹åçš„æ‰€æœ‰æ ¼å­éƒ½è®¾ä¸ºéšœç¢ã€‚ ç„¶åè®°å¾—å»é‡ï¼ˆå¯èƒ½é‡å¤æ·»åŠ éšœç¢ï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> upx = H + <span class="number">1</span>, upy = W + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= M; i++) &#123;</span><br><span class="line">        cin &gt;&gt; p[i].x &gt;&gt; p[i].y;</span><br><span class="line">        <span class="keyword">if</span>(p[i].x == <span class="number">1</span>) upy = <span class="built_in">min</span>(upy, p[i].y);</span><br><span class="line">        <span class="keyword">if</span>(p[i].y == <span class="number">1</span>) upx = <span class="built_in">min</span>(upx, p[i].x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = upx + <span class="number">1</span>;i &lt;= H; i++) &#123;</span><br><span class="line">        p[++M].x = i; p[M].y = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = upy + <span class="number">1</span>;j &lt;= W; j++) &#123;</span><br><span class="line">        p[++M].y = j; p[M].x = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ€ä¹ˆæ‰¾é‚£äº›å»ä¸åˆ°çš„æ ¼å­å‘¢ï¼Ÿ ç­”ï¼šæˆ‘ä»¬åˆ©ç”¨æ‰«æçº¿çš„æ€æƒ³ï¼Œå…ˆçºµå‘æ‰«æï¼Œåœ¨æ¨ªå‘æœç´¢ï¼Œåœ¨åšansè´¡çŒ®ã€‚</p><p>å¦‚æœä¸€ä¸ªæ ¼å­æ—¢ä¸èƒ½å³ä¸‹èµ°ä¹Ÿä¸èƒ½ä¸‹å³èµ°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ¼å­åˆ°è¾¾ä¸äº†ã€‚ çºµå‘æ‰«æï¼š ç”¨BITç»´æŠ¤å³ä¸‹è·¯å¾„è¢«å µä½çš„åˆ—ï¼Œå°†è¿™äº›æ ¼å­è§†ä¸ºåˆ°è¾¾ä¸äº†ã€‚</p><p>æ¨ªå‘æœç´¢ï¼š å¯¹äºæ¯ä¸€è¡Œï¼Œè®¡ç®—åŒºé—´å’Œï¼Œå› ä¸ºå³ä¸‹åˆ°ä¸äº†ï¼Œä½†æ˜¯ä¸‹å³å¯èƒ½åˆ°è¾¾ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†è¿™äº›é‡æ–°åŠ å›æ¥ã€‚</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line">ll t[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x &lt;= n) &#123;</span><br><span class="line">        t[x]++;</span><br><span class="line">        x += <span class="built_in">lowbit</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        ans += t[x];</span><br><span class="line">        x -= <span class="built_in">lowbit</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Point &amp;a,<span class="type">const</span> Point &amp;b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.x == b.x ? a.y &lt; b.y : a.x &lt; b.x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span> == (<span class="type">const</span> Point &amp;a,<span class="type">const</span> Point &amp;b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.x == b.x &amp;&amp; a.y == b.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;p[N];</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> vis[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> H, W, M;</span><br><span class="line">    cin &gt;&gt; H &gt;&gt; W &gt;&gt; M;</span><br><span class="line">    <span class="type">int</span> upx = H + <span class="number">1</span>, upy = W + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= M; i++) &#123;</span><br><span class="line">        cin &gt;&gt; p[i].x &gt;&gt; p[i].y;</span><br><span class="line">        <span class="keyword">if</span>(p[i].x == <span class="number">1</span>) upy = <span class="built_in">min</span>(upy, p[i].y);</span><br><span class="line">        <span class="keyword">if</span>(p[i].y == <span class="number">1</span>) upx = <span class="built_in">min</span>(upx, p[i].x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = upx + <span class="number">1</span>;i &lt;= H; i++) &#123;</span><br><span class="line">        p[++M].x = i; p[M].y = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = upy + <span class="number">1</span>;j &lt;= W; j++) &#123;</span><br><span class="line">        p[++M].y = j; p[M].x = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(p + <span class="number">1</span>, p + M + <span class="number">1</span>);</span><br><span class="line">    M = <span class="built_in">unique</span>(p + <span class="number">1</span>, p + M + <span class="number">1</span>) - (p + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> h = <span class="number">1</span>;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= M; i++) &#123;</span><br><span class="line">        <span class="comment">// çºµå‘æ‰«æ</span></span><br><span class="line">        <span class="keyword">if</span>(vis[p[i].y] == <span class="number">0</span>) &#123;</span><br><span class="line">            vis[p[i].y] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">modify</span>(p[i].y, W);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨ªå‘æ‰«æ</span></span><br><span class="line">        <span class="keyword">if</span>(i == M  p[i + <span class="number">1</span>].x != p[i].x) &#123;</span><br><span class="line">            ans += <span class="built_in">query</span>(W) - <span class="built_in">query</span>(p[h].y - <span class="number">1</span>);</span><br><span class="line">            h = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; (<span class="number">1ll</span> * H * W - ans) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/21/atcoder-beginner-contest-186-af/">https://blog.jujimeizuo.cn/2020/12/21/atcoder-beginner-contest-186-af/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round</title>
      <link href="/2020/12/21/codeforces-round-692-div2-c/"/>
      <url>/2020/12/21/codeforces-round-692-div2-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.ml/contest/1465/problem/C">https://codeforces.ml/contest/1465/problem/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™n*nçš„æ£‹ç›˜ï¼Œæœ‰mä¸ªæ£‹å­ï¼Œæ¯ä¸ªæ£‹å­éƒ½æœ‰ä¸€ä¸ªåæ ‡(x,y)ã€‚ é—®æ€ä¹ˆç§»åŠ¨ä½¿æ¯ä¸ªæ£‹å­éƒ½ç§»åŠ¨åˆ°æ£‹ç›˜çš„ä¸»å¯¹è§’çº¿ä¸Šï¼Œæ±‚æœ€å°ç§»åŠ¨æ•°ã€‚</p><p>æ³¨æ„ï¼šæ¯ç§»åŠ¨ä¾æ¬¡ï¼Œä¸èƒ½ä½¿ä¸¤ä¸ªæ£‹å­åœ¨åŒä¸€åˆ—æˆ–åŒä¸€è¡Œã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æœ‰ä¸¤ç§æƒ…å†µï¼š</p><ul><li><strong>xç­‰äºyï¼Œä¸éœ€è¦ç§»åŠ¨ï¼Œç†æƒ³æƒ…å†µ</strong></li><li><strong>xä¸ç­‰äºyï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ­¥å°†æ£‹å­ç§»åˆ°(x,x)æˆ–(y,y)ï¼Œä½†æ˜¯åœ¨é‚£ä¸€åˆ—æˆ–é‚£ä¸€è¡Œä¸­å·²ç»æœ‰æ£‹å­äº†ï¼Œæ‰€ä»¥å°†é‚£ä¸€é¢—æ£‹å­ç§»èµ°ï¼Œä½†æ˜¯è¿˜æœ‰ä¸‹ä¸€é¢—æ£‹å­ä¹Ÿä¼šå æ‰å®ƒçš„ä½ç½®ã€‚</strong></li></ul><p>å¦‚æœæ²¡æœ‰å‡ºç°ç¯çš„æƒ…å†µï¼Œè€Œæ˜¯ä¸€æ¡é“¾ï¼Œé‚£ç›´æ¥æŒ‰ç…§ä¸Šé¢æ“ä½œã€‚ å¦‚æœå‡ºç°ç¯çš„æƒ…å†µï¼Œå…ˆæŠŠä¸€ä¸ªæ£‹å­ä»ç¯ä¸Šç§»åŠ¨å˜æˆé“¾ï¼Œåªä¸è¿‡æ“ä½œæ•°+1è€Œå·²ã€‚</p><p>å¤„ç†æœ‰æ²¡æœ‰ç¯åªè¦ç”¨å¹¶æŸ¥é›†åˆ¤æ–­å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> fa[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fa[x] == x? x : fa[x] = <span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">int</span> n, m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) fa[i] = i;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">            <span class="type">int</span> x, y;</span><br><span class="line">            cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">            <span class="keyword">if</span> (x == y) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                <span class="type">int</span> u = <span class="built_in">find</span>(x);</span><br><span class="line">                <span class="type">int</span> v = <span class="built_in">find</span>(y);</span><br><span class="line">                <span class="keyword">if</span> (u == v) cnt++;</span><br><span class="line">               fa[u] = v;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/21/codeforces-round-692-div2-c/">https://blog.jujimeizuo.cn/2020/12/21/codeforces-round-692-div2-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder Beginner Contest 185 A~F</title>
      <link href="/2020/12/20/atcoder-beginner-contest-185-af/"/>
      <url>/2020/12/20/atcoder-beginner-contest-185-af/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://atcoder.jp/contests/abc185/tasks">https://atcoder.jp/contests/abc185/tasks</a></p><h2 id="A-ABC-Preparation-ç­¾åˆ°"><a href="#A-ABC-Preparation-ç­¾åˆ°" class="headerlink" title="A - ABC Preparation ç­¾åˆ°"></a>A - ABC Preparation ç­¾åˆ°</h2><p>å–4ä¸ªæ•°ä¸­æœ€å°çš„ä¸€ä¸ªã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b, c, d;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">min</span>(a, <span class="built_in">min</span>(b, <span class="built_in">min</span>(c, d))) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Smartphone-Addiction-æ¨¡æ‹Ÿ"><a href="#B-Smartphone-Addiction-æ¨¡æ‹Ÿ" class="headerlink" title="B - Smartphone Addiction æ¨¡æ‹Ÿ"></a>B - Smartphone Addiction æ¨¡æ‹Ÿ</h2><p>æš´åŠ›æ¨¡æ‹Ÿï¼Œåªè¦ä¸­ä¸­é€”ä¸­ç”µé‡&lt;0ï¼Œç›´æ¥è¾“å‡ºNoã€‚ æ³¨æ„æœ€åä¸€æ¬¡å®Œæˆåå›å®¶çš„é‚£ä¸€æ®µã€‚</p><h2 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    ll A, B;</span><br><span class="line">&#125;t[<span class="number">100005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll n, m, T;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; T;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) cin &gt;&gt; t[i].A &gt;&gt; t[i].B;</span><br><span class="line">    ll ans = n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        ans -= t[i].A - t[i - <span class="number">1</span>].B;</span><br><span class="line">        <span class="keyword">if</span>(ans &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = (ans + t[i].B - t[i].A &gt; n ? n : ans + t[i].B - t[i].A);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ans &gt; T - t[m].B) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Duodecim-Ferra-æ’åˆ—ç»„åˆ"><a href="#C-Duodecim-Ferra-æ’åˆ—ç»„åˆ" class="headerlink" title="C - Duodecim Ferra æ’åˆ—ç»„åˆ"></a>C - Duodecim Ferra æ’åˆ—ç»„åˆ</h2><p>ç®€å•æ¨å¯¼ä¸€æ³¢$ans&#x3D;C_{n-1}^{11}$</p><p>æ³¨æ„ä¼šçˆ†long longï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©Javaå¤§æ•°ã€‚</p><h2 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.math.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">static</span> Scanner in = <span class="keyword">new</span> <span class="built_in">Scanner</span>(System.in);</span><br><span class="line">    <span class="keyword">public</span> <span class="type">static</span> PrintStream out = <span class="keyword">new</span> <span class="built_in">PrintStream</span>(System.out);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">static</span> BigInteger ans = BigInteger.<span class="built_in">valueOf</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="type">static</span> <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="type">static</span> <span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        n = in.<span class="built_in">nextInt</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">11</span>;i &lt;= n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            ans = ans.<span class="built_in">multiply</span>(BigInteger.<span class="built_in">valueOf</span>(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= <span class="number">11</span>; i++) &#123;</span><br><span class="line">            ans = ans.<span class="built_in">divide</span>(BigInteger.<span class="built_in">valueOf</span>(i));</span><br><span class="line">        &#125;</span><br><span class="line">        out.<span class="built_in">println</span>(ans);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="type">static</span> <span class="type">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Stamp-æ€ç»´"><a href="#D-Stamp-æ€ç»´" class="headerlink" title="D - Stamp æ€ç»´"></a>D - Stamp æ€ç»´</h2><p>æ‰¾æ¯ä¸¤ä¸ªéƒ½æ¶‚äº†é¢œè‰²åŒºé—´çš„æœ€å°å€¼ï¼Œç„¶åè®¡ç®—è´¡çŒ®ã€‚ æ³¨æ„m&#x3D;0æ—¶ç›´æ¥è¾“å‡º1ï¼Œå› ä¸º1æ¬¡å°±å¯ä»¥æ¶‚å®Œã€‚</p><h2 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line">ll a[<span class="number">200005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="built_in">sort</span>(a + <span class="number">1</span>, a + m + <span class="number">1</span>);</span><br><span class="line">    ll k = <span class="number">0</span>;</span><br><span class="line">    a[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>((a[i] - a[i - <span class="number">1</span>] - <span class="number">1</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(k == <span class="number">0</span>) k = a[i] - a[i - <span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> k = <span class="built_in">min</span>(k, a[i] - a[i - <span class="number">1</span>] - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k &amp;&amp; n != a[m]) k = <span class="built_in">min</span>(k, n - a[m]);</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(k) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>((a[i] - a[i - <span class="number">1</span>] - <span class="number">1</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                ans += (<span class="type">int</span>) <span class="built_in">ceil</span>(<span class="number">1.0</span> * (a[i] - a[i - <span class="number">1</span>] - <span class="number">1</span>) / k);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(n != a[m]) ans += (<span class="type">int</span>)<span class="built_in">ceil</span>(<span class="number">1.0</span> * (n - a[m]) / k);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(m == <span class="number">0</span>) ans = <span class="number">1</span>;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Sequence-Matching-çº¿æ€§dp"><a href="#E-Sequence-Matching-çº¿æ€§dp" class="headerlink" title="E - Sequence Matching çº¿æ€§dp"></a>E - Sequence Matching çº¿æ€§dp</h2><p>æœ‰ä¸¤ä¸ªæ•°ç»„aå’Œbï¼Œé•¿åº¦åˆ†åˆ«ä¸ºnå’Œmï¼Œæ±‚è§£åˆ æ‰xä¸ªæ•°åï¼Œaæ•°ç»„å’Œbæ•°ç»„ä¸åŒæ•°çš„ä¸ªæ•°yï¼Œè¾“å‡ºx+yã€‚ è€ƒè™‘dpï¼Œdp[i][j]è¡¨ç¤ºaæ•°ç»„é€‰åˆ°äº†iä¸ªï¼Œbæ•°ç»„é€‰åˆ°äº†ç¬¬jä¸ªçš„x+yç­”æ¡ˆã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬æœ‰ä»¥ä¸‹å››ç§çŠ¶æ€è½¬ç§»ï¼š</p><ul><li>é€‰æ‹©åˆ æ‰$a_i$ï¼Œä¿ç•™b_j$ï¼Œ$f[i][j] &#x3D; min(f[i][j], f[i - 1][j] + 1)$</li><li>é€‰æ‹©ä¿ç•™$a_i$ï¼Œåˆ æ‰b_j$ï¼Œ$f[i][j] &#x3D; min(f[i][j], f[i][j - 1] + 1)$</li><li>é€‰æ‹©ä¿ç•™$a_i$ï¼Œä¿ç•™b_j$ï¼Œ$f[i][j] &#x3D; min(f[i][j], f[i - 1][j - 1])$</li><li>é€‰æ‹©åˆ æ‰$a_i$ï¼Œä¿ç•™b_j$ï¼Œ$f[i][j] &#x3D; min(f[i][j], f[i - 1][j - 1] + 1)$</li></ul><p>æ³¨æ„dpæ•°ç»„çš„åˆå§‹åŒ–ã€‚</p><h2 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1005</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">A</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">B</span><span class="params">(m + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; A[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m; i++) cin &gt;&gt; B[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m; j++)</span><br><span class="line">            f[i][j] = INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= n; i++) f[i][<span class="number">0</span>] = i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= m; i++) f[<span class="number">0</span>][i] = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(A[i] == B[j]) f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">else</span> f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j] + <span class="number">1</span>);</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i][j], f[i][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="F-Range-Xor-Query-çº¿æ®µæ ‘"><a href="#F-Range-Xor-Query-çº¿æ®µæ ‘" class="headerlink" title="F - Range Xor Query çº¿æ®µæ ‘"></a>F - Range Xor Query çº¿æ®µæ ‘</h2><p>ä¸€é“å•ç‚¹ä¿®æ”¹ï¼Œç»´æŠ¤åŒºé—´å¼‚æˆ–å’Œçš„è£¸çº¿æ®µæ ‘ã€‚</p><h2 id="Code-5"><a href="#Code-5" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> A[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> sum;</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].sum = t[lc].sum ^ t[rc].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].sum = A[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> p, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[u].l == t[u].r) &#123;</span><br><span class="line">        t[u].sum = t[u].sum ^ v;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= mid) <span class="built_in">modify</span>(lc, p, v);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">modify</span>(rc, p, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="keyword">return</span> t[u].sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) ans ^= <span class="built_in">query</span>(lc, ql, qr);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  ans ^= <span class="built_in">query</span>(rc, ql, qr);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, q; cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; A[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">    <span class="keyword">while</span>(q--) &#123;</span><br><span class="line">        <span class="type">int</span> opt, x, y; cin &gt;&gt; opt &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span>(opt == <span class="number">1</span>) <span class="built_in">modify</span>(<span class="number">1</span>, x, y);</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="built_in">query</span>(<span class="number">1</span>, x, y) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿™ä¸€åœºéå¸¸å‹å¥½ï¼Œæˆ‘å¾ˆå–œæ¬¢ã€‚</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/20/atcoder-beginner-contest-185-af/">https://blog.jujimeizuo.cn/2020/12/20/atcoder-beginner-contest-185-af/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 5274 Dylans loves tree æ ‘é“¾å‰–åˆ†</title>
      <link href="/2020/12/20/hdu-5274/"/>
      <url>/2020/12/20/hdu-5274/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5274">http://acm.hdu.edu.cn/showproblem.php?pid=5274</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰æƒå€¼ï¼Œæœ‰ä¸¤ç§æ“ä½œï¼š</p><ol><li>$0 \;x\; y$ å°†xçš„æƒå€¼æ”¹æˆy</li><li>$1 \;x \;y$ å°†æ ‘ä¸Šxåˆ°yçš„æœ€çŸ­è·¯å¾„ä¸Šæƒå€¼å‡ºç°å¥‡æ•°æ¬¡çš„æƒå€¼è¾“å‡ºæ¥ï¼Œæ²¡æœ‰è¾“å‡º-1</li></ol><p>é¢˜ç›®ä¿è¯xåˆ°yçš„æœ€çŸ­è·¯å¾„çš„å‡ºç°æ¬¡æ•°çš„æƒå€¼çš„å¥‡æ•°æ¬¡æœ€å¤šæœ‰ä¸€ä¸ªï¼Œï¼ˆå¯èƒ½æ˜¯0ä¸ªï¼‰ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¢˜ç›®æŸ¥è¯¢çš„æ ‘ä¸Šxåˆ°yçš„æœ€çŸ­è·¯å¾„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ ‘é“¾å‰–åˆ†ã€‚ è€Œä¸”é¢˜ç›®è¯´å¥‡æ•°ä¸ªæœ€å¤šå‡ºç°1ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤åŒºé—´å¼‚æˆ–å’Œã€‚</p><p>å› ä¸ºå¶æ•°æ¬¡çš„å¼‚æˆ–å’Œä¸º0ï¼Œä½†æ˜¯å¦‚æœåŒºé—´çš„a[i]å…¨æ˜¯0ï¼Œä½†æ˜¯å‡ºç°å¶æ•°æ¬¡ï¼Œé‚£ç­”æ¡ˆæ˜¯-1ï¼Œè€Œä¸æ˜¯0ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»´æŠ¤w[i]+1ï¼Œæœ€åæŸ¥è¯¢çš„ç­”æ¡ˆ-1ï¼Œè¿™æ ·å³ä½¿æ˜¯0ï¼Œä¹Ÿæ­£å¥½è¾“å‡º-1ã€‚</p><h2 id="Codeï¼ˆ218MSï¼‰"><a href="#Codeï¼ˆ218MSï¼‰" class="headerlink" title="Codeï¼ˆ218MSï¼‰"></a>Codeï¼ˆ218MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> head[maxn], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    e[++cnt].v = v;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> fa[maxn], dep[maxn], siz[maxn], son[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> par)</span> </span>&#123;</span><br><span class="line">    dep[u] = dep[fa[u] = par] + (siz[u] = <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i ; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == par) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">if</span>(!son[u]  siz[v] &gt; siz[son[u]]) &#123;</span><br><span class="line">            son[u] = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tim, dfn[maxn], top[maxn], nodeof[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> topf)</span> </span>&#123;</span><br><span class="line">    nodeof[dfn[u] = ++tim] = u;</span><br><span class="line">    top[u] = topf;</span><br><span class="line">    <span class="keyword">if</span>(!son[u]) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">dfs2</span>(son[u], topf);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == son[u]  v == fa[u]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(v, v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[maxn], n;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> t[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x &lt;= n) &#123;</span><br><span class="line">        t[x] ^= val;</span><br><span class="line">        x += <span class="built_in">lowbit</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        ans ^= t[x];</span><br><span class="line">        x -= <span class="built_in">lowbit</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query_chain</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">        ans ^= (<span class="built_in">query</span>(dfn[top[x]] - <span class="number">1</span>) ^ <span class="built_in">query</span>(dfn[x]));</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &gt; dep[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    ans ^= (<span class="built_in">query</span>(x - <span class="number">1</span>) ^ <span class="built_in">query</span>(y));</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> m; cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v; cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        <span class="built_in">add</span>(u, v);</span><br><span class="line">        <span class="built_in">add</span>(v, u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs1</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; w[i];</span><br><span class="line">        w[i]++;</span><br><span class="line">        <span class="built_in">modify</span>(dfn[i], w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> opt, x, y; cin &gt;&gt; opt &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span>(opt == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">modify</span>(dfn[x], w[x]);</span><br><span class="line">            <span class="built_in">modify</span>(dfn[x], w[x] = y + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">query_chain</span>(x, y) - <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/20/hdu-5274/">https://blog.jujimeizuo.cn/2020/12/20/hdu-5274/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces-235E-Number Challenge è«æ¯”ä¹Œæ–¯åæ¼” + è®°å¿†åŒ–gcd</title>
      <link href="/2020/12/18/codeforces-235e/"/>
      <url>/2020/12/18/codeforces-235e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.ml/problemset/problem/235/E">https://codeforces.ml/problemset/problem/235/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{i&#x3D;1}^a\sum_{j&#x3D;1}^b\sum_{k&#x3D;1}^cd(i\cdot j\cdot k)$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å‰ç½®æŠ€èƒ½ï¼š$d(i\cdot j)&#x3D;\sum_{xi}\sum_{yj}[gcd(x,y)&#x3D;1]$</p><p>$$\sum_{i&#x3D;1}^a\sum_{j&#x3D;1}^b\sum_{k&#x3D;1}^cd(i\cdot j\cdot k)$$</p><p>$$\sum_{i&#x3D;1}^a\sum_{j&#x3D;1}^b\sum_{k&#x3D;1}^c\sum_{xi}\sum_{yj}\sum_{zk}[gcd(i,j)&#x3D;1][gcd(i,k)&#x3D;1][gcd(j,k)&#x3D;1]$$</p><p>æ”¹å˜æšä¸¾é¡ºåºï¼š</p><p>$$\sum_{x&#x3D;1}^a\sum_{y&#x3D;1}^b\sum_{z&#x3D;1}^c\left \lfloor \frac{a}{x} \right \rfloor \left \lfloor \frac{b}{y} \right \rfloor \left \lfloor \frac{c}{z} \right \rfloor [gcd(x,y)&#x3D;1][gcd(x,z)&#x3D;1][gcd(y,z)&#x3D;1]$$</p><p>x,y,zçœ‹å¾—ä¸ä¹ æƒ¯ï¼Œè¿˜æ˜¯æ¢æˆi,j,kå§ã€‚</p><p>$$\sum_{i&#x3D;1}^a\sum_{j&#x3D;1}^b\sum_{k&#x3D;1}^c\left \lfloor \frac{a}{i} \right \rfloor \left \lfloor \frac{b}{j} \right \rfloor \left \lfloor \frac{c}{k} \right \rfloor [gcd(i,j)&#x3D;1][gcd(i,k)&#x3D;1][gcd(j,k)&#x3D;1]$$</p><p>$$\sum_{i&#x3D;1}^a\sum_{j&#x3D;1}^b\sum_{k&#x3D;1}^c\left \lfloor \frac{a}{i} \right \rfloor \left \lfloor \frac{b}{j} \right \rfloor \left \lfloor \frac{c}{k} \right \rfloor[gcd(i,j)&#x3D;1][gcd(i,k)&#x3D;1]\sum_{dj\;dk}\mu(d)$$</p><p>æšä¸¾dï¼š</p><p>$$\sum_{i&#x3D;1}^a\left \lfloor \frac{a}{i} \right \rfloor\sum_{d&#x3D;1}^{min(b,c)}\mu(d)\sum_{j&#x3D;1}^{\left \lfloor \frac{b}{d} \right \rfloor}\left \lfloor \frac{b}{jd} \right \rfloor[gcd(i,jd)&#x3D;1]\sum_{k&#x3D;1}^{\left \lfloor \frac{c}{d} \right \rfloor} \left \lfloor \frac{c}{kd} \right \rfloor[gcd(i,kd)&#x3D;1]$$</p><p>æšä¸¾iå’Œdï¼Œå…ˆä½¿gcd(i,d)&#x3D;1ï¼Œåœ¨æšä¸¾jï¼Œä½¿gcd(i,j)&#x3D;1ï¼Œå³å¯ä½¿gcd(i,jd)&#x3D;1 kéƒ¨åˆ†åŒç†ã€‚</p><p>åœ¨è®¡ç®—gcdçš„è¿‡ç¨‹ä¸­ï¼Œç”¨f[][]è®°å¿†åŒ–gcdï¼Œä¼šæœ‰å¾ˆå¤§çš„ä¼˜åŒ–ã€‚</p><h2 id="Codeï¼ˆ622MSï¼‰"><a href="#Codeï¼ˆ622MSï¼‰" class="headerlink" title="Codeï¼ˆ622MSï¼‰"></a>Codeï¼ˆ622MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1073741824</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2005</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N];</span><br><span class="line"><span class="type">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>; is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!is_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i * prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i * prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">ll f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(f[a][b]) <span class="keyword">return</span> f[a][b];</span><br><span class="line">    <span class="keyword">return</span> f[a][b] = (b ? <span class="built_in">gcd</span>(b, a % b) : a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">sum</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> d, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!f[i][d]) <span class="built_in">gcd</span>(i, d);</span><br><span class="line">    <span class="keyword">if</span>(f[i][d] != <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= n / d; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!f[i][j]) <span class="built_in">gcd</span>(i, j);</span><br><span class="line">        <span class="keyword">if</span>(f[i][j] == <span class="number">1</span>) res += n / (j * d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    <span class="type">int</span> a, b, c;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= a; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> d = <span class="number">1</span>;d &lt;= <span class="built_in">min</span>(b, c); d++) &#123;</span><br><span class="line">            ans = (ans + (a / i) * mu[d] * <span class="built_in">sum</span>(i, d, b) * <span class="built_in">sum</span>(i, d, c)) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/18/codeforces-235e/">https://blog.jujimeizuo.cn/2020/12/18/codeforces-235e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P3979 é¥è¿œçš„å›½åº¦ æ ‘å‰–æ¢æ ¹</title>
      <link href="/2020/12/18/luogu-p3979/"/>
      <url>/2020/12/18/luogu-p3979/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.luogu.com.cn/problem/P3979">https://www.luogu.com.cn/problem/P3979</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰ä¸€æ£µç‚¹æ•°ä¸ºnçš„æ ‘ï¼Œæ¯ä¸ªç‚¹éƒ½æœ‰ä¸€ä¸ªæƒå€¼ï¼Œï¼ˆåˆå§‹æ ¹ä¸ä¸€å®šä¸º1ï¼‰ï¼Œæ¥ä¸‹æ¥mä¸ªæ“ä½œï¼š</p><ul><li>$1\;id$ï¼Œå°†æ ¹ä¿®æ”¹ä¸ºid</li><li>$2\;x\;y\;val$ï¼Œå°†xåˆ°yçš„ç®€å•è·¯å¾„ä¸Šæ‰€æœ‰ç‚¹çš„æƒå€¼ä¿®æ”¹ä¸ºval</li><li>$3\;x$ï¼Œåœ¨æ ¹ä¸ºrootä¸‹ï¼Œè¯¢é—®ä»¥xä¸ºæ ¹çš„å­æ ‘çš„æœ€å°å€¼ã€‚</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è™½ç„¶æ ‘æ ¹ä¸ä¸€å®šä¸º1ï¼Œä½†æ˜¯æˆ‘ä»¬è½»é‡é“¾å‰–åˆ†ï¼Œçº¿æ®µæ ‘ç»´æŠ¤åºåˆ—ï¼Œéƒ½æŒ‰ç…§ä»¥1ä¸ºæ ¹æ¥åšã€‚ æ“ä½œäºŒæˆ‘ä»¬è¿˜æ˜¯ä¸€æ ·ï¼Œçº¿æ®µæ ‘ä¿®æ”¹xåˆ°yçš„ç®€å•è·¯å¾„ä¸Šçš„æƒå€¼ã€‚$modify \_ chain(x,y,val)$ã€‚</p><p>å…³é”®æ˜¯æ“ä½œä¸‰ï¼Œå¦‚æœæ ‘æ ¹ä¸€ç›´éƒ½æ˜¯1çš„è¯ï¼Œå°±æ˜¯$query(1,dfn[x],dfn[x]+siz[x]-1)$</p><p><strong>ä½†æ˜¯æ ‘æ ¹ä¸€ç›´åœ¨å˜ï¼ï¼ï¼</strong>æ‰€ä»¥è¿™æ˜¯ä¸€é“æ ‘å‰–æ¢æ ¹!</p><p>å¦‚æœæˆ‘ä»¬æ¯æ¬¡åœ¨æ¢æ ¹çš„æ—¶å€™é‡æ–°å‰–åˆ†ï¼Œé‚£å¤æ‚åº¦ä¼šçˆ†ç‚¸ï¼æ‰€ä»¥ä¸å¯èƒ½ä¸€ç›´å‰–åˆ†ã€‚</p><p>å…ˆæ¥è§‚å¯Ÿæ ‘æ ¹å’Œxçš„ä½ç½®å…³ç³»ã€‚</p><ul><li>$root&#x3D;&#x3D;x\;$ç­”æ¡ˆå°±æ˜¯[1,n]åŒºé—´æœ€å°çš„å€¼ï¼Œå³t[1].mn</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2020/12/20201218171300292.png"></p><ul><li><p>$LCA(root,x)&#x3D;&#x3D;x \;\&amp;\&amp;\; dep[root]&gt;dep[x]$</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/12/20201218171820439.png"></p></li></ul><p>è¿™ç§æƒ…å†µè¦æ±‚xçš„å­æ ‘ä¸­æœ€å°å€¼ï¼Œåªéœ€è¦å»é™¤LCAçš„å„¿å­$LCA\_son$çš„å­æ ‘åŒºåŸŸï¼Œå‰©ä¸‹çš„å–æœ€å°å³å¯ã€‚</p><p>$ans&#x3D;min(query(1,1,dfn[LCA\_son]-1),query(1,dfn[LCA\_son]+siz[LCA\_son],n))$</p><ul><li>else</li></ul><p><img src="https://cdn.jujimeizuo.cn/blog/2020/12/20201218172242239.png"></p><p>xä¸æ˜¯rootçš„LCAï¼Œé‚£ä¹ˆåªéœ€è¦æŸ¥è¯¢xçš„å­æ ‘å³å¯ã€‚ $ans &#x3D; query(1,dfn[x],dfn[x]+siz[x]-1)$</p><h2 id="Codeï¼ˆ85MSï¼‰"><a href="#Codeï¼ˆ85MSï¼‰" class="headerlink" title="Codeï¼ˆ85MSï¼‰"></a>Codeï¼ˆ85MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"> <span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> root;</span><br><span class="line">ll w[<span class="number">10000005</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/*--------------å‰å‘æ˜Ÿå»ºè¾¹---------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">&#125;e[MAXN &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> head[MAXN &lt;&lt; <span class="number">1</span>], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    e[++cnt].v = v;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*-------------è½»é‡é“¾å‰–åˆ†----------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> siz[N], dep[N], fa[N], son[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> par)</span> </span>&#123;</span><br><span class="line">    dep[u] = dep[fa[u] = par] + (siz[u] = <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == par) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">if</span>(!son[u]  siz[v] &gt; siz[son[u]])</span><br><span class="line">            son[u] = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> top[N], dfn[N], nodeof[N], tim;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> topf)</span> </span>&#123;</span><br><span class="line">    nodeof[dfn[u] = ++tim] = u;</span><br><span class="line">    top[u] = topf;</span><br><span class="line">    <span class="keyword">if</span>(!son[u]) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">dfs2</span>(son[u], topf);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == fa[u]  v == son[u]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(v, v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*------------çº¿æ®µæ ‘ç»´æŠ¤---------------*/</span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    ll mn, tag;</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].mn = <span class="built_in">min</span>(t[lc].mn, t[rc].mn);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!t[u].tag) <span class="keyword">return</span> ;</span><br><span class="line">    t[lc].mn = t[u].tag;</span><br><span class="line">    t[rc].mn = t[u].tag;</span><br><span class="line">    t[lc].tag = t[u].tag;</span><br><span class="line">    t[rc].tag = t[u].tag;</span><br><span class="line">    t[u].tag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r; t[u].tag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].mn = w[nodeof[l]];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, ll v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        t[u].mn = v;</span><br><span class="line">        t[u].tag = v;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify</span>(lc, ql, qr, v);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">modify</span>(rc, ql, qr, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) <span class="keyword">return</span> t[u].mn;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    ll ans = <span class="number">1e18</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) ans = <span class="built_in">min</span>(ans, <span class="built_in">query</span>(lc, ql, qr));</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  ans = <span class="built_in">min</span>(ans, <span class="built_in">query</span>(rc, ql, qr));</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify_chain</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, ll v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">        <span class="built_in">modify</span>(<span class="number">1</span>, dfn[top[x]], dfn[x], v);</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &gt; dep[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="built_in">modify</span>(<span class="number">1</span>, dfn[x], dfn[y], v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*-------------LCA---------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> LCA_son; <span class="comment">// å…¬å…±ç¥–å…ˆå„¿å­</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LCA</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    LCA_son = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">        <span class="keyword">if</span>(fa[top[x]] == y) LCA_son = top[x];</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &gt; dep[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="keyword">if</span>(!LCA_son) LCA_son = son[x];</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class="line">        <span class="built_in">add</span>(u, v);</span><br><span class="line">        <span class="built_in">add</span>(v, u);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs1</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;root);</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> opt; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;opt);</span><br><span class="line">        <span class="keyword">if</span>(opt == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> id; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;id);</span><br><span class="line">            root = id;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(opt == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="type">int</span> x, y; ll v; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%lld&quot;</span>,&amp;x,&amp;y,&amp;v);</span><br><span class="line">            <span class="built_in">modify_chain</span>(x, y, v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(opt == <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="type">int</span> x; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">            <span class="keyword">if</span>(x == root)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,t[<span class="number">1</span>].mn);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">LCA</span>(x, root) == x &amp;&amp; dep[root] &gt; dep[x]) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dfn[LCA_son] + siz[LCA_son] &lt;= n)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,<span class="built_in">min</span>(<span class="built_in">query</span>(<span class="number">1</span>, <span class="number">1</span>, dfn[LCA_son] - <span class="number">1</span>), <span class="built_in">query</span>(<span class="number">1</span>, dfn[LCA_son] + siz[LCA_son], n)));</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,<span class="built_in">query</span>(<span class="number">1</span>, <span class="number">1</span>, dfn[LCA_son] - <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,<span class="built_in">query</span>(<span class="number">1</span>, dfn[x], dfn[x] + siz[x] - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="type">int</span> size=<span class="number">40</span>&lt;&lt;<span class="number">20</span>;</span><br><span class="line">    __asm__ (<span class="string">&quot;movq %0,%%rsp\n&quot;</span>::<span class="string">&quot;r&quot;</span>((<span class="type">char</span>*)<span class="built_in">malloc</span>(size)+size));</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/18/luogu-p3979/">https://blog.jujimeizuo.cn/2020/12/18/luogu-p3979/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCä¸Šæµ·ç«™ Eé¢˜ The Journey of Geor Autumn ç»„åˆæ•°å­¦ + dp</title>
      <link href="/2020/12/18/2020-icpc-shanghai-e/"/>
      <url>/2020/12/18/2020-icpc-shanghai-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9925/E">https://ac.nowcoder.com/acm/contest/9925/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰å¤šå°‘ä¸ªæ»¡è¶³1â€¦nçš„å…¨æ’åˆ—ä¸­ï¼Œi &gt; kæ—¶ï¼Œ$a_i&gt;min_{j\in[i-k,i)}a_jã€‚(n\ge10^7\;k\ge10^7)$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>[1ï¼Œn]çš„åŒºé—´é‡Œï¼Œå› ä¸ºi&gt;kæ—¶æ‰ä¼šæœ‰è¦æ±‚ï¼Œæ‰€ä»¥å°†æœ€å°çš„æ•°æ”¾åœ¨[1,k]å½“ä¸­ã€‚</p><p>è®¾ä½ç½®ä¸ºposï¼Œåˆ™</p><ul><li>[1,pos)çš„æ•°éšä¾¿æ”¾ï¼Œæœ‰$C_{n-1}^{pos-1}*(pos-1)!$ç§æ–¹æ¡ˆ</li><li>(pos,n]çš„æ–¹æ³•å°±åˆè¦è¦æ±‚äº†ï¼Œå‡è®¾æ–¹æ¡ˆæ•°ä¸º$f[n-pos]$</li></ul><p>æ‰€ä»¥æˆ‘ä»¬å¾—å‡º</p><p>$$f[n]&#x3D;\sum_{j&#x3D;1}^{min(n,k)}C_{n-1}^{j-1}*(j-1)!*f[n-j]$$</p><p>è¿™æ ·æˆ‘ä»¬å°±è¦é€’å½’å‡ºå­é—®é¢˜äº†ï¼Œå³ï¼š</p><p>$$f[i]&#x3D;\sum_{j&#x3D;1}^{min(i,k)}C_{i-1}^{j-1}*(j-1)!*f[i-j]$$</p><p>æ‰€ä»¥æš´åŠ›O(nk)çš„çŠ¶æ€è½¬ç§»çš„è¯ï¼Œå°±åº”è¯¥è¿™æ ·ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">zhuanyi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= <span class="built_in">min</span>(i, k); j++) &#123;</span><br><span class="line">            f[i] += f[i - j] \* <span class="built_in">C</span>(i - <span class="number">1</span>, j - <span class="number">1</span>) \* fac[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯O(nk)æ˜¯1e14çš„å¤æ‚åº¦ï¼Œè¿™è¿œè¿œè¶…æ ‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¼˜åŒ–ä»¥ä¸‹ï¼Œå°†è½¬ç§»æ–¹ç¨‹ä¼˜åŒ–ä¸ºï¼š</p><p>$$f[i]&#x3D;(i-1)!*\sum_{j&#x3D;1}^{min(i,k)}\frac{f[i-j]}{(i-j)!}$$</p><p>å¯ä»¥çœ‹åˆ°ï¼Œç­‰å¼å³è¾¹å°±æ˜¯ä¸€ä¸ªå‰ç¼€å’Œï¼Œæ‰€ä»¥è½¬ç§»çš„è¿‡ç¨‹ä¸­ç»´æŠ¤å‰ç¼€å’Œå³å¯ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å…ˆé¢„å¤„ç†é˜¶ä¹˜å’Œé˜¶ä¹˜é€†å…ƒï¼Œåœ¨å‰ç¼€å’Œä¼˜åŒ–å³å¯ã€‚</p><h2 id="Codeï¼ˆ345MSï¼‰"><a href="#Codeï¼ˆ345MSï¼‰" class="headerlink" title="Codeï¼ˆ345MSï¼‰"></a>Codeï¼ˆ345MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"> <span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll fac[N], invfac[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    fac[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        fac[i] = fac[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    invfac[N - <span class="number">1</span>] = <span class="built_in">quick_pow</span>(fac[N - <span class="number">1</span>], mod - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = N - <span class="number">1</span>;i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        invfac[i - <span class="number">1</span>] = invfac[i] * i % mod;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll f[N];</span><br><span class="line">ll sum[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> n, k;</span><br><span class="line">     cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">     f[<span class="number">0</span>] = sum[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">         f[i] = (sum[i - <span class="number">1</span>] - (i - k - <span class="number">1</span> &gt;= <span class="number">0</span> ? sum[i - k - <span class="number">1</span>] : <span class="number">0</span>)) * fac[i - <span class="number">1</span>] % mod;</span><br><span class="line">         sum[i] = (sum[i - <span class="number">1</span>] + f[i] * invfac[i] % mod) % mod;</span><br><span class="line">     &#125;</span><br><span class="line">     cout &lt;&lt; (f[n] % mod + mod) % mod &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/18/2020-icpc-shanghai-e/">https://blog.jujimeizuo.cn/2020/12/18/2020-icpc-shanghai-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCä¸Šæµ·ç«™ Dé¢˜ Walker åˆ†ç±»è®¨è®º+äºŒåˆ†</title>
      <link href="/2020/12/17/2020-icpc-shanghai-d/"/>
      <url>/2020/12/17/2020-icpc-shanghai-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9925/D">https://ac.nowcoder.com/acm/contest/9925/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>åœ¨ä¸€æ®µ[0,n]çš„åŒºé—´å†…ï¼Œæœ‰ä¸¤ä¸ªäººåˆ†åˆ«ç«™åœ¨p1å’Œp2çš„ä½ç½®ï¼Œéƒ½æœ‰å„è‡ªçš„é€Ÿåº¦v1,v2ã€‚ é—®ï¼šå¦‚ä½•ç”¨æœ€å°‘æ—¶é—´èƒ½è¦†ç›–[0,n]åŒºé—´ï¼Œä¹Ÿå°±æ˜¯æ€ä¹ˆèµ°å®Œå…¨ç¨‹ï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¦‚æœä¸€ç›´åˆ†ç±»è®¨è®ºçš„è¯ï¼Œå®˜æ–¹è§£ç­”æ˜¯æœ‰13ç§ï¼Œä¸è¿‡å°±å‡­æˆ‘ä»¬è¿™ä¸ªçŒªè„‘å­æ€ä¹ˆå¯èƒ½æƒ³å‡ºæ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æŒ‰ä»¥ä¸‹ä¸‰ç§åˆ†åˆ«è®¨è®ºã€‚</p><ul><li>ä¸€ä¸ªäººèµ°å®Œå…¨ç¨‹ $ans &#x3D; min((min(n - p1, p1)+n)&#x2F;v1,(min(n-p2,p2)+n)&#x2F;v2)$</li><li>ä¸¤ä¸ªäººå¯¹å‘èµ°å®Œå…¨ç¨‹ $ans&#x3D;min(ans, max((n-p1)&#x2F;v1, p2&#x2F;v2))$</li><li>ä¸¤ä¸ªäººåˆ†åˆ«ä»¥ä¸€ä¸ªé—´æ–­ç‚¹midï¼Œp1èµ°[0,mid]ï¼Œp2èµ°[mid,n]ï¼Œèµ°å®Œå…¨ç¨‹ äºŒåˆ†midï¼Œç„¶åå–æœ€å°å€¼ã€‚</li></ul><h2 id="Codeï¼ˆ55MSï¼‰"><a href="#Codeï¼ˆ55MSï¼‰" class="headerlink" title="Codeï¼ˆ55MSï¼‰"></a>Codeï¼ˆ55MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Clac</span><span class="params">(<span class="type">double</span> n, <span class="type">double</span> p, <span class="type">double</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">min</span>(n - p, p) + n) / v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="type">double</span> n, p1, v1, p2, v2;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf%lf%lf%lf&quot;</span>,&amp;n,&amp;p1,&amp;v1,&amp;p2,&amp;v2);</span><br><span class="line">        <span class="keyword">if</span>(p1 &gt; p2) &#123;</span><br><span class="line">            <span class="built_in">swap</span>(p1, p2); <span class="built_in">swap</span>(v1, v2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> ans;</span><br><span class="line">        <span class="comment">// ä¸€ä¸ªäººèµ°å®Œ</span></span><br><span class="line">        ans = <span class="built_in">min</span>(<span class="built_in">Clac</span>(n, p1, v1), <span class="built_in">Clac</span>(n, p2, v2));</span><br><span class="line">        <span class="comment">// ä¸¤ä¸ªäººå¯¹å‘èµ°å®Œ</span></span><br><span class="line">        ans = <span class="built_in">min</span>(ans, <span class="built_in">max</span>((n - p1) / v1, p2 / v2));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»¥midä¸ºåˆ†ç•Œçº¿ï¼ŒäºŒåˆ†æ±‚æœ€å°</span></span><br><span class="line">        <span class="type">double</span> l = p1, r = p2;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="type">double</span> mid = (l + r) / <span class="number">2.0</span>;</span><br><span class="line">            <span class="type">double</span> ans1 = <span class="built_in">Clac</span>(mid, p1, v1);</span><br><span class="line">            <span class="type">double</span> ans2 = <span class="built_in">Clac</span>(n - mid, p2 - mid, v2);</span><br><span class="line">            ans = <span class="built_in">min</span>(ans, <span class="built_in">max</span>(ans1, ans2));</span><br><span class="line">            <span class="keyword">if</span>(ans1 &lt;= ans2) l = mid;</span><br><span class="line">            <span class="keyword">else</span> r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.10lf\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">sovle</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœå½“æ—¶æ²¡æœ‰æ­»ç£•è¿™é“é¢˜ï¼Œé‚£å°±ä¼šæœ‰å¤§é‡çš„æ—¶é—´åšå…¶ä»–é¢˜äº†ã€‚</strong> <strong>è¿™æ˜¯ç¬¬ä¸‰æ¬¡æ­»ç›¯ä¸€é“é¢˜ï¼Œå¦‚æœè¿˜æœ‰ä¸‹æ¬¡ï¼Œä¸å¯èƒ½æœ‰ä¸‹æ¬¡äº†ï¼ï¼ï¼</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/17/2020-icpc-shanghai-d/">https://blog.jujimeizuo.cn/2020/12/17/2020-icpc-shanghai-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCä¸Šæµ·ç«™ Ié¢˜ Sky Garden æ•°å­¦æ¨å¯¼+æ€ç»´</title>
      <link href="/2020/12/17/2020-icpc-shanghai-i/"/>
      <url>/2020/12/17/2020-icpc-shanghai-i/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/9925/I">https://ac.nowcoder.com/acm/contest/9925/I</a> å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_43750980/article/details/111297783">https://blog.csdn.net/qq_43750980&#x2F;article&#x2F;details&#x2F;111297783</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰nä¸ªåŒå¿ƒåœ†ï¼Œåœ†å¿ƒéƒ½ä¸ºï¼ˆ0ï¼Œ0ï¼‰ï¼ŒåŠå¾„ä¾æ¬¡é€’å¢1,2â€¦n æœ‰mæ¡ç›´çº¿å°†è¿™nä¸ªåœ†ç­‰åˆ†æˆ2*mä»½ï¼Œç›´çº¿å’Œåœ†ä¼šæœ‰äº¤ç‚¹ã€‚ ä¸€ä¸ªäº¤ç‚¹èµ°å‘å¦ä¸€ä¸ªäº¤ç‚¹åªèƒ½èµ°æœ‰çº¿çš„è·¯å¾„ã€‚</p><p>æ±‚æ‰€æœ‰ç‚¹å¯¹è·ç¦»å’Œã€‚</p><p>$$\sum_{i,j\in R\;i\ne j}dis(i,j)$$</p><h2 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>è¿™é¢˜å…³é”®æ˜¯ä¸€ä¸ªç‚¹æ€ä¹ˆèµ°å‘å¦ä¸€ä¸ªç‚¹ï¼Œè¿™å¾ˆé‡è¦ï¼ é¦–å…ˆçŒœæµ‹ä¸¤ä¸ªç»“è®ºï¼š</p><ul><li><p><strong>ç»“è®ºä¸€ï¼šåœ¨åŒä¸€åœ†ä¸Šçš„ä¸¤ç‚¹ï¼Œæœ€çŸ­è·ç¦»ä¸ºmin(ä¸¤ç‚¹æœ€çŸ­å¼§é•¿ï¼Œåœ†çš„ç›´å¾„)ã€‚</strong></p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/12/20201217202523462.png"></p></li><li><p><strong>ç»“è®ºäºŒï¼šä¸åŒåœ†ä¸Šçš„ä¸¤ç‚¹ï¼Œå¤–åœ†éœ€è¦æ²¿ç›´å¾„èµ°å‘å†…åœ†çš„å¤§ä¸€åœˆçš„å¤–åœ†ï¼Œå†æŒ‰ç…§ç»“è®ºä¸€èµ°ã€‚</strong></p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/12/.png"></p></li></ul><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»å°åœ†æ¨åˆ°å¤§åœ†ï¼Œæ¥ä¸‹æ¥å°±å¼€å§‹æ“ä½œã€‚</p><ol><li><p><strong>é¦–å…ˆé¢„å¤„ç†åŠå¾„ä¸º1æ—¶ï¼Œä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„è·ç¦»å’Œã€‚</strong></p></li><li><p><strong>ç»´æŠ¤ä¸¤ä¸ªæ•°ç»„ï¼Œa[i]å’Œb[i]</strong> a[i]è¡¨ç¤º[1,i]ä¸ªåœ†å†…ï¼Œä»1ä¸ªç‚¹å‡ºå‘åˆ°è¯¥åœ†å†…å…¶ä»–æ‰€æœ‰ç‚¹çš„è·ç¦»å’Œ</p><p>b[i]è¡¨ç¤ºåœ¨ç¬¬iä¸ªåœ†ä¸Šï¼Œä»1ä¸ªç‚¹å‡ºå‘åˆ°è¯¥åœ†ä¸Šå…¶ä»–æ‰€æœ‰ç‚¹çš„è·ç¦»å’Œ</p></li><li><p><strong>ä»i&#x3D;2å¼€å§‹é€’æ¨ï¼Œä»ç¬¬i-1ä¸ªåœ†æ¨å‘ç¬¬iä¸ªåœ†æ—¶</strong> b[i]åªæ˜¯ä»åŠå¾„ä¸º1å¢å¤§äº†iå€ï¼Œæ‰€ä»¥b[i] &#x3D; b[1] * iï¼ˆç»“è®ºä¸€ï¼‰ a[i]é¦–å…ˆè¦å…ˆåŠ b[i]å’Œa[i -1]ï¼Œæ‰€ä»¥ç¬¬iå’Œi-1å±‚ä»¥å†…éƒ½å¤„ç†å¥½äº†ã€‚ æ¥ç€å°±æ˜¯ç¬¬iå±‚çš„ç‚¹åˆ°æ‰€æœ‰å†…å±‚ç‚¹çš„è·ç¦»æ€ä¹ˆç®—? åªéœ€è¦å°†ç¬¬iä¸ªåœ†å†…å±‚æ‰€æœ‰ç‚¹ï¼ˆåŒ…æ‹¬ç¬¬iä¸ªåœ†ä¸Šæ‰€æœ‰ç‚¹ï¼‰å¾€é‡Œè¿›ä¸€å±‚å³å¯ï¼ˆç»“è®ºäºŒï¼‰</p><ol start="4"><li><strong>O(n)å¤„ç†æ¯ä¸€å±‚åœ†å¾—ç­”æ¡ˆ</strong></li></ol></li></ol><p>å…·ä½“çœ‹ä»£ç </p><h2 id="Codeï¼ˆ3MSï¼‰"><a href="#Codeï¼ˆ3MSï¼‰" class="headerlink" title="Codeï¼ˆ3MSï¼‰"></a>Codeï¼ˆ3MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"> <span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">double</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*  ä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„æ€»è·ç¦»å’Œï¼ˆåŠå¾„ä¸º1ï¼‰   */</span></span><br><span class="line">    <span class="type">double</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(PI * i &lt; <span class="number">2.0</span> * m) cnt += PI * i / m;</span><br><span class="line">        <span class="keyword">else</span> cnt += <span class="number">2.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cnt *= <span class="number">2.0</span>; cnt += <span class="number">2.0</span>;</span><br><span class="line">    a[<span class="number">1</span>] = b[<span class="number">1</span>] = cnt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a[i]è¡¨ç¤º[1,i]ä¸ªåœ†å†…ï¼Œä»1ä¸ªç‚¹å‡ºå‘åˆ°è¯¥åœ†å†…å…¶ä»–æ‰€æœ‰ç‚¹çš„è·ç¦»å’Œ</span></span><br><span class="line">    <span class="comment">// b[i]è¡¨ç¤ºåœ¨ç¬¬iä¸ªåœ†ä¸Šï¼Œä»1ä¸ªç‚¹å‡ºå‘åˆ°è¯¥åœ†ä¸Šå…¶ä»–æ‰€æœ‰ç‚¹çš„è·ç¦»å’Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*  O(n)é€’æ¨ï¼Œä»ç¬¬1ä¸ªåœ†æ¨åˆ°ç¬¬nä¸ªåœ†  */</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="comment">// åŠå¾„æ‰©å¤§iå€ï¼ˆç»“è®ºä¸€æ”¯æ’‘ï¼‰</span></span><br><span class="line">        b[i] = b[<span class="number">1</span>] * i;</span><br><span class="line">        <span class="comment">// å†…å±‚çš„æ¯ä¸€ä¸ªç‚¹éƒ½è¦å¾€é‡Œèµ°ä¸€å±‚ï¼Œæ¯ä¸€å±‚çš„ä¸€ä¸ªç‚¹éœ€è¦èµ°2*mæ¬¡ï¼Œç„¶åçš„2*mçš„èµ°æ³•æ ¹æ®ä¹‹å‰æ¨çš„èµ°æ³•èµ°ï¼ˆç»“è®ºäºŒæ”¯æ’‘ï¼‰</span></span><br><span class="line">        a[i] = a[i - <span class="number">1</span>] + b[i] + <span class="number">2.0</span> * m * (i - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*  O(n)æ±‚è§£ç­”æ¡ˆ  */</span></span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        ans += <span class="number">2.0</span> * m * (a[i] - b[i]) + <span class="number">2.0</span> * m / <span class="number">2.0</span> * b[i];</span><br><span class="line">        <span class="comment">// m * b[i] è¡¨ç¤ºï¼Œç¬¬iä¸ªåœ†ä¸Šï¼Œä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å’Œï¼Œå› ä¸º2*mç‚¹ï¼Œä½†æ˜¯ä¼šé‡å¤è®¡ç®—1å€ï¼Œæ‰€ä»¥è¦é™¤2</span></span><br><span class="line">        <span class="comment">// 2 * m * (a[i] - b[i]) è¡¨ç¤ºï¼Œç¬¬iä¸ªåœ†ä¸Šä»»æ„ä¸€ç‚¹åˆ°è¯¥åœ†å†…å…¶ä»–æ‰€æœ‰ç‚¹çš„è·ç¦»å’Œï¼Œå› ä¸ºæœ‰2*mä¸ªç‚¹ï¼ˆå»æ‰ç¬¬iä¸ªåœ†ä¸Šçš„ç‚¹è·ç¦»å’Œï¼‰</span></span><br><span class="line">        <span class="keyword">if</span>(m &gt; <span class="number">1</span>) ans += <span class="number">2.0</span> * i * m; <span class="comment">// m&gt;1å³åŸç‚¹ä¹Ÿç®—ä¸€ç‚¹ï¼Œç‰¹æ®Šå¤„ç†</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.10lf\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">sovle</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/17/2020-icpc-shanghai-i/">https://blog.jujimeizuo.cn/2020/12/17/2020-icpc-shanghai-i/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬ä¸ƒåœºã€‘Cé¢˜ A National Pandemic</title>
      <link href="/2020/12/10/2020-nowcoder-shujia7-c/"/>
      <url>/2020/12/10/2020-nowcoder-shujia7-c/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5672/C">https://ac.nowcoder.com/acm/contest/5672/C</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹æƒå€¼ä¸º0ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ“ä½œï¼š</p><ul><li>$1\; x\; w$ï¼Œå°†æ‰€ä»¥ç‚¹çš„æƒå€¼éƒ½åŠ ä¸Šw-dis(x,y)ï¼Œdisä¸ºxåˆ°yçš„æœ€çŸ­è·¯å¾„çš„è¾¹æ•°</li><li>$2\; x$ï¼Œå°†xç‚¹ä¸0å–è¾ƒå°å€¼min(x, 0)ã€‚</li><li>$3\; x$ï¼ŒæŸ¥è¯¢xç‚¹çš„æƒå€¼ã€‚</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ç¬¬ä¸€ä¸ªæ“ä½œä¸­ï¼Œä¸éš¾æƒ³åˆ°ä¸LCAçš„è”ç³»ï¼Œå³ï¼š</p><p>$&#x3D;w-dis(1,x)-dis(1,y)+dis(1, lca(x, y))$ $&#x3D;w-dep[x]-dep[y]+dis[lca(x,y)]$</p><p><strong>è¿™é‡Œçš„dep[1]æ˜¯ä»0å¼€å§‹ç®—çš„ï¼Œä¸æ˜¯dep[1] &#x3D;1;</strong></p><p>æ¯æ¬¡æ“ä½œ1çš„æ—¶å€™ï¼Œéƒ½ä¼šå¯¹æ¯ä¸ªç‚¹å¢åŠ w-dep[x]å’Œå‡å»æ¯ä¸ªç‚¹çš„dep[y] æ‰€ä»¥ç”¨ä¸€ä¸ªå…¨å±€å˜é‡Sumç»´æŠ¤w-dep[x]ï¼Œç”¨numç»´æŠ¤çš„æ“ä½œä¸€çš„æ¬¡æ•°å³å¯ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆç»´æŠ¤dis[lca(x,y)]å‘¢ï¼Ÿå…ˆæ¥çœ‹çœ‹è¿™ä¸ªå›¾ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/12/20201211140940270.png"></p><p>æ‰€ä»¥æˆ‘ä»¬ä¸ç”¨æ¯æ¬¡æ±‚ä¸¤ä¸ªç‚¹çš„LCAï¼Œé‚£æ ·åšå¤æ‚åº¦çˆ†ç‚¸!</p><p><strong>æˆ‘ä»¬åªéœ€è¦å°†æ ¹èŠ‚ç‚¹1åˆ°èŠ‚ç‚¹xä¹‹é—´çš„ç®€å•è·¯å¾„æ¯æ¬¡å¢åŠ 2å³å¯ã€‚</strong></p><p><strong>å› ä¸ºå¯¹äºå…¶ä»–ç‚¹ï¼Œå½“æˆ‘ä»¬æŸ¥è¯¢dis(1,y)æ—¶ï¼Œåªå¢åŠ ç»è¿‡lcaåˆ°èŠ‚ç‚¹1ä¹‹é—´çš„æƒå€¼ï¼Œè€Œyåˆ°lcaä¹‹é—´çš„æƒå€¼æ²¡æœ‰å¢åŠ ï¼Œæˆ‘ä»¬ä¹Ÿä¸æƒ³è¦å¢åŠ ï¼Œè¿™æ ·å°±å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</strong></p><p>å¯¹äºç»´æŠ¤æ ‘ä¸Šè·¯å¾„çš„æƒå€¼ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè½»é‡é“¾å‰–åˆ†ï¼Œå†ç”¨çº¿æ®µæ ‘ç»´æŠ¤å³å¯ã€‚</p><p>=&#x3D;æ³¨æ„ï¼šæˆ‘ä»¬ç”¨çº¿æ®µæ ‘ç»´æŠ¤çš„æ˜¯æ ‘ä¸Šè·¯å¾„çš„ç‚¹æƒå€¼ï¼Œè€Œä¸æ˜¯è¾¹æƒå€¼ï¼Œdisæ˜¯è¾¹æ•°ï¼Œåˆnä¸ªç‚¹æœ‰n-1æ¡è¾¹ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡è¿›è¡Œæ“ä½œä¸€çš„æ—¶å€™é‡å¤åŠ ä¸Š1ä¸ª2äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å‡å»num*2ã€‚&#x3D;&#x3D;</p><p>å¯¹äºæ“ä½œ2ï¼Œåªæœ‰xçš„æƒå€¼&gt;0æ—¶ï¼Œæ‰ä¼šä¸0è¿›è¡Œæ¯”è¾ƒã€‚</p><p>å¯ä»¥å…ˆæ±‚å‡ºxç‚¹çš„æƒå€¼ï¼Œå¦‚æœå¤§äº0ï¼Œå¼€ä¸€ä¸ªdelæ•°ç»„ç»´æŠ¤ä¸€ä¸‹ å³$del[x] +&#x3D; (f &gt; 0 ?: f:0)$</p><p>è¿™æ ·åšä¹‹åï¼Œæ¯æ¬¡æ±‚æƒå€¼çš„æ—¶å€™éƒ½å‡å»del[x]å°±è¡Œäº†ã€‚</p><p><strong>æœ€åæ³¨æ„ä¸€ä¸‹åˆå§‹åŒ–å°±acäº†ã€‚</strong></p><h2 id="Codeï¼ˆ336MSï¼‰"><a href="#Codeï¼ˆ336MSï¼‰" class="headerlink" title="Codeï¼ˆ336MSï¼‰"></a>Codeï¼ˆ336MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*-----------------å»ºè¾¹-----------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">&#125;e[N &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> head[N], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    e[++cnt].v = v;</span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*----------------è½»é‡é“¾å‰–åˆ†----------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> siz[N], fa[N], dep[N], son[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs1</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> par)</span> </span>&#123;</span><br><span class="line">    dep[u] = dep[fa[u] = par] + (siz[u] = <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == par) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs1</span>(v, u);</span><br><span class="line">        siz[u] += siz[v];</span><br><span class="line">        <span class="keyword">if</span>(!son[u]  siz[v] &gt; siz[son[u]])</span><br><span class="line">            son[u] = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> top[N], nodeof[N], dfn[N], tim;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs2</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> topf)</span> </span>&#123;</span><br><span class="line">    nodeof[dfn[u] = ++tim] = u;</span><br><span class="line">    top[u] = topf;</span><br><span class="line">    <span class="keyword">if</span>(!son[u]) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">dfs2</span>(son[u], topf);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u];i ; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span>(v == son[u]  v == fa[u]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs2</span>(v, v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*-----------çº¿æ®µæ ‘------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    ll sum, tag;</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].sum = t[lc].sum + t[rc].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!t[u].tag) <span class="keyword">return</span> ;</span><br><span class="line">    t[lc].sum += t[u].tag * (t[lc].r - t[lc].l + <span class="number">1</span>);</span><br><span class="line">    t[rc].sum += t[u].tag * (t[rc].r - t[rc].l + <span class="number">1</span>);</span><br><span class="line">    t[lc].tag += t[u].tag;</span><br><span class="line">    t[rc].tag += t[u].tag;</span><br><span class="line">    t[u].tag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r; t[u].tag = t[u].sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, ll v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        t[u].sum += (t[u].r - t[u].l + <span class="number">1</span>) * v;</span><br><span class="line">        t[u].tag += v;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify</span>(lc, ql, qr, v);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">modify</span>(rc, ql, qr, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="keyword">return</span> t[u].sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) ans += <span class="built_in">query</span>(lc, ql, qr);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  ans += <span class="built_in">query</span>(rc, ql, qr);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify_chain</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">        <span class="built_in">modify</span>(<span class="number">1</span>, dfn[top[x]], dfn[x], val);</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &gt; dep[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="built_in">modify</span>(<span class="number">1</span>, dfn[x], dfn[y], val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query_chain</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(top[x] != top[y]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">        ans += <span class="built_in">query</span>(<span class="number">1</span>, dfn[top[x]], dfn[x]);</span><br><span class="line">        x = fa[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &gt; dep[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    ans += <span class="built_in">query</span>(<span class="number">1</span>, dfn[x], dfn[y]);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll Sum, num;</span><br><span class="line">ll del[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cnt = tim = Sum = num = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">mem</span>(dfn, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">mem</span>(siz, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">mem</span>(e, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">mem</span>(son, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">mem</span>(del, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">mem</span>(dep, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">mem</span>(head, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> _; cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="built_in">init</span>();</span><br><span class="line">        <span class="type">int</span> n, m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> u, v;</span><br><span class="line">            cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">            <span class="built_in">add</span>(u, v);</span><br><span class="line">            <span class="built_in">add</span>(v, u);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs1</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">dfs2</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">        <span class="comment">// w - dep[x] - dep[y] + 2 * dep[lca(x, y)]</span></span><br><span class="line">        <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">            <span class="type">int</span> opt; cin &gt;&gt; opt;</span><br><span class="line">            <span class="keyword">if</span>(opt == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="type">int</span> x, val; cin &gt;&gt; x &gt;&gt; val;</span><br><span class="line">                Sum += val - dep[x];</span><br><span class="line">                num++;</span><br><span class="line">                <span class="built_in">modify_chain</span>(<span class="number">1</span>, x, <span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(opt == <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">                ll f = Sum - num * dep[x] + <span class="built_in">query_chain</span>(<span class="number">1</span>, x) - del[x] - <span class="number">2</span> * num;</span><br><span class="line">                <span class="keyword">if</span>(f &gt; <span class="number">0</span>) del[x] += f;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(opt == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="type">int</span> x; cin &gt;&gt; x;</span><br><span class="line">                cout &lt;&lt; Sum - num * dep[x] + <span class="built_in">query_chain</span>(<span class="number">1</span>, x) - del[x] - <span class="number">2</span> * num &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/10/2020-nowcoder-shujia7-c/">https://blog.jujimeizuo.cn/2020/12/10/2020-nowcoder-shujia7-c/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018-2019 ICPC (NWERC 2018) Aé¢˜ Access Points æ„é€ å•è°ƒ</title>
      <link href="/2020/12/06/2018-2019-icpc-nwerc-2018-a/"/>
      <url>/2020/12/06/2018-2019-icpc-nwerc-2018-a/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://codeforces.com/gym/102483/problem/A">https://codeforces.com/gym/102483/problem/A</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™å‡ºnä¸ªç‚¹çš„$aï¼ˆx_i,y_iï¼‰$ï¼Œç„¶ååœ¨äºŒç»´å¹³é¢ä¸­æ„é€ nä¸ªç‚¹ï¼Œæ„é€ çš„ç‚¹å¯ä»¥é‡åˆã€‚ æ„é€ ç‚¹çš„è¦æ±‚ä¸ºï¼šè‹¥ä¸ºç¬¬iå’Œç¬¬jä¸ªç‚¹ï¼Œ$ï¼ˆi&lt;jï¼‰$ï¼Œåˆ™$(x_i&lt;&#x3D;x_jï¼Œy_i&lt;&#x3D;y_j)$ è´¡çŒ®ä¸º$\sum_{i&#x3D;1}^np_i-a_i^2$ï¼Œæ±‚æœ€å°è´¡çŒ®ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å…ˆå°†é¢˜é¢è½¬åŒ–ä¸€ä¸‹ä¸º:$\sum_{i&#x3D;1}^n(p_{ix}-a_{i_x})^2+(p_{iy}-a_{i_y})^2$</p><p>çœ‹åˆ°xå’Œyæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥åªéœ€è¦å†™å‡ºä¸€ä¸ªå‡½æ•°ï¼Œç„¶ååœ¨å¥—ä¸€ä¸ªå³å¯ã€‚</p><p>æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬æ„é€ çš„påœ¨[1,n]ä¸Šè¦æ˜¯å•è°ƒé€’å¢çš„ã€‚ $é‚£ä¹ˆæ€ä¹ˆæ±‚æœ€å°çš„\sum_{i&#x3D;1}^n(p_{ix}-a_{ix})^2ï¼Ÿ$</p><p>åˆ†æä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><ul><li>aæ˜¯å•è°ƒé€’å¢çš„ï¼Œé‚£æ ¹æœ¬ä¸ç”¨æƒ³ï¼Œè®©$p_{ix}&#x3D;a_{ix}$ï¼Œç­”æ¡ˆä¸º0.</li><li>aå…¨ä¸ºä¸€ä¸ªæ•°ï¼Œé‚£pä¹Ÿä¸ºaçš„å¹³å‡å€¼ï¼Œç­”æ¡ˆä¹Ÿä¸º0.</li><li>aæ˜¯ä¸é€’å¢çš„ï¼Œè¿™æ˜¯æœ¬é¢˜çš„å…³é”®ï¼Œå› ä¸ºpæ˜¯é€’å¢çš„ï¼Œå¦‚æœaè¶Šæ¥è¶Šå°ï¼Œè€Œpè¶Šæ¥è¶Šå¤§ï¼Œé‚£è¯¥æ€ä¹ˆæ„é€ å‘¢ï¼Ÿ</li></ul><p>å½“aæ˜¯å•è°ƒé€’å¢çš„æ—¶å€™ï¼Œéå¸¸å¥½æ„é€ æ‰€ä»¥æˆ‘ä»¬ä¸è®©aæœ‰é€’å‡çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯æŠŠä»»æ„å½¢å¼çš„aéƒ½è½¬åŒ–ä¸ºå•è°ƒé€’å¢ã€‚</p><p>æˆ‘ä»¬å¯¹äºaä¸­ä¸€æ®µçš„ä¸²ï¼Œå–ä¸€ä¸ªå¹³å‡å€¼ï¼Œå†å¤„ç†ä¸‹ä¸€ä¸ªä¸²ï¼Œä½¿å½“å‰ä¸²çš„å¹³å‡å€¼è¦å¤§äºä¸Šä¸€ä¸ªä¸²çš„å¹³å‡å€¼ï¼Œæˆ‘ä»¬è¦åšåˆ°å°†ä¸€æ®µé•¿åº¦çš„å¹³å‡å€¼é€’å¢å³å¯ã€‚</p><p>é—®é¢˜ï¼šæ€ä¹ˆç»´æŠ¤ä¸€æ®µé•¿åº¦å¹³å‡å€¼é€’å¢ï¼Ÿ</p><p>å›ç­”ï¼šæš´åŠ›$O(n^2) No$ï¼Œå•è°ƒæ ˆå³å¯ã€‚</p><p>æˆ‘ä»¬ç”¨å•è°ƒæ ˆç»´æŠ¤ä¸€æ®µä¸²çš„å¹³å‡å€¼é€’å¢å³å¯ï¼Œå› ä¸ºxå’Œyç‹¬ç«‹ï¼Œæ‰€ä»¥yä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><h4 id="Codeï¼ˆ62MSï¼‰"><a href="#Codeï¼ˆ62MSï¼‰" class="headerlink" title="Codeï¼ˆ62MSï¼‰"></a>Codeï¼ˆ62MSï¼‰</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line">ll x[N], y[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">sum</span><span class="params">(ll *A, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    stack&lt;pair&lt;ll, <span class="type">int</span>&gt; &gt; s;</span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        ll a = A[i]; <span class="type">int</span> l = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!s.<span class="built_in">empty</span>() &amp;&amp; s.<span class="built_in">top</span>().first * l &gt;= s.<span class="built_in">top</span>().second * a) &#123; <span class="comment">// ä½¿æ ˆå†…å¹³å‡å€¼é€’å¢</span></span><br><span class="line">            l += s.<span class="built_in">top</span>().second;</span><br><span class="line">            a += s.<span class="built_in">top</span>().first;</span><br><span class="line">            s.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        s.<span class="built_in">push</span>(&#123;a, l&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i = n;</span><br><span class="line">    <span class="keyword">while</span>(!s.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">double</span> tmp = <span class="number">1.0</span> * s.<span class="built_in">top</span>().first / s.<span class="built_in">top</span>().second;</span><br><span class="line">        <span class="type">int</span> l = s.<span class="built_in">top</span>().second;</span><br><span class="line">        s.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; l; j++) &#123;</span><br><span class="line">            ans += (tmp - A[i - j]) * (tmp - A[i - j]);</span><br><span class="line">        &#125;</span><br><span class="line">        i -= l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;x[i], &amp;y[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lf\n&quot;</span> ,<span class="built_in">sum</span>(x, n) + <span class="built_in">sum</span>(y, n));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/06/2018-2019-icpc-nwerc-2018-a/">https://blog.jujimeizuo.cn/2020/12/06/2018-2019-icpc-nwerc-2018-a/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SPOJ COT Count on a tree æ ‘ä¸Šä¸»å¸­æ ‘ + LCA</title>
      <link href="/2020/12/04/spoj-cot-count-on-a-tree-%E6%A0%91%E4%B8%8A%E4%B8%BB%E5%B8%AD%E6%A0%91-lca/"/>
      <url>/2020/12/04/spoj-cot-count-on-a-tree-%E6%A0%91%E4%B8%8A%E4%B8%BB%E5%B8%AD%E6%A0%91-lca/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç½®æŠ€èƒ½"><a href="#å‰ç½®æŠ€èƒ½" class="headerlink" title="å‰ç½®æŠ€èƒ½"></a>å‰ç½®æŠ€èƒ½</h2><p>å¯æŒä¹…åŒ–çº¿æ®µæ ‘ã€LCA</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€æ£µæ ‘ï¼Œæ±‚(u,v)çš„æœ€çŸ­è·¯å¾„ä¹‹é—´ç¬¬kå°çš„å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°ç¬¬kå°å€¼å°±æ˜¯åˆ°å¯ä»¥ç”¨ä¸»å¸­æ ‘ç»´æŠ¤äº†ã€‚ ä½†æ˜¯ä¸€èˆ¬çš„ä¸»å¸­æ ‘æ˜¯ç»´æŠ¤ä¸€æ®µæ•°åˆ—ï¼Œæ±‚åŒºé—´å†…çš„ç¬¬kå€¼ã€‚ ä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨éå†æ ‘çš„åŒæ—¶å»ºä¸»å¸­æ ‘ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆèƒ½æ±‚ç¬¬kå€¼å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ä¸»å¸­æ ‘ä¹Ÿæœ‰å‰ç¼€å’Œçš„æ€æƒ³ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåª’ä»‹ç‚¹ï¼Œé€šè¿‡è¿™ä¸ªç‚¹è¾¾åˆ°å‰ç¼€å’Œçš„ç›®çš„ã€‚</p><p>ä¸æ ‘ä¸Šä¸¤ä¸ªç‚¹æœ‰è”ç³»çš„ç‚¹ï¼Œé‚£å°±æ˜¯LCAâ€“æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æ±‚LCA_DFS(u, pre)çš„åŒæ—¶å»ºä¸»å¸­æ ‘ï¼ŒåŒæ—¶æœ‰éœ€è¦å»ºçš„æ ¹èŠ‚ç‚¹å’Œå‰ä¸€ç‰ˆæœ¬çš„æ ¹èŠ‚ç‚¹ã€‚</p><p>ç„¶åå°±æ˜¯æŸ¥è¯¢éƒ¨åˆ†ï¼Œæ ¹æ®ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/12/20201204164217510.png"></p><p>ç­”æ¡ˆä¸ºï¼š $query(root[l], \;root[r],\; root[lca],\; root[fa[lca][0]],\; 1,\; n,\;k)$</p><p>åœ¨é€’å½’è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒhjt[hjt[ql].l].val + hjt[hjt[qr].l].val - hjt[hjt[lca].l].val - hjt[hjt[falca].l].valä¸kçš„å¤§å°æ¥åˆ¤æ–­è¦è¿›å…¥å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> u, v, next;</span><br><span class="line">&#125;e[N &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> idx, head[N &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> fa[N][<span class="number">55</span>], depth[N], lg[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">&#125;hjt[N * <span class="number">40</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N], root[N], cnt;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; vec;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    e[++idx].v = v;</span><br><span class="line">    e[idx].next = head[u];</span><br><span class="line">    head[u] = idx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">getid</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">lower_bound</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), x) - vec.<span class="built_in">begin</span>() + <span class="number">1</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> pre, <span class="type">int</span> &amp;now, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    hjt[now = ++cnt] = hjt[pre];</span><br><span class="line">    hjt[now].val++;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) <span class="built_in">insert</span>(hjt[pre].l, hjt[now].l, l, m, p);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">insert</span>(hjt[pre].r, hjt[now].r, m + <span class="number">1</span>, r, p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> lca, <span class="type">int</span> falca, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="type">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> tmp = hjt[hjt[ql].l].val + hjt[hjt[qr].l].val - hjt[hjt[lca].l].val - hjt[hjt[falca].l].val;</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= tmp) <span class="keyword">return</span> <span class="built_in">query</span>(hjt[ql].l, hjt[qr].l, hjt[lca].l, hjt[falca].l, l, m, k);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">query</span>(hjt[ql].r, hjt[qr].r, hjt[lca].r, hjt[falca].r, m + <span class="number">1</span>, r, k - tmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LCA</span><span class="params">(<span class="type">int</span> u1, <span class="type">int</span> u2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(depth[u1] &lt; depth[u2]) <span class="built_in">swap</span>(u1, u2);</span><br><span class="line">    <span class="keyword">while</span>(depth[u1] &gt; depth[u2])</span><br><span class="line">        u1 = fa[u1][lg[depth[u1] - depth[u2]] - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span>(u1 == u2) <span class="keyword">return</span> u1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = lg[depth[u1]] - <span class="number">1</span>;i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[u1][i] != fa[u2][i]) &#123;</span><br><span class="line">            u1 = fa[u1][i];</span><br><span class="line">            u2 = fa[u2][i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fa[u1][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">LCA_DFS</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> pre)</span> </span>&#123;</span><br><span class="line">    fa[u][<span class="number">0</span>] = pre;</span><br><span class="line">    depth[u] = depth[pre] + <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">insert</span>(root[pre], root[u], <span class="number">1</span>, n, <span class="built_in">getid</span>(a[u])); <span class="comment">// æ²¿è·¯å¾„å»ºä¸»å¸­æ ‘ï¼ˆå‰ç¼€å’Œï¼‰</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= lg[depth[u]]; i++) &#123;</span><br><span class="line">        fa[u][i] = fa[fa[u][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = head[u]; i; i = e[i].next) &#123;</span><br><span class="line">        <span class="keyword">if</span>(e[i].v != pre)</span><br><span class="line">            <span class="built_in">LCA_DFS</span>(e[i].v, u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; a[i]; vec.<span class="built_in">push_back</span>(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>());</span><br><span class="line">    vec.<span class="built_in">erase</span>(<span class="built_in">unique</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>()), vec.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        <span class="built_in">add</span>(u, v);</span><br><span class="line">        <span class="built_in">add</span>(v, u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        lg[i] = lg[i - <span class="number">1</span>] + (<span class="number">1</span> &lt;&lt; lg[i - <span class="number">1</span>] == i);</span><br><span class="line">    <span class="built_in">LCA_DFS</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        <span class="type">int</span> l, r, k;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r &gt;&gt; k;</span><br><span class="line">        <span class="type">int</span> lca = <span class="built_in">LCA</span>(l, r);</span><br><span class="line">        <span class="comment">// root[l] + root[r] - root[lca] - root[fa[lca][0]]å‰ç¼€å’Œæ€æƒ³</span></span><br><span class="line">        cout &lt;&lt; vec[<span class="built_in">query</span>(root[l], root[r], root[lca], root[fa[lca][<span class="number">0</span>]], <span class="number">1</span>, n, k) - <span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/04/spoj-cot-count-on-a-tree-%E6%A0%91%E4%B8%8A%E4%B8%BB%E5%B8%AD%E6%A0%91-lca/">https://blog.jujimeizuo.cn/2020/12/04/spoj-cot-count-on-a-tree-æ ‘ä¸Šä¸»å¸­æ ‘-lca/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 6562 Lovers 2018CCPC-å‰æ—ç«™ çº¿æ®µæ ‘ï¼ˆè¶…ç¡¬æ ¸ï¼‰</title>
      <link href="/2020/12/04/hdu-6562/"/>
      <url>/2020/12/04/hdu-6562/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6562">http://acm.hdu.edu.cn/showproblem.php?pid=6562</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™nä¸ªç©ºä¸²å’Œmä¸ªæ“ä½œï¼Œæ“ä½œæœ‰ä¸¤ç§ï¼š</p><ul><li>$wrapï¼šlï¼Œrï¼Œdï¼Œå°†[l,r]æ‰€æœ‰çš„ä¸²é¦–å°¾éƒ½åŠ ä¸Šä¸€ä¸ªdï¼Œä¾‹å¦‚33ï¼Œé¦–å°¾åŠ ä¸ª5å°±å˜æˆ5335.$</li><li>$queryï¼šlï¼Œrï¼Œè¾“å‡º\sum_{i&#x3D;l}^{r}a[i]$</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°æ›´æ–°å’ŒæŸ¥è¯¢æ“ä½œï¼Œå°±çŸ¥é“è¿™é¢˜ç™¾åˆ†ä¹‹ä¹åä¹æ˜¯çº¿æ®µæ ‘äº†ï¼Œç„¶åçœ‹åˆ°æ•°æ®é‡å¾ˆå¤§ï¼Œå°±çŸ¥é“è¦æ‡’æƒ°æ ‡è®°äº†ã€‚</p><p>æ‰€æœ‰æˆ‘ä»¬å»ºä¸€æ£µçº¿æ®µæ ‘ç»´æŠ¤ä»€ä¹ˆå‘¢ï¼Ÿ</p><ul><li>é¦–å…ˆå°±æ˜¯[l,r]çš„åŒºé—´å’Œsumã€‚$sum&#x3D;\sum_{i&#x3D;l}^{r}a[i].$<ul><li>å­—ç¬¦ä¸²é¦–å°¾å¢åŠ å­—ç¬¦ï¼Œéœ€è¦è¿™æ®µæ•°å­—çš„é•¿åº¦ï¼Œæ‰€ä»¥è¿˜éœ€è¦lenæ¥å­˜ã€‚$len&#x3D;\sum_{i&#x3D;l}^r10^{len(a[i])}.$</li><li>å‰©ä¸‹å°±æ˜¯æ‡’æƒ°æ ‡è®°äº†ï¼Œç»´æŠ¤å­—ç¬¦ä¸²é¦–æ›´æ–°çš„å€¼lazlï¼Œç»´æŠ¤å­—ç¬¦ä¸²å°¾æ›´æ–°çš„å€¼lazrï¼Œè¿˜æœ‰ä¸€ä¸ªlazlenï¼Œæ¥ç»´æŠ¤é•¿åº¦çš„å˜åŒ–ã€‚</li></ul></li></ul><p>æ‰€ä»¥æˆ‘ä»¬æœ‰ä¸‹é¢çš„æ ‘ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span>&#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> sum, len;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> lazl, lazr, lazlen;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>çº¿æ®µæ ‘æœ‰å»ºæ ‘ã€åŒºé—´æ›´æ–°ã€åŒºé—´æŸ¥è¯¢ä¸‰ç§æ“ä½œï¼Œå½“ç„¶è¿˜æœ‰æ ‡è®°ä¸Šä¼ ã€ä¸‹ä¼ ç­‰ã€‚</p><ul><li>å»ºæ ‘ç•¥ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r;</span><br><span class="line">    t[u].sum = t[u].lazl = t[u].lazr = <span class="number">0</span>;</span><br><span class="line">    t[u].lazlen = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].len = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u); <span class="comment">// æ ‡è®°ä¸Šä¼ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åŒºé—´æŸ¥è¯¢ç•¥ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="keyword">return</span> t[u].sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u); <span class="comment">// æ ‡è®°ä¸‹ä¼ </span></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) ans = (ans + <span class="built_in">query</span>(lc, ql, qr)) % mod;</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  ans = (ans + <span class="built_in">query</span>(rc, ql, qr)) % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœ€éš¾çš„å°±æ˜¯åŒºé—´æ›´æ–°ï¼Œå¸Œæœ›è¯»è€…èƒ½æ‰‹åŠ¨è‡ªå·±å†™ä¸€å†™ã€‚</li></ul><p>é¦–å…ˆç»™å‡ºCodeï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].sum = (t[lc].sum + t[rc].sum) % mod;</span><br><span class="line">    t[u].len = (t[lc].len + t[rc].len) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[u].lazlen == <span class="number">1</span>) <span class="keyword">return</span> ;</span><br><span class="line"></span><br><span class="line">    t[lc].sum = (t[lc].sum * t[u].lazlen % mod + (mid - t[u].l + <span class="number">1</span>) * t[u].lazr % mod + t[u].lazl * t[lc].len % mod * t[u].lazlen % mod) % mod;</span><br><span class="line">    t[rc].sum = (t[rc].sum * t[u].lazlen % mod + (t[u].r - mid) * t[u].lazr % mod + t[u].lazl * t[rc].len % mod * t[u].lazlen % mod) % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].len = t[lc].len * t[u].lazlen % mod * t[u].lazlen % mod;</span><br><span class="line">    t[rc].len = t[rc].len * t[u].lazlen % mod * t[u].lazlen % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].lazl = (t[lc].lazl + t[u].lazl * t[lc].lazlen) % mod;</span><br><span class="line">    t[rc].lazl = (t[rc].lazl + t[u].lazl * t[rc].lazlen) % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].lazr = (t[lc].lazr * t[u].lazlen + t[u].lazr) % mod;</span><br><span class="line">    t[rc].lazr = (t[rc].lazr * t[u].lazlen + t[u].lazr) % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].lazlen = t[lc].lazlen * t[u].lazlen % mod;</span><br><span class="line">    t[rc].lazlen = t[rc].lazlen * t[u].lazlen % mod;</span><br><span class="line"></span><br><span class="line">    t[u].lazl = t[u].lazr = <span class="number">0</span>;</span><br><span class="line">    t[u].lazlen = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        t[u].sum = (t[u].sum * <span class="number">10</span> + (t[u].r - t[u].l + <span class="number">1</span>) * v + t[u].len * <span class="number">10</span> * v) % mod;</span><br><span class="line">        t[u].len = t[u].len * <span class="number">100</span> % mod;</span><br><span class="line">        t[u].lazl = (t[u].lazl + t[u].lazlen * v) % mod;</span><br><span class="line">        t[u].lazr = (t[u].lazr * <span class="number">10</span> + v) % mod;</span><br><span class="line">        t[u].lazlen = t[u].lazlen * <span class="number">10</span> % mod;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify</span>(lc, ql, qr, v);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">modify</span>(rc, ql, qr, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>$åŒºé—´æ›´æ–°ï¼š$</p><ul><li>sumï¼šé¦–å…ˆåŸæ•°å­—sumä¹˜10ç»™æ–°å¢æ•°å­—ç•™ä¸€ä¸ªå°¾ä½ï¼Œç”±äºæ˜¯åŒºé—´å†…æ¯ä¸€ä¸ªæ•°éƒ½è¦åŠ ä¸Šdï¼Œæ‰€ä»¥åŠ ä¸Š(r-l+1)*dï¼Œè¿˜æœ‰è¿˜å‰©ä¸‹ä¸€ä¸ªé¦–ä½ï¼Œåªéœ€åŠ ä¸Šsumçš„é•¿åº¦len * 10 * då³å¯ã€‚</li><li>lenï¼šåŠ äº†ä¸¤ä¸ªæ˜¯æ•°å­—ï¼Œæ‰€ä»¥ä¹˜10^2å³å¯ã€‚</li><li>lazlï¼šåŸæ¥çš„lazlåŠ ä¸Šæ–°å¢çš„ï¼Œä¸ºç»´æŠ¤é•¿åº¦çš„lazlen*dã€‚</li><li>lazrï¼šåœ¨æœ«å°¾åœ¨åŠ ä¸€ä¸ªvï¼Œä¸ºåŸæ¥çš„lazr*10+vã€‚</li><li>lazlenï¼šæ–°å¢ä¸¤ä¸ªæ•°å­—ï¼Œæ¯æ¬¡åªéœ€ä¹˜1ä¸ª10å°±è¡Œäº†ï¼Œéœ€è¦ç”¨çš„æ—¶å€™ä¹˜ä¸¤ä¸ªlazlenå³å¯ã€‚</li></ul><p>æ‡’æƒ°æ ‡è®°ä¸‹ä¼ ï¼ˆå¯ä»¥ç›´æ¥æ‰‹æ“ä¸€æ³¢ï¼‰ï¼š</p><ul><li>å­©å­çš„sumï¼šä¸­é—´ï¼ˆå­©å­çš„sumä¹˜çˆ¶äº²çš„lazlenï¼‰åŠ ä¸Šå·¦è¾¹ï¼ˆçˆ¶äº²çš„lazrä¹˜çˆ¶äº²çš„lazlenä¹˜å­©å­çš„é•¿åº¦lenï¼‰å†åŠ ä¸Šå³è¾¹ï¼ˆå­©å­çš„åŒºé—´é•¿åº¦ä¹˜çˆ¶äº²çš„lazrï¼‰ã€‚</li><li>å­©å­çš„lenï¼šå­©å­çš„lenä¹˜çˆ¶äº²çš„lazlenä¹˜çˆ¶äº²çš„lazlenã€‚</li><li>å­©å­çš„lazlï¼šå­©å­çš„lazlåŠ ä¸Šçˆ¶äº²çš„lazlä¹˜ä¸Šå­©å­çš„lazlenã€‚</li><li>å­©å­çš„lazrï¼šå­©å­çš„lazrä¹˜çˆ¶äº²çš„lazlen+çˆ¶äº²çš„lazrã€‚</li><li>å­©å­çš„lazlenï¼šå­©å­çš„lazlenä¹˜çˆ¶äº²çš„lazlenã€‚</li><li>æœ€ååˆå§‹åŒ–çˆ¶äº²çš„æ‡’æƒ°å˜é‡ã€‚</li></ul><p>çº¿æ®µæ ‘ä»£ç é‡å¤§ä¸æ˜¯æ²¡æœ‰åŸå› çš„ï¼Œä½†è¿™ä¸€é¢˜è¿˜æ°¸è¿œä¸æ˜¯å°½å¤´ï¼</p><h2 id="Codeï¼ˆ2012MSï¼‰"><a href="#Codeï¼ˆ2012MSï¼‰" class="headerlink" title="Codeï¼ˆ2012MSï¼‰"></a>Codeï¼ˆ2012MSï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    ll sum, len;</span><br><span class="line">    ll lazl, lazr, lazlen;</span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_up</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    t[u].sum = (t[lc].sum + t[rc].sum) % mod;</span><br><span class="line">    t[u].len = (t[lc].len + t[rc].len) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">push_down</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[u].lazlen == <span class="number">1</span>) <span class="keyword">return</span> ;</span><br><span class="line"></span><br><span class="line">    t[lc].sum = (t[lc].sum * t[u].lazlen % mod + (mid - t[u].l + <span class="number">1</span>) * t[u].lazr % mod + t[u].lazl * t[lc].len % mod * t[u].lazlen % mod) % mod;</span><br><span class="line">    t[rc].sum = (t[rc].sum * t[u].lazlen % mod + (t[u].r - mid) * t[u].lazr % mod + t[u].lazl * t[rc].len % mod * t[u].lazlen % mod) % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].len = t[lc].len * t[u].lazlen % mod * t[u].lazlen % mod;</span><br><span class="line">    t[rc].len = t[rc].len * t[u].lazlen % mod * t[u].lazlen % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].lazl = (t[lc].lazl + t[u].lazl * t[lc].lazlen) % mod;</span><br><span class="line">    t[rc].lazl = (t[rc].lazl + t[u].lazl * t[rc].lazlen) % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].lazr = (t[lc].lazr * t[u].lazlen + t[u].lazr) % mod;</span><br><span class="line">    t[rc].lazr = (t[rc].lazr * t[u].lazlen + t[u].lazr) % mod;</span><br><span class="line"></span><br><span class="line">    t[lc].lazlen = t[lc].lazlen * t[u].lazlen % mod;</span><br><span class="line">    t[rc].lazlen = t[rc].lazlen * t[u].lazlen % mod;</span><br><span class="line"></span><br><span class="line">    t[u].lazl = t[u].lazr = <span class="number">0</span>;</span><br><span class="line">    t[u].lazlen = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    t[u].l = l; t[u].r = r;</span><br><span class="line">    t[u].sum = t[u].lazl = t[u].lazr = <span class="number">0</span>;</span><br><span class="line">    t[u].lazlen = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        t[u].len = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(lc, l, m);</span><br><span class="line">    <span class="built_in">build</span>(rc, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        t[u].sum = (t[u].sum * <span class="number">10</span> + (t[u].r - t[u].l + <span class="number">1</span>) * v + t[u].len * <span class="number">10</span> * v) % mod;</span><br><span class="line">        t[u].len = t[u].len * <span class="number">100</span> % mod;</span><br><span class="line">        t[u].lazl = (t[u].lazl + t[u].lazlen * v) % mod;</span><br><span class="line">        t[u].lazr = (t[u].lazr * <span class="number">10</span> + v) % mod;</span><br><span class="line">        t[u].lazlen = t[u].lazlen * <span class="number">10</span> % mod;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) <span class="built_in">modify</span>(lc, ql, qr, v);</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  <span class="built_in">modify</span>(rc, ql, qr, v);</span><br><span class="line">    <span class="built_in">push_up</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> ql, <span class="type">int</span> qr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span><br><span class="line">        <span class="keyword">return</span> t[u].sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">push_down</span>(u);</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(ql &lt;= mid) ans = (ans + <span class="built_in">query</span>(lc, ql, qr)) % mod;</span><br><span class="line">    <span class="keyword">if</span>(qr &gt; mid)  ans = (ans + <span class="built_in">query</span>(rc, ql, qr)) % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> _, Case = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Case &quot;</span> &lt;&lt; Case++ &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="type">int</span> n, m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">        <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">            <span class="type">int</span> l, r;</span><br><span class="line">            string s; cin &gt;&gt; s &gt;&gt; l &gt;&gt; r;</span><br><span class="line">            <span class="keyword">if</span>(s == <span class="string">&quot;wrap&quot;</span>) &#123;</span><br><span class="line">                <span class="type">int</span> v; cin &gt;&gt; v;</span><br><span class="line">                <span class="built_in">modify</span>(<span class="number">1</span>, l, r, v);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                cout &lt;&lt; <span class="built_in">query</span>(<span class="number">1</span>, l, r) &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/12/04/hdu-6562/">https://blog.jujimeizuo.cn/2020/12/04/hdu-6562/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç™½æœˆèµ›17 J-è®¡æ•° ç»„åˆè®¡æ•°</title>
      <link href="/2020/11/19/nowcoder-newbie17-j/"/>
      <url>/2020/11/19/nowcoder-newbie17-j/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/1085/J">https://ac.nowcoder.com/acm/contest/1085/J</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰ä¸€ä¸ªå«æœ‰nä¸ªæ•°å­—çš„åºåˆ—ï¼Œæ¯ä¸ªæ•°çš„å¤§å°æ˜¯ä¸è¶…è¿‡1000çš„æ­£æ•´æ•°ï¼ŒåŒæ—¶è¿™ä¸ªåºåˆ—æ˜¯ä¸ªå•è°ƒä¸å¢åºåˆ—ã€‚ä½†æ˜¯å¾ˆä¸å¹¸çš„æ˜¯ï¼Œåºåˆ—åœ¨ä¿å­˜è¿‡ç¨‹ä¸­æœ‰äº›æ•°å­—ä¸¢å¤±äº†ï¼Œè¯·ä½ æ ¹æ®ä¸Šè¿°æ¡ä»¶ï¼Œè®¡ç®—å‡ºæœ‰å¤šå°‘ç§ä¸åŒçš„åºåˆ—æ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œç­”æ¡ˆå¯¹1000000007å–æ¨¡ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h4 id="æ–¹æ³•ä¸€ï¼šéš”æ¿æ³•"><a href="#æ–¹æ³•ä¸€ï¼šéš”æ¿æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šéš”æ¿æ³•"></a>æ–¹æ³•ä¸€ï¼šéš”æ¿æ³•</h4><p>å‡å¦‚è¿ç»­ä¸€æ®µæœ‰nä¸ª0ï¼Œæ‰€ä»¥éœ€è¦åœ¨è¿™nä¸ªä½ç½®ä¸­æ’å…¥æ•°ï¼Œè€Œæ’å…¥çš„æ•°ä¸º[1,m]ï¼ˆå¤§å®¶åº”è¯¥èƒ½çœ‹å‡ºæ¥ï¼‰ã€‚ æ‰€ä»¥æˆ‘ä»¬å‡è®¾[1,m] ä¸­1å‡ºç°$a_1$æ¬¡ï¼Œmå‡ºç°$a_m$æ¬¡ã€‚å³iå‡ºç°$a_i$æ¬¡ã€‚ æ‰€ä»¥è¦å°†è¿™äº›æ•°å­—æ’å…¥nä¸ªä½ç½®ä¸­ï¼Œå³ç»Ÿè®¡ä»–ä»¬å¯ä»¥å‡ºç°çš„æ¬¡æ•°ï¼Œå³</p><p>$$n&#x3D;a_1+a_2+â€¦+a_mï¼ˆ0\leq a_i \leq nï¼‰$$</p><p>ç­‰ä»·äºnä¸ªå°çƒæ”¾è¿›mä¸ªç›’å­é‡Œï¼Œéš”æ¿æ³•å³å¯ï¼Œç”±äº$a_i$å¯ä»¥ç­‰äº0ï¼Œæ‰€ä»¥æˆ‘ä»¬è®©æ¯ä¸€ä¸ªç›’å­éƒ½æ˜¯äº‹å…ˆæ”¾è¿›1ä¸ªå°çƒï¼Œå³n+mï¼Œè¿™æ ·æ±‚å‡ºçš„æ–¹æ¡ˆä¸º$C_{n+m-1}^{m-1}$ï¼Œæ¯ä¸€ç§æ–¹æ¡ˆä¸ºä¸€ç§åºåˆ—ã€‚</p><h2 id="Codeï¼ˆ159MSï¼‰"><a href="#Codeï¼ˆ159MSï¼‰" class="headerlink" title="Codeï¼ˆ159MSï¼‰"></a>Codeï¼ˆ159MSï¼‰</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line">ll fac[N];</span><br><span class="line">ll inv[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span>()</span> &#123;</span><br><span class="line">    fac[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) fac[i] = fac[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">    inv[N - <span class="number">1</span>] = quick_pow(fac[N - <span class="number">1</span>], mod - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = N - <span class="number">2</span>;i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        inv[i] = inv[i + <span class="number">1</span>] * (i + <span class="number">1</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span>(<span class="params"><span class="built_in">int</span> m, <span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">    ll ans = fac[m] * inv[n] % mod * inv[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">main</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>();</span><br><span class="line">    <span class="built_in">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">int</span> pre = <span class="number">1000</span>;</span><br><span class="line">    <span class="built_in">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">int</span> x;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        <span class="keyword">if</span>(!x) cnt++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">int</span> len = pre - x + <span class="number">1</span>;</span><br><span class="line">            ans = ans * C(cnt + len - <span class="number">1</span>, len - <span class="number">1</span>) % mod;</span><br><span class="line">            pre = x;</span><br><span class="line">            cnt = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt) &#123;</span><br><span class="line">        ans = ans * C(cnt + pre - <span class="number">1</span>, pre - <span class="number">1</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•äºŒï¼šå•è°ƒä¸å¢å˜å•è°ƒé€’å‡"><a href="#æ–¹æ³•äºŒï¼šå•è°ƒä¸å¢å˜å•è°ƒé€’å‡" class="headerlink" title="æ–¹æ³•äºŒï¼šå•è°ƒä¸å¢å˜å•è°ƒé€’å‡"></a>æ–¹æ³•äºŒï¼šå•è°ƒä¸å¢å˜å•è°ƒé€’å‡</h3><p>$å°†å•è°ƒä¸å¢åºåˆ—å˜ä¸ºç‚¹æ‰é€’å‡åºåˆ—ï¼Œåªéœ€å°†iä½ç½®ä¸Šçš„æ•°+(n-i+1)å³å¯ã€‚$</p><p>$å¯¹äºä¸€æ®µè¿ç»­ä¸º0çš„åŒºé—´ï¼Œå°±ä¸éœ€è¦è€ƒè™‘ä¼šå–åŒæ ·çš„å€¼ï¼Œç›´æ¥åœ¨å¯ä»¥é€‰æ‹©çš„æ•°ä¸­é€‰å‡ºnä¸ªå³å¯ã€‚$</p><p>$å‡è®¾å¯ä»¥å–çš„å€¼æœ‰mä¸ªï¼Œé‚£ä¹ˆæ–¹æ¡ˆæ•°ä¸ºC_{m}^n$</p><p>$æ³¨æ„0å’Œnä½ç½®ä¹Ÿè¦å¤„ç†ã€‚$</p><h3 id="Codeï¼ˆ159MSï¼‰-1"><a href="#Codeï¼ˆ159MSï¼‰-1" class="headerlink" title="Codeï¼ˆ159MSï¼‰"></a>Codeï¼ˆ159MSï¼‰</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line">ll fac[N];</span><br><span class="line">ll inv[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span>()</span> &#123;</span><br><span class="line">    fac[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) fac[i] = fac[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">    inv[N - <span class="number">1</span>] = quick_pow(fac[N - <span class="number">1</span>], mod - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = N - <span class="number">2</span>;i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        inv[i] = inv[i + <span class="number">1</span>] * (i + <span class="number">1</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span>(<span class="params"><span class="built_in">int</span> m, <span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">    ll ans = fac[m] * inv[n] % mod * inv[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">main</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>();</span><br><span class="line">    <span class="built_in">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    n += <span class="number">2</span>;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    a[<span class="number">1</span>] = <span class="number">1000</span> + n; a[n] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        <span class="keyword">if</span>(a[i])</span><br><span class="line">            a[i] += n - i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">int</span> suf = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]) &#123;</span><br><span class="line">            <span class="keyword">if</span>(suf)</span><br><span class="line">                ans = ans * C(a[suf] - a[i] - <span class="number">1</span>, i - suf - <span class="number">1</span>) % mod;</span><br><span class="line">            suf = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/19/nowcoder-newbie17-j/">https://blog.jujimeizuo.cn/2020/11/19/nowcoder-newbie17-j/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPC æ±Ÿè¥¿çœå¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›A-A Simple Math Problem è«æ¯”ä¹Œæ–¯åæ¼”</title>
      <link href="/2020/11/16/2020-ccpc-jiangxi-shengsai-a/"/>
      <url>/2020/11/16/2020-ccpc-jiangxi-shengsai-a/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/8827/A">https://ac.nowcoder.com/acm/contest/8827/A</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^i[gcd(i,j)&#x3D;1]F[j]$$ $F[j]ä¸ºjå„ä¸ªæ•°ä½ä¹‹å’Œï¼Œä¾‹å¦‚F[123]&#x3D;1+2+3&#x3D;6ã€‚$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$å‰ç½®æŠ€èƒ½ï¼š\varphi * id&#x3D;\mu\;\;\;\;\mu*I&#x3D;\varepsilon $ $å…ˆæ¥çœ‹\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^iF[j]ï¼Œå¯ä»¥ç›´æ¥ç­‰ä»·äº\sum_{i&#x3D;1}^n\sum_{j&#x3D;i}^nF[i]ï¼Œå¯æ‰‹åŠ¨éªŒè¯ä¸€ä¸‹ã€‚$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^i[gcd(i,j)&#x3D;1]F[j]$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;i}^nF[i]\sum_{di\;dj}\mu(d)$$</p><p>$æšä¸¾dï¼š$ $$\sum_{i&#x3D;1}^nF[i]\sum_{di}\mu(d)\sum_{\left \lfloor \frac{i}{d} \right \rfloor }^{\left \lfloor \frac{n}{d} \right \rfloor }1$$</p><p>$$\sum_{i&#x3D;1}^nF[i]\left ( \sum_{di}\mu(d)*(\frac{n-i}{d}) \right ) $$</p><p>$$\sum_{i&#x3D;1}^nF[i]\left ( \sum_{di}\mu(d)\frac{n}{d}-\sum_{di}\mu(d)\frac{i}{d}\right )$$</p><p>$è®¾f(i)&#x3D;\sum_{di}\mu(d)\frac{n}{d}ï¼Œ\sum_{di}\mu(d)\frac{i}{d}&#x3D;\varphiï¼Œå¾—ï¼š$</p><p>$$\sum_{i&#x3D;1}^nF[i]*(f(i)-\varphi(i))$$</p><p>$\muã€\varphiã€Få’Œfé¢„å¤„ç†ï¼Œç„¶åO(n)å¾—ç­”æ¡ˆã€‚$</p><h2 id="Codeï¼ˆ20MSï¼‰"><a href="#Codeï¼ˆ20MSï¼‰" class="headerlink" title="Codeï¼ˆ20MSï¼‰"></a>Codeï¼ˆ20MSï¼‰</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N], f[N], phi[N];</span><br><span class="line"><span class="built_in">int</span> F[N];</span><br><span class="line"><span class="built_in">bool</span> is_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">Clac</span>(<span class="params"><span class="built_in">int</span> x</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        res += x % <span class="number">10</span>;</span><br><span class="line">        x /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span>()</span> &#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!is_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            phi[i] = i - <span class="number">1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j]) &#123;</span><br><span class="line">                phi[i * prime[j]] = phi[i] * (prime[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                phi[i * prime[j]] = phi[i] * prime[j];</span><br><span class="line">                mu[i * prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i * prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        F[i] = Clac(i);</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = i;j &lt;= n; j += i) &#123;</span><br><span class="line">            f[j] += mu[i] * (n / i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    Init();</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        ans += <span class="number">1l</span>l * F[i] * (f[i] - phi[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/16/2020-ccpc-jiangxi-shengsai-a/">https://blog.jujimeizuo.cn/2020/11/16/2020-ccpc-jiangxi-shengsai-a/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2014 ICPC è¥¿å®‰åŒºåŸŸèµ› F - color å®¹æ–¥åŸç†</title>
      <link href="/2020/11/15/2014-icpc-%E8%A5%BF%E5%AE%89%E5%8C%BA%E5%9F%9F%E8%B5%9B-f-color-%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/"/>
      <url>/2020/11/15/2014-icpc-%E8%A5%BF%E5%AE%89%E5%8C%BA%E5%9F%9F%E8%B5%9B-f-color-%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://codeforces.com/gym/100548/attachments">http://codeforces.com/gym/100548/attachments</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™næœµèŠ±ï¼Œmç§é¢œè‰²ï¼Œè®©ä½ åœ¨mç§é¢œè‰²ç§é€‰æ‹©kç§åœ¨nå¤šèŠ±ç§æ¶‚è‰²ï¼Œkç§çš„æ¯ä¸€ç§éƒ½è¦ç”¨åˆ°ï¼Œè€Œä¸”ç›¸é‚»çš„èŠ±ä¸èƒ½æ¶‚ç›¸åŒçš„é¢œè‰²ã€‚é—®æœ‰å¤šå°‘ç§æ¶‚è‰²æ–¹æ³•ï¼Ÿ</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆå¯çŸ¥ï¼Œmç§é€‰kç§æœ‰$C_m^k$ï¼Œç„¶åæ¯ä¸ªäººéƒ½å¯ä»¥æƒ³åˆ°è¿™æ ·çš„å…¬å¼ï¼š$C_m^k*k*(k-1)^{n-1}$ã€‚ è¿™ä¸ªå¼å­æ˜¯è¯´æ˜næœµèŠ±ä¸­æœ‰æ¶‚å¤§äº1ç§å¹¶ä¸”å°äºç­‰äºkç§é¢œè‰²ï¼Œä¹Ÿå°±æ˜¯2ï¼Œ3â€¦k-1ï¼Œkç§é¢œè‰²çš„æ–¹æ¡ˆéƒ½æœ‰ï¼Œè€Œæˆ‘ä»¬åªè¦æ•´å¥½kç§ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯å®¹æ–¥ã€‚</p><p>æ€ä¹ˆä¸ªå®¹æ–¥æ³•å‘¢ï¼Ÿ</p><p>ä¾‹å¦‚æœ‰4ç§é¢œè‰²1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œåœ¨é‡Œé¢æ‰¾3ç§é¢œè‰²æ¶‚ï¼Œå¯ä»¥æ‰¾ï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰å’Œï¼ˆ1ï¼Œ2ï¼Œ4ï¼‰ã€‚ æ ¹æ®$k*(k-1)^{n-1}$ï¼š åœ¨ï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰ä¸­ï¼Œä½ ä¼šé€‰æ‹©ï¼ˆ1ï¼Œ2ï¼‰è¿™ä¸ªæ–¹æ¡ˆï¼Œå› ä¸ºæ˜¯å°äºç­‰äºkç§ï¼Œè€Œåœ¨ï¼ˆ1ï¼Œ2ï¼Œ4ï¼‰ä¸­ä½ ä¹Ÿä¼šé€‰æ‹©ï¼ˆ1ï¼Œ2ï¼‰è¿™ä¸ªæ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬é‡å¤é€‰æ‹©äº†ï¼Œéœ€è¦æŠŠè¿™ç§å‡æ‰ã€‚</p><p>å­¦è¿‡å®¹æ–¥çš„éƒ½çŸ¥é“ï¼Œå®¹æ–¥å°±æ˜¯å¹²è¿™ä¸ªäº‹æƒ…çš„ï¼Œé‚£è¯¥æ€ä¹ˆå‡å»é‡å¤å‘¢ï¼Ÿ</p><p>é‚£å°±æ˜¯kç§çš„å‡å»k-1ç§çš„ï¼Œç„¶ååœ¨åŠ ä¸Šk-2ç§çš„ï¼Œå°±è¿™æ ·ä¸€åŠ ä¸€å‡ï¼Œå‡æ˜¯å› ä¸ºè¦å‡æ‰é‡å¤çš„ï¼ŒåŠ æ˜¯å› ä¸ºæŠŠéœ€è¦çš„ä¹Ÿç»™å‡æ‰äº†ï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Šï¼Œå®¹æ–¥éƒ½æ˜¯è¿™ä¸ªé“ç†ï¼Œæ€»å¼å­å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>$$C_m^k\left ( \sum_{i&#x3D;1}^k(-1)^{k-i+1}C_k^i*i*(i-1)^{n-1} \right ) $$</p><p>O(n)é¢„å¤„ç†é˜¶ä¹˜å’Œé˜¶ä¹˜é€†å…ƒï¼Œæ–¹ä¾¿ç»„åˆæ•°O(1)æ±‚å‡ºï¼Œ$C_m^k$ç”±äºmå¤ªå¤§ï¼Œæ•°ç»„å­˜ä¸ä¸‹ï¼Œä½†æ˜¯kåªæœ‰1e6ï¼Œæ‰€ä»¥ç›´æ¥æš´åŠ›ç®—å°±å¯ä»¥äº†ï¼Œ$C_m^k&#x3D;\frac{m!}{k!(m-k)!}&#x3D;invF[k]*\prod_{i&#x3D;m-k+1}^mi$ï¼Œæ¬¡å¹‚ç›´æ¥å¿«é€Ÿå¹‚å³å¯ã€‚å¤æ‚åº¦ä¸º$O(n)+O(Tn\log n)$</p><h2 id="Codeï¼ˆ1996msï¼‰"><a href="#Codeï¼ˆ1996msï¼‰" class="headerlink" title="Codeï¼ˆ1996msï¼‰"></a>Codeï¼ˆ1996msï¼‰</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line">ll f[N], invF[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span>()</span> &#123;</span><br><span class="line">    f[<span class="number">0</span>] = f[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++)&#123;</span><br><span class="line">        f[i] = f[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    invF[N - <span class="number">1</span>] = quick_pow(f[N - <span class="number">1</span>], mod - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = N - <span class="number">2</span>;i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        invF[i] = (invF[i + <span class="number">1</span>] * (i + <span class="number">1</span>)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span>(<span class="params">ll m, ll n</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = f[m];</span><br><span class="line">    ans = ans * invF[n] % mod;</span><br><span class="line">    ans = ans * invF[m - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">rongchi</span>(<span class="params">ll n, ll k</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> opt = <span class="number">1</span>;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i = k;i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        ll res = <span class="number">1l</span>l * opt * i * quick_pow(i - <span class="number">1</span>, n - <span class="number">1</span>) % mod * C(k, i) % mod;</span><br><span class="line">        ans = (ans + res + mod) % mod;</span><br><span class="line">        opt *= <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (ans % mod + mod) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    Init();</span><br><span class="line">    <span class="built_in">int</span> _;</span><br><span class="line">    scanf(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    <span class="built_in">int</span> Case = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        ll n, m, k;</span><br><span class="line">        scanf(<span class="string">&quot;%lld%lld%lld&quot;</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line">        ll ans = rongchi(n, k);</span><br><span class="line">        <span class="keyword">for</span>(ll i = m - k + <span class="number">1</span>;i &lt;= m; i++) ans = ans * i % mod;</span><br><span class="line">        ans = ans * invF[k] % mod;</span><br><span class="line">        printf(<span class="string">&quot;Case ##%d: %lld\n&quot;</span>,Case++,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/15/2014-icpc-%E8%A5%BF%E5%AE%89%E5%8C%BA%E5%9F%9F%E8%B5%9B-f-color-%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/">https://blog.jujimeizuo.cn/2020/11/15/2014-icpc-è¥¿å®‰åŒºåŸŸèµ›-f-color-å®¹æ–¥åŸç†/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020æµ™æ±Ÿçœèµ›E Easy DP Problem ä¸»å¸­æ ‘</title>
      <link href="/2020/11/12/2020-zhejiang-shengsai-e/"/>
      <url>/2020/11/12/2020-zhejiang-shengsai-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/1319565562453364740">https://zoj.pintia.cn/problem-sets/91827364500/problems/1319565562453364740</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æ ¹æ®é¢˜ç›®dpçš„æ–¹å‘ï¼Œç›´æ¥åˆ¤æ–­å‡ºæœ€åç­”æ¡ˆä¸º1åˆ°(r-l+1)çš„å¹³æ–¹å’ŒåŠ ä¸Šlåˆ°råŒºé—´å‰kå¤§çš„å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¹³æ–¹å’Œç›´æ¥å¯ä»¥å…¬å¼$\frac{n(n+1)(2n+1)}{6}$ã€‚ åŒºé—´å‰kå¤§å¯ä»¥ä¸»å¸­æ ‘å¥—ä¸€ä¸‹ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="built_in">int</span> a[N];</span><br><span class="line">vector&lt;<span class="built_in">int</span>&gt; v;</span><br><span class="line"><span class="built_in">int</span> cnt, root[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> Node &#123;</span><br><span class="line">    <span class="built_in">int</span> l, r;</span><br><span class="line">    ll sum;</span><br><span class="line">    <span class="built_in">int</span> num;</span><br><span class="line">    <span class="built_in">int</span> val;</span><br><span class="line">&#125;hjt[N * <span class="number">40</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">getid</span>(<span class="params"><span class="built_in">int</span> x</span>)</span> &#123; <span class="keyword">return</span> lower_bound(v.begin(), v.end(), x) - v.begin() + <span class="number">1</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span>(<span class="params"><span class="built_in">int</span> pre, <span class="built_in">int</span> &amp;now, <span class="built_in">int</span> l, <span class="built_in">int</span> r, <span class="built_in">int</span> p, <span class="built_in">int</span> val</span>)</span> &#123;</span><br><span class="line">    now = ++cnt;</span><br><span class="line">    hjt[now] = hjt[pre];</span><br><span class="line">    hjt[now].num++; hjt[now].sum += val;</span><br><span class="line">    <span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">        hjt[now].val = val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(p &lt;= m) insert(hjt[pre].l, hjt[now].l, l, m, p, val);</span><br><span class="line">    <span class="keyword">else</span> insert(hjt[pre].r, hjt[now].r, m + <span class="number">1</span>, r, p, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query</span>(<span class="params"><span class="built_in">int</span> L, <span class="built_in">int</span> R, <span class="built_in">int</span> l, <span class="built_in">int</span> r, <span class="built_in">int</span> k</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> hjt[R].val * k;</span><br><span class="line">    <span class="built_in">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">int</span> tmp = hjt[hjt[R].r] .num - hjt[hjt[L].r].num;</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= tmp) <span class="keyword">return</span> query(hjt[L].r, hjt[R].r, m + <span class="number">1</span>, r, k);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> hjt[hjt[R].r].sum - hjt[hjt[L].r].sum + query(hjt[L].l, hjt[R].l, l, m, k - tmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span>(<span class="params"><span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">    v.clear();</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">        v.push_back(a[i]); root[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(v.begin(), v.end());</span><br><span class="line">    v.erase(unique(v.begin(), v.end()), v.end());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> _;</span><br><span class="line">    scanf(<span class="string">&quot;%d&quot;</span>,&amp;_);</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="built_in">int</span> n;</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">init</span>(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">int</span> t = getid(a[i]);</span><br><span class="line">            insert(root[i - <span class="number">1</span>], root[i], <span class="number">1</span>, n, t, a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">int</span> q;</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;q);</span><br><span class="line">        <span class="keyword">while</span>(q--) &#123;</span><br><span class="line">            <span class="built_in">int</span> l, r, k;</span><br><span class="line">            scanf(<span class="string">&quot;%d%d%d&quot;</span>,&amp;l,&amp;r,&amp;k);</span><br><span class="line">            <span class="built_in">int</span> t = r - l + <span class="number">1</span>;</span><br><span class="line">            ll ans = query(root[l - <span class="number">1</span>], root[r], <span class="number">1</span>, n, k);</span><br><span class="line">            printf(<span class="string">&quot;%lld\n&quot;</span>,<span class="number">1l</span>l * t * (t + <span class="number">1</span>) * (<span class="number">2</span> * t + <span class="number">1</span>) / <span class="number">6</span> + ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¦æ˜¯å½“æ—¶ä¼šå†™ä¸»å¸­æ ‘å°±èƒ½æœ‰ç‰Œå­äº†ï¼Œå¯æƒœäº†ã€‚</strong></p><p><strong>è¿™ç¯‡åšå®¢å¥½æ°´</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/12/2020-zhejiang-shengsai-e/">https://blog.jujimeizuo.cn/2020/11/12/2020-zhejiang-shengsai-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›72 D-brzçš„å‡½æ•° è«æ¯”ä¹Œæ–¯åæ¼” + å·®åˆ†</title>
      <link href="/2020/11/11/nowcoder-practice72-d/"/>
      <url>/2020/11/11/nowcoder-practice72-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/8282/D">https://ac.nowcoder.com/acm/contest/8282/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\mu(ij)$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$ç”±ç§¯æ€§å‡½æ•°çš„æ€§è´¨ï¼Œå½“må’Œnäº’è´¨çš„æ—¶å€™ï¼Œ\mu(mn)&#x3D;\mu(m)\mu(n)ã€‚å³$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\mu(ij)&#x3D;\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\mu(i)\mu(j)[gcd(i,j)&#x3D;1]$$</p><p>$$&#x3D;\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\mu(i)\mu(j)\sum_{di\;\;dj}\mu(d)$$</p><p>$æšä¸¾dï¼š$</p><p>$$&#x3D;\sum_{d&#x3D;1}^n\mu(d)\sum_{di}\mu(i)\sum_{dj}\mu(j)$$</p><p>$$&#x3D;\sum_{d&#x3D;1}^n\mu(d)\left ( \sum_{di}^n\mu(i) \right ) ^2$$</p><p>$$&#x3D;\sum_{d&#x3D;1}^n\mu(d)\left ( \sum_{i&#x3D;1}^{\frac{n}{d}}\mu(i*d) \right ) ^2$$ æˆ‘ä»¬æšä¸¾dï¼Œå¯¹äºæ¯ä¸€ä¸ªnï¼Œéƒ½ä¼šæœ‰$kd\leq n &lt; (k+1)d$ï¼Œæ‰€ä»¥åœ¨$kd$å’Œ$(k+1)d-1$ä¹‹é—´éƒ½ä¼šå¯¹ç­”æ¡ˆæœ‰è´¡çŒ®ï¼Œæ‰€ä»¥å¯ä»¥å…ˆå·®åˆ†åœ¨å–å‰ç¼€å’Œå³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">5e4</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> is_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"><span class="built_in">int</span> ans[N + <span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!is_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i * prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i * prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> d = <span class="number">1</span>;d &lt; N; d++) &#123;</span><br><span class="line">        <span class="built_in">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = d;i &lt; N; i += d) &#123;</span><br><span class="line">            <span class="built_in">int</span> l = i;</span><br><span class="line">            <span class="built_in">int</span> r = min(l + d - <span class="number">1</span>, N);</span><br><span class="line">            tmp += mu[l];</span><br><span class="line">            ans[l] += mu[d] * tmp * tmp;</span><br><span class="line">            ans[r + <span class="number">1</span>] -= mu[d] * tmp * tmp;    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) ans[i] += ans[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">init</span>();</span><br><span class="line">    <span class="built_in">int</span> _;</span><br><span class="line">    cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--) &#123;</span><br><span class="line">        <span class="built_in">int</span> x;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        cout &lt;&lt; ans[x] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/11/nowcoder-practice72-d/">https://blog.jujimeizuo.cn/2020/11/11/nowcoder-practice72-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019 ICPC å—æ˜Œé‚€è¯·èµ›-Polynomialï¼ˆæ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•ï¼‰</title>
      <link href="/2020/11/06/2019-icpc-nanchang-yaoqing-polnomial/"/>
      <url>/2020/11/06/2019-icpc-nanchang-yaoqing-polnomial/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://nanti.jisuanke.com/t/40254">https://nanti.jisuanke.com/t/40254</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$f(x)&#x3D;a_0+a_1x+â€¦+a_nx^nï¼Œæ²¡æœ‰ç»™å‡ºa_0,a_1â€¦a_nï¼ŒåªçŸ¥é“f(0),f(1)â€¦f(n)ï¼Œæ±‚$ $$\sum_{i&#x3D;L}^Rf(i)\;\;mod\;\;9999991$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>çœ‹åˆ°è¿™ä¸ªå½¢å¼ï¼Œå°±çŸ¥é“ç”¨æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•äº†ï¼Œå³</p><p>$$f[k]&#x3D;\sum_{i&#x3D;0}^ny_i\prod_{i\ne j}\frac{k-x[j]}{x[i]-x[j]}$$</p><p>ä½†æ˜¯é¢˜ç›®ä¸­ç»™å‡ºçš„ç‚¹éƒ½æ˜¯è¿ç»­çš„ï¼Œ$(0,f(0))ã€(1,f(1))â€¦(n,f(n))$ï¼Œä¹Ÿå°±æ˜¯xè¿ç»­ï¼Œæ‰€ä»¥æ’å€¼å¼å˜ä¸º $$f[k]&#x3D;\sum_{i&#x3D;0}^ny_i\prod_{i\ne j}\frac{k-j}{i-j}$$</p><p>æ‰€ä»¥ä¸€èˆ¬çš„æ‹‰æ ¼æœ—æ—¥æ’å€¼çš„å¤æ‚åº¦ä¸º$O(n^2)$ï¼Œè€Œå½“xè¿ç»­çš„æ—¶å€™ï¼Œå¤æ‚åº¦ä¸€åº¦é™ä¸ºO(n)ã€‚</p><p>å°†ä¸Šå¼å±•å¼€ï¼š</p><p>$$f[k]&#x3D;\sum_{i&#x3D;0}^ny_i\frac{k(k-1)(k-2)â€¦(k-n)}{[i(i-1)(i-2)â€¦1]*[(-1)*(-2)*â€¦*(i-n)]}$$</p><p>$$f[k]&#x3D;\sum_{i&#x3D;0}^ny_i\frac{\prod_{j&#x3D;0}^{i-1}(k-j)\prod_{j&#x3D;i+1}^n(k-j)}{i!*(i-n)!}$$</p><p>$$f[k]&#x3D;\sum_{i&#x3D;0}^ny_i\frac{pre[i-1]*suf[i+1]}{fac[i]*fac[n-i]}[(n-i) \&amp;1 ?-1:1]$$</p><p>å¯¹äºåˆ†æ¯ï¼Œå¯ä»¥é¢„å¤„ç†é˜¶ä¹˜å’Œé˜¶ä¹˜é€†å…ƒã€‚ å¯¹äºåˆ†å­ï¼Œåšä¸€ä¸ªå‰ç¼€ç§¯å’Œä¸€ä¸ªåç¼€ç§¯ã€‚</p><p>æ‰€ä»¥é¦–å…ˆï¼Œå…ˆæ’å‡ºä¸€ä¸ªf(n+1)ï¼Œåœ¨å¯¹fè¿›è¡Œä¸€ä¸ªå‰ç¼€å’Œsumæ•°ç»„ï¼Œç„¶åç›´æ¥å¯¹sumæ•°ç»„è¿›è¡Œæ’å€¼ï¼Œè®¡ç®—sum[R]-sum[l-1]å³å¯ã€‚</p><p>æ³¨æ„ï¼šä¸ºä»€ä¹ˆè¦æ’å‡ºä¸€ä¸ªf(n+1)ï¼Œæ˜¯å› ä¸ºè¦å…ˆå¯¹sumæ•°ç»„æœ‰æ’å€¼è¿™ä¸ªå½±å“ï¼Œè€Œsumåˆæ˜¯fçš„å‰ç¼€å’Œï¼Œæ‰€ä»¥è¦å…ˆæ’å‡ºä¸€ä¸ªf(n+1)æ¥ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æ’f(n+2)ã€f(n+3)éƒ½å¯ä»¥ï¼Œåªè¦æœ‰è¿™ä¸ªå½±å“å°±è¡Œã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> MAXN = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">9999991</span>;</span><br><span class="line">ll F[N];</span><br><span class="line">ll pre[N], suf[N];</span><br><span class="line">ll fac[N], invf[N];</span><br><span class="line">ll sum[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span>()</span> &#123;</span><br><span class="line">    fac[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) fac[i] = fac[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">    invf[N - <span class="number">1</span>] = quick_pow(fac[N - <span class="number">1</span>], mod - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = N - <span class="number">1</span>;i &gt;= <span class="number">1</span>; i--) invf[i - <span class="number">1</span>] = invf[i] * i % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Lagrange</span>(<span class="params">ll *f, <span class="built_in">int</span> k, <span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= n) <span class="keyword">return</span> f[k];</span><br><span class="line">    pre[<span class="number">0</span>] = suf[n] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) pre[i] = pre[i - <span class="number">1</span>] * (k - i + <span class="number">1</span>) % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = n;i &gt;= <span class="number">1</span>; i--) suf[i - <span class="number">1</span>] = suf[i] * (k - i) % mod;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">int</span> opt = (n - i) &amp; <span class="number">1</span> ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">        ans = (ans + <span class="number">1l</span>l * opt * pre[i] % mod * suf[i] % mod * invf[i] % mod * invf[n - i] % mod * f[i] % mod + mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f[k] = ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">init</span>();</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="built_in">int</span> n, q;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt;= n; i++) cin &gt;&gt; F[i];</span><br><span class="line">        F[n + <span class="number">1</span>] = Lagrange(F, n + <span class="number">1</span>, n);</span><br><span class="line">        sum[<span class="number">0</span>] = F[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= n + <span class="number">1</span>; i++) sum[i] = (sum[i - <span class="number">1</span>] + F[i]) % mod;</span><br><span class="line">        <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">            <span class="built_in">int</span> l, r;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">            cout &lt;&lt; (Lagrange(sum, r, n + <span class="number">1</span>) - Lagrange(sum, l - <span class="number">1</span>, n + <span class="number">1</span>) + mod) % mod &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/06/2019-icpc-nanchang-yaoqing-polnomial/">https://blog.jujimeizuo.cn/2020/11/06/2019-icpc-nanchang-yaoqing-polnomial/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤šé¡¹å¼ä¼˜åŒ–å¸¸ç³»æ•°é½æ¬¡çº¿æ€§é€’æ¨</title>
      <link href="/2020/11/04/polynomial-optimization-constant-coefficient-homogeneous-linear-recursion/"/>
      <url>/2020/11/04/polynomial-optimization-constant-coefficient-homogeneous-linear-recursion/</url>
      
        <content type="html"><![CDATA[<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/Troywar/p/9078013.html">https://www.cnblogs.com/Troywar/p/9078013.html</a> <a href="https://www.cnblogs.com/cjyyb/p/10152566.html">https://www.cnblogs.com/cjyyb/p/10152566.html</a> <a href="https://www.cnblogs.com/BAJimH/p/10574975.html">https://www.cnblogs.com/BAJimH/p/10574975.html</a> <a href="https://blog.csdn.net/jokerwyt/article/details/85345981?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.channel_param">https://blog.csdn.net/jokerwyt/article/details/85345981?utm_medium&#x3D;distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.channel_param&amp;depth_1-utm_source&#x3D;distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.channel_param</a></p><h2 id="çº¿æ€§é€’æ¨"><a href="#çº¿æ€§é€’æ¨" class="headerlink" title="çº¿æ€§é€’æ¨"></a>çº¿æ€§é€’æ¨</h2><p>ç»™å‡ºé•¿ä¸ºkçš„aæ•°åˆ—$&lt;a_0,a_1â€¦a_{k-1}&gt;$å’Œä¸€ä¸ªæ— ç©·æ•°åˆ—fçš„å‰ké¡¹$&lt;f_1,f_2â€¦f_{k}&gt;$ï¼Œæ±‚f_nã€‚</p><p>$$f_n&#x3D;\sum_{i&#x3D;1}^ka_if_{k-i}$$</p><h2 id="ä¸åŒåšæ³•çš„å¤æ‚åº¦æ¯”è¾ƒ"><a href="#ä¸åŒåšæ³•çš„å¤æ‚åº¦æ¯”è¾ƒ" class="headerlink" title="ä¸åŒåšæ³•çš„å¤æ‚åº¦æ¯”è¾ƒ"></a>ä¸åŒåšæ³•çš„å¤æ‚åº¦æ¯”è¾ƒ</h2><ul><li>$æš´åŠ›O(nk)$</li><li>$çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ–O(k^3\log n)$</li><li>$æš´åŠ›å¤šé¡¹å¼å¿«é€Ÿå¹‚ä¼˜åŒ–O(k^2\log n)$</li><li>$å¿«é€Ÿå¹‚å¥—NTTå¤šé¡¹å¼å–æ¨¡ä¼˜åŒ–O(k\log k\log n)$</li></ul><h2 id="æ±‚è§£æ€è·¯"><a href="#æ±‚è§£æ€è·¯" class="headerlink" title="æ±‚è§£æ€è·¯"></a>æ±‚è§£æ€è·¯</h2><p>çŸ©é˜µå¿«é€Ÿå¹‚æ±‚çº¿æ€§åœ°æ¨ï¼Œä»ä¸€ä¸ªåˆå§‹çŸ©é˜µå¼€å§‹é€’æ¨ï¼Œç”¨çŸ©é˜µä¹˜æ³•ï¼Œæœ€ååœ¨å’Œfç›¸ä¹˜å¾—ç­”æ¡ˆã€‚ è¿™é‡Œä¸»è¦çš„å¤æ‚åº¦åœ¨äºçŸ©é˜µçš„é˜¶æ•°kï¼Œå¦‚æœkå¾ˆå¤§å¾ˆå¤§ï¼Œé‚£è¿˜ä¸å¦‚ç›´æ¥æš´åŠ›ï¼Œæ‰€ä»¥å°±æœ‰å¤šé¡¹å¼çš„åšæ³•äº†ã€‚</p><p>å’Œå¿«é€Ÿå¹‚ä¸€æ ·ï¼ŒæŠŠçŸ©é˜µä¹˜æ³•æ¢æˆå¤šé¡¹å¼ä¹˜æ³•ï¼Œå–æ¨¡æ¢æˆå¤šé¡¹å¼å–æ¨¡ã€‚</p><p>å¤šé¡¹å¼ä¹˜æ³•å¯ä»¥ç”¨NTTåŠ é€Ÿã€‚</p><p>å¤šé¡¹å¼å–æ¨¡ï¼š $$A(x)&#x3D;B(x)D(x)+R(x)$$</p><p>å·²çŸ¥A(x)å’ŒB(x)ï¼Œæ±‚å•†D(x)å’Œä½™æ•°R(x)ã€‚</p><p>æ­¥éª¤ï¼š</p><ul><li>å°†å¤šé¡¹å¼ç³»æ•°åè½¬ï¼Œä½¿å¾—æœ€é«˜æ¬¡å¹‚ä¸ºn-mã€‚è®¾åè½¬ä¹‹åä¸º$A_R(x)&#x3D;B_R(x)D_R(x) \;\;mod \;x^{n-m+1}$</li><li>$D(x)&#x3D;reverse(A_R(x)*B_R^{-1}(x))$ï¼Œå³Aä¹˜Bçš„é€†å†åè½¬å³å¯ã€‚</li><li>R(x)ç›´æ¥ç”¨A(x)-B(x)D(x)å¾—åˆ°ã€‚</li></ul><p>ç„¶åå°±åˆ°ä¸ºä»€ä¹ˆå¯ä»¥ç”¨å¤šé¡¹å¼å¤„ç†å¸¸ç³»æ•°é½æ¬¡çº¿æ€§é€’æ¨ã€‚</p><p>ç”±äºç¬”è€…èƒ½åŠ›æœ‰é™ï¼Œåªèƒ½çœ‹ç€å¤§ä½¬ä»¬çš„åšå®¢æ•²æ•²æ¨¡æ¿ï¼Œè¯¦ç»†è§£æ³•ä¸å†èµ˜è¿°ã€‚</p><p>æ•´ç†ä¸€ä¸‹æ€è·¯ï¼š</p><p>å·²çŸ¥$f_n$ï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å¾—åˆ°$f_{2n}$ï¼š</p><ul><li>å°†è¡¨è¾¾ç³»æ•°å¤šé¡¹å¼å¹³æ–¹ï¼Œä½¿ç”¨FFTåŠ é€Ÿã€‚$O(k \log k)$</li><li>å°†æ±‚å¾—çš„å¤šé¡¹å¼å¯¹ç‰¹å¾å¤šé¡¹å¼å–æ¨¡ã€‚$O ( k \log â¡ k )$</li></ul><p>å› æ­¤ï¼Œè¦æ±‚å¾—$f_n, ä»f_1$å€å¢å³å¯ï¼Œå°±æ˜¯ä¸Šæ–‡è¯´çš„å¤šé¡¹å¼å¿«é€Ÿå¹‚ã€‚è€Œä»£ç é‡Œçš„ä¸€äº›æ“ä½œå°±æ˜¯é»‘ç§‘æŠ€äº†ã€‚</p><p>ç¬”è€…æ²¡æœ‰ç”¨NTTï¼Œç›´æ¥ç”¨çš„ä»»æ„æ¨¡æ•°MTTã€‚ä½¿ç”¨æ–¹æ³•ä¸ºï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">inline <span class="keyword">void</span> <span class="title">MTT</span>(<span class="params">ll *x, ll *y, ll *z, <span class="built_in">int</span> len</span>)</span></span><br><span class="line"><span class="function"><span class="comment">// å¤šé¡¹å¼xä¸yç›¸ä¹˜å¾—åˆ°zå¹¶è¿”å›ï¼Œlenä¸ºä¹˜æ³•ä¸­éœ€è¦çš„é•¿åº¦ã€‚</span></span></span><br></pre></td></tr></table></figure><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"> <span class="keyword">const</span> <span class="built_in">double</span> PI = acos(<span class="number">-1</span>);</span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">3e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> Complex &#123;</span><br><span class="line">    <span class="built_in">double</span> x, y;</span><br><span class="line">    Complex(<span class="built_in">double</span> a = <span class="number">0</span>, <span class="built_in">double</span> b = <span class="number">0</span>): x(a), y(b) &#123;&#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> + (<span class="keyword">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> Complex(x + rhs.x, y + rhs.y); &#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> - (<span class="keyword">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> Complex(x - rhs.x, y - rhs.y); &#125;</span><br><span class="line">    Complex <span class="keyword">operator</span> * (<span class="keyword">const</span> Complex &amp;rhs) &#123; <span class="keyword">return</span> Complex(x * rhs.x - y * rhs.y, x * rhs.y + y * rhs.x); &#125;</span><br><span class="line">    <span class="function">Complex <span class="title">conj</span>()</span> &#123; <span class="keyword">return</span> Complex(x, -y); &#125;</span><br><span class="line">&#125; w[N];</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> tr[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">getLen</span>(<span class="params"><span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> len = <span class="number">1</span>; <span class="keyword">while</span> (len &lt; (n &lt;&lt; <span class="number">1</span>)) len &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) tr[i] = (tr[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  (i &amp; <span class="number">1</span> ? len &gt;&gt; <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) w[i] = w[i] = Complex(cos(<span class="number">2</span> * PI * i / len), sin(<span class="number">2</span> * PI * i / len));</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rever</span>(<span class="params">ll *f, <span class="built_in">int</span> n</span>)</span> &#123; <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>, j = n - <span class="number">1</span>;i &lt; j; i++, j--) swap(f[i], f[j]); &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">FFT</span>(<span class="params">Complex *A, <span class="built_in">int</span> len</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) <span class="keyword">if</span>(i &lt; tr[i]) swap(A[i], A[tr[i]]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">2</span>, lyc = len &gt;&gt; <span class="number">1</span>; i &lt;= len; i &lt;&lt;= <span class="number">1</span>, lyc &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; len; j += i) &#123;</span><br><span class="line">            Complex *l = A + j, *r = A + j + (i &gt;&gt; <span class="number">1</span>), *p = w;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; i &gt;&gt; <span class="number">1</span>; k++) &#123;</span><br><span class="line">                Complex tmp = *r * *p;</span><br><span class="line">                *r = *l - tmp, *l = *l + tmp;</span><br><span class="line">                ++l, ++r, p += lyc;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">inline <span class="keyword">void</span> <span class="title">MTT</span>(<span class="params">ll *x, ll *y, ll *z, <span class="built_in">int</span> len</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) (x[i] += mod) %= mod, (y[i] += mod) %= mod;</span><br><span class="line">    <span class="keyword">static</span> Complex a[N], b[N];</span><br><span class="line">    <span class="keyword">static</span> Complex dfta[N], dftb[N], dftc[N], dftd[N];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) a[i] = Complex(x[i] &amp; <span class="number">32767</span>, x[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) b[i] = Complex(y[i] &amp; <span class="number">32767</span>, y[i] &gt;&gt; <span class="number">15</span>);</span><br><span class="line">    FFT(a, len), FFT(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="built_in">int</span> j = (len - i) &amp; (len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">static</span> Complex da, db, dc, dd;</span><br><span class="line">        da = (a[i] + a[j].conj()) * Complex(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        db = (a[i] - a[j].conj()) * Complex(<span class="number">0</span>, <span class="number">-0.5</span>);</span><br><span class="line">        dc = (b[i] + b[j].conj()) * Complex(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">        dd = (b[i] - b[j].conj()) * Complex(<span class="number">0</span>, <span class="number">-0.5</span>);</span><br><span class="line">        dfta[j] = da * dc;</span><br><span class="line">        dftb[j] = da * dd;</span><br><span class="line">        dftc[j] = db * dc;</span><br><span class="line">        dftd[j] = db * dd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) a[i] = dfta[i] + dftb[i] * Complex(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) b[i] = dftc[i] + dftd[i] * Complex(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    FFT(a, len), FFT(b, len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="built_in">int</span> da = (ll)(a[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="built_in">int</span> db = (ll)(a[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="built_in">int</span> dc = (ll)(b[i].x / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        <span class="built_in">int</span> dd = (ll)(b[i].y / len + <span class="number">0.5</span>) % mod;</span><br><span class="line">        z[i] = (da + ((ll)(db + dc) &lt;&lt; <span class="number">15</span>) + ((ll)dd &lt;&lt; <span class="number">30</span>)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Get_Inv</span>(<span class="params">ll *f, ll *g, <span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) &#123; g[<span class="number">0</span>] = quick_pow(f[<span class="number">0</span>], mod - <span class="number">2</span>); <span class="keyword">return</span> ; &#125;</span><br><span class="line">    Get_Inv(f, g, (n + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">int</span> len = getLen(n);</span><br><span class="line">    <span class="keyword">static</span> ll c[N];</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; len; i++) c[i] = i &lt; n ? f[i] : <span class="number">0</span>;</span><br><span class="line">    MTT(c, g, c, len); MTT(c, g, c, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; n; i++) g[i] = (<span class="number">2l</span>l * g[i] - c[i] + mod) % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = n;i &lt; len; i++) g[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; len; i++) c[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> len;</span><br><span class="line"><span class="built_in">int</span> n, k;</span><br><span class="line">ll a[N], h[N];</span><br><span class="line">ll ans[N], s[N];</span><br><span class="line">ll invG[N], G[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mod</span>(<span class="params">ll *f,ll *g</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> ll tmp[N];</span><br><span class="line">    rever(f, k + k - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; k; i++) tmp[i] = f[i];</span><br><span class="line">    MTT(tmp, invG, tmp, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = k - <span class="number">1</span>; i &lt; len; i++) tmp[i] = <span class="number">0</span>;</span><br><span class="line">    rever(f, k + k - <span class="number">1</span>); rever(tmp, k - <span class="number">1</span>);</span><br><span class="line">    MTT(tmp, G, tmp, len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; k; i++) g[i] = (f[i] + mod - tmp[i]) % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = k;i &lt; len; i++) g[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; len; i++) tmp[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fpow</span>(<span class="params"><span class="built_in">int</span> b</span>)</span> &#123;</span><br><span class="line">    s[<span class="number">1</span>] = <span class="number">1</span>; ans[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) &#123; MTT(ans, s, ans, len);</span><br><span class="line">        Mod(ans, ans); &#125;</span><br><span class="line">        MTT(s, s, s, len);</span><br><span class="line">        Mod(s, s);</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">DITI</span>(<span class="params">ll *a, ll *h, ll *ans, <span class="built_in">int</span> n, <span class="built_in">int</span> k</span>)</span> &#123;</span><br><span class="line">    G[k] = <span class="number">1</span>; <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= k; i++) G[k - i] = (mod - a[i]) % mod;</span><br><span class="line">    rever(G, k + <span class="number">1</span>);</span><br><span class="line">    len = getLen(k + <span class="number">1</span>);</span><br><span class="line">    Get_Inv(G, invG, k + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = k + <span class="number">1</span>;i &lt; len; i++) invG[i] = <span class="number">0</span>;</span><br><span class="line">    rever(G, k + <span class="number">1</span>);</span><br><span class="line">    fpow(n);</span><br><span class="line">    ll Ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; k; i++) Ans = (Ans + <span class="number">1l</span>l * h[i] * ans[i] % mod) % mod;</span><br><span class="line">    <span class="keyword">return</span> Ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= k; i++)&#123; cin &gt;&gt; a[i]; a[i] = a[i] &lt; <span class="number">0</span> ? a[i] + mod : a[i]; &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; k; i++) &#123; cin &gt;&gt; h[i]; h[i] = h[i] &lt; <span class="number">0</span> ? h[i] + mod : h[i]; &#125;</span><br><span class="line"></span><br><span class="line">    ll Ans = DITI(a, h, ans, n, k);</span><br><span class="line">    cout &lt;&lt; Ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>-â€“å¤šé¡¹å¼æ˜¯çœŸçš„éš¾ï¼ï¼ï¼â€“</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/04/polynomial-optimization-constant-coefficient-homogeneous-linear-recursion/">https://blog.jujimeizuo.cn/2020/11/04/polynomial-optimization-constant-coefficient-homogeneous-linear-recursion/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ï¼ˆICPCï¼‰äºšæ´²ç½‘ä¸ŠåŒºåŸŸèµ›æ¨¡æ‹Ÿèµ› A-Easy Equation å·®åˆ† + å‰ç¼€å’Œ</title>
      <link href="/2020/11/03/2020-icpc-online-a/"/>
      <url>/2020/11/03/2020-icpc-online-a/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/8688/A">https://ac.nowcoder.com/acm/contest/8688/A</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™å‡º$aã€bã€cã€dï¼Œx+y+z&#x3D;k$çš„ä¸ªæ•°$ï¼ˆ0\leq x \leq a\;;\;0\leq y \leq b\;;\;0\leq z \leq c\;;\;0\leq k \leq dï¼‰$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å…ˆè€ƒè™‘æšä¸¾xï¼Œåˆ™x+yçš„å€¼åŸŸèŒƒå›´ä¸º[x, x + b]ã€‚ æ‰€ä»¥æšä¸¾xä»0åˆ°aä¸­ï¼Œxåˆ°x+bä¸­éƒ½è¦+1ï¼Œè¿™æ˜¯å°±å¯ä»¥ç”¨ä¸€ç»´å·®åˆ†å³å¯ã€‚ç„¶åå‰ç¼€å’Œå¤åŸã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= a; i++) &#123;</span><br><span class="line">    d1[i]++;</span><br><span class="line">    d1[i + a + <span class="number">1</span>]--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= a + b; i++) &#123;</span><br><span class="line">    d1[i] += d1[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒç†ï¼Œåœ¨è€ƒè™‘æšä¸¾x+yï¼Œåˆ™x+y+zçš„å€¼åŸŸèŒƒå›´ä¸º[x+yï¼Œx+y+c]ã€‚ æšä¸¾x+yä»0åˆ°a+bä¸­ï¼Œx+yåˆ°x+y+cä¸­éƒ½è¦+1ï¼Œå·®åˆ†åœ¨å¤åŸã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= a + b; i++) &#123;</span><br><span class="line">    d2[i] += d1[i];</span><br><span class="line">    d2[i + c + <span class="number">1</span>] -= d1[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= a + b + c; i++) &#123;</span><br><span class="line">    d2[i] += d2[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åå–0åˆ°dä¸­çš„è´¡çŒ®å³å¯ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">double</span> PI = acos(<span class="number">-1</span>);</span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line">ll d1[N], d2[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    ll a, b, c, d;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= a; i++) &#123;</span><br><span class="line">        d1[i]++;</span><br><span class="line">        d1[i + a + <span class="number">1</span>]--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= a + b; i++) &#123;</span><br><span class="line">        d1[i] += d1[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= a + b; i++) &#123;</span><br><span class="line">        d2[i] += d1[i];</span><br><span class="line">        d2[i + c + <span class="number">1</span>] -= d1[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= a + b + c; i++) &#123;</span><br><span class="line">        d2[i] += d2[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= d; i++) &#123;</span><br><span class="line">        ans += d2[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/11/03/2020-icpc-online-a/">https://blog.jujimeizuo.cn/2020/11/03/2020-icpc-online-a/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 6470 Count çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ–çº¿æ€§é€’æ¨</title>
      <link href="/2020/10/30/hdu-6470/"/>
      <url>/2020/10/30/hdu-6470/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6470">http://acm.hdu.edu.cn/showproblem.php?pid=6470</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$å·²çŸ¥f(1) &#x3D; 1, f(2) &#x3D;2ï¼Œä¸”f(n)&#x3D;f(n-1)+2f(n-2)+n^3\;\;(mod\;\;1234567789)$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¯¹äºçº¿æ€§é€’æ¨ï¼Œä»¿ç…§å¿«é€Ÿå¹‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ–ï¼ˆè¿™å°±æ˜¯çº¿ä»£å—ï¼Ÿçˆ±äº†çˆ±äº†ï¼‰ã€‚</p><p>è€ƒè™‘F_nä¸ºç¬¬nä¸ªçŸ©é˜µï¼Œé‚£å°±éœ€è¦æ„é€ æ–°çš„â€œé€’æ¨çŸ©é˜µâ€ã€‚</p><p>å› ä¸ºé€’æ¨ä¸­æœ‰ä¸ª$f_n$ä¸­$n^3$ï¼Œæ‰€ä»¥$f_{n-1}$ä¸­éœ€è¦æœ‰$(n-1)^3$ï¼Œç»“åˆäºŒé¡¹å¼å®šç†å¯å¾—ï¼š</p><p>$$n^3&#x3D;[(n-1)+1]^3&#x3D;C_{3}^0(n-1)^3+C_3^1(n-1)^2+C_{3}^2(n-1)^1+C_3^3(n-1)^0$$</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/10/ditui1.jpg"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/10/ditui2.jpg"></p><p>æ‰€ä»¥è¯´çº¿æ€§é€’æ¨å¯ä»¥ç”¨çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ–ã€‚</p><p>ä½†æ˜¯ï¼æœ€è¿‘è¢«modå‘æ­»äº†ï¼Œå¦‚æœåœ¨çŸ©é˜µä¹˜æ³•ä¸­æ¯æ¬¡éƒ½ç”¨modï¼Œå¤§æ¦‚æœ€é«˜ä¼šæœ‰4ç§’ï¼Œä½†æ˜¯å…ˆåˆ¤æ–­åœ¨modçš„è¯åªæœ‰ä¸¤ç§’ï¼Œè¶³è¶³å·®äº†2ç§’ï¼ï¼ï¼æ¨¡è¿ç®—æ˜¯çœŸçš„å¤ªæ…¢äº†ã€‚ã€‚ã€‚</p><h2 id="Code-ï¼ˆ967MSï¼‰"><a href="#Code-ï¼ˆ967MSï¼‰" class="headerlink" title="Code ï¼ˆ967MSï¼‰"></a>Code ï¼ˆ967MSï¼‰</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mm (l + r) / 2</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line">ll mod = <span class="number">123456789</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> Martix&#123;</span><br><span class="line">    ll m[<span class="number">6</span>][<span class="number">6</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Martix ans;</span><br><span class="line"></span><br><span class="line">Martix E;</span><br><span class="line"></span><br><span class="line">Martix <span class="keyword">operator</span> * (Martix a, Martix b) &#123;</span><br><span class="line">    Martix c;</span><br><span class="line">    mem(c.m, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; <span class="number">6</span>; k++) &#123;</span><br><span class="line">                c.m[i][j] = (c.m[i][j] + a.m[i][k] * b.m[k][j]);</span><br><span class="line">                <span class="keyword">if</span>(c.m[i][j] &gt; mod)</span><br><span class="line">                    c.m[i][j] %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Martix <span class="title">quick_pow_Martix</span>(<span class="params">ll n</span>)</span> &#123;</span><br><span class="line">    Martix <span class="keyword">base</span> = E;</span><br><span class="line">    mem(ans.m, <span class="number">0</span>);</span><br><span class="line">    ans.m[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">    ans.m[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    ans.m[<span class="number">2</span>][<span class="number">0</span>] = <span class="number">8</span>;</span><br><span class="line">    ans.m[<span class="number">3</span>][<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line">    ans.m[<span class="number">4</span>][<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">    ans.m[<span class="number">5</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n &amp; <span class="number">1</span>)</span><br><span class="line">            ans = <span class="keyword">base</span> * ans;</span><br><span class="line">        <span class="keyword">base</span> = <span class="keyword">base</span> * <span class="keyword">base</span>;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    E.m[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>; E.m[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">2</span>; E.m[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">1</span>; E.m[<span class="number">0</span>][<span class="number">3</span>] = <span class="number">3</span>; E.m[<span class="number">0</span>][<span class="number">4</span>] = <span class="number">3</span>; E.m[<span class="number">0</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">    E.m[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    E.m[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">1</span>; E.m[<span class="number">2</span>][<span class="number">3</span>] = <span class="number">3</span>; E.m[<span class="number">2</span>][<span class="number">4</span>] = <span class="number">3</span>; E.m[<span class="number">2</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">    E.m[<span class="number">3</span>][<span class="number">3</span>] = <span class="number">1</span>; E.m[<span class="number">3</span>][<span class="number">4</span>] = <span class="number">2</span>; E.m[<span class="number">3</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">    E.m[<span class="number">4</span>][<span class="number">4</span>] = <span class="number">1</span>; E.m[<span class="number">4</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">    E.m[<span class="number">5</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    scanf(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        ll n;</span><br><span class="line">        scanf(<span class="string">&quot;%lld&quot;</span>,&amp;n);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ans = quick_pow_Martix(n - 2);</span></span><br><span class="line">        printf(<span class="string">&quot;%lld\n&quot;</span>,quick_pow_Martix(n - <span class="number">2</span>).m[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/30/hdu-6470/">https://blog.jujimeizuo.cn/2020/10/30/hdu-6470/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCÂ·å°ç±³ ç½‘ç»œé€‰æ‹”èµ›ç¬¬ä¸€åœº J-Matrix Subtraction</title>
      <link href="/2020/10/25/2020-icpc-xiaomi/"/>
      <url>/2020/10/25/2020-icpc-xiaomi/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/7501/J">https://ac.nowcoder.com/acm/contest/7501/J</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ª$n\times m$çš„çŸ©é˜µå’Œä¸€ä¸ª$a\times b$çš„å•ä½çŸ©é˜µï¼Œç„¶ååœ¨$n \times m$çš„çŸ©é˜µä¸­ä»»å–$a\times b$çš„å­çŸ©é˜µï¼Œä½¿å…¶æ¯ä¸€ä½éƒ½å‡1ï¼Œé—®èƒ½å¦ä½¿åŸå§‹çŸ©é˜µå˜ä¸º0ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ç”¨äºŒç»´å·®åˆ†æ¥å¤„ç†åŸå§‹çŸ©é˜µï¼Œç„¶åè®¾æŸä¸€ä½ä¸º(x1ï¼Œy1)ï¼Œåˆ™åªéœ€è¦å¯¹$a\times b$å­çŸ©é˜µè¿›è¡Œæ›´æ–°ï¼Œå³(x1ï¼Œy1)å’Œ(x2ï¼Œy2)ã€‚</p><p>æ¯æ¬¡å¤„ç†çš„æ—¶å€™éƒ½éœ€è¦åˆ¤æ–­å·®åˆ†çŸ©é˜µå½“å‰è¿™ä¸€ä½æ˜¯å¦éè´Ÿï¼Œå› ä¸ºåªèƒ½è¿›è¡ŒçŸ©é˜µå‡æ³•ã€‚</p><p>äºŒç»´å·®åˆ†å¤„ç†åŸå§‹çŸ©é˜µï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">               cin &gt;&gt; mp[i][j];</span><br><span class="line">               p[i][j] = mp[i][j] - mp[i - <span class="number">1</span>][j] - mp[i][j - <span class="number">1</span>] + mp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p>å·®åˆ†æ›´æ–°æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span>(<span class="params"><span class="built_in">int</span> x1, <span class="built_in">int</span> y1, <span class="built_in">int</span> x2, <span class="built_in">int</span> y2, ll k</span>)</span> &#123;</span><br><span class="line">    p[x1][y1] += k;</span><br><span class="line">    p[x1][y2 + <span class="number">1</span>] -= k;</span><br><span class="line">    p[x2 + <span class="number">1</span>][y1] -= k;</span><br><span class="line">    p[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bool</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n - a + <span class="number">1</span> &amp;&amp; flag; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= m - b + <span class="number">1</span> &amp;&amp; flag; j++) &#123;</span><br><span class="line">        <span class="built_in">int</span> i1 = i + a - <span class="number">1</span>, j1 = j + b - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(p[i][j] &gt; <span class="number">0</span>)</span><br><span class="line">                update(i, j, i1, j1, -p[i][j]);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(p[i][j] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                   flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»å¤æ‚åº¦ä¸º$O(mn)$</p><h2 id="Codeï¼ˆ97MSï¼‰"><a href="#Codeï¼ˆ97MSï¼‰" class="headerlink" title="Codeï¼ˆ97MSï¼‰"></a>Codeï¼ˆ97MSï¼‰</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1005</span>;</span><br><span class="line"></span><br><span class="line">ll mp[N][N];</span><br><span class="line">ll p[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span>(<span class="params"><span class="built_in">int</span> x1, <span class="built_in">int</span> y1, <span class="built_in">int</span> x2, <span class="built_in">int</span> y2, ll k</span>)</span> &#123;</span><br><span class="line">    p[x1][y1] += k;</span><br><span class="line">    p[x1][y2 + <span class="number">1</span>] -= k;</span><br><span class="line">    p[x2 + <span class="number">1</span>][y1] -= k;</span><br><span class="line">    p[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">   <span class="built_in">int</span> T;</span><br><span class="line">   cin &gt;&gt; T;</span><br><span class="line">   <span class="keyword">while</span>(T--) &#123;</span><br><span class="line"></span><br><span class="line">       <span class="built_in">int</span> n, m, a, b;</span><br><span class="line">       cin &gt;&gt; n &gt;&gt; m &gt;&gt; a &gt;&gt; b;</span><br><span class="line">       <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= m; j++) &#123;</span><br><span class="line">               cin &gt;&gt; mp[i][j];</span><br><span class="line">               p[i][j] = mp[i][j] - mp[i - <span class="number">1</span>][j] - mp[i][j - <span class="number">1</span>] + mp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="built_in">bool</span> flag = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n - a + <span class="number">1</span> &amp;&amp; flag; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= m - b + <span class="number">1</span> &amp;&amp; flag; j++) &#123;</span><br><span class="line">               <span class="built_in">int</span> i1 = i + a - <span class="number">1</span>, j1 = j + b - <span class="number">1</span>;</span><br><span class="line">               <span class="keyword">if</span>(p[i][j] &gt; <span class="number">0</span>)</span><br><span class="line">                   update(i, j, i1, j1, -p[i][j]);</span><br><span class="line">               <span class="keyword">else</span> <span class="keyword">if</span>(p[i][j] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                   flag = <span class="number">0</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span>(<span class="built_in">int</span> i = n - a;i &lt;= n &amp;&amp; flag; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="built_in">int</span> j = m - b;j &lt;= m &amp;&amp; flag; j++) &#123;</span><br><span class="line">               p[i][j] += p[i - <span class="number">1</span>][j] + p[i][j - <span class="number">1</span>] - p[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">               <span class="keyword">if</span>(p[i][j]) &#123;</span><br><span class="line">                   flag = <span class="number">0</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>(flag)</span><br><span class="line">           cout &lt;&lt; <span class="string">&quot;^_^&quot;</span> &lt;&lt; endl;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">           cout &lt;&lt; <span class="string">&quot;QAQ&quot;</span> &lt;&lt; endl;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/25/2020-icpc-xiaomi/">https://blog.jujimeizuo.cn/2020/10/25/2020-icpc-xiaomi/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCÂ·å°ç±³ ç½‘ç»œé€‰æ‹”èµ›çƒ­èº«èµ›K-Random Point in Triangle</title>
      <link href="/2020/10/24/2020-icpc-xiaomi-k/"/>
      <url>/2020/10/24/2020-icpc-xiaomi-k/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¼ é€é—¨ï¼šhttps-ac-nowcoder-com-acm-contest-8409-K"><a href="#ä¼ é€é—¨ï¼šhttps-ac-nowcoder-com-acm-contest-8409-K" class="headerlink" title="ä¼ é€é—¨ï¼šhttps://ac.nowcoder.com/acm/contest/8409/K"></a>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/8409/K">https://ac.nowcoder.com/acm/contest/8409/K</a></h2><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™3ä¸ªç‚¹$(x1,y1),(x2,y2),(x3,y3)$ï¼Œåœ¨ä¸‰è§’å½¢å†…éƒ¨ä¸­å–ä¸€ç‚¹pï¼Œè®¾$E&#x3D;max(S_{PAB},S_{PAC},S_{PBC})$,æ±‚Eçš„æ¦‚ç‡æœŸæœ›ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¯¹äºä»»ä½•ä¸‰è§’å½¢ï¼Œå…ˆçœ‹çœ‹ç‰¹æ®Šçš„ç­‰è¾¹ä¸‰è§’å½¢ã€‚ç„¶ååœ¨æ¨å¹¿åˆ°ä»»æ„ä¸‰è§’å½¢ï¼ˆACMéœ€è¦çŒœï¼ï¼‰</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/10/20201024161618250.png"></p><p>Oç‚¹ä¸ºä¸‰è§’å½¢ABCçš„å†…å¿ƒã€‚æ‰€ä»¥å¯¹äºpçš„ä½ç½®çš„é€‰å–ï¼Œåªéœ€è¦åœ¨ä¸‰è§’å½¢çš„ä¸€åŠï¼Œç„¶åä¸€åŠå³å¯ã€‚å³åœ¨ä¸‰è§’å½¢OSBä¸­é€‰å–ã€‚</p><p>$ç„¶åæ„é€ ä¸‹å›¾ä¸ºï¼š$</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/10/20201024161825683.png"></p><p>è®¾è¯¥ç­‰è¾¹ä¸‰è§’å½¢çš„è¾¹é•¿ä¸º2aï¼ŒONä¸ºyï¼ŒNPä¸ºxï¼Œåˆ™æ ¹æ®ç›¸ä¼¼å¯å¾—ï¼š</p><p>$PH&#x3D;\frac{2}{3}a+x+\frac{\sqrt 3}{3}y$ $PG&#x3D;\frac{\sqrt 3}{2}PH&#x3D;\frac{\sqrt3}{3}a+\frac{\sqrt 3}{2}x+\frac{1}{2}y$</p><p>$åˆ™E&#x3D;S_{PAC}&#x3D;\frac{1}{2}*AH*PG&#x3D;\frac{\sqrt3}{3}a^2+\frac{\sqrt 3}{2}ax+\frac{1}{2}ay$</p><p>æ ¹æ®ä¸Šå›¾ï¼ŒPç‚¹çš„yå¯åœ¨$[0ï¼Œ\frac{\sqrt a}{3}a]$ä¸­é€‰å–ï¼Œæ‰€ä»¥xå¯ä»¥åœ¨$[0ï¼Œ\sqrt 3y]$ä¸­é€‰å–ã€‚</p><p>å¯¹é¢ç§¯ç§¯åˆ†å¦‚ä¸‹ï¼š</p><p>$$\int_{0}^{\frac{\sqrt a}{3}}dy\int_{0}^{\sqrt 3y}(\frac{\sqrt3}{3}a^2+\frac{\sqrt 3}{2}ax+\frac{1}{2}ay)dx&#x3D;\frac{11}{36}a^4$$</p><p>è€ŒPç‚¹åœ¨è¯¥åŒºåŸŸçš„é€‰å–é¢ç§¯ä¸º$\frac{\sqrt 3}{6}a^2$ï¼ŒæœŸæœ›ä¸º$\frac{11}{18}\sqrt 3 a^2$ï¼Œè€Œç­‰è¾¹ä¸‰è§’å½¢çš„é¢ç§¯ä¸º$\sqrt 3a^2$ å³æœŸæœ›ä¸º$\frac{11}{18}S_{ABC}$ï¼Œåœ¨ä¹˜ä»¥36å¾—$22S_{ABC}$ã€‚</p><p>æŠŠç­‰è¾¹ä¸‰è§’å½¢æ¨å¹¿åˆ°ä»»æ„ä¸‰è§’å½¢ï¼Œè™½ç„¶æˆ‘ä¸ä¼šè¯æ˜ï¼Œå¤§èƒ†çŒœæµ‹æ€»æ²¡é”™ï¼</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"> <span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll x1, x2, x3, y1, y2, y3;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3) &#123;</span><br><span class="line">        cout &lt;&lt;  <span class="built_in">abs</span>(x1 * y2 - x2 * y1 + x3 * y1 - x1 * y3 + x2 * y3 - x3 * y2) * <span class="number">11</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/24/2020-icpc-xiaomi-k/">https://blog.jujimeizuo.cn/2020/10/24/2020-icpc-xiaomi-k/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ICPCÂ·å°ç±³ ç½‘ç»œé€‰æ‹”èµ›çƒ­èº«èµ› I-Integration</title>
      <link href="/2020/10/24/2020-icpc-xiaomi-i/"/>
      <url>/2020/10/24/2020-icpc-xiaomi-i/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/8409/I">https://ac.nowcoder.com/acm/contest/8409/I</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\int_{0}^{+\infty }\frac{1}{\prod_{i&#x3D;1}^n(a_i^2+x^2)}dx$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æƒ³è¦ç”¨åˆ†éƒ¨ç§¯åˆ†æ±‚è¯¥å®šç§¯åˆ†æ˜¯éå¸¸éå¸¸å›°éš¾çš„ï¼Œè€Œé¢˜ç›®ç»™å‡ºäº†$\int_{0}^{+\infty}\frac{1}{1+x^2}dx&#x3D;\frac{\pi}{2}$ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æƒ³åŠæ³•æŠŠè¿™ä¸ªè¿ä¹˜å˜æˆè¿åŠ ï¼Œè¿™æ ·å°±å¥½æ±‚äº†ã€‚</p><p>å½“n&#x3D;1æ—¶ï¼š</p><p>$$\int_{0}^{+\infty}\frac{1}{a^2+x^2}dx&#x3D;\frac{1}{a^2}arctan(\frac{x}{a})_0^{+\infty}&#x3D;\frac{\pi}{2a}$$</p><p>å½“n&#x3D;2æ—¶ï¼š</p><p>åªçœ‹è®©å¼å­åˆ†è§£çš„éƒ¨åˆ†ï¼š</p><p>$$\frac{1}{a^2+x^2}\frac{1}{b^2+x^2}&#x3D;\frac{\alpha}{a^2+x^2}+\frac{\beta }{b^2+x^2}&#x3D;\frac{\alpha b^2+\beta a^2 + x^2(\alpha + \beta)}{(a^2+x^2)(b^2+x^2)}$$</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/10/matrix1.jpg"></p><p>è½¬åŒ–ä¸ºï¼š</p><p>$$\int_{0}^{+\infty }(\frac{1}{b^2-a^2})(\frac{1}{a^2+x^2})+(\frac{1}{a^2-b^2})(\frac{1}{b^2+x^2})dx&#x3D;\frac{1}{b^2-a^2}*\frac{1}{2a}+\frac{1}{a^2-b^2}*\frac{1}{2b}$$</p><p>å½“n&#x3D;3æ—¶ï¼š</p><p>$$\frac{1}{a^2+x^2}\frac{1}{b^2+x^2}\frac{1}{c^2+x^2}&#x3D;\frac{\alpha}{a^2+x^2}+\frac{\beta}{b^2+x^2}+\frac{\gamma}{c^2+x^2}$$ $$&#x3D;\frac{\alpha b^2c^2+\beta a^2c^2+\gamma a^2b^2+x^2(\alpha (b^2+c^2)+\beta (a^2+c^2)+\gamma (a^2+b^2))+x^4(\alpha+\beta+\gamma)}{(a^2+x^2)(b^2+x^2)(c^2+x^2)}$$</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/10/matrix2.jpg"></p><p>$$\int_{0}^{+\infty }\frac{1}{(a^2+x^2)(b^2+x^2)(c^2+x^2)}dx$$ $$&#x3D;\frac{1}{(b^2-a^2)(c^2-a^2)} \frac{1}{2a}+\frac{1}{(a^2-b^2)(c^2-b^2)}\frac{1}{2b}+ \frac{1}{(a^2-c^2)(b^2-c^2)}\frac{1}{2c}$$</p><p>æ ¹æ®ä¸Šé¢çš„åˆ—ä¸¾ï¼Œå¤§å¤§æ¨æ–­å‡ºè¯¥å¼å­çš„è§„å¾‹ï¼Œå³å¯¹äº</p><p>$$\int_{0}^{+\infty }\frac{1}{\prod_{i&#x3D;1}^n(a_i^2+x^2)}dx$$</p><p>$$ans&#x3D;\sum_{i&#x3D;1}^n\frac{1}{2a_i}\left (\prod_{j&#x3D;1\;j\neq i}^n\frac{1}{a_j^2-a_i^2} \right )$$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"> <span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">105</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">double</span> <span class="title">dis</span>(<span class="params"><span class="built_in">double</span> x1, <span class="built_in">double</span> y1, <span class="built_in">double</span> x2, <span class="built_in">double</span> y2</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; n) &#123;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        ll a[<span class="number">30005</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; a[i];</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            ll t = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                t = t * (((a[j] * a[j] % mod - a[i] * a[i] % mod) % mod + mod) % mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            t = t * <span class="number">2</span> % mod * a[i] % mod;</span><br><span class="line">            ans = (ans + quick_pow(t, mod - <span class="number">2</span>)) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans % mod &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/24/2020-icpc-xiaomi-i/">https://blog.jujimeizuo.cn/2020/10/24/2020-icpc-xiaomi-i/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 6467 ç®€å•æ•°å­¦é¢˜ å¹¿ä¸œå·¥ä¸šå¤§å­¦ç¬¬åå››å±Šç¨‹åºè®¾è®¡ç«èµ›</title>
      <link href="/2020/10/15/hdu-6467/"/>
      <url>/2020/10/15/hdu-6467/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6467">http://acm.hdu.edu.cn/showproblem.php?pid=6467</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚F(n)&#x3D;\sum_{i&#x3D;1}^n(i*\sum_{j&#x3D;i}^nC_j^i)\;\;mod \;\;(1e9+7)$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å…ˆå°†F(n)å±•å¼€ï¼š $$F(n)&#x3D;1*\sum_{j&#x3D;1}^nC_j^1+2*\sum_{j&#x3D;2}^nC_j^2+â€¦+(n-1)\sum_{j&#x3D;n-1}^nC_j^{n-1}+n\sum_{j&#x3D;n}^nC_j^n$$ å°†F(n-1)å±•å¼€ï¼š $$F(n)&#x3D;1*\sum_{j&#x3D;1}^{n-1}C_j^1+2*\sum_{j&#x3D;2}^{n-1}C_j^2+â€¦+(n-1)\sum_{j&#x3D;n-1}^{n-1}C_j^{n-1}$$</p><p>ä¸Šå¼å‡ä¸‹å¼å¾—ï¼š</p><p>$F(n)-F(n-1)&#x3D;$ $$C_n^1+2*C_n^2+â€¦+(n-1)C_{n}^{n-1}+nC_{n}^n$$</p><p>$$n*C_{n-1}^0+n*C_{n-1}^1+â€¦+n*C_{n-1}^{n-1}$$</p><p>è¿™é‡Œå¯èƒ½æœ‰ç‚¹çœ‹ä¸æ¸…æ¥šï¼Œæ¯”å¦‚$rC_n^r&#x3D;r*\frac{n!}{r!*(n-r)!}$ï¼Œæ‹¿å‡ºä¸€ä¸ªnï¼Œæ¶ˆå»ä¸€ä¸ªrå¾—$n*\frac{(n-1)!}{(r-1)!(n-r)!}&#x3D;n*C_{n-1}^{r-1}$ã€‚</p><p>ç”±äºŒé¡¹å¼å®šç†å¾—ï¼š</p><p>$$F(n)-F(n-1)&#x3D;n*2^{n-1}$$</p><p>å³å¾—åˆ°å¦‚ä¸‹å¼å­ï¼š</p><p>$$ F(n) &#x3D; 1 \; (n &#x3D; 1) \; \; \; F(n) &#x3D; F(n - 1) + n * 2^{n-1} \; (n &gt; 1) $$</p><p>ä¸Šå¼æ˜æ˜¾æ˜¯ä¸€ä¸ªé€’æ¨å…¬å¼ï¼Œæ‰€ä»¥F(n)æ˜¯ä¸€ä¸ªå·®æ¯”æ•°åˆ—çš„å‰né¡¹å’Œï¼Œé”™ä½ç›¸å‡æ³•å³å¯ã€‚</p><p>æœ‰ä¸€ä¸ªå·®æ¯”æ•°åˆ—çš„å…¬å¼ï¼Œé«˜ä¸­è¿˜è®°å¾—ï¼Œç°åœ¨å°±ä¸è®°å¾—ã€‚ã€‚ã€‚</p><p>å¯¹äºæ•°åˆ—$(An+B)q^{n-1}ï¼Œ(1-q)S_n&#x3D;(A+B)+(\frac{A}{1-q})q-(An+B+\frac{A}{1-q})q^n$ã€‚</p><p>æœ€åå¾—å‡ºF(n)&#x3D;(n-1)*2^{n}+1ï¼Œå¿«é€Ÿå¹‚å¤„ç†ä¸€ä¸‹å³å¯ã€‚</p><h2 id="Codeï¼ˆ405MSï¼‰"><a href="#Codeï¼ˆ405MSï¼‰" class="headerlink" title="Codeï¼ˆ405MSï¼‰"></a>Codeï¼ˆ405MSï¼‰</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">##include &lt;bits/stdc++.h&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">const <span class="type">ll</span> <span class="variable">mod</span> <span class="operator">=</span> <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll <span class="title function_">quick_pow</span><span class="params">(ll a, ll b)</span> &#123;</span><br><span class="line">    <span class="type">ll</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) &#123;</span><br><span class="line">            ans = ans * a % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    ll n;</span><br><span class="line">    <span class="keyword">while</span>(scanf(<span class="string">&quot;%lld&quot;</span>,&amp;n) != EOF) &#123;</span><br><span class="line">        printf(<span class="string">&quot;%lld\n&quot;</span>,(<span class="number">1</span> + (n - <span class="number">1</span>) % mod * quick_pow(<span class="number">2</span>, n) % mod + mod) % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/15/hdu-6467/">https://blog.jujimeizuo.cn/2020/10/15/hdu-6467/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 4609 3-idiots</title>
      <link href="/2020/10/09/hdu-4609/"/>
      <url>/2020/10/09/hdu-4609/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4609">http://acm.hdu.edu.cn/showproblem.php?pid=4609</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™næ¡è¾¹ï¼Œé—®ä»»å–ä¸‰æ¡è¾¹æ˜¯å¦èƒ½æ„æˆä¸‰è§’å½¢çš„æ¦‚ç‡ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆæŠŠé¢˜æ„è½¬åŒ–ä¸€ä¸‹ï¼Œå³æ‰¾ä¸‹åˆ—å¼å­çš„ä¸ªæ•°ï¼š $$\frac{\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\sum_{k&#x3D;1}^na_i+a_j&gt;a_k}{C_n^3}\;\;(i\ne j\ne kä¸”a_iå’Œa_jæ˜¯è¾ƒå°çš„ä¸¤æ¡è¾¹)$$</p><p>çœ‹åˆ°ä¸‰è§’å½¢ï¼Œé¦–å…ˆæƒ³åˆ°å°±æ˜¯æŠŠæ‰€æœ‰çš„$a_i+a_j$çš„ä¸ªæ•°å­˜åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œç„¶åå†é€ä¸€åˆ¤æ–­æ¯ä¸€ä¸ªa_kæ˜¯å¦ç¬¦åˆã€‚</p><p>ä½†æ˜¯ï¼ŒO(n^2)çš„å¤æ‚åº¦æ˜¯ä¼šTçš„ï¼Œä½†æ˜¯O(nlogn)çš„å¤æ‚åº¦ä¸ä¼šTï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°FFTçš„çŸ¥è¯†äº†ã€‚</p><p>FFTæ˜¯ä¸¤ä¸ªå¤šé¡¹å¼ç›¸ä¹˜ï¼Œä½†æ˜¯ä¸Šé¢æ˜¯è¦è®©æˆ‘ä»¬ä¸¤ä¸ªç›¸åŠ ï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä»¬è®©a_iä¸ºxçš„æŒ‡æ•°ï¼Œa_iå‡ºç°çš„æ¬¡æ•°ä¸ºè¯¥xçš„ç³»æ•°ï¼Œç”¨ä¸€ä¸ªcntæ•°ç»„ä¿å­˜ï¼Œå³ï¼š</p><p>$$A(x)&#x3D;cnt[a[0]]x^{a[0]}+cnt[a[1]]x^{a[1]}+â€¦+cnt[a[n - 1]]x^{a[n-1]}$$</p><p>æ‰€ä»¥æˆ‘ä»¬è®©$A(x)\times A(x)$ï¼Œå°±å¯ä»¥å¾—åˆ°ä»»æ„ä¸¤æ¡è¾¹ä¹‹å’Œï¼Œå¹¶ä¸”å¾—åˆ°è¯¥å’Œçš„ä¸ªæ•°ï¼Œå¹¶å­˜åœ¨numæ•°ç»„é‡Œã€‚å½“ç„¶ï¼Œè¿™é‡Œä¼šå‡ºç°å¾ˆå¤šé—®é¢˜ã€‚</p><p>$1ã€i\ne jï¼Œæ‰€ä»¥è¦è®©a_i+a_içš„ä¸ªæ•°å‡1,å³num[a[i]+a[i]]â€“;$ $2ã€å…ˆå–a_1åå–a_3å’Œå…ˆå–a_3åå–a_1æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©æ¯ä¸€ä¸ªå’Œéƒ½è¦é™¤2ï¼Œå³num[i]&#x2F;&#x3D;2;$</p><p>ç„¶åæˆ‘ä»¬ç”¨ä¸€ä¸ªsumæ•°ç»„å­˜ä¸‹numæ•°ç»„çš„å‰ç¼€å’Œï¼Œç„¶åéå†æ¯æ¡è¾¹ï¼Œå–ä¸¤æ¡è¾¹ä¹‹å’Œæ¯”è¯¥æ¡è¾¹å¤§çš„ä¸ªæ•°ï¼Œå³$ans+&#x3D;sum[a[n - 1]*2]-sum[a[i]]$ï¼Œå‰é¢çš„$a[n-1]*2$æ˜¯å‰ç¼€å’Œæœ€å¤§çš„åœ°æ–¹ã€‚</p><p>ä½†æ˜¯ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šé—®é¢˜ï¼ï¼ï¼åœ¨åˆšå¼€å§‹çš„æ—¶å€™è¯´è¿‡ï¼Œä¸¤æ¡è¾¹ä¹‹å’Œå¿…é¡»æ˜¯ä¸¤æ¡è¾ƒå°çš„è¾¹ï¼Œæ‰€ä»¥è¿˜è¦å¤„ç†ä¸‹é¢å‡ ç§æƒ…å†µï¼š</p><p>1ã€ä¸¤æ¡è¾¹éƒ½å¤§äºa[i]ï¼Œå³$ans-&#x3D;(n-i-1)*(n-i-1)&#x2F;2;$ 2ã€ä¸€æ¡è¾¹å¤§äºa[i]ï¼Œä¸€æ¡è¾¹å°äºa[i]ï¼Œå³$ans-&#x3D;(n-i-1)*i;$ 3ã€ä¸¤æ¡è¾¹ä¸­æœ‰ä¸€æ¡è¾¹ç­‰äºa[i],å³$ans-&#x3D;(n-1);$</p><p>æœ€åçš„anså°±æ˜¯æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰ä¸ªæ•°ï¼Œç„¶åè®¡ç®—$C_n^3$ï¼Œæœ€åç®—æ¦‚ç‡ï¼Œä¿ç•™7ä½å°æ•°ã€‚</p><p>ä½†æ˜¯ï¼Œåšä¸»tsbäº†ï¼ï¼ï¼æ˜çŸ¥é“næœ‰1e5ï¼Œç„¶åè®¡ç®—$C_n^3$ä¼šçˆ†intï¼Œæ‰€ä»¥æˆ‘è¿˜ç”¨ä¸€ä¸ªlonglongçš„å˜é‡ä¿å­˜ä¸‹æ¥ï¼Œå³t&#x3D;n*(n-1)*(n-2)&#x2F;6ï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€ç‚¹é—®é¢˜ï¼Œé‚£å°±æ˜¯è¦åœ¨nä¹‹å‰åŠ ä¸€ä¸ª(longlong)å¼ºåˆ¶è½¬æ¢ä¸€ä¸‹ï¼Œæˆ‘ä¸è¿‡åœ¨è¿™ä¸ªåœ°æ–¹é”™äº†10å¤šå‘å§ã€‚ã€‚ã€‚</p><h2 id="Codeï¼ˆ826MSï¼‰"><a href="#Codeï¼ˆ826MSï¼‰" class="headerlink" title="Codeï¼ˆ826MSï¼‰"></a>Codeï¼ˆ826MSï¼‰</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">double</span> PI = acos(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">4e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> Complex &#123;</span><br><span class="line">    <span class="built_in">double</span> r, i;</span><br><span class="line">    Complex() &#123;r == <span class="number">0</span>; i = <span class="number">0</span>;&#125;;</span><br><span class="line">    Complex(<span class="built_in">double</span> real, <span class="built_in">double</span> imag) : r(real), i(imag) &#123;&#125;;</span><br><span class="line">&#125;A[N], B[N];</span><br><span class="line"></span><br><span class="line">Complex <span class="keyword">operator</span> + (Complex a, Complex b) &#123;</span><br><span class="line">    <span class="keyword">return</span> Complex(a.r + b.r, a.i + b.i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex <span class="keyword">operator</span> - (Complex a, Complex b) &#123;</span><br><span class="line">    <span class="keyword">return</span> Complex(a.r - b.r, a.i - b.i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex <span class="keyword">operator</span> * (Complex a, Complex b) &#123;</span><br><span class="line">    <span class="keyword">return</span> Complex(a.r * b.r - a.i * b.i, a.r * b.i + a.i * b.r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> rev[N], len, lim = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">FFT</span>(<span class="params">Complex *a, <span class="built_in">int</span> opt</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; lim; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; rev[i])</span><br><span class="line">            swap(a[i], a[rev[i]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> dep = <span class="number">1</span>;dep &lt;= log2(lim); dep++) &#123;</span><br><span class="line">        <span class="built_in">int</span> m = <span class="number">1</span> &lt;&lt; dep;</span><br><span class="line">        Complex wn = Complex(cos(<span class="number">2.0</span> * PI / m), opt * sin(<span class="number">2.0</span> * PI / m));</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> k = <span class="number">0</span>;k &lt; lim; k += m) &#123;</span><br><span class="line">            Complex w = Complex(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">0</span>;j &lt; m / <span class="number">2</span>; j++) &#123;</span><br><span class="line">                Complex t = w * a[k + j + m / <span class="number">2</span>];</span><br><span class="line">                Complex u = a[k + j];</span><br><span class="line">                a[k + j] = u + t;</span><br><span class="line">                a[k + j + m / <span class="number">2</span>] = u - t;</span><br><span class="line">                w = w * wn;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(opt == <span class="number">-1</span>) &#123; <span class="comment">// é€†å˜æ¢</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; lim; i++) a[i].r /= lim;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">getBit</span>(<span class="params"><span class="built_in">int</span> n</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(lim &lt; (n &lt;&lt; <span class="number">1</span>)) &#123;</span><br><span class="line">        lim &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; lim; i++) rev[i] = (rev[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  ((i &amp; <span class="number">1</span>) &lt;&lt; (len - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll a[N], cnt[N];</span><br><span class="line">ll sum[N], num[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    scanf(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        mem(rev, <span class="number">0</span>);</span><br><span class="line">        mem(A, <span class="number">0</span>);</span><br><span class="line">        mem(num, <span class="number">0</span>);</span><br><span class="line">        mem(cnt, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">int</span> n;</span><br><span class="line">        len = <span class="number">0</span>, lim = <span class="number">1</span>;</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123;</span><br><span class="line">            scanf(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]); <span class="comment">// æŠŠa[i]çœ‹æˆxçš„æŒ‡æ•°ï¼Œä½¿ä¹˜æ³•å˜åŠ æ³•</span></span><br><span class="line">            cnt[a[i]]++; <span class="comment">// æŠŠa[i]çœ‹æˆæ¯ä¸ªx^&#123;a_i&#125;çš„ç³»æ•°ï¼Œç„¶åå†FFT</span></span><br><span class="line">        &#125;</span><br><span class="line">        sort(a, a + n);</span><br><span class="line">        getBit(a[n - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">int</span> Max = a[n - <span class="number">1</span>] * <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= a[n - <span class="number">1</span>]; i++) &#123;</span><br><span class="line">            A[i].r = cnt[i];</span><br><span class="line">        &#125;</span><br><span class="line">        FFT(A, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; lim; i++) &#123;</span><br><span class="line">            A[i] = A[i] * A[i];</span><br><span class="line">        &#125;</span><br><span class="line">        FFT(A, <span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; lim; i++) &#123;</span><br><span class="line">            num[i] = A[i].r = (ll)(A[i].r + <span class="number">0.5</span>); <span class="comment">// FFTä¹‹åæ¯ä¸ªa_i+a_jçš„ç³»æ•°å­˜åœ¨numé‡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123;</span><br><span class="line">            num[a[i] + a[i]]--; <span class="comment">// æŠŠi=jçš„éƒ¨åˆ†å‡æ‰</span></span><br><span class="line">        &#125;</span><br><span class="line">        sum[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt;= Max; i++) &#123;</span><br><span class="line">            num[i] /= <span class="number">2</span>; <span class="comment">// é‡å¤å–ï¼Œé™¤2å³å¯</span></span><br><span class="line">            sum[i] = sum[i - <span class="number">1</span>] + num[i]; <span class="comment">// å–å‰ç¼€å’Œï¼Œæœ€ååˆ¤æ–­çš„æ—¶å€™æ–¹ä¾¿ä¸€ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123;</span><br><span class="line">            ans += sum[Max] - sum[a[i]]; <span class="comment">// ç»Ÿè®¡å¤§äºa[i]</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123; <span class="comment">// å¤„ç†ç¬¦åˆä¸¤è¾¹å¤§äºa_kä½†æ˜¯ä¸æ­£ç¡®çš„ä¸ªæ•°(å› ä¸ºåˆ¤æ–­æ˜¯å¦ä¸ºä¸‰è§’å½¢å¿…é¡»æ˜¯ä¸¤æ¡è¾ƒå°çš„è¾¹å¤§äºæœ€é•¿è¾¹)</span></span><br><span class="line">            ans -= ll(n - i - <span class="number">1</span>) * (n - i - <span class="number">2</span>) / <span class="number">2</span>; <span class="comment">// ä¸¤è¾¹éƒ½å¤§äºa[i]</span></span><br><span class="line">            ans -= ll(n - i - <span class="number">1</span>) * i; <span class="comment">// ä¸€è¾¹å¤§äºa[i]ï¼Œä¸€è¾¹å°äºa[i]</span></span><br><span class="line">            ans -= ll(n - <span class="number">1</span>); <span class="comment">// ä¸¤è¾¹è¾¹ä¸­æœ‰ä¸€æ¡è¾¹ç­‰äºa[i]</span></span><br><span class="line">        &#125;</span><br><span class="line">        ll t = <span class="number">1l</span>l * n * (n - <span class="number">1</span>) * (n - <span class="number">2</span>) / <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line">        printf(<span class="string">&quot;%.7lf\n&quot;</span>,(<span class="built_in">double</span>)ans / t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/09/hdu-4609/">https://blog.jujimeizuo.cn/2020/10/09/hdu-4609/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P3338 [ZJOI2014]åŠ›</title>
      <link href="/2020/10/08/luogu-p3338/"/>
      <url>/2020/10/08/luogu-p3338/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.luogu.com.cn/problem/P3338">https://www.luogu.com.cn/problem/P3338</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$F_j&#x3D;\sum_{i&#x3D;1}^{j-1}\frac{q_i\times q_j}{(i-j)^2}-\sum_{i&#x3D;j+1}^{n}\frac{q_i\times q_j}{(i-j)^2}$$</p><p>$$æ±‚è§£E_i&#x3D;\frac{F_i}{q_i}$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$é¦–å…ˆæ¥çœ‹çœ‹ä»€ä¹ˆæ˜¯å·ç§¯ï¼šC_k&#x3D;\sum_{i&#x3D;0}^kA_iB_{k-i}ï¼Œæ‰€ä»¥è¦æƒ³åŠæ³•å°†ä¸Šå¼è½¬åŒ–æˆå·ç§¯çš„å½¢å¼ï¼Œç„¶åFFTåŠ é€Ÿæ±‚è§£ã€‚$</p><p>$å·¦å³éƒ½åŠ ä¸Šä¸€ä¸ªi&#x3D;jçš„æƒ…å†µï¼ˆå¼å­æ€»ä½“ä¸å˜ï¼‰ã€‚$ $$E_j&#x3D;\frac{F_j}{q_j}&#x3D;\sum_{i&#x3D;1}^{j}\frac{q_i}{(i-j)^2}-\sum_{i&#x3D;j}^{n}\frac{q_i}{(i-j)^2}$$</p><p>$è®¾f[i]&#x3D;q_iï¼Œg[i]&#x3D;\frac{1}{i^2}å¾—ï¼ˆå¹¶ä¸”f[0]&#x3D;g[0]&#x3D;0ï¼‰ï¼š$</p><p>$$E_j&#x3D;\sum_{i&#x3D;0}^{j}f[i][j - i]-\sum_{i&#x3D;j}^{n}f[i]g[i-j]$$</p><p>$è¿™æ—¶å€™ï¼Œå·¦è¾¹ å·²ç»æ˜¯å·ç§¯çš„å½¢å¼äº†ï¼Œæ‰€ä»¥å°±åªè¦å°†å³è¾¹è½¬åŒ–ä¸€ä¸‹å³å¯ã€‚$</p><p>$å…ˆå°†å³è¾¹å±•å¼€å¾—ï¼š$</p><p>$\sum_{i&#x3D;j}^{n}f[i]g[i-j]&#x3D;f[j]g[0]+f[j+1][1]+â€¦+f[n]g[n-j]$ $\sum_{i&#x3D;j}^{n}f[i]g[i-j]&#x3D;\sum_{i&#x3D;0}^{n-j}f[i+j]g[i]$</p><p>$æ€ä¹ˆè½¬åŒ–æˆå·ç§¯å½¢å¼å‘¢ï¼Œåªéœ€è¦å°†fç¿»è½¬ä¸€ä¸‹å˜æˆfâ€™å³å¯ï¼Œå³fâ€™[i]&#x3D;f[n-i]ï¼Œå¹¶ä»¤t&#x3D;n-jï¼Œå¾—ä¸‹å¼ï¼š$</p><p>$$\sum_{i&#x3D;0}^{n-j}f[i+j]g[i]&#x3D;\sum_{i&#x3D;0}^tfâ€™[t-i]g[i]$$</p><p>$åˆå¹¶ä¸€ä¸‹ï¼Œå¾—ä¸‹å¼ï¼š$</p><p>$$E_j&#x3D;\sum_{i&#x3D;0}^{j}f[i][j - i]-\sum_{i&#x3D;0}^tfâ€™[t-i]g[i]$$</p><p>$ä»¤L(x)&#x3D;\sum_{i&#x3D;0}^nf(n)\times g(n)ï¼ŒR(x)&#x3D;\sum_{i&#x3D;0}^nfâ€™(n)\times g(n)$</p><p>$åˆ™E_i&#x3D;L(i)-R(n-i)$</p><p>$å…ˆé¢„å¤„ç†f,fâ€™,gï¼Œæœ€åç”¨FFTåŠ é€Ÿå·ç§¯å³å¯ã€‚$</p><h2 id="Codeï¼ˆ921msï¼‰"><a href="#Codeï¼ˆ921msï¼‰" class="headerlink" title="Codeï¼ˆ921msï¼‰"></a>Codeï¼ˆ921msï¼‰</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">3e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Complex</span> &#123;</span><br><span class="line">    <span class="type">double</span> r, i;</span><br><span class="line">    <span class="built_in">Complex</span>() &#123;r == <span class="number">0</span>; i = <span class="number">0</span>;&#125;;</span><br><span class="line">    <span class="built_in">Complex</span>(<span class="type">double</span> real, <span class="type">double</span> imag) : <span class="built_in">r</span>(real), <span class="built_in">i</span>(imag) &#123;&#125;;</span><br><span class="line">&#125;A[N], B[N], C[N];</span><br><span class="line"></span><br><span class="line">Complex <span class="keyword">operator</span> + (Complex a, Complex b) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Complex</span>(a.r + b.r, a.i + b.i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex <span class="keyword">operator</span> - (Complex a, Complex b) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Complex</span>(a.r - b.r, a.i - b.i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex <span class="keyword">operator</span> * (Complex a, Complex b) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Complex</span>(a.r * b.r - a.i * b.i, a.r * b.i + a.i * b.r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> rev[N], len, lim = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FFT</span><span class="params">(Complex *a, <span class="type">int</span> opt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; lim; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; rev[i])</span><br><span class="line">            <span class="built_in">swap</span>(a[i], a[rev[i]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> dep = <span class="number">1</span>;dep &lt;= <span class="built_in">log2</span>(lim); dep++) &#123;</span><br><span class="line">        <span class="type">int</span> m = <span class="number">1</span> &lt;&lt; dep;</span><br><span class="line">        Complex wn = <span class="built_in">Complex</span>(<span class="built_in">cos</span>(<span class="number">2.0</span> * PI / m), opt * <span class="built_in">sin</span>(<span class="number">2.0</span> * PI / m));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; lim; k += m) &#123;</span><br><span class="line">            Complex w = <span class="built_in">Complex</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m / <span class="number">2</span>; j++) &#123;</span><br><span class="line">                Complex t = w * a[k + j + m / <span class="number">2</span>];</span><br><span class="line">                Complex u = a[k + j];</span><br><span class="line">                a[k + j] = u + t;</span><br><span class="line">                a[k + j + m / <span class="number">2</span>] = u - t;</span><br><span class="line">                w = w * wn;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(opt == <span class="number">-1</span>) &#123; <span class="comment">// é€†å˜æ¢</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; lim; i++) a[i].r /= lim;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">while</span>(lim &lt;= (n &lt;&lt; <span class="number">1</span>)) &#123;</span><br><span class="line">        lim &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; lim; i++) rev[i] = (rev[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>)  ((i &amp; <span class="number">1</span>) &lt;&lt; (len - <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;A[i].r);</span><br><span class="line">        B[i].r = (<span class="type">double</span>)(<span class="number">1.0</span> / i / i);</span><br><span class="line">        C[n - i].r = A[i].r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FFT</span>(A, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FFT</span>(B, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FFT</span>(C, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= lim; i++) &#123;</span><br><span class="line">        A[i] = A[i] * B[i];</span><br><span class="line">        C[i] = C[i] * B[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FFT</span>(A, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">FFT</span>(C, <span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.3lf\n&quot;</span>,A[i].r - C[n - i].r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/08/luogu-p3338/">https://blog.jujimeizuo.cn/2020/10/08/luogu-p3338/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P4157 [SCOI2006]æ•´æ•°åˆ’åˆ†</title>
      <link href="/2020/10/08/luogu-p4157/"/>
      <url>/2020/10/08/luogu-p4157/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://www.luogu.com.cn/problem/P4157">https://www.luogu.com.cn/problem/P4157</a></p><p>å€Ÿé‰´å¤§ä½¬ï¼š<a href="https://blog.csdn.net/oampamp1/article/details/108919448">https://blog.csdn.net/oampamp1/article/details/108919448</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªæ•´æ•°Nï¼Œå°†ä»–æ‹†æˆè‹¥å¹²æ•´æ•°ï¼Œæ±‚ä»–ä»¬ä¹˜ç§¯æœ€å¤§å€¼ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$å…ˆå°†é¢˜ç›®è½¬åŒ–ä¸€ä¸‹ï¼š$</p><p>$$å·²çŸ¥\sum_{i&#x3D;1}^n x_i&#x3D;Nï¼Œæ±‚max{\prod_{i&#x3D;1}^n x_i}\;\;\;\;(nè¡¨ç¤ºx_iæœ‰å‡ é¡¹)$$</p><p>$é¦–å…ˆæ ¹æ®å‡å€¼ä¸ç­‰å¼ï¼ˆè°ƒå’Œ\leq å‡ ä½•\leq ç®—æœ¯ \leq å¹³æ–¹ï¼‰ï¼š$ $$\frac{n}{\sum_{i&#x3D;1}^n\frac{1}{x_i}}\leq \sqrt[n]{\prod_{i&#x3D;1}^nx_i}\leq \frac{\sum_{i&#x3D;1}^nx_i}{n}\leq \sqrt[n]\frac{\sum_{i&#x3D;1}^nx_i^2}{n}$$</p><p>$æ‰€ä»¥å¯ä»¥å¾—åˆ°ï¼š$ $$\frac{\sum_{i&#x3D;1}^nx_i}{n}\ge \sqrt[n]{\prod_{i&#x3D;1}^nx_i}$$</p><p>$$\left( \frac{\sum_{i&#x3D;1}^nx_i}{n} \right)^n\ge \prod_{i&#x3D;1}^nx_i$$</p><p>$è§‚å¯Ÿä¸Šå¼ï¼Œè¦ä½¿ä¹˜ç§¯æœ€å¤§ï¼Œé‚£éœ€è¦å°½é‡å–ç­‰å·ï¼Œæ‰€ä»¥x_iè¦å°½é‡å¹³å‡ï¼Œæ‰€ä»¥å¾—åˆ°ä¸‹å¼ï¼š$</p><p>$$\left( \frac{N}{n} \right)^n&#x3D; \prod_{i&#x3D;1}^nx_i$$</p><p>$ä»¤y&#x3D;(\frac{N}{n})^nï¼Œä¸¤è¾¹åŒæ—¶å–å¯¹æ•°å¾—ï¼š$</p><p>$$\ln y&#x3D;n\ln N-n\ln n$$</p><p>$ä¸¤è¾¹åŒæ—¶å¯¹næ±‚å¯¼å¾—ï¼š$</p><p>$$\frac{yâ€™}{y}&#x3D;\ln N-ln n - 1$$</p><p>$$å¾—yâ€™&#x3D;(\ln N-\ln n - 1)(\frac{N}{n})^n$$</p><p>$ä»¤yâ€™&#x3D;0ï¼Œå› ä¸º(\frac{N}{n})^n&gt;0ï¼Œæ‰€ä»¥\ln N-\ln n - 1&#x3D;0ï¼Œå³ï¼š$</p><p>$$n&#x3D;e^{\ln N - 1}&#x3D;\frac{N}{e}$$</p><p>$ç”±äºnæ˜¯åœ¨æ•´æ•°åŸŸé‡Œï¼Œæ‰€ä»¥nåªæœ‰ä¸¤ä¸ªé€‰æ‹©\frac{N}{2}å’Œ\frac{N}{3}ï¼Œé‚£ä¹ˆè¯¥å–å“ªä¸€ä¸ªå‘¢ï¼Ÿ$</p><p>$åˆšå¼€å§‹çš„\prod_{i&#x3D;1}^nx_i&#x3D;(\frac{N}{n})^n&#x3D;2^{\frac{N}{2}}æˆ–3^{\frac{N}{3}}ï¼Œç°åœ¨å°±çœ‹å“ªä¸ªå¤§ã€‚$</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/10/20201008144708195.png"></p><p>$æ ¹æ®ä¸Šå›¾å¯çŸ¥ï¼Œ2^{\frac{N}{2}}&lt;3^{\frac{N}{3}},å½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç®—ä¸€ä¸‹ã€‚$</p><p>$æ‰€ä»¥å¾—\prod_{i&#x3D;1}^nx_i&#x3D;3^{\frac{N}{3}}æœ€å¤§ï¼Œå³ä¼˜å…ˆå–3ï¼Œæ²¡æœ‰3å–2ï¼Œæ€»ä¹‹ï¼Œæ¨å¯¼åˆ°æœ€åå°±æ˜¯ä¸ªæ†¨æ†¨é¢˜ã€‚æ€»ç»“ä¸€ä¸‹ï¼š$</p><p>$è®©N mod \;3:$</p><p>$- N mod\; 3&#x3D;0ï¼Œå…¨éƒ¨æ‹†æˆ3ï¼Œans&#x3D;3^{\frac{N}{3}}$ $- Nmod\;3&#x3D;1ï¼Œæ‹¿å‡ºä¸€ä¸ª3ç„¶ååŠ 1ç»„æˆ4ï¼Œå…¶ä»–éƒ½ä¸º3ï¼Œans&#x3D;3^{\frac{N-1}{3}-1}*4$ $-Nmod\;3&#x3D;2ï¼Œæ‹¿å‡ºä¸€2ï¼Œå…¶ä»–éƒ½ä¸º3ï¼Œans&#x3D;3^{\frac{N-2}{3}}*2$</p><p>ç”±äºç­”æ¡ˆçˆ†longlongï¼Œæ‰€ä»¥ç”¨JAVAå¤§æ•°ï¼Œè¿™ä¸æ¯”é«˜ç²¾åº¦é¦™å—ï¼Ÿ</p><h2 id="Codeï¼ˆ67MSï¼‰"><a href="#Codeï¼ˆ67MSï¼‰" class="headerlink" title="Codeï¼ˆ67MSï¼‰"></a>Codeï¼ˆ67MSï¼‰</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.math.*;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.min;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> N;</span><br><span class="line">        N = in.nextInt();</span><br><span class="line">        <span class="type">BigInteger</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(N % <span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            ans = BigInteger.valueOf(<span class="number">3</span>).pow((N / <span class="number">3</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(N % <span class="number">3</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            ans = BigInteger.valueOf(<span class="number">3</span>).pow((N / <span class="number">3</span> - <span class="number">1</span>)).multiply(BigInteger.valueOf(<span class="number">4</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(N % <span class="number">3</span> == <span class="number">2</span>) &#123;</span><br><span class="line">            ans = BigInteger.valueOf(<span class="number">3</span>).pow((N / <span class="number">3</span>)).multiply(BigInteger.valueOf(<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> ans.toString();</span><br><span class="line">        System.out.println(s.length());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; min(<span class="number">100</span>, s.length()); i++) &#123;</span><br><span class="line">            System.out.print(s.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/08/luogu-p4157/">https://blog.jujimeizuo.cn/2020/10/08/luogu-p4157/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020æ­ç”µå¤šæ ¡ç¬¬å…­åœºã€‘ 6833 Very Easy Math Problem</title>
      <link href="/2020/10/07/hdu-6833/"/>
      <url>/2020/10/07/hdu-6833/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6833">http://acm.hdu.edu.cn/showproblem.php?pid=6833</a></p><p>å€Ÿé‰´å¤§ä½¬ï¼š <a href="https://blog.csdn.net/weixin_44282912/article/details/107844614">https://blog.csdn.net/weixin_44282912&#x2F;article&#x2F;details&#x2F;107844614</a> <a href="https://blog.csdn.net/oampamp1/article/details/107865300">https://blog.csdn.net/oampamp1/article/details/107865300</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>$$æ±‚è§£\sum_{a_1&#x3D;1}^n\sum_{a_2&#x3D;1}^nâ€¦\sum_{a_x&#x3D;1}^n\left(\prod_{j&#x3D;1}^xa_j^k\right)f(gcd(a_1,a_2â€¦a_x))gcd(a_1,a_2â€¦a_x)$$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$ä»¤d&#x3D;gcd(a_1,a_2â€¦a_x)å¾—ï¼š$</p><p>$$\sum_{a_1&#x3D;1}^n\sum_{a_2&#x3D;1}^nâ€¦\sum_{a_x&#x3D;1}^n\left(\prod_{j&#x3D;1}^xa_j^k\right)f(d)d$$</p><p>$æšä¸¾då¾—ï¼š$</p><p>$$\sum_{d&#x3D;1}^ndf(d)\sum_{a_1&#x3D;1}^n\sum_{a_2&#x3D;1}^nâ€¦\sum_{a_x&#x3D;1}^n\left(\prod_{j&#x3D;1}^xa_j^k\right)[gcd(a_1,a_2â€¦a_x)&#x3D;d]$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{a_1&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\sum_{a_2&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }â€¦\sum_{a_x&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\left(\prod_{j&#x3D;1}^xa_j^k\right)[gcd(a_1,a_2â€¦a_x)&#x3D;1]$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{a_1&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\sum_{a_2&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }â€¦\sum_{a_x&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\left(\prod_{j&#x3D;1}^xa_j^k\right)\sum_{ta_1\;ta2\;â€¦\;ta_x}\mu(t)$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }i^k\right)^x\sum_{ta_1\;ta2\;â€¦\;ta_x}\mu(t)$$</p><p>$æšä¸¾tå¾—ï¼š$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{t&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\mu(t)\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{dt} \right \rfloor }(it)^k\right)^x$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{t&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\mu(t)t^{kx}\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{dt} \right \rfloor }i^k\right)^x$$</p><p>$ä»¤T&#x3D;dtå¹¶æšä¸¾Tå¾—ï¼š$</p><p>$$\sum_{T&#x3D;1}^n\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{dt} \right \rfloor }i^k\right)^xT^{kx}\sum_{dT}df(d)\mu(\frac{T}{d})$$</p><p>$ä»¤g(T)&#x3D;\sum_{dT}df(d)\mu(\frac{T}{d})ï¼Œåˆ™$</p><p>$$\sum_{T&#x3D;1}^n\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{T} \right \rfloor }i^k\right)^xT^{kx}g(T)$$</p><p>$O(nlogn)ç­›få’Œgï¼Œå¹¶å¯¹T^{kx}g(T)å’Œ\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{T} \right \rfloor }i^kåšå‰ç¼€å’Œï¼Œæœ€å\sqrt nåˆ†å—è®¡ç®—ï¼Œå¤æ‚åº¦ä¸ºO(nlogn+T\sqrt n)$</p><h2 id="Codeï¼ˆ2121MSï¼‰"><a href="#Codeï¼ˆ2121MSï¼‰" class="headerlink" title="Codeï¼ˆ2121MSï¼‰"></a>Codeï¼ˆ2121MSï¼‰</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double pi = acos(-1);</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll T, k, x;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N];</span><br><span class="line"><span class="type">int</span> cnt;</span><br><span class="line">ll g[N], f[N];</span><br><span class="line">ll sumG[N], sumi[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Mobi</span><span class="params">()</span> <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    f[<span class="number">1</span>] = mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        f[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!is_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i * prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i * prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç­›få‡½æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> d = <span class="number">2</span>;d * d &lt; N; d++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = d * d;i &lt; N; i += d * d) &#123;</span><br><span class="line">            f[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç­›gå‡½æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> d = <span class="number">1</span>;d &lt; N; d++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = d;i &lt; N; i += d) &#123;</span><br><span class="line">            g[i] = (g[i] + <span class="number">1ll</span> * d * f[d] % mod * mu[i / d] % mod + mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¤„ç†sumGå‡½æ•°å’Œsumiå‡½æ•°å‰ç¼€å’Œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        ll t = <span class="built_in">quick_pow</span>(i, k);</span><br><span class="line">        sumi[i] = (sumi[i - <span class="number">1</span>] + t) % mod;</span><br><span class="line">        sumG[i] = (sumG[i - <span class="number">1</span>] + <span class="built_in">quick_pow</span>(t, x) * g[i] % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; T &gt;&gt; k &gt;&gt; x;</span><br><span class="line">    <span class="built_in">Mobi</span>();</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">1</span>, r;l &lt;= n; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">            r = <span class="built_in">min</span>(n, n / (n / l));</span><br><span class="line">            ans = (ans + (sumG[r] - sumG[l - <span class="number">1</span>] + mod) % mod * <span class="built_in">quick_pow</span>(sumi[n / l], x) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/07/hdu-6833/">https://blog.jujimeizuo.cn/2020/10/07/hdu-6833/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU1074 Doing Homework</title>
      <link href="/2020/10/07/hdu-1074/"/>
      <url>/2020/10/07/hdu-1074/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1074">http://acm.hdu.edu.cn/showproblem.php?pid=1074</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰næœ¬ä½œä¸šï¼Œæ¯æœ¬éƒ½æœ‰ä¸€ä¸ªå®Œæˆæ—¶é—´å’Œæäº¤æˆªæ­¢æ—¶é—´ï¼Œå½“å®Œæˆä½œä¸šåæäº¤ï¼Œæ¯è¶…è¿‡æˆªæ­¢æ—¶é—´1åˆ†å°±æ‰£1åˆ†ï¼Œé—®æ€ä¹ˆæœ€å°åŒ–æ‰£çš„åˆ†æ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ç”±äºnåªæœ‰15ï¼Œæ‰€ä»¥å°±å¯ä»¥ç”¨çŠ¶å‹dpã€‚ å®šä¹‰çŠ¶æ€ä¸º$1~(1&lt;&lt;n)-1$ï¼Œæˆ‘ä»¬å…ˆæšä¸¾æ¯ä¸ªçŠ¶æ€$i$ï¼Œåœ¨æšä¸¾è¯¥çŠ¶æ€çš„ä¸Šä¸€ä¸ªçŠ¶æ€ï¼Œé‚£æ€ä¹ˆæšä¸¾å‘¢ï¼Ÿå…ˆæšä¸¾$0 ~ n-1$æ¯ä¸ªç§‘ç›®$j$ï¼Œåœ¨åˆ¤æ–­ä¸‹$i\&amp;(1&lt;&lt;j)$æ˜¯å¦ä¸º$1$ï¼Œå¦‚æœæ˜¯ï¼Œè¯´æ˜è¯¥çŠ¶æ€çš„ä¸Šä¸€ä¸ªçŠ¶æ€ä¸º$i-(1&lt;&lt;j)$ï¼Œå†æ ¹æ®ä¸Šä¸€ä¸ªçŠ¶æ€æ¥æ›´æ–°è¯¥çŠ¶æ€ã€‚</p><p>1ã€åˆ¤æ–­ä¸Šä¸€ä¸ªçŠ¶æ€çš„æ‰£åˆ†+jç§‘ç›®æ‰£çš„åˆ†æ˜¯å¦å°äºè¯¥çŠ¶æ€çš„æ‰£åˆ†ã€‚ 2ã€æ»¡è¶³1çš„æƒ…å†µä¸‹ï¼Œæ›´æ–°è¯¥çŠ¶æ€æ‰€éœ€çš„æ—¶é—´ï¼Œæ‰£åˆ†ï¼Œç§‘ç›®å’Œè¯¥çŠ¶æ€çš„çˆ¶äº²ï¼Œå› ä¸ºæœ€åè¿˜è¦è¾“å‡ºè·¯å¾„ã€‚</p><p>æ‰€ä»¥éœ€è¦å®šä¹‰ä¸€ä¸ªç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">homework</span> &#123;</span><br><span class="line">    <span class="type">int</span> id; <span class="comment">// è®°å½•ç§‘ç›®</span></span><br><span class="line">    <span class="type">int</span> time; <span class="comment">// è®°å½•æ‰€éœ€æ—¶é—´</span></span><br><span class="line">    <span class="type">int</span> cost; <span class="comment">// è®°å½•æ‰£åˆ†</span></span><br><span class="line">    <span class="type">int</span> fa; <span class="comment">// è®°å½•çˆ¶äº²ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€ä¸ªçŠ¶æ€</span></span><br><span class="line">&#125;dp[<span class="number">1</span> &lt;&lt; <span class="number">15</span>];</span><br></pre></td></tr></table></figure><h2 id="Codeï¼ˆ15MSï¼‰"><a href="#Codeï¼ˆ15MSï¼‰" class="headerlink" title="Codeï¼ˆ15MSï¼‰"></a>Codeï¼ˆ15MSï¼‰</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll P = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double pi = acos(-1);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">homework</span> &#123;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">105</span>];</span><br><span class="line">    <span class="type">int</span> d, c;</span><br><span class="line">&#125;a[<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">zy</span> &#123;</span><br><span class="line">    <span class="type">int</span> fa, cost, time;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">&#125;dp[<span class="number">1</span> &lt;&lt; <span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="built_in">mem</span>(dp, <span class="number">0</span>);</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; a[i].name &gt;&gt; a[i].d &gt;&gt; a[i].c;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; (<span class="number">1</span> &lt;&lt; n); i++) &#123;</span><br><span class="line">            dp[i].cost = INF;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = n - <span class="number">1</span>;j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="type">int</span> temp = <span class="number">1</span> &lt;&lt; j;</span><br><span class="line">                <span class="keyword">if</span>(temp &amp; i) &#123;</span><br><span class="line">                    <span class="type">int</span> tmp = i - temp;</span><br><span class="line">                    <span class="type">int</span> t = dp[tmp].time + a[j].c - a[j].d;</span><br><span class="line">                    <span class="keyword">if</span>(t &lt; <span class="number">0</span>)</span><br><span class="line">                        t = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">if</span>(t + dp[tmp].cost &lt; dp[i].cost) &#123;</span><br><span class="line">                        dp[i].cost = dp[tmp].cost + t;</span><br><span class="line">                        dp[i].fa = tmp;</span><br><span class="line">                        dp[i].id = j;</span><br><span class="line">                        dp[i].time = dp[tmp].time + a[j].c;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; dp[(<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>].cost &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> t = (<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(dp[t].time) &#123;</span><br><span class="line">            s.<span class="built_in">push</span>(dp[t].id);</span><br><span class="line">            t = dp[t].fa;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!s.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> q = s.<span class="built_in">top</span>();</span><br><span class="line">            cout &lt;&lt; a[q].name &lt;&lt; endl;</span><br><span class="line">            s.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/07/hdu-1074/">https://blog.jujimeizuo.cn/2020/10/07/hdu-1074/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›69 F-è§£æ–¹ç¨‹</title>
      <link href="/2020/10/03/nowcoder-practice69-f/"/>
      <url>/2020/10/03/nowcoder-practice69-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/7329/F">https://ac.nowcoder.com/acm/contest/7329/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æ±‚è§£ï¼š$f_i\;\;mod\;\;998244353\;\;(1\leq i\leq n)$ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å‰ç½®æŠ€èƒ½ï¼š$\mu*I &#x3D;\varepsilon \;\;\;\; \sigma _q&#x3D;id_q*I\;\;\;\;F(n)&#x3D;\sum_{dn}\mu(i)f(\frac{n}{d})$</p><p>$$\sum_{in}f(i)\sigma_p(\frac{n}{i})&#x3D;\sigma _q(n)\;\;-&gt;\;\;(f*\sigma_p )n&#x3D;\sigma_q(n)$$</p><p>å…ˆå°†$\sigma$ åˆ†è§£ï¼š</p><p>$$(f*id_p*I)n&#x3D;(id_q*I)n$$</p><p>å·¦å³éƒ½ä¹˜ä¸Š$\mu:$</p><p>$$(f*id_p)n&#x3D;id_q(n)$$</p><p>$$\sum_{in}f(i)\frac{n^p}{i^p}&#x3D;n^q$$</p><p>$$\sum_{in}\frac{f(i)}{i^p}&#x3D;n^{q-p}&#x3D;id_{q-p}(n)$$</p><p>åæ¼”å¾—ï¼š</p><p>$$\frac{f(n)}{n^p}&#x3D;\sum_{in}\frac{\mu(i)*n^{q-p}}{i^{q-p}}$$</p><p>$$\frac{f(n)}{n^q}&#x3D;\sum_{in}\frac{\mu(i)}{i^{q-p}}$$</p><p>å› ä¸ºç§¯æ€§å‡½æ•°å·ç§¯æ€§å‡½æ•°ä¹‹åè¿˜æ˜¯ç§¯æ€§å‡½æ•°ï¼Œæ‰€ä»¥èƒ½å¾—åˆ°$\frac{f(n)}{n^q}$æ˜¯ç§¯æ€§å‡½æ•°ã€‚æˆ‘ä»¬è€ƒè™‘ä¸näº’è´¨çš„dï¼Œè®¡ç®—$f(d^k)$å¹¶ä¸”ç”±è«æ¯”ä¹Œæ–¯å‡½æ•°çš„æ€§è´¨å¾—ï¼š</p><p>$$\frac{f(d^k)}{d^{kq}}&#x3D;1-\frac{[k\ne 0]}{d^{q-p}}$$ $(æ ¹æ®ä¸Šå¼ï¼Œåªæœ‰i&#x3D;1æˆ–dæ—¶æ‰\mu(i)æ»¡è¶³ï¼Œå…¶ä»–éƒ½æ˜¯0)$</p><p>$æ‰€ä»¥å†æ¥çœ‹nï¼Œç”±åŸºæœ¬ç®—æ•°å®šç†å¾—ï¼šn&#x3D;p_1^{k_1}p_2^{k_2}â€¦p_m^{k_m}ï¼Œå³ï¼š$</p><p>$$\frac{f(n)}{n^q}&#x3D;\frac{f(p_1^{k_1})}{p_1^{qk_1}}\frac{f(p_2^{k_2})}{p_2^{qk_2}}â€¦\frac{f(p_m^{k_m})}{p_m^{qk_m}}$$</p><p>$$\frac{f(n)}{n^q}&#x3D;\prod_{dn \&amp;\&amp;d\;is\;a\;prime}(1-\frac{1}{d^{q-p}})$$</p><p>æå‰ç”¨æ¬§æ‹‰ç­›å¤„ç†$f(p^k)$å³å¯ï¼Œæ³¨æ„gæ•°ç»„çš„å«ä¹‰ï¼Œå› ä¸ºå½“$i%prime[j]&#x3D;0$æ—¶ï¼Œ$prime[j]$å·²ç»æ˜¯$prime[j]*i$çš„å› å­çš„ï¼Œè€Œ$f[i]$å’Œ$f[i*prime[j]]$ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«å°±æ˜¯$prime[j]^q$ï¼Œè¿™è¿˜æ˜¯æ¯”è¾ƒéš¾æƒ³åˆ°çš„ã€‚</p><h2 id="Code-477MS"><a href="#Code-477MS" class="headerlink" title="Code(477MS)"></a>Code(477MS)</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const ll P = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double pi = acos(-1);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">bool</span> is_prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"></span><br><span class="line">ll q, p, n;</span><br><span class="line">ll f[N], g[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Eluer</span>()</span> &#123;</span><br><span class="line">    is_prime[<span class="number">1</span>] = is_prime[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">    f[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_prime[i]) &#123;</span><br><span class="line">            prime[cnt++] = i;</span><br><span class="line">            g[i] = quick_pow(i, q);</span><br><span class="line">            f[i] = (g[i] - quick_pow(i, p)) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">0</span>;j &lt; cnt &amp;&amp; prime[j] * i &lt; N; j++) &#123;</span><br><span class="line">            is_prime[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                f[i * prime[j]] = f[i] * g[prime[j]] % mod;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            f[i * prime[j]] = f[i] * f[prime[j]] % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; p &gt;&gt; q;</span><br><span class="line">    Eluer();</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        f[i] = (f[i] % mod + mod) % mod;</span><br><span class="line">        ans ^= f[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start_clock_for_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end_clock_for_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.putback(acm_local_for_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/03/nowcoder-practice69-f/">https://blog.jujimeizuo.cn/2020/10/03/nowcoder-practice69-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020ç‰›å®¢å›½åº†é›†è®­æ´¾å¯¹day2 F-SUM OF SUB RECTANGLE AREAS</title>
      <link href="/2020/10/02/2020-nowcoder-guoqing-2-f/"/>
      <url>/2020/10/02/2020-nowcoder-guoqing-2-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/7818/F">https://ac.nowcoder.com/acm/contest/7818/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä¸€ä¸ªN * Nçš„çŸ©é˜µï¼Œæ¯ä¸€ä½ä¸Šéƒ½æ˜¯1ï¼Œæ±‚æ‰€æœ‰å­çŸ©é˜µçš„æƒå€¼ä¹‹å’Œã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>$è®¾n &#x3D; 3ï¼›$ è€ƒè™‘å­çŸ©é˜µå¤§å°ä¸º$i * j$çš„ä¸ªæ•°$x$ï¼Œå³è¯¥å¤§å°çš„æ‰€æœ‰å­çŸ©é˜µçš„æƒå€¼ä¸º$x* i * j$ã€‚ $1 * 2$å­çŸ©é˜µ:æ¯è¡Œä¸ªæ•°ä¸º$2$ä¸ªï¼Œæœ‰$3$åˆ—ï¼Œå³æ€»æƒå€¼ä¸º$2 * 3 * ï¼ˆ1 * 2ï¼‰â€“2 * 3$ä¸ºè¯¥çŸ©é˜µåœ¨n*nçŸ©é˜µä¸­çš„ä¸ªæ•°ï¼Œ$1 * 2$ä¸ºè¯¥å­çŸ©é˜µé‡Œçš„æƒå€¼ã€‚ $2 <em>3$å­çŸ©é˜µï¼šæ¯ä¸¤è¡Œæœ‰$1$ä¸ªï¼Œä¸€å…±$2$ä¸ªä¸¤è¡Œï¼Œæƒå€¼ä¸º$2</em> 3$ï¼Œå³æ€»æƒå€¼ä¸º$1 * 2 * 2 * 3$ã€‚</p><p>æ ¹æ®ä¸Šé¢æ¨å¯¼å‡ºï¼šåœ¨$n*n$çš„çŸ©é˜µä¸­ï¼Œæœ‰$i*j$å­çŸ©é˜µçš„ä¸ªæ•°ä¸º$(n - i + 1) * (n - j + 1)$ï¼Œå³æ€»æƒå€¼ä¸º$(n - i + 1) * (n - j + 1) * i * j$ã€‚ å³æ€»ç­”æ¡ˆä¸ºï¼š $$ans&#x3D;\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n(n - i + 1) * (n - j + 1) * i * j$$</p><p>$$ans&#x3D;[\sum_{i&#x3D;1}^n(n-i+1)i]^2$$</p><p>$$ans&#x3D;[\frac{n^2(n+1)}{2}-\frac{n(n+1)(2n+1)}{6}+\frac{n(n+1)}{2}]^2$$</p><p>$$ans&#x3D;[\frac{n * (n + 1)*(n+ 2)}{6}]^2$$</p><p>å› ä¸ºé¢˜ç›®è¯´ä¼šçˆ†longlongï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œç”¨çš„æ˜¯JAVAå¤§æ•°BigIntegerï¼Œpythonä¹Ÿå¯ï¼ˆä¸è¿‡æˆ‘ä¸ä¼šï¼‰ã€‚</p><h2 id="Code-71MS"><a href="#Code-71MS" class="headerlink" title="Code(71MS)"></a>Code(71MS)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.math.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> T;</span><br><span class="line">        T = in.nextInt();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt;= T; i++) &#123;</span><br><span class="line">            <span class="type">long</span> n;</span><br><span class="line">            n = in.nextLong();</span><br><span class="line">            <span class="type">BigInteger</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">            ans = ans.multiply(BigInteger.valueOf(n));</span><br><span class="line">            ans = ans.multiply(BigInteger.valueOf(n + <span class="number">1</span>));</span><br><span class="line">            ans = ans.multiply(BigInteger.valueOf(n + <span class="number">2</span>));</span><br><span class="line">            ans = ans.divide(BigInteger.valueOf(<span class="number">6</span>));</span><br><span class="line">            ans = ans.multiply(ans);</span><br><span class="line">            System.out.println(ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/10/02/2020-nowcoder-guoqing-2-f/">https://blog.jujimeizuo.cn/2020/10/02/2020-nowcoder-guoqing-2-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢ç»ƒä¹ èµ›69 D-ç«æŸ´æ’é˜Ÿ</title>
      <link href="/2020/09/11/nowcoder-practice69-d/"/>
      <url>/2020/09/11/nowcoder-practice69-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/7329/D">https://ac.nowcoder.com/acm/contest/7329/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™é•¿åº¦ä¸ºnçš„åºåˆ—å’Œä¸€ä¸ªdï¼Œåˆ†åˆ«åœ¨nä¸ªæ•°ä¸­é€‰k(1&lt;&#x3D;k&lt;&#x3D;n)ä¸ªæ•°ï¼Œå°†è¿™kä¸ªæ•°å¢åŠ dä¹‹åä¸å½±å“æ’åï¼Œè¦æ±‚$ai+d&lt;&#x3D;aj$ã€‚ åˆ†åˆ«è¾“å‡ºæ¯ä¸€ä¸ªkçš„æ¦‚ç‡ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¦æ˜¯æƒ³åœ¨æ¯ä¸ªkä¸­æ‰¾å‡ºåˆæ³•çš„æ–¹æ¡ˆï¼Œä¸ç®¡æ˜¯æ­£å‘çš„DFSè¿˜æ˜¯åå‘çš„å®¹æ–¥ï¼Œè¿™éƒ½ä¼šå¯¼è‡´Tæ‰ï¼ˆä¸»è¦æ˜¯ä¸ä¼šåšï¼Œåšäº†ä¹Ÿä¼šé”™ï¼‰ã€‚çœ‹åˆ°n&#x3D;5000æ—¶ï¼ŒO(n^2)çš„å¤æ‚åº¦æ˜¯å¯ä»¥çš„ï¼Œé‚£å°±å¯ä»¥è€ƒè™‘dpäº†ã€‚</p><p>è®¾dp[i][j][1&#x2F;0]è¡¨ç¤ºå‰iä¸ªäººä¸­é€‰äº†jä¸ªå¢åŠ dï¼Œå¹¶ä¸”å½“å‰è¿™ä¸€ä½é€‰1&#x2F;ä¸é€‰0ã€‚</p><p>æ‰€ä»¥å°±æœ‰ä¸¤ç§é€‰æ‹©ï¼Œé€‰æˆ–ä¸é€‰ã€‚</p><p>å½“å‰è¿™ä¸€ä½æ²¡æœ‰è¢«é€‰ï¼ŒçŠ¶æ€è½¬ç§»å°±æ˜¯ï¼š</p><p>$dp[i][j][0] &#x3D; dp[i - 1][j - 1][0] + dp[i - 1][j - 1][1] * (a[i - 1] + d &lt;&#x3D; a[i] )$</p><p>å¦‚æœä¸Šä¸€ä½è¢«é€‰äº†ï¼Œè¿™ä¸€å°±è¦åˆ¤æ–­ä¸Šä¸€ä½é€‰äº†ä¹‹åå¢åŠ çš„dæ˜¯å¦åˆæ³•ï¼Œåˆæ³•å°±å¯è¦ï¼Œä¸åˆæ³•å°±ä¸è¦ã€‚</p><p>å½“å‰è¿™ä¸€ä½è¢«é€‰ï¼ŒçŠ¶æ€è½¬ç§»å°±æ˜¯ï¼š</p><p>$dp[i][j][1]&#x3D;dp[i - 1][j- 1][0] + dp[i - 1][j-1][1]$</p><p>ç”±äºn&#x3D;5000ï¼Œdp[5000][5000][2]å¯èƒ½ä¼šçˆ†æ‰ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°æ»šåŠ¨æ•°ç»„ï¼ˆå› ä¸ºè½¬ç§»åªä¼šä¸ä¸Šä¸€è¡Œæœ‰å…³ï¼‰ã€‚</p><p>$è®¾now&#x3D;i\%2,pre &#x3D;now \wedge 1ï¼Œåˆ™çŠ¶æ€è½¬ç§»ä¸ºï¼š$ $f[now][j][0] &#x3D; f[pre][j][0] + f[pre][j][1] * (a[i - 1] + d &lt;&#x3D; a[i])$ $f[now][j][1] &#x3D; f[pre][j - 1][0] + f[pre][j - 1][1]$</p><p>æœ€åï¼Œé¢„å¤„ç†æ‰€æœ‰çš„é˜¶ä¹˜ã€é€†å…ƒã€é˜¶ä¹˜é€†å…ƒã€‚</p><h2 id="Code-64ms"><a href="#Code-64ms" class="headerlink" title="Code(64ms)"></a>Code(64ms)</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lc t[u].ls</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> rc t[u].rs</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> m (l + r) / 2</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> lowbit(x) (x &amp; -x)</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const double pi = acos(-1);</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5005</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll F[N + <span class="number">10</span>]; <span class="comment">// é˜¶ä¹˜</span></span><br><span class="line">ll invF[N + <span class="number">10</span>]; <span class="comment">// é˜¶ä¹˜é€†å…ƒ</span></span><br><span class="line">ll invn[N + <span class="number">10</span>];</span><br><span class="line">ll a[N + <span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> vis[N + <span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">ll f[<span class="number">2</span>][N][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    F[<span class="number">0</span>] = F[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = invn[<span class="number">0</span>] = invn[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        F[i] = F[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        invn[i] = (mod - mod / i) * invn[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * invn[i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">getC</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; k)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = F[k];</span><br><span class="line">    ans = ans * invF[n] % mod;</span><br><span class="line">    ans = ans * invF[k - n] % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    <span class="type">int</span> n, d;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; d;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="built_in">sort</span>(a + <span class="number">1</span>, a + n + <span class="number">1</span>);</span><br><span class="line">    a[n + <span class="number">1</span>] = a[n] + d * <span class="number">2</span>;</span><br><span class="line">    f[<span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    f[<span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> now = i % <span class="number">2</span>, pre = now ^ <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">mem</span>(f[now], <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= i; j++) &#123;</span><br><span class="line">            f[now][j][<span class="number">0</span>] = (f[pre][j][<span class="number">0</span>] + f[pre][j][<span class="number">1</span>] * (a[i - <span class="number">1</span>] + d &lt;= a[i])) % mod;</span><br><span class="line">            f[now][j][<span class="number">1</span>] = (f[pre][j - <span class="number">1</span>][<span class="number">0</span>] + f[pre][j - <span class="number">1</span>][<span class="number">1</span>]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> now = n % <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        cout &lt;&lt; (f[now][i][<span class="number">0</span>] + f[now][i][<span class="number">1</span>]) * <span class="built_in">quick_pow</span>(<span class="built_in">getC</span>(i, n), mod - <span class="number">2</span>) % mod &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">// cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/09/11/nowcoder-practice69-d/">https://blog.jujimeizuo.cn/2020/09/11/nowcoder-practice69-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»„åˆæ•°å­¦</title>
      <link href="/2020/08/19/comb/"/>
      <url>/2020/08/19/comb/</url>
      
        <content type="html"><![CDATA[<h2 id="æ’åˆ—ç»„åˆ"><a href="#æ’åˆ—ç»„åˆ" class="headerlink" title="æ’åˆ—ç»„åˆ"></a>æ’åˆ—ç»„åˆ</h2><ul><li>åœ†æ’åˆ—:nä¸ªä¸­é€‰kä¸ªç»„æˆä¸€ä¸ªåœˆçš„æ–¹æ¡ˆæ•°ï¼š$\frac{A_{n}^k}{k}$</li><li>é¡¹é“¾æ’åˆ—:${\frac{A_{n}^k}{2k}}$</li><li>é”™ä½æ’åˆ—:nä¸ªæ•°çš„æ‰€æœ‰é”™æ’æ–¹æ¡ˆæ•°çš„é€’æ¨å…¬å¼ä¸º${f(n)&#x3D;(n-1)*(f(n-1)+f(n-2))}$,å‰å‡ é¡¹ä¸º$0ã€1ã€2ã€9ã€44ã€265$</li><li>å¤šé‡æ’åˆ—:è®¾$S&#x3D;{n1*a1,n2*a2,â€¦,nk*ak}$ï¼Œåˆ™æ‰€æœ‰çš„æ–¹æ¡ˆæ•°ä¸º$\frac{n!}{n1!*n2!*â€¦*nk!}$</li><li>ä¸ç›¸é‚»ç»„åˆ:[1,n]ä¸ªä¸­é€‰kä¸ªç»„æˆä¸ç›¸é‚»çš„æ’åˆ—çš„æ–¹æ¡ˆæ•°ä¸ºï¼š$C_{n-k+1}^k$</li><li>å¯é‡ç»„åˆ:è®¾S&#x3D;${n1*a1,n2*a2,â€¦,nk*ak}$ï¼Œåœ¨Sä¸­é€‰rä¸ªï¼Œåˆ™æ‰€æœ‰çš„æ–¹æ¡ˆæ•°ä¸º${C_{r+k-1}^{k-1}}$</li></ul><p>æ–¹æ³•ï¼šéš”æ¿æ³•ï¼Œæ†ç»‘æ³•â€¦</p><p>æ‰©å±•:</p><ul><li>äºŒé¡¹å¼å®šç†:$(a+b)^n&#x3D;\sum_{k&#x3D;0}^nC_n^ka^{n-k}b^k$</li><li>å¤šé¡¹å¼å®šç†:$(x1+x2+â€¦+xk)^n&#x3D;\sum_{n1+n2+â€¦+nk&#x3D;n}\frac{n!}{n1!n2!â€¦nk!}\prod_{i&#x3D;1}^kx_i^{ni}$</li><li>æ ¼è·¯é—®é¢˜:$(0,0)$ç‚¹èµ°åˆ°$(m,n)$ç‚¹çš„æ–¹æ¡ˆæ•°ä¸º$C_{m+n}^n$</li></ul><h2 id="æ¯å‡½æ•°"><a href="#æ¯å‡½æ•°" class="headerlink" title="æ¯å‡½æ•°"></a>æ¯å‡½æ•°</h2><h4 id="æ™®é€šå‹æ¯å‡½æ•°"><a href="#æ™®é€šå‹æ¯å‡½æ•°" class="headerlink" title="æ™®é€šå‹æ¯å‡½æ•°"></a>æ™®é€šå‹æ¯å‡½æ•°</h4><p>ä¸»è¦æ±‚ç»„åˆçš„æ–¹æ¡ˆæ•°ã€‚ å½¢å¦‚${a_0+a_1x^1+a_2x^2+â€¦+a_nx^n}$</p><h4 id="æŒ‡æ•°å‹æ¯å‡½æ•°"><a href="#æŒ‡æ•°å‹æ¯å‡½æ•°" class="headerlink" title="æŒ‡æ•°å‹æ¯å‡½æ•°"></a>æŒ‡æ•°å‹æ¯å‡½æ•°</h4><p>ä¸»è¦æ±‚å¤šé‡æ’åˆ—æ•°ã€‚ å½¢å¦‚${a_0+\frac{a_1x}{1!}+\frac{a_2x^2}{2!}+â€¦\frac{a_nx^n}{n!}}$</p><h2 id="ç‰¹æ®Šçš„æ•°"><a href="#ç‰¹æ®Šçš„æ•°" class="headerlink" title="ç‰¹æ®Šçš„æ•°"></a>ç‰¹æ®Šçš„æ•°</h2><h4 id="æ–æ³¢é‚£å¥‘æ•°"><a href="#æ–æ³¢é‚£å¥‘æ•°" class="headerlink" title="æ–æ³¢é‚£å¥‘æ•°"></a>æ–æ³¢é‚£å¥‘æ•°</h4><ul><li>é€’æ¨å¼:$f(n)&#x3D;f(n-1)+f(n-2)$</li><li>äºŒé˜¶å¸¸ç³»æ•°é€’å½’å…¬å¼:$f(n)&#x3D;\frac{1}{\sqrt 5}[(\frac{1+\sqrt 5}{2})^n-(\frac{1-\sqrt 5}{2})^n]$</li></ul><p>å‰å‡ é¡¹ä¸º1ã€1ã€2ã€3ã€5ã€8â€¦</p><h4 id="å¡ç‰¹å…°æ•°"><a href="#å¡ç‰¹å…°æ•°" class="headerlink" title="å¡ç‰¹å…°æ•°"></a>å¡ç‰¹å…°æ•°</h4><ul><li><p>å¸¸è§å…¬å¼ï¼š</p><ul><li>$H_n&#x3D;\frac{C_{2n}^n}{n+1}$</li><li>$H_n&#x3D;\frac{H_{n-1}(4n-2)}{n+1}$</li><li>$H_n&#x3D;1 \;\;(n&#x3D;0n&#x3D;1)$ $H_n&#x3D;\sum_{i&#x3D;1}^nH_{n-i}H_{i-1} (n\geq 2)$</li><li>$H_n&#x3D;C_{2n}^n-C_{2n}^{n-1}$</li></ul></li></ul><p>å‰å‡ é¡¹ä¸ºï¼š1ã€1ã€2ã€5ã€14ã€42ã€132â€¦</p><h2 id="æ–¯ç‰¹æ—æ•°"><a href="#æ–¯ç‰¹æ—æ•°" class="headerlink" title="æ–¯ç‰¹æ—æ•°"></a>æ–¯ç‰¹æ—æ•°</h2><h4 id="ç¬¬ä¸€ç±»Stirlingæ•°"><a href="#ç¬¬ä¸€ç±»Stirlingæ•°" class="headerlink" title="ç¬¬ä¸€ç±»Stirlingæ•°"></a>ç¬¬ä¸€ç±»Stirlingæ•°</h4><ul><li>é€’æ¨å¼:${S_u(n,k)&#x3D;S_u(n-1,k-1)+(n-1)*S_u(n-1,k)}\;\;\;S_u(0,0)&#x3D;1$</li></ul><h4 id="ç¬¬äºŒç±»Stirlingæ•°"><a href="#ç¬¬äºŒç±»Stirlingæ•°" class="headerlink" title="ç¬¬äºŒç±»Stirlingæ•°"></a>ç¬¬äºŒç±»Stirlingæ•°</h4><ul><li><p>é€’æ¨å¼:${S(n,k)&#x3D;S(n-1,k-1)+k*S(n-1.k)}\;\;\;S(0,0)&#x3D;1$</p></li><li><p>çº¿æ€§å…¬å¼:${S(n,k)&#x3D;\frac{1}{k!}\sum_{i&#x3D;0}^k(-1)^iC_k^i(k-i)^n}$</p></li></ul><h2 id="è´å°”æ•°"><a href="#è´å°”æ•°" class="headerlink" title="è´å°”æ•°"></a>è´å°”æ•°</h2><ul><li><p>é€’æ¨å¼:${B_{n+1}&#x3D;\sum_{k&#x3D;0}^nC_n^kB_k}$</p></li><li><p>æ ¹æ®ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°:${B_n&#x3D;\sum_{k&#x3D;0}^nS(n,k)}$</p></li></ul><p>æ‹“å±•ï¼šè´å°”ä¸‰è§’å½¢æ±‚è§£ã€‚</p><p>å‰å‡ é¡¹ä¸ºï¼š1ã€1ã€2ã€5ã€15ã€52ã€203â€¦</p><h2 id="ä¼¯åŠªåˆ©æ•°"><a href="#ä¼¯åŠªåˆ©æ•°" class="headerlink" title="ä¼¯åŠªåˆ©æ•°"></a>ä¼¯åŠªåˆ©æ•°</h2><ul><li>ç­‰å¹‚æ±‚å’Œ:</li></ul><p>$S_mn&#x3D;\frac{1}{m+1}\sum_{k&#x3D;0}^mC_{m+1}^kn^{m-k+1}$</p><ul><li><p>$\sum_{i&#x3D;1}^ni^k&#x3D;\frac{1}{k+1}\sum_{i&#x3D;1}^{k+1}C_{k+1}^iB_{k-i+1}(n+1)^i$</p></li><li><p>é€’æ¨å¼:${\sum_{k&#x3D;0}^nB_kC_{n+1}^k&#x3D;0}\;\;\;(B_0&#x3D;1)$</p></li><li><p>$B_n&#x3D;-\frac{1}{n+1}[C_{n+1}^0B0+C_{n+1}^1B1+â€¦+C_{n+1}^{n-1}B_{n-1}]$</p></li></ul><p>å‰å‡ é¡¹ä¸ºï¼š$1ã€-\frac{1}{2}ã€\frac{1}{6}ã€0ã€\frac{1}{30}â€¦$</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/19/comb/">https://blog.jujimeizuo.cn/2020/08/19/comb/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´æ­ç”µæš‘å‡ç¬¬ä¹åœºã€‘6869 Slime and Stones</title>
      <link href="/2020/08/18/hdu-6869/"/>
      <url>/2020/08/18/hdu-6869/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6869">http://acm.hdu.edu.cn/showproblem.php?pid=6869</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æœ‰ä¸¤å †çŸ³å­ï¼Œæœ‰ä¸¤ç§æ‹¿å–çš„æ–¹å¼ï¼Œä¸€ï¼šåœ¨ä¸€å †ä¸­æ‹¿ä»»æ„å¤šä¸ªçŸ³å­ï¼ŒäºŒï¼šåœ¨ä¸¤å †ä¸­æ‹¿ç›¸å·®ä¸èƒ½è¶…è¿‡kçš„çŸ³å­ä¸ªæ•°ï¼Œé—®æœ€åè°èµ¢ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¿™é¢˜å°±æ˜¯å¨ä½å¤«åšå¼ˆçš„æ‰©å±•ï¼Œæœ¬æ¥çš„å¨ä½å¤«åšå¼ˆæ˜¯k&#x3D;0ï¼Œä½†æ˜¯è¿™é‡Œï¼Œk&gt;&#x3D;0ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>è¿˜æ˜¯ä»æœ€å¼€å§‹çš„æ€è·¯æ¨èµ·ï¼Œå¯¹äºä¸¤å †çš„çŸ³å­åˆ†åˆ«ä¸ºxå’Œyæ—¶ï¼ˆx&lt;yï¼‰ï¼š</p><p>d&#x3D;0æ—¶ï¼Œç¬¬kä¸ªå¥‡å¼‚å±€åŠ¿ä¸º$([\frac{1+\sqrt 5}{2}k],[\frac{3+\sqrt 5}{2}k])ï¼Œk&#x3D;y-x$</p><p>è¿™æ˜¯è¦æ±‚$dx-dy&lt;1$</p><p>è¿™æ˜¯æ ¹æ®Bettyå®šç†æ¨å‡ºæ¥çš„ï¼Œ$\frac{1}{x}+\frac{1}{x+1}\;&#x3D;\;1$ï¼Œè¿™é‡Œçš„ä¸€ä¸ªæ­£è§£ä¸º$\frac{1+\sqrt 5}{2}$ï¼Œåªè¦åˆ¤æ–­$\frac{1+\sqrt 5}{2}*(y-x)&#x3D;&#x3D;x \&amp;\&amp; \frac{3+\sqrt 5}{2}*(y-x)&#x3D;&#x3D;y$å°±ä»£è¡¨å…ˆæ‰‹å¿…è¾“ï¼Œä¸€èˆ¬çš„æ¨¡æ¿åªè¦æ±‚å…¶ä¸­çš„ä¸€ä¸ªæ¡ä»¶å³å¯ï¼Œå› ä¸ºd&#x3D;0ä¸éœ€è¦è€ƒè™‘ç²¾åº¦é—®é¢˜ï¼Œä½†æ˜¯å½“d!&#x3D;0æ—¶ï¼Œè€ƒè™‘ç²¾åº¦é—®é¢˜ï¼Œè¿˜æ˜¯ä¸¤ä¸ªæ¡ä»¶éƒ½åˆ¤æ–­ä¸€ä¸‹ã€‚</p><p>d&gt;0æ—¶ï¼Œç¬¬kä¸ªå¥‡å¼‚å±€åŠ¿ä¸º$([\frac{2-d+\sqrt{d^2+4}}{2}k],[\frac{2+d+\sqrt {d^2+4}}{2}k])ï¼Œk&#x3D;\frac{y-x}{d}$,xå’Œyä¹Ÿå°±ç›¸å·®ä¸ªdkï¼Œå°±æ˜¯ä¸Šé¢ä¸ºä»€ä¹ˆå¯ä»¥å–ä¸¤ä¸ªæ¡ä»¶ã€‚</p><p>{è¿™é‡Œè¦æ±‚$dx-dy&lt;d$</p><p>æ ¹æ®Bettyå®šç†ï¼Œè¿™é‡Œçš„è§£ä¸º$\frac{1}{x}+\frac{1}{x+d}&#x3D;1$ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶å³å¯ã€‚</p><p>$$[\frac{2-d+\sqrt{d^2+4}}{2}k]&#x3D;&#x3D;x\;\;\&amp;\&amp;\;\;[\frac{2+d+\sqrt {d^2+4}}{2}k]&#x3D;&#x3D;y(å…ˆæ‰‹å¿…è¾“)$$</p><p>æ³¨æ„dè¾“å…¥ä¹‹åè¦++ï¼Œè¿™é‡Œçš„kæ˜¯$\frac{y-x}{d}$ï¼Œå‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥ç”±äºç²¾åº¦é—®é¢˜ï¼Œéœ€è¦åˆ¤æ–­ä¸¤ä¸ªæ¡ä»¶æ›´ç²¾å‡†ã€‚</p><p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/Khada-Jhin/p/9609561.html">å¤§ä½¬</a></p><h2 id="Code-109MS"><a href="#Code-109MS" class="headerlink" title="Code(109MS)"></a>Code(109MS)</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll P = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">weizuofu</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a, b;</span><br><span class="line">    <span class="type">double</span> k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lf&quot;</span>,&amp;a,&amp;b,&amp;k);</span><br><span class="line">    k += <span class="number">1.0</span>;</span><br><span class="line">    <span class="keyword">if</span>(a &gt; b)</span><br><span class="line">        <span class="built_in">swap</span>(a , b);</span><br><span class="line">    ll temp = (b - a) / k;</span><br><span class="line">    ll ans1 = temp * ((<span class="built_in">sqrt</span>(<span class="number">4.0</span> + k * k) - k + <span class="number">2.0</span>) / <span class="number">2.0</span>);</span><br><span class="line">    ll ans2 = temp * ((<span class="built_in">sqrt</span>(<span class="number">4.0</span> + k * k) + k + <span class="number">2.0</span>) / <span class="number">2.0</span>);</span><br><span class="line">    <span class="keyword">if</span>(ans1 == a &amp;&amp; ans2 == b)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="built_in">weizuofu</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç”±äºæˆ‘ä¸€ç›´æ²¡æœ‰æ³¨æ„åˆ°æŠŠ&amp;&amp;å†™æˆï¼Œå¯¼è‡´ä¸€ç›´éƒ½åœ¨WAï¼Œä½†æ˜¯ä¸€æƒ³åˆ°æˆ‘æ˜¯ä¸ªå‚»é€¼ï¼Œæ‰€æœ‰äº‹æƒ…éƒ½è¿åˆƒè€Œè§£äº†ï¼Œå“ˆå“ˆå“ˆï¼</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/18/hdu-6869/">https://blog.jujimeizuo.cn/2020/08/18/hdu-6869/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·P2051 ä¸­å›½è±¡æ£‹ çŠ¶å‹dp</title>
      <link href="/2020/08/12/luogu-p2051/"/>
      <url>/2020/08/12/luogu-p2051/</url>
      
        <content type="html"><![CDATA[<h2 id="P2051-AHOI2009-ä¸­å›½è±¡æ£‹-çŠ¶å‹dp"><a href="#P2051-AHOI2009-ä¸­å›½è±¡æ£‹-çŠ¶å‹dp" class="headerlink" title="P2051 [AHOI2009]ä¸­å›½è±¡æ£‹ çŠ¶å‹dp"></a><a href="https://www.luogu.com.cn/problem/P2051">P2051 [AHOI2009]ä¸­å›½è±¡æ£‹ çŠ¶å‹dp</a></h2><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºåœ¨åŒä¸€è¡Œæˆ–åŒä¸€åˆ—ä¸­æœ€å¤šæ”¾ä¸¤ä¸ªç‚®ï¼Œæ‰€ä»¥å¯ä»¥æ”¾0ã€1ã€2ä¸ªç‚®ï¼Œä¸‰ä¸ªä»¥ä¸Šçš„å°±ä¸åˆæ³•ï¼Œå› ä¸ºå¯ä»¥äº’ç›¸æ‰“ã€‚</p><p>å¯¹äºçŠ¶æ€å‹ç¼©dpï¼Œé¦–å…ˆéœ€è¦å‡è®¾çŠ¶æ€ï¼Œè¿™é¢˜çš„çŠ¶æ€å°±æ˜¯0ã€1ã€2ï¼Œï¼ˆåˆ—æ˜¯æŒ‡ç¬¬iè¡Œä¸­1~måˆ—ï¼‰0ä»£è¡¨ä¸€åˆ—ä¸­æ²¡æœ‰ç‚®ï¼Œ1ä»£è¡¨ä¸€åˆ—ä¸­æœ‰ä¸€ä¸ªç‚®ï¼Œ2ä»£è¡¨ä¸€åˆ—ä¸­æœ‰2ä¸ªç‚®ï¼Œä»ç¬¬ä¸€è¡Œå¾€ä¸‹éå†ï¼Œå¯»æ‰¾æ‰€æœ‰çš„çŠ¶æ€ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•°ç»„dp[i][j][k]ï¼Œç¬¬ä¸€ç»´è¡¨ç¤ºå‰iè¡Œï¼Œç¬¬äºŒç»´è¡¨ç¤ºæœ‰jåˆ—åªæœ‰ä¸€ä¸ªç‚®ï¼Œç¬¬ä¸‰ç»´è¡¨ç¤ºåªæœ‰kåˆ—æœ‰ä¸¤ä¸ªç‚®</p><p>é‚£ä¹ˆæ ¹æ®å®¹æ–¥åŸç†å¯çŸ¥ï¼Œæ²¡æœ‰ç‚®çš„åˆ—æ•°æœ‰m-j-kåˆ—ã€‚</p><p>å› ä¸ºä¸€åˆ—ä¸­æœ€å¤šæ”¾ä¸¤ä¸ªæ£‹å­ï¼Œä¸”å¯¹äºæ¯ä¸€è¡Œï¼Œæ¯ä¸€åˆ—åªèƒ½æ”¾ä¸€ä¸ªï¼Œä¸èƒ½è¯´æ”¾ä¸¤ä¸ªï¼Œéš¾é“è®©ä»–ä»¬ç»“åˆå—ï¼Ÿè¿™é‡Œç¬”è€…å°±æƒ³å½“ç„¶çš„ç»“åˆäº†ï¼Œç„¶åå°±é”™äº†ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¨è®ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼ˆæ‰€æœ‰æƒ…å†µçš„ç¬¬iè¡Œéƒ½æ˜¯ç”±ç¬¬i-1è¡Œç»§æ‰¿ä¸‹æ¥ï¼‰ï¼š</p><ul><li>ä¸æ”¾æ£‹å­ ç¬¬iè¡Œçš„çŠ¶æ€å¯ä»¥ç”±ç¬¬i-1è¡ŒçŠ¶æ€ç»§æ‰¿ï¼Œå³$dp[i][j][k]&#x3D;dp[i - 1][j][k]$ã€‚<ul><li>æ”¾ä¸€ä¸ªæ£‹å­ è¯¥æ£‹å­æ”¾åœ¨æœ‰ä¸€ä¸ªæ£‹å­çš„åˆ—ä¸Š åœ¨jåˆ—ä¸­æ‹¿å‡ºä¸€åˆ—+1ä¸ªæ£‹å­æˆä¸ºkåˆ—ä¸­çš„ä¸€å‘˜ï¼Œå³$dp[i][j][k]&#x3D;dp[i-1][j][k+1]*(j+1)$ è¯¥æ£‹å­æ”¾åœ¨ç©ºåˆ—ä¸Š åœ¨ç©ºåˆ—ä¸­æ‹¿å‡ºä¸€åˆ—æˆä¸ºjåˆ—çš„ä¸€å‘˜ï¼Œå³$dp[i][j][k]&#x3D;dp[i-1][j-1][k]*(m-j-k+1)$</li></ul></li><li>æ”¾ä¸¤ä¸ªæ£‹å­ ä¸¤ä¸ªæ£‹å­åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªç©ºåˆ—ä¸Š åœ¨ç©ºåˆ—ä¸­æ‹¿å‡ºä¸¤åˆ—æˆä¸ºjåˆ—çš„ä¸¤å‘˜ï¼Œå³$dp[i][j][k]&#x3D;dp[i-1][j-2][k]*C_{m-j-k+2}^2$</li><li>ä¸¤ä¸ªæ£‹å­ä¸€ä¸ªåœ¨æœ‰æ£‹å­çš„åˆ—ä¸€ä¸ªåœ¨ç©ºåˆ—ä¸­ åœ¨jåˆ—ä¸­æ‹¿å‡ºä¸€ä¸ªæˆä¸ºkåˆ—çš„ä¸€å‘˜ï¼Œåœ¨ç©ºåˆ—ä¸­æ‹¿å‡ºä¸€ä¸ªæˆä¸ºjåˆ—çš„ä¸€å‘˜ï¼Œå³ $dp[i][j][k]&#x3D;dp[i-1][j][k-1]*j*(m-j-k+1)$</li><li>ä¸¤ä¸ªæ£‹å­åˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªæœ‰æ£‹å­çš„åˆ—ä¸Š åœ¨jåˆ—æ‹¿å‡ºä¸¤ä¸ªæˆä¸ºkåˆ—çš„ä¸¤å‘˜ï¼Œå³ $dp[i][j][k]&#x3D;dp[i-1][j+2][k-2]*C_{j+2}^2$</li><li>ä¸¤ä¸ªæ£‹å­æ”¾åœ¨æ²¡æœ‰æ£‹å­çš„ä¸€åˆ—ä¸Š è¿™æ˜¯é”™è¯¯çš„ï¼Œä¸Šé¢è¯´é“ï¼Œå¯¹äºæ¯ä¸€è¡Œï¼Œåªèƒ½åœ¨ä¸€åˆ—ä¸­æ”¾ä¸€ä¸ªï¼Œä¸èƒ½æ”¾ä¸¤ä¸ªï¼Œå¦åˆ™å°±ä¼šâ€œç»“åˆâ€äº†ã€‚</li></ul><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod =  <span class="number">9999973</span>;</span><br><span class="line"></span><br><span class="line">ll dp[<span class="number">105</span>][<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt;= m - j; k++) &#123;</span><br><span class="line">                dp[i][j][k] = dp[i - <span class="number">1</span>][j][k]; <span class="comment">// ä¸æ”¾æ£‹å­</span></span><br><span class="line">                <span class="keyword">if</span>(k &gt;= <span class="number">1</span>) dp[i][j][k] += dp[i - <span class="number">1</span>][j + <span class="number">1</span>][k - <span class="number">1</span>] * (j + <span class="number">1</span>); <span class="comment">// æ”¾ä¸€ä¸ªæ£‹å­åœ¨æœ‰ä¸€ä¸ªæ£‹å­çš„åˆ—</span></span><br><span class="line">                <span class="keyword">if</span>(j &gt;= <span class="number">1</span>) dp[i][j][k] += dp[i - <span class="number">1</span>][j - <span class="number">1</span>][k] * (m - j + <span class="number">1</span> - k); <span class="comment">// æ”¾ä¸€ä¸ªæ£‹å­åœ¨æ²¡æœ‰æ£‹å­çš„åˆ—</span></span><br><span class="line">                <span class="keyword">if</span>(j &gt;= <span class="number">2</span>) dp[i][j][k] += dp[i - <span class="number">1</span>][j - <span class="number">2</span>][k] * ((m - j - k + <span class="number">2</span>) * (m - j - k + <span class="number">1</span>) / <span class="number">2</span>); <span class="comment">// æ”¾ä¸¤ä¸ªæ£‹å­åœ¨æ²¡æœ‰æ£‹å­çš„ä¸¤åˆ—</span></span><br><span class="line">                <span class="keyword">if</span>(k &gt;= <span class="number">1</span>) dp[i][j][k] += dp[i - <span class="number">1</span>][j][k - <span class="number">1</span>] * j * (m - j - k + <span class="number">1</span>); <span class="comment">// æ”¾ä¸¤ä¸ªåœ¨ä¸€åˆ—æœ‰æ£‹å­ä¸€åˆ—æ— æ£‹å­</span></span><br><span class="line">                <span class="keyword">if</span>(k &gt;= <span class="number">2</span>) dp[i][j][k] += dp[i - <span class="number">1</span>][j + <span class="number">2</span>][k - <span class="number">2</span>] * ((j + <span class="number">2</span>) * (j + <span class="number">1</span>) / <span class="number">2</span>); <span class="comment">// æ”¾ä¸¤ä¸ªåœ¨ä¸¤åˆ—éƒ½æœ‰æ£‹å­</span></span><br><span class="line">                dp[i][j][k] %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt;= m; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt;= m - j; k++) &#123;</span><br><span class="line">            ans = (ans + dp[n][j][k]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/12/luogu-p2051/">https://blog.jujimeizuo.cn/2020/08/12/luogu-p2051/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è«æ¯”ä¹Œæ–¯åæ¼”ä¾‹é¢˜é›†---ï¼ˆè‡ªç”¨ï¼‰</title>
      <link href="/2020/08/10/mobius-inversion/"/>
      <url>/2020/08/10/mobius-inversion/</url>
      
        <content type="html"><![CDATA[<h4 id="å‚è€ƒï¼šå¤§ä½¬1-å¤§ä½¬2-å¤§ä½¬3-å¤§ä½¬4"><a href="#å‚è€ƒï¼šå¤§ä½¬1-å¤§ä½¬2-å¤§ä½¬3-å¤§ä½¬4" class="headerlink" title="å‚è€ƒï¼šå¤§ä½¬1 å¤§ä½¬2 å¤§ä½¬3 å¤§ä½¬4"></a>å‚è€ƒï¼š<a href="https://blog.csdn.net/weixin_44282912/article/details/105417215">å¤§ä½¬1</a> <a href="https://blog.csdn.net/weixin_43973966/article/details/85338976">å¤§ä½¬2</a> <a href="https://www.luogu.com.cn/blog/Althen-Way-Satan/mu-bi-wu-si-fan-yan-yu-du-jiao-shai">å¤§ä½¬3</a> <a href="https://www.luogu.com.cn/blog/An-Amazing-Blog/mu-bi-wu-si-fan-yan-ji-ge-ji-miao-di-dong-xi">å¤§ä½¬4</a></h4><h4 id="P3455-POI2007-ZAP-Queries"><a href="#P3455-POI2007-ZAP-Queries" class="headerlink" title="P3455 [POI2007]ZAP-Queries"></a><a href="https://www.luogu.com.cn/problem/P3455">P3455 [POI2007]ZAP-Queries</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m[gcd(i,j)&#x3D;k]$$ $åæ¼”è¿‡ç¨‹ï¼š$ $$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m[gcd(i,j)&#x3D;k]$$</p><p>$$\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{m}{k} \right \rfloor}\varepsilon[gcd(i,j)&#x3D;1]$$</p><p>$æšä¸¾dï¼š$</p><p>$$\sum_{d&#x3D;1}^{\left \lfloor min(\left \lfloor \frac{n}{k} \right \rfloor,\left \lfloor \frac{m}{k} \right \rfloor)\right \rfloor}\mu(d)\left \lfloor \frac{n}{kd} \right \rfloor \left \lfloor \frac{m}{kd} \right \rfloor$$</p><p>$\ {å…ˆé¢„å¤„ç†\muï¼Œç„¶åæ•´æ•°åˆ†å—åšï¼Œå¤æ‚åº¦ä¸ºO(n + T\sqrt n)}$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"></span><br><span class="line">ll sum[N]; <span class="comment">// è®°å½•è«æ¯”ä¹Œæ–¯å‡½æ•°å‰ç¼€å’Œ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        sum[i] = sum[i - <span class="number">1</span>] + mu[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll k;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Ans</span>(<span class="params">ll n, ll m</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    n /= k, m /= k;</span><br><span class="line">    <span class="built_in">int</span> mx = min(n, m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> l = <span class="number">1</span>, r;l &lt;= mx; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = min(n / (n / l), m / (m / l));</span><br><span class="line">        ans += (n / l) \* (m / l) \* (sum[r] - sum[l - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    Mobi();</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        ll n, m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">        cout &lt;&lt; Ans(n, m) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="P2257-YYçš„GCD"><a href="#P2257-YYçš„GCD" class="headerlink" title="P2257 YYçš„GCD"></a><a href="https://www.luogu.com.cn/problem/P2257">P2257 YYçš„GCD</a></h4><p>$$æ±‚è§£\sum_{p\in prime}\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m[gcd(i,j)&#x3D;p]$$ $åæ¼”è¿‡ç¨‹å’Œä¸Šé¢å‡ ä¹ä¸€æ ·ï¼Œå°±å¤šäº†ä¸€ç»´pä¸ºè´¨æ•°çš„æƒ…å†µï¼Œç›´æ¥åŒ–ç®€ä¸ºï¼š$</p><p>$$\sum_{p\in prime}\sum_{d&#x3D;1}^{\left \lfloor min(\left \lfloor \frac{n}{p} \right \rfloor,\left \lfloor \frac{m}{p} \right \rfloor)\right \rfloor}\mu(d)\left \lfloor \frac{n}{pd} \right \rfloor \left \lfloor \frac{m}{pd} \right \rfloor$$</p><p>$è¿™é‡Œçš„å¤æ‚åº¦ä¸ºO(n+T\sqrt n \sqrt n)ï¼Œä½†æ˜æ˜¾ä¸å¤Ÿï¼Œæ‰€ä»¥éœ€è¦ç»§ç»­åŒ–ç®€ï¼Œè¿™é‡Œçš„ä¼˜åŒ–å¯ä»¥ç”¨Tæ›¿æ¢pdï¼Œåˆ™d&#x3D;\frac{T}{p}ï¼Œæ›¿æ¢åçš„å¼å­ä¸ºï¼š$</p><p>$$\sum_{T&#x3D;1}^{min(n,m)})\left \lfloor \frac{n}{T} \right \rfloor \left \lfloor \frac{m}{T} \right \rfloor\sum_{pT\;p\in prime}\mu(\frac{T}{p})$$</p><p>$$ä»¤\ {F(x)&#x3D;\sum_{px\;p\in prime}\mu(\frac{x}{p})}$$</p><p>$å¾—ï¼š$</p><p>$$\sum_{p\in prime}\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m[gcd(i,j)&#x3D;p]&#x3D;\sum_{T&#x3D;1}^{min(n,m)}\left \lfloor \frac{n}{T} \right \rfloor \left \lfloor \frac{m}{T} \right \rfloor F(T)$$</p><p>$\ {O(n)å¤„ç†\muï¼ŒO(nlogn)å¤„ç†Fï¼ŒO(\sqrt n)è¯¢é—®åˆ†å—ï¼Œå³å¤æ‚åº¦ä¸ºO(nlogn + T\sqrt n)}$</p><h2 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"></span><br><span class="line">ll sum[N]; <span class="comment">// è®°å½•è«æ¯”ä¹Œæ–¯å‡½æ•°å‰ç¼€å’Œ</span></span><br><span class="line">ll F[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= cnt; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j \* prime[i] &lt; N; j++) &#123;</span><br><span class="line">            F[j \* prime[i]] += mu[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        F[i] += F[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll k;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Ans</span>(<span class="params">ll N, ll M</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    ll n = N, m = M;</span><br><span class="line">    <span class="built_in">int</span> mx = min(n, m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> l = <span class="number">1</span>, r; l &lt;= mx; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = min(n / (n / l), m / (m / l));</span><br><span class="line">        ans += (n / l) \* (m / l) \* (F[r] - F[l - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    Mobi();</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        ll n, m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        cout &lt;&lt; Ans(n, m) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="P1390-å…¬çº¦æ•°çš„å’Œ"><a href="#P1390-å…¬çº¦æ•°çš„å’Œ" class="headerlink" title="P1390 å…¬çº¦æ•°çš„å’Œ"></a><a href="https://www.luogu.com.cn/problem/P1390">P1390 å…¬çº¦æ•°çš„å’Œ</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;i+1}^ngcd(i,j)$$</p><p>$å…ˆæ¥çœ‹çœ‹åŸºæœ¬å½¢å¼ï¼š$ $$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^ngcd(i,j)$$ $åˆ™\ {ans&#x3D;\frac{Calc(n,n)-\frac{n(n+1)}{2}}{2}}ï¼Œé¦–å…ˆå‡å»gcd(i,i)çš„ä¸ªæ•°\frac{n(n+1)}{2}ï¼Œç„¶åå‡å»gcd(i,j)&#x3D;gcd(j,i)çš„ä¸ªæ•°ï¼Œç›´æ¥é™¤2å³å¯ï¼Œåˆ™ï¼š$ $$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n\sum_{k&#x3D;1}^nk[gcd(i,j)&#x3D;k]$$</p><p>$æšä¸¾kï¼š$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;\left \lfloor \frac{i+1}{k} \right \rfloor}^{\left \lfloor \frac{n}{k} \right \rfloor}[gcd(i,j)&#x3D;1]$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{di\;dj}\mu(d)$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}1$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)(\left \lfloor \frac{n}{kd} \right \rfloor)^2$$</p><p>$ä»¤\ {T&#x3D;kdå¹¶æšä¸¾T}ï¼Œå¾—ï¼š$</p><p>$$\sum_{T&#x3D;1}^n\sum_{dT}\mu(d)\frac{T}{d}(\left \lfloor \frac{n}{T} \right \rfloor)^2$$</p><p>$ä¸­é—´éƒ¨åˆ†æœ‰\ {\sum_{dT}\mu(d)\frac{T}{d}&#x3D;\varphi (T)ï¼Œå› ä¸º\varphi &#x3D;\mu * id}ï¼Œå³å¾—ï¼š$</p><p>$$\sum_{T&#x3D;1}^n\varphi (T)(\left \lfloor \frac{n}{T} \right \rfloor)^2$$</p><p>$åˆ™æœ€ç»ˆç­”æ¡ˆä¸ºï¼š$</p><p>$$\ {ans&#x3D;\frac{\sum_{T&#x3D;1}^n\varphi (T)(\left \lfloor \frac{n}{T} \right \rfloor)^2-\frac{n(n+1)}{2}}{2}}$$</p><p>$\ {O(n)é¢„å¤„ç†\varphiï¼Œ\sqrt nè¯¢é—®åˆ†å—ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(n+\sqrt n)}$</p><h3 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll P = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">2e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> phi[N];</span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> tot;</span><br><span class="line"></span><br><span class="line">ll f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Euler</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    phi[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            phi[i] = i - <span class="number">1</span>;</span><br><span class="line">            prime[++tot] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= tot &amp;&amp; i \* prime[j] &lt; N; j++)&#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j]) &#123;</span><br><span class="line">                phi[i \* prime[j]] = phi[i] \* (prime[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                phi[i \* prime[j]] = phi[i] \* prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        f[i] = f[i - <span class="number">1</span>] + phi[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Calc</span>(<span class="params">ll n</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(ll l = <span class="number">1</span>, r;l &lt;= n;l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = min(n, n / (n / l));</span><br><span class="line">        ans += (f[r] - f[l - <span class="number">1</span>]) \* (n / l) \* (n / l);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    Euler();</span><br><span class="line">    ll n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    cout &lt;&lt; (Calc(n) - n \* (n + <span class="number">1</span>) / <span class="number">2</span>) / <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="P1829-å›½å®¶é›†è®­é˜Ÿ-Crashçš„æ•°å­—è¡¨æ ¼-JZPTAB"><a href="#P1829-å›½å®¶é›†è®­é˜Ÿ-Crashçš„æ•°å­—è¡¨æ ¼-JZPTAB" class="headerlink" title="P1829 [å›½å®¶é›†è®­é˜Ÿ]Crashçš„æ•°å­—è¡¨æ ¼ &#x2F; JZPTAB"></a><a href="https://www.luogu.com.cn/problem/P1829">P1829 [å›½å®¶é›†è®­é˜Ÿ]Crashçš„æ•°å­—è¡¨æ ¼ &#x2F; JZPTAB</a></h3><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^mlcm (i,j)$$</p><p>$ç”±gcdå’Œlcmä¹‹é—´çš„å…³ç³»å¾—ï¼š$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m\frac{ij}{gcd(i,j)}$$</p><p>$$\sum_{k&#x3D;1}^{min(n,m)}\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m\frac{ij}{k}[gcd(i,j)&#x3D;k]$$</p><p>$$\sum_{k&#x3D;1}^{min(n,m)}\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{m}{k} \right \rfloor}\frac{ijk^2}{k}[gcd(i,j)&#x3D;1]$$</p><p>$$\sum_{k&#x3D;1}^{min(n,m)}k\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{m}{k} \right \rfloor}ij\sum_{di\;dj}\mu(d)$$</p><p>$æšä¸¾då¾—ï¼š$</p><p>$$\sum_{k&#x3D;1}^{min(n,m)}k\sum_{d&#x3D;1}^{min(\left \lfloor \frac{n}{k} \right \rfloor,\left \lfloor \frac{m}{k} \right \rfloor)}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}id\sum_{j&#x3D;1}^{\left \lfloor \frac{m}{kd} \right \rfloor}jd$$</p><p>$$\sum_{k&#x3D;1}^{min(n,m)}k\sum_{d&#x3D;1}^{min(\left \lfloor \frac{n}{k} \right \rfloor,\left \lfloor \frac{m}{k} \right \rfloor)}\mu(d)d^2\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}i\sum_{j&#x3D;1}^{\left \lfloor \frac{m}{kd} \right \rfloor}j$$</p><p>$ä»¤\ {f(x)&#x3D;\sum_{i&#x3D;1}^{x}iï¼ŒF(n,m)&#x3D;\sum_{d&#x3D;1}^{min(n,m)}\mu(d)d^2f(\frac{n}{d})f(\frac{m}{d})}ï¼Œå¾—ï¼š$</p><p>$$\sum_{k&#x3D;1}^{min(n,m)}kF(\left \lfloor\frac{n}{k}\right \rfloor,\left \lfloor\frac{m}{k}\right \rfloor)$$</p><p>$\ {O(n)å¤„ç†\mu,O(1)å¤„ç†fï¼ˆç­‰å·®æ•°åˆ—ï¼Œåœ¨è®¡ç®—Fçš„è¿‡ç¨‹ä¸­ç›´æ¥ç›´æ¥è®¡ç®—ï¼‰ï¼ŒO(\sqrt {\sqrt n})åˆ†å—è¯¢é—®Fï¼Œç­”æ¡ˆåˆ†å—è¯¢é—®O(\sqrt n)ï¼Œæ€»å¤æ‚åº¦ä¸ºO(n+n^{\frac{3}{4}})}$</p><h3 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">20101009</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"></span><br><span class="line">ll sum[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        sum[i] = (sum[i - <span class="number">1</span>] + mu[i] \* i % mod \* i % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Ans</span>(<span class="params">ll n, ll m</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    ll inv2 = (mod + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    ll p = min(n, m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> k = <span class="number">1</span>;k &lt;= p; k++) &#123;</span><br><span class="line">        <span class="built_in">int</span> x = n / k, y = m / k, P = min(x, y);</span><br><span class="line">        ll Sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> l = <span class="number">1</span>, r;l &lt;= P; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">            r = min(x / (x / l), (y / (y / l)));</span><br><span class="line">            Sum = (Sum + (sum[r] - sum[l - <span class="number">1</span>] + mod) % mod \* (<span class="number">1</span> + x / l) % mod \* (x / l) % mod \* inv2 % mod \* (<span class="number">1</span> + y / l) % mod \* (y / l) % mod \* inv2 % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = (ans + Sum \* k % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    Mobi();</span><br><span class="line">    ll n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    cout &lt;&lt; Ans(n, m) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="P3768-ç®€å•çš„æ•°å­¦é¢˜"><a href="#P3768-ç®€å•çš„æ•°å­¦é¢˜" class="headerlink" title="P3768 ç®€å•çš„æ•°å­¦é¢˜"></a><a href="https://www.luogu.com.cn/problem/P3768">P3768 ç®€å•çš„æ•°å­¦é¢˜</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^nij(gcd(i,j))\;mod \;p$$ $$\sum_{k&#x3D;1}^n\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^nijk[gcd(i,j)&#x3D;k]$$</p><p>$$\sum_{k&#x3D;1}^nk\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}ijk^2[gcd(i,j)&#x3D;1]$$</p><p>$$\sum_{k&#x3D;1}^nk^3\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}ij\sum_{di\;dj}\mu(d)$$</p><p>$$\sum_{k&#x3D;1}^nk^3\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}id\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}jd$$</p><p>$$\sum_{k&#x3D;1}^nk^3\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)d^2\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}i\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}j$$</p><p>$ä»¤\ {f(x)&#x3D;\sum_{i&#x3D;1}^xi}ï¼Œåˆ™å¼å­å˜ä¸ºï¼š$</p><p>$$\sum_{k&#x3D;1}^nk^3\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)d^2f^2(\frac{n}{kd})$$</p><p>$åˆ°è¿™é‡Œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n+n\sqrt n)ï¼Œæˆ‘æ²¡å°è¯•è¿‡ï¼Œä½†æ˜¯è¿˜å¯ä»¥ç»§ç»­åŒ–ç®€ï¼ŒåŒ–ç®€æ–¹æ³•æœ‰æ›¿æ¢ï¼Œç”¨Tæ›¿æ¢kdï¼Œåˆ™ï¼š$</p><p>$$\sum_{T&#x3D;1}^nf^2(\frac{n}{T})T^2\sum_{kT}k*\mu(\frac{T}{k})$$</p><p>$$\sum_{T&#x3D;1}^nf^2(\frac{n}{T})T^2\ {(id*\mu)T}$$</p><p>$$\sum_{T&#x3D;1}^nf^2(\frac{n}{T})T^2\ {\varphi (T)}$$</p><p>$\ {å¯ä»¥æœæ•™ç­›ç­›T^2\varphi (T)çš„å‰ç¼€å’Œï¼Œå› ä¸ºnæœ€é«˜æœ‰10^{10}ï¼Œæ˜æ˜¾æ•°ç»„å­˜ä¸ä¸‹ï¼Œæ‰€ä»¥å¯¹äº5e6å¯ä»¥ç”¨æ•°ç»„ç›´æ¥è¿‡åº¦æ±‚å‰ç¼€å’Œï¼Œå¯¹äºåé¢å°±å¯ä»¥ç”¨æœæ•™ç­›æ±‚å‰ç¼€å’Œï¼Œç„¶åç”¨mapå­˜ä¸‹ï¼ˆSTLçš„å¥½å¤„ï¼‰ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š}$</p><p>$å‚è€ƒï¼š$<a href="https://www.luogu.com.cn/blog/Althen-Way-Satan/mu-bi-wu-si-fan-yan-yu-du-jiao-shai">æœæ•™ç­›</a></p><p>$å…ˆçœ‹æœæ•™ç­›çš„åŸºæœ¬å½¢å¼(ä¸ä¸Šé¢æ— å…³)ï¼šè®¾S(n)&#x3D;\sum_{i&#x3D;1}^{n}f(i)ï¼Œå®šä¹‰ä¸€ä¸ªæ–°å‡½æ•°ä¸ºgï¼Œåˆ™æœ‰$</p><p>$$\sum_{i&#x3D;1}^n(f*g)i$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{xy&#x3D;i}f(x)g(y)$$</p><p>$$\sum_{y&#x3D;1}^ng(y)\sum_{xy\leq n}f(x)$$</p><p>$$\sum_{y&#x3D;1}^ng(y)\sum_{x&#x3D;1}^{\left \lfloor \frac{n}{y} \right \rfloor}f(x)$$</p><p>$$\sum_{y&#x3D;1}^ng(y)S(\left \lfloor \frac{n}{y} \right \rfloor)$$</p><p>$åˆ™æœ‰ï¼š$</p><p>$$\sum_{i&#x3D;1}^n(f*g)i&#x3D;g(1)S(n)+\sum_{y&#x3D;2}^ng(y)S(\left \lfloor \frac{n}{y} \right \rfloor)$$</p><p>$$\ {S(n)&#x3D;\frac{\sum_{i&#x3D;1}^n(f*g)i-\sum_{y&#x3D;2}^ng(y)S(\left \lfloor \frac{n}{y} \right \rfloor)}{g(1)}}$$</p><p>$å¯¹äºæœ¬é¢˜ï¼Œè¦æ‰¾åˆ°åˆé€‚çš„gå‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬æ±‚çš„å‰ç¼€å’Œä¸ºS(n)&#x3D;\sum_{i&#x3D;1}^ni^2\varphi(i),f(i)&#x3D;i^2\varphi(i)ï¼Œæ‰€ä»¥è®¾g(n)&#x3D;n^2ã€‚$</p><p>$\sum_{i&#x3D;1}^ng(i)&#x3D;\frac{x(x+1)(2x+1)}{6}$</p><p>$(f*g)x&#x3D;\sum_{dx}f(d)g(\frac{x}{d})&#x3D;\sum_{dx}d^2\varphi(d)\frac{x^2}{d^2}&#x3D;x^2\sum_{dx}\varphi(d)&#x3D;x^2id(x)&#x3D;x^3$</p><p>$\sum_{i&#x3D;1}^n(f*g)i&#x3D;\sum_{i&#x3D;1}^ni^3&#x3D;\frac{x^2(x+1)^2}{4}$</p><p>$$\ {S(n)&#x3D;\frac{n^2(n+1)^2}{4}-\sum_{y&#x3D;2}^ng(y)S(\left \lfloor \frac{n}{y} \right \rfloor)}$$</p><p>$\ {O(n^{\frac{2}{3}})å¤„ç†T^2\varphi (T)çš„å‰ç¼€å’Œï¼Œfå¯ä»¥O(1)ç®—å‡ºï¼ŒO(\sqrt n) è¯¢é—®åˆ†å—ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(n^\frac{2}{3})}$</p><h3 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">5e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll n, mod, inv4, inv6;</span><br><span class="line">ll phi[N];</span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> tot;</span><br><span class="line"></span><br><span class="line">ll sum[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Get\_phi() &#123;</span><br><span class="line">    phi[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt;= N; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            phi[i] = i - <span class="number">1</span>;</span><br><span class="line">            prime[++tot] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= tot &amp;&amp; i \* prime[j] &lt; N; j++)&#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j]) &#123;</span><br><span class="line">                phi[i \* prime[j]] = phi[i] \* (prime[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                phi[i \* prime[j]] = phi[i] \* prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        sum[i] = (sum[i - <span class="number">1</span>] + (ll)phi[i] \* i % mod \* i % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans \* a % mod;</span><br><span class="line">        a = a \* a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">sum1</span>(<span class="params">ll x</span>)</span> &#123;x %= mod; <span class="keyword">return</span> (<span class="number">1</span> + x) % mod \* x % mod \* (<span class="number">1</span> + x) % mod \* x % mod \* inv4 % mod;&#125;</span><br><span class="line"><span class="function">ll <span class="title">sum2</span>(<span class="params">ll x</span>)</span> &#123;x %= mod; <span class="keyword">return</span> x % mod \* (<span class="number">1</span> + x) % mod \* (<span class="number">2</span> \* x + <span class="number">1</span>) % mod \* inv6 % mod;&#125;</span><br><span class="line"></span><br><span class="line">map&lt;ll, ll&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Calc</span>(<span class="params">ll x</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; N) <span class="keyword">return</span> sum[x];</span><br><span class="line">    <span class="keyword">if</span>(mp[x]) <span class="keyword">return</span> mp[x];</span><br><span class="line">    ll num = sum1(x);</span><br><span class="line">    <span class="keyword">for</span>(ll l = <span class="number">2</span>, r;l &lt;= x;l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = x / (x / l);</span><br><span class="line">        num = (num - Calc(x / l) % mod \* (sum2(r) - sum2(l - <span class="number">1</span>) + mod) % mod + mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mp[x] = num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Ans</span>()</span> &#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll l = <span class="number">1</span>, r;l &lt;= n; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = n / (n / l);</span><br><span class="line">        ans = (ans + sum1(n / l) % mod \* (Calc(r) - Calc(l - <span class="number">1</span>) % mod + mod) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    cin &gt;&gt; mod &gt;&gt; n;</span><br><span class="line">    Get\_phi();</span><br><span class="line">    inv4 = quick\_pow(<span class="number">4</span>, mod - <span class="number">2</span>);</span><br><span class="line">    inv6 = quick\_pow(<span class="number">6</span>, mod - <span class="number">2</span>);</span><br><span class="line">    cout &lt;&lt; Ans() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="P3327-SDOI2015-çº¦æ•°ä¸ªæ•°å’Œ"><a href="#P3327-SDOI2015-çº¦æ•°ä¸ªæ•°å’Œ" class="headerlink" title="P3327 [SDOI2015]çº¦æ•°ä¸ªæ•°å’Œ"></a><a href="https://www.luogu.com.cn/problem/P3327">P3327 [SDOI2015]çº¦æ•°ä¸ªæ•°å’Œ</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^md (ij)$$</p><p>$$\ {çº¦æ•°çš„é‡è¦æ€§è´¨:(ij)&#x3D;\sum_{xi}\sum_{yj}[gcd(x,y )&#x3D;1]}$$</p><p><a href="https://www.cnblogs.com/sun123zxy/p/12295533.html">https://www.cnblogs.com/sun123zxy/p/12295533.html</a></p><p>$å¾—ï¼š$ $$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m\sum_{xi}\sum_{yj}[gcd(x,y )&#x3D;1]$$</p><p>$æ”¹å˜æšä¸¾é¡ºåºï¼Œæšä¸¾xå’Œy:$</p><p>$$\sum_{x&#x3D;1}^n\sum_{y&#x3D;1}^m\left \lfloor \frac{n}{x} \right \rfloor\left \lfloor \frac{n}{y} \right \rfloor[gcd(x,y)&#x3D;1]$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m\left \lfloor \frac{n}{i} \right \rfloor\left \lfloor \frac{n}{j} \right \rfloor[gcd(i,j)&#x3D;1]$$</p><p>$åé¢å¥—ç”¨å‰é¢å¾—ï¼š$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m\left \lfloor \frac{n}{i} \right \rfloor\left \lfloor \frac{n}{j} \right \rfloor\sum_{di\;dj}\mu(d)$$</p><p>$æšä¸¾då¾—ï¼š$</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}\mu(d)\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m\left \lfloor \frac{n}{i} \right \rfloor\left \lfloor \frac{n}{j} \right \rfloor[dgcd(i,j)]$$</p><p>$ç”±äº[dgcd(i,j)]æˆç«‹çš„æ¡ä»¶ä¸ºdæ˜¯gcd(i,j)çš„çº¦æ•°ï¼Œæ‰€ä»¥å¯ä»¥æŠŠæšä¸¾i,jå˜æ¢ä¸ºæšä¸¾di,djï¼Œä»è€Œ[1gcd(i,j)]å¯ä»¥çœç•¥ã€‚å¾—ï¼š$</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor\frac{m}{d}\right \rfloor}\left \lfloor \frac{n}{id} \right \rfloor\left \lfloor \frac{n}{jd} \right \rfloor$$</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor}\left \lfloor \frac{n}{id} \right \rfloor\sum_{j&#x3D;1}^{\left \lfloor\frac{m}{d}\right \rfloor}\left \lfloor \frac{n}{jd} \right \rfloor$$</p><p>$ä»¤\ {f(x)&#x3D;\sum_{i&#x3D;1}^x\left \lfloor \frac{x}{i} \right \rfloor}ï¼Œåˆ™ï¼š$</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}\mu(d)f(\frac{n}{d})f(\frac{m}{d})$$</p><p>$\ {O(n)å¤„ç†\muå’Œå…¶å‰ç¼€å’Œï¼ŒO(n\sqrt n)å¤„ç†fï¼ŒO(\sqrt n)è¯¢é—®åˆ†å—ï¼Œæ€»å¤æ‚åº¦ä¸ºO(n\sqrt n+T\sqrt n)}$</p><h3 id="Code-5"><a href="#Code-5" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">5e4</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"></span><br><span class="line">ll f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        mu[i] += mu[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> l = <span class="number">1</span>, r;l &lt;= i; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">            r = i / (i / l);</span><br><span class="line">            ans += (r - l + <span class="number">1</span>) \* (i / l);</span><br><span class="line">        &#125;</span><br><span class="line">        f[i] = ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Ans</span>(<span class="params">ll n, ll m</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    ll k = min(n, m);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(ll l = <span class="number">1</span>, r;l &lt;= k; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = min(n / (n / l), m / (m / l));</span><br><span class="line">        ans += (mu[r] - mu[l - <span class="number">1</span>]) \* f[m / l] \* f[n / l];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    Mobi();</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        ll n, m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        cout &lt;&lt; Ans(n, m) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="P3312-SDOI2014-æ•°è¡¨"><a href="#P3312-SDOI2014-æ•°è¡¨" class="headerlink" title="P3312 [SDOI2014]æ•°è¡¨"></a><a href="https://www.luogu.com.cn/problem/P3312">P3312 [SDOI2014]æ•°è¡¨</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m\sum_{di\;dj}d[\sum_{di\;dj}d\leq a]$$</p><p>$ä»¤\ {F(x)&#x3D;\sum_{ix}i}ï¼Œåˆ™å¾—ï¼š$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m F(gcd(i,j))[F(gcd(i,j))\leq a]$$</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m F(d)[gcd(i,j)&#x3D;d][F(d)\leq a]$$</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}F(d)[F(d)\leq a]\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^m[gcd(i,j)&#x3D;d]$$</p><p>$ååŠéƒ¨åˆ†å°±å¥—ç”¨å‰é¢å¾—ï¼š$</p><p>$$\sum_{d&#x3D;1}^{min(n,m)}F(d)[F(d)\leq a]\sum_{d^{â€˜}&#x3D;1}^{min(\left \lfloor \frac{n}{d} \right \rfloor, \left \lfloor \frac{m}{d} \right \rfloor)}\mu(d^{â€˜})\left \lfloor \frac{n}{dd^{â€˜}} \right \rfloor \left \lfloor \frac{m}{dd^{â€˜}} \right \rfloor$$</p><p>$ä»¤Tæ›¿æ¢dd^{â€˜}å¾—ï¼š$</p><p>$$\sum_{T&#x3D;1}^{min(n,m)}\sum_{dT}F(d)\mu(\frac{T}{d})\left \lfloor \frac{n}{T} \right \rfloor \left \lfloor \frac{m}{T} \right \rfloor[F(d)\leq a]$$</p><p>$$\sum_{T&#x3D;1}^{min(n,m)}\left \lfloor \frac{n}{T} \right \rfloor \left \lfloor \frac{m}{T} \right \rfloor\sum_{dT}F(d)\mu(\frac{T}{d})[F(d)\leq a]$$</p><p>$ä»¤\ {f(x)&#x3D;\sum_{dx}F(d)\mu(\frac{x}{d})[F(d)\leq a]}å¾—ï¼š$</p><p>$$\sum_{T&#x3D;1}^{min(n,m)}\left \lfloor \frac{n}{T} \right \rfloor \left \lfloor \frac{m}{T} \right \rfloor f(T)$$</p><p>$\ {O(n)å¤„ç†\muï¼ŒO(nlogn)å¤„ç†Fï¼Œå¯¹äºæ¯æ¬¡è¯¢é—®çš„aå€¼å¯ä»¥ç¦»çº¿æ’åºï¼Œæ ‘çŠ¶æ•°ç»„ç»´æŠ¤fï¼Œå¤„ç†æ—¶é—´ä¸ºO(nlog^{2}n)ï¼ŒO(\sqrt n\; logn)è¯¢é—®åˆ†å—ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(nlog^2n)+T\sqrt n\; logn}$</p><h3 id="Code-6"><a href="#Code-6" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lc u &lt;&lt; 1</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> rc u &lt;&lt; 1  1</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> m (l + r) / 2</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mid (t[u].l + t[u].r) / 2</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double PI = acos(-1);</span></span><br><span class="line"><span class="comment">// const double R = 0.57721566490153286060651209;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e5</span> + <span class="number">1</span>;</span><br><span class="line">ll mod = (<span class="number">1l</span>l \* <span class="number">1</span>) &lt;&lt; <span class="number">31</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> node &#123;</span><br><span class="line">    <span class="built_in">int</span> id;</span><br><span class="line">    ll data;</span><br><span class="line">&#125;F[N];</span><br><span class="line"><span class="keyword">struct</span> Node &#123;</span><br><span class="line">    <span class="built_in">int</span> nn, mm, id;</span><br><span class="line">    ll a;</span><br><span class="line">&#125;q[N];</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> cnt, prime[N];</span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> mu[N];</span><br><span class="line"></span><br><span class="line"><span class="built_in">bool</span> cmp\_F(node a, node b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.data &lt; b.data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">bool</span> cmp\_Q(Node a, Node b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.a &lt; b.a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">inline <span class="keyword">void</span> <span class="title">init</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        F[i].id = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j \* i &lt; N; j++) &#123;</span><br><span class="line">            F[i \* j].data += i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(F + <span class="number">1</span>, F + N, cmp\_F);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll t[N];</span><br><span class="line">ll ans[N];</span><br><span class="line"></span><br><span class="line"><span class="function">inline <span class="keyword">void</span> <span class="title">add</span>(<span class="params"><span class="built_in">int</span> x, <span class="built_in">int</span> v</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(x &lt; N) &#123;</span><br><span class="line">        t[x] = (t[x] + v) % mod;</span><br><span class="line">        <span class="keyword">if</span>(t[x] &gt; mod)</span><br><span class="line">            t[x] %= mod;</span><br><span class="line">        x += lowbit(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">inline ll <span class="title">query</span>(<span class="params"><span class="built_in">int</span> x</span>)</span> &#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x) &#123;</span><br><span class="line">        ans = (ans + t[x]) % mod;</span><br><span class="line">        <span class="keyword">if</span>(ans &gt; mod)</span><br><span class="line">            ans %= mod;</span><br><span class="line">        x -= lowbit(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">inline ll <span class="title">Calc</span>(<span class="params"><span class="built_in">int</span> nn, <span class="built_in">int</span> mm</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(nn &gt; mm)</span><br><span class="line">        swap(nn, mm);</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> l = <span class="number">1</span>, r;l &lt;= nn; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = min(nn / (nn / l), mm / (mm / l));</span><br><span class="line">        ans = (ans + <span class="number">1l</span>l \* (nn / l) \* (mm / l) % mod \* (query(r) - query(l - <span class="number">1</span>)) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//struct SegMent &#123;</span></span><br><span class="line"><span class="comment">//    int l, r;</span></span><br><span class="line"><span class="comment">//    int sum;</span></span><br><span class="line"><span class="comment">//&#125;t[N &lt;&lt; 2];</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//void push\_up(int u) &#123;</span></span><br><span class="line"><span class="comment">//    t[u].sum = t[lc].sum + t[rc].sum;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//void build(int u, int l, int r) &#123;</span></span><br><span class="line"><span class="comment">//    t[u].l = l;</span></span><br><span class="line"><span class="comment">//    t[u].r = r;</span></span><br><span class="line"><span class="comment">//    if(l == r) &#123;</span></span><br><span class="line"><span class="comment">//        t[u].sum = a[l];</span></span><br><span class="line"><span class="comment">//        return ;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    build(lc, l, m);</span></span><br><span class="line"><span class="comment">//    build(rc, m + 1, r);</span></span><br><span class="line"><span class="comment">//    push\_up(u);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//void update(int u, int p, int v) &#123;</span></span><br><span class="line"><span class="comment">//    if(t[u].l == t[u].r) &#123;</span></span><br><span class="line"><span class="comment">//        t[u].sum += v;</span></span><br><span class="line"><span class="comment">//        return ;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    if(p &lt;= mid) update(lc, p, v);</span></span><br><span class="line"><span class="comment">//    else update(rc, p, v);</span></span><br><span class="line"><span class="comment">//    push\_up(u);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//int query(int u, int ql, int qr) &#123;</span></span><br><span class="line"><span class="comment">//    if(ql &lt;= t[u].l &amp;&amp; t[u].r &lt;= qr) &#123;</span></span><br><span class="line"><span class="comment">//        return t[u].sum;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    int ans = 0;</span></span><br><span class="line"><span class="comment">//    if(ql &lt;= mid)</span></span><br><span class="line"><span class="comment">//        ans += query(lc, ql, qr);</span></span><br><span class="line"><span class="comment">//    if(qr &gt; mid)</span></span><br><span class="line"><span class="comment">//        ans += query(rc, ql, qr);</span></span><br><span class="line"><span class="comment">//    return ans;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">init</span>();</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    scanf(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= T; i++) &#123;</span><br><span class="line">        scanf(<span class="string">&quot;%d%d%lld&quot;</span>,&amp;q[i].nn,&amp;q[i].mm, &amp;q[i].a);</span><br><span class="line">        q[i].id = i;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(q + <span class="number">1</span>, q + T + <span class="number">1</span>, cmp\_Q);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">int</span> now = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= T; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(now &lt; N &amp;&amp; F[now].data &lt;= q[i].a) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j \* F[now].id &lt; N; j++) &#123;</span><br><span class="line">                <span class="keyword">add</span>(j \* F[now].id, mu[j] \* F[now].data);</span><br><span class="line">            &#125;</span><br><span class="line">            now++;</span><br><span class="line">        &#125;</span><br><span class="line">        ans[q[i].id] = (Calc(q[i].nn, q[i].mm) % mod + mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= T; i++) &#123;</span><br><span class="line">        printf(<span class="string">&quot;%lld\n&quot;</span>,ans[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="P3172-CQOI2015-é€‰æ•°"><a href="#P3172-CQOI2015-é€‰æ•°" class="headerlink" title="P3172 [CQOI2015]é€‰æ•°"></a><a href="https://www.luogu.com.cn/problem/P3172">P3172 [CQOI2015]é€‰æ•°</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;L}^H\sum_{j&#x3D;L}^Hâ€¦\sum_{x&#x3D;L}^H[gcd(i,jâ€¦x)&#x3D;k]$$</p><p>$æœ¬é¢˜æ±‚nä¸ªæ•°çš„gcdä¸ºkçš„ä¸ªæ•°ï¼Œæ ¹æ®ä¸Šé¢å¥—è·¯ï¼Œå°†H&#x2F;k,L&#x2F;kï¼Œè¿™æ ·å°±åªç”¨æ±‚nä¸ªæ•°çš„gcdä¸º1çš„ä¸ªæ•°äº†ï¼Œæ³¨æ„ï¼šå¦‚æœLæ•´é™¤kï¼Œåˆ™L&#x3D;L&#x2F;kï¼Œå¦åˆ™L&#x3D;L&#x2F;k+1ï¼Œå°±æ˜¯å‘ä¸Šå–æ•´ï¼Œé‚£ä¹ˆæœ‰ä¸€ç§åŠæ³•éå¸¸å¥½ï¼Œå°±è®©\ {L&#x2F;k+(\frac{k-1}{k})}ï¼Œå³ï¼š$</p><p>$$\sum_{i&#x3D;{\left \lfloor \frac{L-1}{k} \right \rfloor+1}}^{\left \lfloor \frac{H}{k}\right \rfloor}\sum_{j&#x3D;{\left \lfloor \frac{L-1}{k} \right \rfloor+1}}^{\left \lfloor \frac{H}{k}\right \rfloor}â€¦\sum_{x&#x3D;{\left \lfloor \frac{L-1}{k} \right \rfloor+1}}^{\left \lfloor \frac{H}{k}\right \rfloor}[gcd(i,jâ€¦x)&#x3D;1]$$</p><p>$$\sum_{i&#x3D;{\left \lfloor \frac{L-1}{k} \right \rfloor+1}}^{\left \lfloor \frac{H}{k}\right \rfloor}\sum_{j&#x3D;{\left \lfloor \frac{L-1}{k} \right \rfloor+1}}^{\left \lfloor \frac{H}{k}\right \rfloor}â€¦\sum_{x&#x3D;{\left \lfloor \frac{L-1}{k} \right \rfloor+1}}^{\left \lfloor \frac{H}{k}\right \rfloor}\sum_{di\;dj\;..\;dx}\mu(d)$$</p><p>$æšä¸¾dï¼Œä»¤\ {l&#x3D;\left \lfloor \frac{L-1}{k} \right \rfloor+1,r&#x3D;\left \lfloor \frac{H}{k}\right \rfloor}ï¼š$</p><p>$$\sum_{d&#x3D;1}^r\mu(d)\sum_{i&#x3D;l}^r[di]\sum_{j&#x3D;l}^r[dj]â€¦\sum_{x&#x3D;l}^r[dx]$$</p><p>$åªæœ‰å½“iï¼Œjâ€¦xéƒ½æ˜¯dçš„å€æ•°çš„æ—¶å€™ï¼Œæœ€ç»ˆç­”æ¡ˆ+1ï¼Œæ ¹æ®å®¹æ–¥åŸç†ï¼Œé‚£ä¹ˆåœ¨[l,r]ä¸­då€æ•°æœ‰\ {\frac{r}{d}-\frac{l-1}{d}}ï¼Œå¯¹äºæ‰€æœ‰çš„iï¼Œjâ€¦xï¼Œä»–ä»¬å½“ä¸­æ‰€æœ‰[l,r]çš„dçš„å€æ•°çš„ä¸ªæ•°æœ‰\ {(\frac{r}{d}-\frac{l-1}{d})^n}ï¼Œå³ä¸ºï¼š$</p><p>$$\sum_{d&#x3D;1}^{r}\mu(d)*(\frac{r}{d}-\frac{l-1}{d})^n$$</p><p>$è¿™é‡Œçš„Héå¸¸å¤§ï¼Œå¦‚æœç”¨çº¿æ€§ç­›å»å¤„ç†\muï¼Œä¼šç›´æ¥Waæ‰ï¼Œå› ä¸ºæ²¡æ³•å¤„ç†åˆ°10^9æ¬¡æ–¹é‚£ä¹ˆå¤§çš„å‰ç¼€å’Œï¼Œæ•°ç»„ä¹Ÿå¼€ä¸äº†é‚£ä¹ˆå¤§ã€‚åæœï¼š$</p><p><img src="https://img-blog.csdnimg.cn/20200815153844583.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Z6dHNpbGx5,size_16,color_FFFFFF,t_70##pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> $è¿™é‡Œçš„ACå¯èƒ½å°±æ˜¯ä¸€å°éƒ¨åˆ†çš„è¿æ°”ç½¢äº†ã€‚å¦‚æœç”¨çº¿æ€§ç­›ï¼ŒREçš„REï¼ŒWAçš„WAï¼Œæ‰€ä»¥æ¨èç”¨æœæ•™ç­›å–ç­›ã€‚$</p><p>$\ {è®¾f(d)&#x3D;\mu(d),S(r)&#x3D;\sum_{d&#x3D;1}^nf(d)ï¼Œè¿™é‡Œçš„Så°±æ˜¯è¦æ±‚çš„å‰ç¼€å’Œã€‚}$ $æˆ‘ä»¬é€‰æ‹©\ {g&#x3D;I},åˆ™\sum_{i&#x3D;1}^r(f*g)i&#x3D;\sum_{i&#x3D;1}^r(\mu*I)i&#x3D;\sum_{i&#x3D;1}^r\varepsilon (i)&#x3D;1ã€‚$</p><p>$æšä¸¾yï¼š$</p><p>$$\sum_{y&#x3D;1}^rg(y)\sum_{x&#x3D;1}^{\left \lfloor \frac{r}{y} \right \rfloor)}f(x)$$</p><p>$$\sum_{y&#x3D;1}^rg(y)S(\left \lfloor \frac{r}{y} \right \rfloor)$$</p><p>$$\sum_{i&#x3D;1}^r(f*g)i &#x3D;g(1)S(r)+\sum_{y&#x3D;2}^rg(y)S(\left \lfloor \frac{r}{y} \right \rfloor)$$</p><p>$$S(r)&#x3D;\frac{\sum_{i&#x3D;1}^r(f*g)i-\sum_{y&#x3D;2}^rg(y)S(\left \lfloor \frac{r}{y} \right \rfloor)}{g(1)}$$</p><p>$å½“g&#x3D;Iæ—¶ï¼Œå³ï¼š$</p><p>$$\ {S(r)&#x3D;1-\sum_{y&#x3D;2}^rS(\left \lfloor \frac{r}{y} \right \rfloor)}$$</p><p>$\ {æœæ•™ç­›çš„å¤æ‚åº¦ä¸ºO(n\frac{2}{3})ï¼Œæ¯”çº¿æ€§ç­›è¿˜è¦å¿«ä¸€ç‚¹ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(n^{\frac{2}{3}})ã€‚}$</p><h3 id="Code-7"><a href="#Code-7" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line">ll sum[N];</span><br><span class="line"></span><br><span class="line">ll n, L, H, k;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans \* a % mod;</span><br><span class="line">        a = a \* a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        sum[i] = (sum[i - <span class="number">1</span>] + mu[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map&lt;ll , ll&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Calc</span>(<span class="params">ll x</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; N)</span><br><span class="line">        <span class="keyword">return</span> sum[x];</span><br><span class="line">    <span class="keyword">if</span>(mp[x])</span><br><span class="line">        <span class="keyword">return</span> mp[x];</span><br><span class="line">    ll num = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> l = <span class="number">2</span>, r;l &lt;= x; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = x / (x / l);</span><br><span class="line">        num = (num - Calc(x / l) \* (r - l + <span class="number">1</span>) % mod + mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mp[x] = num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Ans</span>()</span> &#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll l = <span class="number">1</span>, r;l &lt;= H;l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = min(H / (H / l), (L / l) ? L / (L / l) : H + <span class="number">2</span>);</span><br><span class="line">        ans = (ans + (Calc(r) - Calc(l - <span class="number">1</span>) + mod) % mod \* quick\_pow((H / l) - (L / l), n) % mod + mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (ans + mod) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k &gt;&gt; L &gt;&gt; H;</span><br><span class="line">    L = (L - <span class="number">1</span>) / k; <span class="comment">// å› ä¸ºåé¢éœ€è¦L-1ï¼Œæ‰€ä»¥è¿™é‡Œå¹²è„†å°±ä¸+1äº†ï¼Œä½†æ˜¯å«ä¹‰ä¸åŒ</span></span><br><span class="line">    H = H / k;</span><br><span class="line">    Mobi();</span><br><span class="line">    cout &lt;&lt; Ans() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="AT5200-AGC038C-LCMs"><a href="#AT5200-AGC038C-LCMs" class="headerlink" title="AT5200 [AGC038C] LCMs"></a><a href="https://www.luogu.com.cn/problem/AT5200">AT5200 [AGC038C] LCMs</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^{N}\sum_{j&#x3D;1}^Nlcm(A_i,A_j)$$</p><p>$è«æ¯”ä¹Œæ–¯åæ¼”å¤„ç†çš„ä¸€èˆ¬éƒ½æ˜¯æšä¸¾å˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è®©A_iå’ŒA_jå˜ä¸ºiå’Œjçš„å½¢å¼ã€‚$</p><p>$æƒ³è¦ç”¨iå’Œjè¡¨ç¤ºA_iå’ŒA_jå¹¶ä¸”ä¸é—æ¼ä»»ä½•çš„Aï¼Œæ‰€ä»¥è®©Aç­‰äºæŸä¸ªiï¼Œå°±æ˜¯è®©cnt_i&#x3D;\ {\sum_{d&#x3D;1}^N[A_d&#x3D;i]}ï¼Œç»Ÿè®¡æ‰€æœ‰Aç­‰äºæŸä¸ªiçš„ä¸ªæ•°ï¼Œå³cnt_iï¼Œjä¹ŸåŒæ ·å¦‚æ­¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š$</p><p>$$\sum_{i&#x3D;1}^{N}\sum_{j&#x3D;1}^Ncnt_icnt_jlcm(i,j)$$</p><p>$è¿™æ ·è¿˜ä¸å¤Ÿï¼Œå› ä¸ºiåªèƒ½æ˜¯[1,N]çš„ï¼Œå½“Aiä¸­æœ‰äº›å€¼å¤§äºNçš„è¯ï¼Œå†æšä¸¾iä»[1,N]å°±ä¼šæ¼æ‰å¤§äºNçš„Aiçš„æƒ…å†µï¼Œæ‰€ä»¥æƒ³è¦ç»Ÿè®¡æ‰€æœ‰æƒ…å†µï¼Œå³è®©N&#x3D;Aiä¸­æœ€å¤§çš„æ•°å³å¯ï¼Œå³\ {M&#x3D;\max_{i&#x3D;1}^N }ã€‚$ $æ‰€ä»¥æˆ‘ä»¬éœ€è¦åæ¼”çš„å¼å­ä¸ºï¼š$</p><p>$$\sum_{i&#x3D;1}^{M}\sum_{j&#x3D;1}^Mcnt_i â‹…cnt_j â‹…lcm(i,j)$$</p><p>$$\sum_{i&#x3D;1}^{M}\sum_{j&#x3D;1}^Mcnt_i â‹…cnt_j â‹…\frac{ij}{gcd(i,j)}$$</p><p>$$\sum_{k&#x3D;1}^M\sum_{i&#x3D;1}^{M}\sum_{j&#x3D;1}^Mcnt_i â‹…cnt_j â‹…\frac{ij}{k[gcd(i,j)&#x3D;k]}$$</p><p>$$\sum_{k&#x3D;1}^M\sum_{i&#x3D;1}^{\left \lfloor \frac{M}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{M}{k} \right \rfloor}cnt_{ik} â‹…cnt_{jk} â‹…\frac{ijk^2}{k}[gcd(i,j)&#x3D;1]$$</p><p>$$\sum_{k&#x3D;1}^Mk\sum_{i&#x3D;1}^{\left \lfloor \frac{M}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{M}{k} \right \rfloor}cnt_{ik} â‹…cnt_{jk} â‹…i â‹…j\sum_{di\;dj}\mu(d)$$</p><p>$$\sum_{k&#x3D;1}^Mk\sum_{d&#x3D;1}^{\left \lfloor \frac{M}{k} \right \rfloor}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{M}{kd} \right \rfloor}cnt_{ikd} â‹…id\sum_{j&#x3D;1}^{\left \lfloor \frac{M}{kd} \right \rfloor}cnt_{jkd} â‹…jd$$</p><p>$$\sum_{k&#x3D;1}^Mk\sum_{d&#x3D;1}^{\left \lfloor \frac{M}{k} \right \rfloor}\mu(d)d^2(\sum_{i&#x3D;1}^{\left \lfloor \frac{M}{kd} \right \rfloor}cnt_{ikd} â‹…i)^2$$</p><p>$ä»¤T&#x3D;kdåˆ™ï¼š$</p><p>$$\sum_{T&#x3D;1}^M(\sum_{i&#x3D;1}^{\left \lfloor \frac{M}{T} \right \rfloor}cnt_{iT} â‹…i)^2\sum_{kT}\mu(k)k^2\frac{T}{k}$$</p><p>$$\sum_{T&#x3D;1}^MT(\sum_{i&#x3D;1}^{\left \lfloor \frac{M}{T} \right \rfloor}cnt_{iT} â‹…i)^2\sum_{kT}\mu(k)k$$</p><p>$ä»¤\ {f(x)&#x3D;\sum_{ix}\mu(i)i\;,\;g(x)&#x3D;\sum_{i&#x3D;1}^{\left \lfloor \frac{M}{x} \right \rfloor}cnt_{ix} â‹…i&#x3D;\frac{1}{x}\sum_{xt}tcnt_t},åˆ™æœ€åçš„å¼å­ä¸ºï¼š$</p><p>$$\sum_{T&#x3D;1}^MTg^2(T)f(T)$$</p><p>$\ {O(n)å¤„ç†Açš„æ¬¡æ•°ï¼ŒO(nlogn)å¤„ç†få’Œgï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)}$</p><h3 id="Code-8"><a href="#Code-8" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> tot;</span><br><span class="line">ll f[N], g[N];</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> M, n;</span><br><span class="line"><span class="built_in">int</span> cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++tot] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= tot &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= M; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> x = i;x &lt;= M; x += i) &#123;</span><br><span class="line">            f[x] += mu[i] \* i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> x = <span class="number">1</span>;x &lt;= M; x++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> t = x;t &lt;= M; t += x) &#123;</span><br><span class="line">            g[x] += t \* cnt[t];</span><br><span class="line">        &#125;</span><br><span class="line">        g[x] /= x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    M = n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">int</span> x;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        cnt[x]++;</span><br><span class="line">        M = max(M, x);</span><br><span class="line">    &#125;</span><br><span class="line">    Mobi();</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt;= M; i++) &#123;</span><br><span class="line">        ans += i \* g[i] \* g[i] \* f[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="SP5971-LCMSUM-LCM-Sum"><a href="#SP5971-LCMSUM-LCM-Sum" class="headerlink" title="SP5971 LCMSUM - LCM Sum"></a><a href="https://www.luogu.com.cn/problem/SP5971">SP5971 LCMSUM - LCM Sum</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^nlcm(i,n)$$</p><p>$\left \lfloor \frac{n}{k} \right \rfloor$</p><p>$$\sum_{i&#x3D;1}^n\frac{in}{gcd(i,n)}$$</p><p>$$\sum_{k&#x3D;1}^n\sum_{i&#x3D;1}^n\frac{in}{k[gcd(i,n)&#x3D;k]}$$</p><p>$$\sum_{k&#x3D;1}^n\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}in[gcd(i,\frac{n}{k})&#x3D;1]$$</p><p>$$n\sum_{k&#x3D;1}^n\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}i[gcd(i,\frac{n}{k})&#x3D;1]$$</p><p>$$n\sum_{kn}\sum_{i&#x3D;1}^ki[gcd(i,k)&#x3D;1]$$</p><p>$$n\sum_{kn}\sum_{i&#x3D;1}^ki\sum_{di\;dk}\mu(d)$$</p><p>$æšä¸¾dï¼š$</p><p>$$n\sum_{kn}\sum_{dk}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{k}{d} \right \rfloor}id$$</p><p>$$n\sum_{kn}\sum_{dk}\mu(d)d\sum_{i&#x3D;1}^{\left \lfloor \frac{k}{d} \right \rfloor}i$$</p><p>$$n\sum_{kn}\sum_{dk}\mu(d)d\frac{\left \lfloor \frac{k}{d} \right \rfloor*(\left \lfloor \frac{k}{d} \right \rfloor+1)}{2}$$</p><p>$$\frac{n}{2}\sum_{kn}{\sum_{dk}\mu(d)*\frac{k^2}{d}+\sum_{dk}\mu(d)*k}$$</p><p>$$\frac{n}{2}\sum_{kn}k{\sum_{dk}\mu(d)*\frac{k}{d}+\sum_{dk}\mu(d)}$$</p><p>$\ {è¿™æ—¶å€™å‘ç°ä¸¤ä¸ªç‹„åˆ©å…‹é›·å·ç§¯ï¼Œ\varphi (n)&#x3D;\mu*id&#x3D;\sum_{dn}\mu(d)*\frac{n}{d}\;\;,\;\;\varepsilon(n) &#x3D;\mu*I&#x3D;\sum_{dn}\mu(d)ã€‚æ‰€ä»¥æˆ‘ä»¬å°†å…¶æ›¿æ¢å¾—ï¼š}$</p><p>$$\frac{n}{2}\sum_{kn}k[\varphi(k)+\varepsilon(k)]$$</p><p>$\ {O(n)å¤„ç†\varphiï¼Œ\sqrt nè¯¢é—®ç­”æ¡ˆï¼Œæ€»å¤æ‚åº¦ä¸ºO(n+T\sqrt n)ã€‚}$</p><h3 id="Code-9"><a href="#Code-9" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> phi[N];</span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> tot;</span><br><span class="line"></span><br><span class="line">ll f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Euler</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    phi[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            phi[i] = i - <span class="number">1</span>;</span><br><span class="line">            prime[++tot] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">1</span>;j &lt;= tot &amp;&amp; i \* prime[j] &lt; N; j++)&#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j]) &#123;</span><br><span class="line">                phi[i \* prime[j]] = phi[i] \* (prime[j] - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                phi[i \* prime[j]] = phi[i] \* prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = i;j &lt; N; j += i) &#123;</span><br><span class="line">            f[j]  += <span class="number">1l</span>l \* phi[i] \* i + (i == <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    Euler();</span><br><span class="line">    <span class="built_in">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="built_in">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        cout &lt;&lt; f[n] \* n / <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="P5221-Product"><a href="#P5221-Product" class="headerlink" title="P5221 Product"></a><a href="https://www.luogu.com.cn/problem/P5221">P5221 Product</a></h4><p>$$æ±‚è§£\prod_{i&#x3D;1}^n\prod_{j&#x3D;1}^n\frac{lcm(i,j)}{gcd(i,j)}$$</p><p>$é¦–å…ˆè¿˜æ˜¯æŠŠlcm(i,j)åŒ–ç®€å¾—ï¼š$</p><p>$$\prod_{i&#x3D;1}^n\prod_{j&#x3D;1}^n\frac{ij}{[gcd(i,j)]^2}$$</p><p>$$\prod_{i&#x3D;1}^n\prod_{j&#x3D;1}^nij*\prod_{i&#x3D;1}^n\prod_{j&#x3D;1}^n\frac{1}{[gcd(i,j)]^2}$$</p><p>$\ {æˆ‘ä»¬å¾ˆå®¹æ˜“æ¨å‡ºå‰åŠéƒ¨åˆ†çš„æ•°å€¼ä¸º(n!)^{2n }ï¼ŒååŠéƒ¨åˆ†çš„å€¼å°±æ˜¯\prod_{i&#x3D;1}^n\prod_{j&#x3D;1}^n[gcd(i,j)]^2çš„é€†å…ƒçš„å¹³æ–¹ã€‚}$</p><p>$æ‰€ä»¥ç°åœ¨æ±‚è§£ï¼š$</p><p>$$\prod_{i&#x3D;1}^n\prod_{j&#x3D;1}^ngcd(i,j)$$</p><p>$$\prod_{k&#x3D;1}^n\prod_{i&#x3D;1}^n\prod_{j&#x3D;1}^nk[gcd(i,j)&#x3D;k]$$</p><p>$$\prod_{k&#x3D;1}^nk^{\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^n[gcd(i,j)&#x3D;k]}$$</p><p>$è¿™ä¸ªå¼å­çš„å˜æ¢ï¼Œæœ¬æ¥æ˜¯[1,n]ä¸­æ‰€æœ‰çš„gcdç´¯ä¹˜ï¼Œç„¶åæˆ‘ä»¬å•ç‹¬æŠŠgcd(i,j)&#x3D;kçš„æ‹¿å‡ºæ¥ï¼Œkä¼šæœ‰[1,n]çš„èŒƒå›´ï¼Œç„¶åæˆ‘ä»¬å†å°†è¿™äº›kç´¯ä¹˜å°±ä¼šè¾¾åˆ°ä¹‹å‰çš„æ•ˆæœã€‚$ $ä¸è¿‡ï¼Œ[1,n]ä¸­çš„gcdä¸å•å•åªæœ‰ä¸€ä¸ªï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªç›¸åŒçš„gcdï¼Œæ‰€ä»¥å˜æ¢ä¹‹åçš„å¼å­é‡Œè¿˜éœ€è¦ç»Ÿè®¡gcd&#x3D;kå‡ºç°çš„æ¬¡æ•°ï¼Œé‚£åªéœ€è¦å°†ä»–ä»¬ç´¯åŠ å³å¯ã€‚$</p><p>$æ‰€ä»¥æ²¡æ¯›ç—…ã€‚ç»§ç»­ï¼š$</p><p>$$\prod_{k&#x3D;1}^nk^{\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}[gcd(i,j)&#x3D;1]}$$</p><p>$$\prod_{k&#x3D;1}^nk^{\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\sum_{di\;dj}\mu(d)}$$</p><p>$æšä¸¾dï¼š$</p><p>$$\prod_{k&#x3D;1}^nk^{\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}\sum_{j&#x3D;1}^{\left \lfloor \frac{n}{kd} \right \rfloor}1}$$</p><p>$$\ {\prod_{k&#x3D;1}^nk^{\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)(\left \lfloor \frac{n}{kd} \right \rfloor)^2}}$$</p><p>$æœ€ç»ˆç­”æ¡ˆä¸ºï¼š$</p><p>$$\ {(n!)^{2n}\prod_{k&#x3D;1}^nk^{\sum_{d&#x3D;1}^{\left \lfloor \frac{n}{k} \right \rfloor}\mu(d)(\left \lfloor \frac{n}{kd} \right \rfloor)^2}}$$</p><p>$\ {O(n)å¤„ç†\muçš„å‰ç¼€å’Œ,\sqrt nè¯¢é—®æŒ‡æ•°çš„åˆ†å—ï¼Œå¯ä»¥ç”¨æ¬§æ‹‰é™å¹‚ä¼˜åŒ–ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(n+nlog_2n}$</p><h3 id="Code-10"><a href="#Code-10" class="headerlink" title="Code"></a>Code</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="comment">// const ll P = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">1000010</span>;</span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">104857601</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> n;</span><br><span class="line">ll fac = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b)</span><br><span class="line">&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans \* a % mod;</span><br><span class="line">        a = a \* a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">        mu[i] = mu[i - <span class="number">1</span>] + mu[i];</span><br><span class="line">        fac = fac \* i % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Ans</span>()</span> &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> k = <span class="number">1</span>;k &lt;= n; k++) &#123;</span><br><span class="line">        ll p = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> t = n / k;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> l = <span class="number">1</span>, r;l &lt;= t; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">            r = min(t, t / (t / l));</span><br><span class="line">            p = (p + (mu[r] - mu[l - <span class="number">1</span>] + mod - <span class="number">1</span>) \* (t / l) % (mod - <span class="number">1</span>) \* (t / l) % (mod - <span class="number">1</span>)) % (mod - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ans = ans \* quick\_pow(k, p) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    ll k = quick\_pow(ans, mod - <span class="number">2</span>);</span><br><span class="line">    fac = quick\_pow(fac, n);</span><br><span class="line">    <span class="keyword">return</span> quick\_pow(k, <span class="number">2</span>) \* fac % mod \* fac % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    Mobi();</span><br><span class="line">    cout &lt;&lt; Ans() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="HDU-6588-Function"><a href="#HDU-6588-Function" class="headerlink" title="HDU 6588 Function"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6588">HDU 6588 Function</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^ngcd(\left \lfloor \sqrt[3]i \right \rfloor,i)$$</p><p>$æˆ‘ä»¬å…ˆå°†è¿™ä¸ªä¸€é‡å’Œå¼è½¬åŒ–ä¸ºäºŒé‡å’Œå¼ï¼Œå¾—ï¼š$</p><p>$$\sum_{a&#x3D;1}^{\left \lfloor \sqrt[3]n \right \rfloor}\sum_{i&#x3D;1}^ngcd(a,i)[\left \lfloor \sqrt[3]i \right \rfloor&#x3D;a]$$</p><p>$æˆ‘ä»¬æ¥çœ‹è¿™ä¸ªå¼å­ï¼Œåªæœ‰å½“\left \lfloor \sqrt[3]i \right \rfloor&#x3D;aæ—¶ï¼Œæ‰ä¼šæœ‰å¯¹ç­”æ¡ˆçš„è´¡çŒ®ä¸ºgcd(a,i)ï¼Œæ‰€ä»¥\ {a \leq \left \lfloor \sqrt[3]i \right \rfloor &lt; a+1ï¼Œa^3 \leq i \leq (a+1)^3-1}ï¼Œæ‰€ä»¥ä¸Šå¼è½¬åŒ–ä¸ºï¼š$</p><p>$$\ {\sum_{a&#x3D;1}^{\left \lfloor \sqrt[3]n \right \rfloor}\sum_{i&#x3D;a^3}^{min(n,(a+1)^3-1)}gcd(a,i)}$$</p><p>$ç„¶åæˆ‘ä»¬å°†è¿™ä¸ªäºŒé‡å’Œå¼æ‹†å¼€å¾—ï¼š$</p><p>$${\color{Brown}\sum_{a&#x3D;1}^{\left \lfloor \sqrt[3]n \right \rfloor-1}\sum_{i&#x3D;a^3}^{min(n,(a+1)^3-1)}gcd(a,i)+\sum_{i&#x3D;(\left \lfloor \sqrt[3]n \right \rfloor)^3}^ngcd(\left \lfloor \sqrt[3]n \right \rfloor, i)}$$</p><p>$ä»¤\sqrt[3]n&#x3D;Nï¼Œå¹¶ä½¿a&#x3D;i,i&#x3D;jï¼ˆå¥½çœ‹ä¸€ç‚¹ï¼‰å¾—ï¼š$</p><p>$${\color{Brown}\sum_{i&#x3D;1}^{N-1}\sum_{j&#x3D;i^3}^{(i+1)^3-1}gcd(i,j)+\sum_{j&#x3D;N^3}^ngcd(N, j)}$$</p><p>$å…ˆè®¡ç®—å‰åŠéƒ¨åˆ†ï¼š$</p><p>$â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“$</p><h4 id="HDU-6833-A-Very-Easy-Math-Problem"><a href="#HDU-6833-A-Very-Easy-Math-Problem" class="headerlink" title="HDU 6833 A Very Easy Math Problem"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6833">HDU 6833 A Very Easy Math Problem</a></h4><p>$$æ±‚è§£\sum_{a_1&#x3D;1}^n\sum_{a_2&#x3D;1}^nâ€¦\sum_{a_x&#x3D;1}^n\left(\prod_{j&#x3D;1}^xa_j^k\right)f(gcd(a_1,a_2â€¦a_x))gcd(a_1,a_2â€¦a_x)$$ $ä»¤d&#x3D;gcd(a_1,a_2â€¦a_x)å¾—ï¼š$</p><p>$$\sum_{a_1&#x3D;1}^n\sum_{a_2&#x3D;1}^nâ€¦\sum_{a_x&#x3D;1}^n\left(\prod_{j&#x3D;1}^xa_j^k\right)f(d)d$$</p><p>$æšä¸¾då¾—ï¼š$</p><p>$$\sum_{d&#x3D;1}^ndf(d)\sum_{a_1&#x3D;1}^n\sum_{a_2&#x3D;1}^nâ€¦\sum_{a_x&#x3D;1}^n\left(\prod_{j&#x3D;1}^xa_j^k\right)[gcd(a_1,a_2â€¦a_x)&#x3D;d]$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{a_1&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\sum_{a_2&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }â€¦\sum_{a_x&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\left(\prod_{j&#x3D;1}^xa_j^k\right)[gcd(a_1,a_2â€¦a_x)&#x3D;1]$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{a_1&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\sum_{a_2&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }â€¦\sum_{a_x&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\left(\prod_{j&#x3D;1}^xa_j^k\right)\sum_{ta_1\;ta2\;â€¦\;ta_x}\mu(t)$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }i^k\right)^x\sum_{ta_1\;ta2\;â€¦\;ta_x}\mu(t)$$</p><p>$æšä¸¾tå¾—ï¼š$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{t&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\mu(t)\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{dt} \right \rfloor }(it)^k\right)^x$$</p><p>$$\sum_{d&#x3D;1}^nd^{kx+1}f(d)\sum_{t&#x3D;1}^{\left \lfloor \frac{n}{d} \right \rfloor }\mu(t)t^{kx}\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{dt} \right \rfloor }i^k\right)^x$$</p><p>$ä»¤T&#x3D;dtå¹¶æšä¸¾Tå¾—ï¼š$</p><p>$$\sum_{T&#x3D;1}^n\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{dt} \right \rfloor }i^k\right)^xT^{kx}\sum_{dT}df(d)\mu(\frac{T}{d})$$</p><p>$ä»¤g(T)&#x3D;\sum_{dT}df(d)\mu(\frac{T}{d})ï¼Œåˆ™$</p><p>$$\sum_{T&#x3D;1}^n\left (\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{T} \right \rfloor }i^k\right)^xT^{kx}g(T)$$</p><p>$\ {O(nlogn)ç­›få’Œgï¼Œå¹¶å¯¹T^{kx}g(T)å’Œ\sum_{i&#x3D;1}^{\left \lfloor \frac{n}{T} \right \rfloor }i^kåšå‰ç¼€å’Œï¼Œæœ€å\sqrt nåˆ†å—è®¡ç®—ï¼Œå¤æ‚åº¦ä¸ºO(nlogn+T\sqrt n)}$</p><h2 id="Code-11"><a href="#Code-11" class="headerlink" title="Code"></a>Code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line">typedef pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> lowbit(x) x &amp; (-x)</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="comment">// const double pi = acos(-1);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll T, k, x;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> mu[N]; <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°</span></span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">is</span>\_prime[N];</span><br><span class="line"><span class="built_in">int</span> prime[N];</span><br><span class="line"><span class="built_in">int</span> cnt;</span><br><span class="line">ll g[N], f[N];</span><br><span class="line">ll sumG[N], sumi[N];</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans \* a % mod;</span><br><span class="line">        a = a \* a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mobi</span>() <span class="comment">// è«æ¯”ä¹Œæ–¯å‡½æ•°åˆå§‹åŒ–</span></span></span><br><span class="line">&#123;</span><br><span class="line">    f[<span class="number">1</span>] = mu[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">is</span>\_prime[<span class="number">0</span>] = <span class="keyword">is</span>\_prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        f[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">is</span>\_prime[i]) &#123;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="keyword">is</span>\_prime[i \* prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                mu[i \* prime[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mu[i \* prime[j]] = -mu[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç­›få‡½æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> d = <span class="number">2</span>;d \* d &lt; N; d++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = d \* d;i &lt; N; i += d \* d) &#123;</span><br><span class="line">            f[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç­›gå‡½æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> d = <span class="number">1</span>;d &lt; N; d++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = d;i &lt; N; i += d) &#123;</span><br><span class="line">            g[i] = (g[i] + <span class="number">1l</span>l \* d \* f[d] % mod \* mu[i / d] % mod + mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¤„ç†sumGå‡½æ•°å’Œsumiå‡½æ•°å‰ç¼€å’Œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        ll t = quick\_pow(i, k);</span><br><span class="line">        sumi[i] = (sumi[i - <span class="number">1</span>] + t) % mod;</span><br><span class="line">        sumG[i] = (sumG[i - <span class="number">1</span>] + quick\_pow(t, x) \* g[i] % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span> &#123;</span><br><span class="line">    cin &gt;&gt; T &gt;&gt; k &gt;&gt; x;</span><br><span class="line">    Mobi();</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        <span class="built_in">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> l = <span class="number">1</span>, r;l &lt;= n; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">            r = min(n, n / (n / l));</span><br><span class="line">            ans = (ans + (sumG[r] - sumG[l - <span class="number">1</span>] + mod) % mod \* quick\_pow(sumi[n / l], x) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span> &#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line"><span class="meta">##ifdef FZT\_ACM\_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    signed test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) exit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        auto start\_clock\_for\_debug = clock();</span><br><span class="line">        solve();</span><br><span class="line">        auto end\_clock\_for\_debug = clock();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.putback(acm\_local\_for\_debug));</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="huntian-oy"><a href="#huntian-oy" class="headerlink" title="huntian oy"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6706">huntian oy</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^igcd(i^a-j^a,i^b-j^b)[gcd(i,j)&#x3D;1]$$</p><p>$$gcd(i^a-j^a,i^b-j^b)&#x3D;i^{gcd(a,b)}-j^{gcd(a,b)}$$</p><p>$é¢˜ç›®è¯´gcd(a,b)&#x3D;1ï¼Œæ‰€ä»¥é‚£ä¸ªå¤æ‚çš„å¼å­ç›´æ¥å˜æˆi-j.$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^i(i-j)[gcd(i,j)&#x3D;1]$$</p><p>$$\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^ii[gcd(i,j)&#x3D;1]-\sum_{i&#x3D;1}^n\sum_{j&#x3D;1}^ij[gcd(i,j)&#x3D;1]$$</p><p>$å·¦è¾¹ä¸ºä¸iäº’è´¨çš„ä¸ªæ•°ï¼Œå³è¾¹ä¸ºæ¯”iå°å¹¶ä¸”äº’è´¨çš„æ•°å­—å’Œï¼Œå³ä¸ºï¼š$</p><p>$$\sum_{i&#x3D;1}^ni\varphi (i)-\frac{\sum_{i&#x3D;1}^ni\varphi (i)+1}{2}$$</p><p>$$\frac{\sum_{i&#x3D;1}^ni\varphi (i)-1}{2}$$</p><p>$å› ä¸ºnæœ‰1e9ï¼Œæ‰€ä»¥éœ€è¦æœæ•™ç­›ä¼˜åŒ–ã€‚$</p><p>$$f*g(n)&#x3D;\sum_{dn}f(d)g(\frac{n}{d})&#x3D;\sum_{dn}id(d)*\varphi (d)*g(\frac{n}{d})$$</p><p>$å¾ˆæ˜¾ç„¶ï¼Œè®¾g&#x3D;idï¼Œåˆ™ï¼š$</p><p>$$f*g(n)&#x3D;\sum_{dn}\varphi (d)id(n)&#x3D;n\sum_{dn}\varphi (d)&#x3D;id(n)(\varphi *I)&#x3D;id^2(n)&#x3D;n^2$$</p><p>$$æ‰€ä»¥å¾—ï¼šS(n)&#x3D;\sum_{i&#x3D;1}^n(f*g)i-\sum_{i&#x3D;2}^ng(i)S(\frac{n}{i})&#x3D;\frac{n(n+1)(2n+1)}{6}-\sum_{i&#x3D;2}^niS(\frac{n}{i})$$</p><h2 id="Code-12"><a href="#Code-12" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; pdd;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; pll;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> endl <span class="string">&quot;\n&quot;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> eb emplace\_back</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="comment">// const ll mod = 998244353;</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> R = <span class="number">0.57721566490153286060651209</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(T &amp;a)</span> </span>&#123;<span class="type">char</span> c = <span class="built_in">getchar</span>();T x = <span class="number">0</span>, f = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(c)) &#123;<span class="keyword">if</span> (c == <span class="string">&#x27;-&#x27;</span>)f = <span class="number">-1</span>;c = <span class="built_in">getchar</span>();&#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(c)) &#123;x = (x &lt;&lt; <span class="number">1</span>) + (x &lt;&lt; <span class="number">3</span>) + c - <span class="string">&#x27;0&#x27;</span>;c = <span class="built_in">getchar</span>();&#125;a = f \* x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> is\_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N], cnt;</span><br><span class="line"><span class="type">int</span> phi[N];</span><br><span class="line">ll sum\_i\_phi[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    phi[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!is\_prime[i]) prime[++cnt] = i, phi[i] = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            is\_prime[i \* prime[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                phi[i \* prime[j]] = phi[i] \* prime[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> phi[i \* prime[j]] = phi[i] \* phi[prime[j]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; N; i++) &#123;</span><br><span class="line">        sum\_i\_phi[i] = (sum\_i\_phi[i - <span class="number">1</span>] + <span class="number">1ll</span> \* i \* phi[i] % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll quick\_pow(ll a, ll b) &#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans \* a % mod;</span><br><span class="line">         a = a \* a % mod;</span><br><span class="line">         b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll inv2;</span><br><span class="line">ll inv6;</span><br><span class="line"></span><br><span class="line">map&lt;ll, ll&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">S</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; N) <span class="keyword">return</span> sum\_i\_phi[x];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mp[x]) <span class="keyword">return</span> mp[x];</span><br><span class="line">    ll ans = x \* (x + <span class="number">1</span>) % mod \* (<span class="number">2</span> \* x + <span class="number">1</span>) % mod \* inv6 % mod;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">2</span>, r;l &lt;= x; l = r + <span class="number">1</span>) &#123;</span><br><span class="line">        r = <span class="built_in">min</span>(x, x / (x / l));</span><br><span class="line">        ans = (ans - <span class="number">1ll</span> \* (r + l) % mod \* (r - l + <span class="number">1</span>) % mod \* inv2 % mod \* <span class="built_in">S</span>(x / l)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mp[x] = ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    inv2 = quick\_pow(<span class="number">2</span>, mod - <span class="number">2</span>);</span><br><span class="line">    inv6 = quick\_pow(<span class="number">6</span>, mod - <span class="number">2</span>);</span><br><span class="line">    <span class="type">int</span> \_; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;\_);</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        ll n, a, b; <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld&quot;</span>,&amp;n,&amp;a,&amp;b);</span><br><span class="line">        ll ans = (<span class="built_in">S</span>(n) - <span class="number">1</span>) % mod;</span><br><span class="line">        ans = ans \* inv2 % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,(ans % mod + mod) % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">// cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT\_ACM\_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start\_clock\_for\_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end\_clock\_for\_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm\_local\_for\_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="HDU-6428-Problem-C-Calculate"><a href="#HDU-6428-Problem-C-Calculate" class="headerlink" title="HDU 6428 Problem C. Calculate"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6428">HDU 6428 Problem C. Calculate</a></h4><p>$$æ±‚è§£\sum_{i&#x3D;1}^A\sum_{j&#x3D;1}^B\sum_{k&#x3D;1}^C\phi (gcd(i,j^2,k^3))\;\;mod\;\;2^{30}$$</p><p>$é¦–å…ˆè¦æŠŠ\phiå’Œgcdåˆ†å¼€ï¼Œå³\phi(n)&#x3D;\sum_{dn}(\phi*\mu)(d)ï¼Œè¯æ˜å¦‚ä¸‹ï¼š$ $$\phi(n)&#x3D;(\mu*id)(n)$$</p><p>$$\sum_{dn}\mu(d)\frac{n}{d}$$</p><p>$$\sum_{dn}\mu(d)\sum_{dâ€™\frac{n}{d}}\phi(dâ€™)$$</p><p>$$\sum_{ddâ€™n}\mu(d)\phi(dâ€™)$$</p><p>$$\sum_{dn}\sum_{dâ€™d}\mu(dâ€™)\phi(\frac{d}{dâ€™})$$</p><p>$$\sum_{dn}(\phi*\mu)(d)$$</p><p>$æ‰€ä»¥åŸå¼å˜ä¸ºï¼š$</p><p>$$\sum_{i&#x3D;1}^A\sum_{j&#x3D;1}^B\sum_{k&#x3D;1}^C\sum_{di\;dj^2\;dk^3}(\phi*\mu)(d)$$</p><p>$$\sum_{d&#x3D;1}^{A}(\phi*\mu)(d)\sum_{i&#x3D;1\;di}^A\sum_{j&#x3D;1\;dj^2}^B\sum_{k&#x3D;1\;dk^3}^C1$$ \left \lceil \right \rceil $è§‚å¯Ÿåé¢å¼å­ï¼Œå¯¹äºä¸€ä¸ªx^kï¼Œè‹¥dx^kï¼Œå…ˆæŠŠdåˆ†è§£ä¸º\prod p_i^{a_i}.$ $åˆ™\prod p_i^{a_i}x^kï¼Œå¾—\prod p_i^{\left \lceil \frac{a_i}{k} \right \rceil }xï¼Œæ‰€ä»¥è®¾$</p><p>$$f_k(n)&#x3D;\prod p_i^{\left \lceil \frac{a_i}{k} \right \rceil }$$</p><p>$åˆ™ï¼š$</p><p>$$ans&#x3D;\sum_{d&#x3D;1}^{A}(\phi * \mu)(d)\frac{A}{f_1(d)}\frac{B}{f_2(d)}\frac{C}{f_3(d)}$$</p><p>$å¯¹äºf_k(n)ï¼Œç±»ä¼¼åˆ†è§£nçš„å½¢å¼ã€‚$ $åˆ†è§£è´¨å› å­çš„è¿‡ç¨‹ä¸­ï¼Œè®°å½•è´¨å› å­çš„æŒ‡æ•°ï¼Œæ¯æ¬¡è´¨å› å­+1æ—¶ï¼Œè‹¥\%k&#x3D;1æ—¶ï¼Œè¯´æ˜è¯¥å‘ä¸Šå–æ•´äº†ï¼Œäºæ˜¯f_k(n)*&#x3D;è¯¥è´¨å› å­.$</p><p>$ç”±äº\phiå’Œ\muéƒ½æ˜¯ç§¯æ€§å‡½æ•°ï¼Œå·ç§¯ä¹‹åè¿˜æ˜¯ç§¯æ€§å‡½æ•°ï¼Œè®¾g(d)&#x3D;(\phi*\mu)(d)ï¼Œåˆ™$</p><p>$$\phi(n)&#x3D;\sum_{dn}g(d)$$</p><p>$é‚£ä¹ˆå¯ä»¥å¾—ï¼š$</p><p>$$\phi(p^k)&#x3D;\phi(p^{k-1})+g(p^k)$$</p><p>$$g(p^k)&#x3D;\phi(p^k)-\phi(p^{k-1})$$</p><p>$$g(p^k)&#x3D;(p-1)p^{k-1}-(p-1)p^{k-2}$$</p><p>$$g(p^k)&#x3D;(p-1)^2p^{k-2}$$</p><p>$å½“æˆ‘ä»¬æ¬§æ‹‰ç­›çš„è¿‡ç¨‹ä¸­ï¼š$</p><p>$$g(1)&#x3D;1$$</p><p>$$g(p)&#x3D;p-2$$</p><p>$$g(p^{k})&#x3D;(p-1)^2p^{k-2}$$</p><p>$$g(p_1^{k_1}p_2^{k_2})&#x3D;g(p_1^{k_1})g(p_2^{k_2})$$</p><p>$$â€¦â€¦$$</p><h2 id="Code-13"><a href="#Code-13" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = (<span class="number">1ll</span> &lt;&lt; <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e7</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">bool</span> is\_prime[N];</span><br><span class="line"><span class="type">int</span> prime[N], cnt;</span><br><span class="line"><span class="type">int</span> g[N];</span><br><span class="line"><span class="type">int</span> f1[N], f2[N], f3[N];</span><br><span class="line"><span class="type">int</span> deg[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    f1[<span class="number">1</span>] = f2[<span class="number">1</span>] = f3[<span class="number">1</span>] = g[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        f1[i] = i;</span><br><span class="line">        <span class="keyword">if</span>(!is\_prime[i]) prime[++cnt] = f2[i] = f3[i] = i, g[i] = i - <span class="number">2</span>, deg[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i \* prime[j] &lt; N; j++) &#123;</span><br><span class="line">            <span class="type">int</span> now = i \* prime[j];</span><br><span class="line">            is\_prime[now] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                deg[now] = deg[i] + <span class="number">1</span>;</span><br><span class="line">                <span class="type">int</span> num = <span class="number">1</span>, tmp = i;</span><br><span class="line">                <span class="keyword">while</span>(num &lt;= <span class="number">3</span> &amp;&amp; tmp % prime[j] == <span class="number">0</span>) num++, tmp /= prime[j];</span><br><span class="line">                <span class="keyword">if</span>(num == <span class="number">1</span>) g[now] = g[i] \* g[prime[j]];</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(num == <span class="number">2</span>) g[now] = g[i / prime[j]] \* (prime[j] - <span class="number">1</span>) \* (prime[j] - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span> g[now] = g[i] \* prime[j];</span><br><span class="line">                f2[now] = f2[i] \* (deg[now] % <span class="number">2</span> == <span class="number">1</span> ? prime[j] : <span class="number">1</span>);</span><br><span class="line">                f3[now] = f3[i] \* (deg[now] % <span class="number">3</span> == <span class="number">1</span> ? prime[j] : <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                deg[now] = <span class="number">1</span>;</span><br><span class="line">                f2[now] = f2[i] \* f2[prime[j]];</span><br><span class="line">                f3[now] = f3[i] \* f3[prime[j]];</span><br><span class="line">                g[now] = g[i] \* g[prime[j]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> \_; <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;\_);</span><br><span class="line">    <span class="keyword">while</span>(\_--) &#123;</span><br><span class="line">        <span class="type">int</span> A, B, C; <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;A,&amp;B,&amp;C);</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> d = <span class="number">1</span>;d &lt;= A; d++) &#123;</span><br><span class="line">            ans = (ans + <span class="number">1ll</span> \* g[d] \* (A / f1[d]) % mod \* (B / f2[d]) % mod \* (C / f3[d]) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,(ans % mod + mod) % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios\_base::sync\_with\_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">// cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT\_ACM\_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test\_index\_for\_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm\_local\_for\_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm\_local\_for\_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test\_index\_for\_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> runtime\_error(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start\_clock\_for\_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end\_clock\_for\_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test\_index\_for\_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end\_clock\_for\_debug - start\_clock\_for\_debug) / CLOCKS\_PER\_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm\_local\_for\_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm\_local\_for\_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/10/mobius-inversion/">https://blog.jujimeizuo.cn/2020/08/10/mobius-inversion/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬ä¹åœºã€‘Eé¢˜ Groundhog Chasing Death</title>
      <link href="/2020/08/09/2020-nowcoder-shujia-9-e/"/>
      <url>/2020/08/09/2020-nowcoder-shujia-9-e/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5674/E">https://ac.nowcoder.com/acm/contest/5674/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2020/08/20200808213125440.png"></p><p>$æ±‚\prod_{i&#x3D;a}^b\prod_{i&#x3D;c}^dgcd(x^i, y^j) mod998244353çš„å€¼$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è§‚å¯Ÿä¸Šå¼ï¼Œæˆ‘ä»¬çŸ¥é“$gcd$æ˜¯$x,y$çš„æ‰€æœ‰è´¨å› å­ä¸ªæ•°çš„$min(a,b)$ï¼Œå³$gcd(x,y)&#x3D;\sum_{i&#x3D;1}^np_i^{min(ai,biï¼‰}$ï¼ˆai,biåˆ†åˆ«æ˜¯x,yå…¬å…±è´¨å› å­çš„æ¬¡å¹‚ï¼‰ æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿè®¡$x,y$çš„æ¯ä¸ªå…¬å…±è´¨å› å­çš„æ¬¡å¹‚ï¼Œç„¶åå†å…¨éƒ¨æ•´åˆç´¯ä¹˜å¾—å‡ºç­”æ¡ˆã€‚</p><p>ä¸€æ­¥ä¸€æ­¥åˆ†æï¼š è¦æ±‚$\prod_{i&#x3D;a}^b \prod_{i&#x3D;c}^dgcd(x^i, y^j)$ å…¶å®æ±‚çš„å°±æ˜¯$\prod_{px ,py}p_k^{\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;c}^dmin(Ai,Bj)}$(A,Båˆ†åˆ«ä¸ºx,yåˆ†è§£å‡ºè´¨å› å­pçš„æ¬¡å¹‚) å…ˆç»Ÿè®¡x,yæ‰€æœ‰çš„å…¬å…±è´¨å› å­çš„æ¬¡å¹‚ï¼Œç„¶åå†ç´¯ä¹˜å³å¯ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆè´¨æ•°ç­›æŠŠ\sqrt{1e9}ä»¥å†…çš„æ‰€æœ‰è´¨æ•°ç­›å‡ºæ¥ï¼Œæ‰€ä»¥èŒƒå›´æˆ‘å®šä¸º2e5ä»¥å†…çš„è´¨æ•°äº†ï¼Œç„¶åå†åˆ†è§£xå’Œyçš„è´¨å› å­ï¼Œåˆ†åˆ«æŠŠå…¬å…±è´¨å› å­på’Œè¯¥å› å­çš„æ¬¡å¹‚cx,cyå­˜åœ¨æ•°ç»„é‡Œï¼Œæ–¹ä¾¿ä¸‹é¢æ­¥éª¤çš„å®ç° ç„¶åå•ç‹¬åˆ†æå•ä¸ªå…¬å…±è´¨å› å­pï¼Œå¾—$p^{\sum_{i&#x3D;a}^b\sum_{j&#x3D;c}^d min(Ai,Bj)}$ $å…ˆæ¯”è¾ƒAiå’ŒBjçš„å¤§å°ï¼š$ $\qquadå½“Ai \leq Bjæ—¶ï¼Œå³j \geq \left \lceil \frac{Ai}{B}\right \rceilï¼Œp^{min(Ai,Bj)}&#x3D;p^{Ai}$ $\qquadå½“Ai &gt; Bjæ—¶ï¼Œå³j &lt; \left \lceil \frac{Ai}{B}\right \rceilï¼Œp^{min(Ai,Bj)}&#x3D;p^{Bj}$</p><p>æ¥ä¸‹æ¥å°±æœ‰ä¸¤ç§æ±‚è§£æ–¹å¼äº†ï¼Œå®è´¨ä¸Šæ˜¯ä¸€ç§ï¼Œåªä¸è¿‡æšä¸¾é¡ºåºæœ‰ç‚¹å˜åŒ–è€Œå·²ã€‚</p><h4 id="æ–¹æ³•ä¸€ï¼šå…ˆæšä¸¾-i-å†æšä¸¾å…¬å…±è´¨å› å­"><a href="#æ–¹æ³•ä¸€ï¼šå…ˆæšä¸¾-i-å†æšä¸¾å…¬å…±è´¨å› å­" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå…ˆæšä¸¾$i$å†æšä¸¾å…¬å…±è´¨å› å­"></a>æ–¹æ³•ä¸€ï¼šå…ˆæšä¸¾$i$å†æšä¸¾å…¬å…±è´¨å› å­</h4><p>è¿™ä¸ªæ–¹æ³•æœ‰ç‚¹ä¸€å°éº»çƒ¦ï¼Œç†è§£æœ‰ç‚¹å›°éš¾ã€‚</p><p>å› ä¸ºå…ˆæŠŠ$i$ç¡®å®šä¸‹æ¥ä¹‹åï¼Œ$j$ä¹Ÿå°±ç¡®å®šä¸‹æ¥äº†ï¼Œå› ä¸º$j&#x3D; \left \lceil \frac{Ai}{B}\right \rceil$ã€‚ å†æ¥çœ‹è¿™ä¸ªå¼å­ï¼š$\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;c}^dmin(Ai,Bj)$ å› ä¸ºæšä¸¾çš„æ˜¯$i$ï¼Œå¹¶ä¸”$j$å·²ç»ç¡®å®šäº†ï¼Œå†æ ¹æ®å¤§å°æ¯”è¾ƒï¼Œæ‰€ä»¥ä¸Šé¢çš„å¼å­å°±æ˜¯ä¸¤ç§å˜åŒ–ï¼š$$\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;max(\left \lceil \frac{Ai}{B}\right \rceil,c)}^dAi$$ $$\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;c}^dBj$$ æ‰€ä»¥å°±æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š $\qquad å½“j&lt;cæ—¶ï¼Œ\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;c}^dmin(Ai,Bj)&#x3D;Ai*(d+c-1)$</p><p>$\qquad å½“j&gt;dæ—¶ï¼Œ\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;c}^dmin(Ai,Bj)&#x3D;B*\frac{(c+d)*(d-c+1)}{2}$</p><p>$\qquad å½“c\leq j \leq dæ—¶ï¼Œ\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;c}^dmin(Ai,Bj)&#x3D;Ai*(d-j+1)+B*\frac{(j+c-1)*(j-c)}{2}$</p><p>å½“æŠŠæ‰€æœ‰çš„å…¬å…±è´¨å› å­çš„æ€»æ¬¡å¹‚æ±‚å‡ºæ¥ä¹‹åå°±å¯ä»¥è¿›è¡Œç´¯ä¹˜å¾—å‡ºç­”æ¡ˆï¼Œå†æ±‚æ€»æ¬¡å¹‚çš„è¿‡ç¨‹ä¸­å¯ä»¥ç”¨æ¬§æ‹‰é™å¹‚ä¼˜åŒ–ä¸€ä¸‹ï¼Œ å¹¶ä¸”æ¨¡æ•°$998244353$æ­£å¥½æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œæ‰€ä»¥$\varphi(998244353)&#x3D;998244353-1$ã€‚</p><h3 id="Codeï¼ˆ286msï¼‰"><a href="#Codeï¼ˆ286msï¼‰" class="headerlink" title="Codeï¼ˆ286msï¼‰"></a>Codeï¼ˆ286msï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[N];</span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> px[N], cx[N], py[N], cy[N], mx, my; <span class="comment">// æ˜¯xå’Œyåˆ†è§£çš„è´¨å› å­å’Œè´¨å› å­çš„æ¬¡å¹‚å’Œè´¨å› å­çš„ä¸ªæ•°</span></span><br><span class="line">ll mi[N]; <span class="comment">// æ±‚è§£å‡ºæ¥æ¯ä¸ªè´¨å› å­çš„æ€»æ¬¡å¹‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> cx, cy;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;node&gt; v1; <span class="comment">// xå’Œyçš„å…¬å…±è´¨å› å­çš„ä¸ªæ•°</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v2; <span class="comment">// xå’Œyçš„å…¬å…±è´¨å› å­çš„å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">()</span> <span class="comment">// è´¨æ•°ç­›</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">mem</span>(is_prime, <span class="literal">true</span>);</span><br><span class="line">    is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(is_prime[i])</span><br><span class="line">        &#123;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">                is_prime[i * prime[j]] = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Divide</span><span class="params">(ll n, <span class="type">int</span> *p, <span class="type">int</span> *c, <span class="type">int</span> &amp;m)</span> <span class="comment">// åˆ†è§£è´¨å› å­</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i * i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            p[++m] = i;</span><br><span class="line">            <span class="keyword">while</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">                c[m]++;</span><br><span class="line">                n /= i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        p[++m] = n;</span><br><span class="line">        c[m] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">sieve</span>();</span><br><span class="line">    ll a, b, c, d, x, y;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld%lld%lld%lld&quot;</span>,&amp;a,&amp;b,&amp;c,&amp;d,&amp;x,&amp;y);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Divide</span>(x, px, cx, mx); <span class="comment">// åˆ†è§£xå’Œyçš„è´¨å› å­ï¼ˆå€¼ã€ä¸ªæ•°ï¼‰å¹¶å­˜åœ¨æ•°ç»„é‡Œ</span></span><br><span class="line">    <span class="built_in">Divide</span>(y, py, cy, my);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ppx = <span class="number">1</span>, ppy = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(ppx &lt;= mx &amp;&amp; ppy &lt;= my) &#123; <span class="comment">// å¯»æ‰¾xå’Œyçš„å…¬å…±è´¨å› å­å¹¶å­˜åœ¨æ•°ç»„é‡Œ</span></span><br><span class="line">        <span class="keyword">if</span>(px[ppx] == py[ppy]) &#123;</span><br><span class="line">            v1.<span class="built_in">push_back</span>(node&#123;cx[ppx], cy[ppy]&#125;);</span><br><span class="line">            v2.<span class="built_in">push_back</span>(px[ppx]);</span><br><span class="line">            ppx++; ppy++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(px[ppx] &lt; py[ppy]) ppx++;</span><br><span class="line">        <span class="keyword">else</span> ppy++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = a;i &lt;= b; i++) &#123; <span class="comment">// æšä¸¾i</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; v1.<span class="built_in">size</span>(); k++) &#123; <span class="comment">// æ¯ä¸ªè´¨å› å­çš„ä¸ªæ•°Aå’ŒB</span></span><br><span class="line">            <span class="comment">// int p = v2[k]; // æå–è´¨å› å­</span></span><br><span class="line">            <span class="type">int</span> ccx = v1[k].cx, ccy = v1[k].cy; <span class="comment">// æå–è´¨å› å­ä¸ªæ•°</span></span><br><span class="line">            <span class="type">int</span> j = (ccx * i + ccy - <span class="number">1</span>) / ccy; <span class="comment">// æœ¬æ¥æ˜¯ccx*i/ccyï¼Œä¸è¿‡è¦ä¿è¯å‘ä¸Šå–æ•´ï¼Œå³+(B-1)/Bå°±å¯ä»¥ä¿è¯äº†ï¼Œæˆ–è€…ä½¿ç”¨ceil()å‡½æ•°</span></span><br><span class="line">            <span class="keyword">if</span>(j &lt; c) &#123;</span><br><span class="line">                ll t = <span class="number">1ll</span> * (d - c + <span class="number">1</span>);</span><br><span class="line">                mi[k] = (mi[k] + t * i * ccx) % (mod - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(j &gt; d) &#123;</span><br><span class="line">                ll t = <span class="number">1ll</span> * (d + c) * (d - c + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">                mi[k] = (mi[k] + t * ccy) % (mod - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ll t1 = <span class="number">1ll</span> * (d - j + <span class="number">1</span>);</span><br><span class="line">                ll t2 = <span class="number">1ll</span> * (j - c) * (c + j - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">                mi[k] = (mi[k] + t1 * ccx * i) % (mod - <span class="number">1</span>);</span><br><span class="line">                mi[k] = (mi[k] + t2 * ccy) % (mod - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; v1.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(mi[i] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        ans = ans * <span class="built_in">quick_pow</span>(v2[i], mi[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•äºŒï¼šå…ˆæšä¸¾å…¬å…±è´¨å› å­å†æšä¸¾-i-å’Œ-j"><a href="#æ–¹æ³•äºŒï¼šå…ˆæšä¸¾å…¬å…±è´¨å› å­å†æšä¸¾-i-å’Œ-j" class="headerlink" title="æ–¹æ³•äºŒï¼šå…ˆæšä¸¾å…¬å…±è´¨å› å­å†æšä¸¾$i$å’Œ$j$"></a>æ–¹æ³•äºŒï¼šå…ˆæšä¸¾å…¬å…±è´¨å› å­å†æšä¸¾$i$å’Œ$j$</h4><p>è¿™ä¸ªæ–¹æ³•ç¨å¾®ç®€å•ä¸€ç‚¹ï¼Œä¾¿äºç†è§£ã€‚</p><p>æ ¹æ®ä¸‹é¢ä¸¤ä¸ªä¸¤ä¸ªå¤§å°å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡æšä¸¾æ¯ä¸ªå…¬å…±è´¨å› å­ï¼Œç„¶åä¸¤ä¸ªå¾ªç¯æšä¸¾$i$å’Œ$j$æ¯”å¤§å°ï¼Œç¡®å®šæ¯ä¸ªè´¨å› å­çš„æ€»æ¬¡å¹‚å³å¯ã€‚ $å½“Ai \leq Bjæ—¶ï¼Œå³j \geq \left \lceil \frac{Ai}{B}\right \rceilï¼Œp^{min(Ai,Bj)}&#x3D;p^{Ai}$ $å½“Ai &gt; Bjæ—¶ï¼Œå³j &lt; \left \lceil \frac{Ai}{B}\right \rceilï¼Œp^{min(Ai,Bj)}&#x3D;p^{Bj}$</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹é¢ä¸¤ä¸ªå¼å­æ±‚è§£å…¬å…±è´¨å› å­$p$çš„æ€»æ¬¡å¹‚ï¼š $$\sum_{i&#x3D;a}^{b}\sum_{j&#x3D;max(\left \lceil \frac{Ai}{B}\right \rceil,c)}^dAi$$ $$\sum_{j&#x3D;c}^{d}\sum_{i&#x3D;max(\left \lceil \frac{Bj}{A}\right \rceil,a)}^bBj$$</p><p>å½“ç„¶ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªå°é—®é¢˜ã€‚</p><ul><li>$j \geq \left \lceil \frac{Ai}{B}\right \rceil$ï¼Œå¦‚æœè¿™é‡Œæ²¡æœ‰æ­£å¥½æ•´é™¤çš„æ—¶å€™ï¼Œé‚£è¿˜è¡Œï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦çš„æ—¶å‘ä¸Šå–æ•´ï¼Œä½†æ˜¯å¦‚æœæ­£å¥½æ•´é™¤å‘¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦$j+1$å³$j&#x3D;\frac{Ai}{B}+1$</li><li>ä¸¾ä¸€ä¸ªå°æ —å­ï¼Œæšä¸¾$i$çš„æ—¶å€™ï¼Œå› ä¸º$j&#x3D;max(\left \lceil \frac{Ai}{B}\right \rceil,c)$ï¼Œè¦æ˜¯$j&gt;d$ï¼Œé‚£ä¹ˆå°±ä¸è¿›è¡Œä¸‹é¢çš„æ“ä½œï¼ŒåŒç†æšä¸¾$j$ã€‚</li></ul><p>æ¯å¤„ç†ä¸€ä¸ªå…¬å…±è´¨å› å­ï¼ŒæŠŠä»–çš„æ€»æ¬¡å¹‚æ±‚è§£å‡ºæ¥ä¹‹åï¼Œå³å¯å°†ä»–ç”¨å¿«é€Ÿå¹‚å¹¶åŠ åˆ°ç­”æ¡ˆ$ans$é‡Œï¼Œå› ä¸ºå¯ä»¥ç”¨åˆ°æ¬§æ‹‰é™å¹‚ï¼Œæ‰€ä»¥å¿«é€Ÿå¹‚ä¹‹å‰çš„$pow1+pow2$å…ˆ$mod$å°±ä¸æ˜¯$998244353$ï¼Œè€Œæ˜¯$998244353-1$ï¼Œä¸ç„¶ä¼šå‡ºé”™çš„ã€‚</p><h3 id="Code-691ms"><a href="#Code-691ms" class="headerlink" title="Code (691ms)"></a>Code (691ms)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[N];</span><br><span class="line"><span class="type">bool</span> is_prime[N];</span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> px[N], cx[N], py[N], cy[N], mx, my; <span class="comment">// æ˜¯xå’Œyåˆ†è§£çš„è´¨å› å­å’Œè´¨å› å­çš„æ¬¡å¹‚å’Œè´¨å› å­çš„ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> cx, cy;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;node&gt; v1; <span class="comment">// xå’Œyçš„å…¬å…±è´¨å› å­çš„ä¸ªæ•°</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v2; <span class="comment">// xå’Œyçš„å…¬å…±è´¨å› å­çš„å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">()</span> <span class="comment">// è´¨æ•°ç­›</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">mem</span>(is_prime, <span class="literal">true</span>);</span><br><span class="line">    is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(is_prime[i])</span><br><span class="line">        &#123;</span><br><span class="line">            prime[++cnt] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= cnt &amp;&amp; i * prime[j] &lt; N; j++) &#123;</span><br><span class="line">                is_prime[i * prime[j]] = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Divide</span><span class="params">(ll n, <span class="type">int</span> *p, <span class="type">int</span> *c, <span class="type">int</span> &amp;m)</span> <span class="comment">// åˆ†è§£è´¨å› å­</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i * i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            p[++m] = i;</span><br><span class="line">            <span class="keyword">while</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">                c[m]++;</span><br><span class="line">                n /= i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        p[++m] = n;</span><br><span class="line">        c[m] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b) &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">sieve</span>();</span><br><span class="line">    ll a, b, c, d, x, y;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld%lld%lld%lld&quot;</span>,&amp;a,&amp;b,&amp;c,&amp;d,&amp;x,&amp;y);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Divide</span>(x, px, cx, mx); <span class="comment">// åˆ†è§£xå’Œyçš„è´¨å› å­ï¼ˆå€¼ã€ä¸ªæ•°ï¼‰å¹¶å­˜åœ¨æ•°ç»„é‡Œ</span></span><br><span class="line">    <span class="built_in">Divide</span>(y, py, cy, my);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ppx = <span class="number">1</span>, ppy = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(ppx &lt;= mx &amp;&amp; ppy &lt;= my) &#123; <span class="comment">// å¯»æ‰¾xå’Œyçš„å…¬å…±è´¨å› å­å¹¶å­˜åœ¨æ•°ç»„é‡Œ</span></span><br><span class="line">        <span class="keyword">if</span>(px[ppx] == py[ppy]) &#123;</span><br><span class="line">            v1.<span class="built_in">push_back</span>(node&#123;cx[ppx], cy[ppy]&#125;);</span><br><span class="line">            v2.<span class="built_in">push_back</span>(px[ppx]);</span><br><span class="line">            ppx++; ppy++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(px[ppx] &lt; py[ppy]) ppx++;</span><br><span class="line">        <span class="keyword">else</span> ppy++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>;k &lt; v2.<span class="built_in">size</span>(); k++) &#123; <span class="comment">// æšä¸¾æ¯ä¸ªå…¬å…±è´¨å› å­</span></span><br><span class="line"></span><br><span class="line">        ll pow1 = <span class="number">0</span>, pow2 = <span class="number">0</span>; <span class="comment">// ä¸‹é¢ä¸¤ä¸ªå¾ªç¯çš„æ¬¡å¹‚</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(ll i = a;i &lt;= b; i++) &#123; <span class="comment">// å…ˆæšä¸¾i</span></span><br><span class="line">            ll j;</span><br><span class="line">            <span class="keyword">if</span>(v1[k].cx * i % v1[k].cy == <span class="number">0</span>)</span><br><span class="line">                j = <span class="built_in">max</span>(v1[k].cx * i / v1[k].cy, c);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                j = <span class="built_in">max</span>(v1[k].cx * i / v1[k].cy + <span class="number">1</span>, c); <span class="comment">// å‘ä¸Šå–æ•´å¹¶ä¸”æ²¡æœ‰æ•´é™¤</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(j &lt;= d)</span><br><span class="line">                pow1 = (pow1 + i * (d - j + <span class="number">1</span>) % (mod - <span class="number">1</span>)) % (mod - <span class="number">1</span>); <span class="comment">// æ¬§æ‹‰é™å¹‚</span></span><br><span class="line">        &#125;</span><br><span class="line">        pow1 = pow1 * v1[k].cx % (mod - <span class="number">1</span>); <span class="comment">// ä¸è¦å¿˜äº†ç³»æ•°</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(ll j = c;j &lt;= d; j++) &#123; <span class="comment">// å†æšä¸¾j</span></span><br><span class="line"></span><br><span class="line">            ll i = <span class="built_in">max</span>(v1[k].cy * j / v1[k].cx + <span class="number">1</span>, a);<span class="comment">// å› ä¸ºä¸Šé¢æšä¸¾içš„æ—¶å€™å¤„ç†ä¸€æ¬¡é‡å¤çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸éœ€è¦å†è€ƒè™‘äº†</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(i &lt;= b)</span><br><span class="line">                pow2 = (pow2 + j * (b - i + <span class="number">1</span>) % (mod - <span class="number">1</span>)) % (mod - <span class="number">1</span>); <span class="comment">// æ¬§æ‹‰é™å¹‚</span></span><br><span class="line">        &#125;</span><br><span class="line">        pow2 = pow2 * v1[k].cy % (mod - <span class="number">1</span>); <span class="comment">// ä¸è¦å¿˜äº†ç³»æ•°</span></span><br><span class="line"></span><br><span class="line">        ans = ans * <span class="built_in">quick_pow</span>(v2[k], (pow1 + pow2) % (mod - <span class="number">1</span>)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ„Ÿè°¢èµ›ä¸­å’Œèµ›åç‰Œç‹çš„â€œçƒ­æƒ…â€æŒ‡å¯¼,ç‰Œç‹æ— æ•Œï¼ï¼ï¼</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/09/2020-nowcoder-shujia-9-e/">https://blog.jujimeizuo.cn/2020/08/09/2020-nowcoder-shujia-9-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´æ­ç”µæš‘å‡ç¬¬å…­åœºã€‘6827 Road To The 3rd Building</title>
      <link href="/2020/08/06/hdu-6827/"/>
      <url>/2020/08/06/hdu-6827/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6827">http://acm.hdu.edu.cn/showproblem.php?pid=6827</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>Because of the thriller adventure game The 3rd Building, there are fewer and fewer students who would like to go to the 3rd Building. So few students are working in the studio in the 3rd Building. Students are even more reluctant to go to the 3rd Building for experiments, which are also annoying.</p><p>Kanade takes responsibility to improve this status. She thinks it a good idea to decorate the ginkgo trees along the road to the 3rd Building, making them cute. There are n ginkgo trees that are planted along the road, numbered with 1â€¦n. Each tree has a cute value. The cute value of tree i is si.</p><p>Kanade defines a plan as an ordered pair (i,j), here 1â‰¤iâ‰¤jâ‰¤n. It means a student will appear at the position of the tree i magically, walk along the road, and finally stop walking at the position of the tree j. The cute level of a plan is the average of the cute value of the trees visited. Formally, the cute level of plan (i,j) is 1jâˆ’i+1âˆ‘jk&#x3D;isk.</p><p>Kanade wants to know the mathematical expectation of the cute level if a student will take a plan among all these plans in a uniformly random way. But she is busy with learning Computer Networking, would you help her?</p><p>Input The first line of the input contains an integer T â€” the number of testcases. You should process these testcases independently.</p><p>The first line of each testcase contains an integer n â€” the number of ginkgo trees.</p><p>The second line of each testcase contains n integers si â€” the cute value of each ginkgo tree, space-separated.</p><p>1â‰¤Tâ‰¤20,1â‰¤nâ‰¤2Ã—105,1â‰¤siâ‰¤109</p><p>It is guaranteed that âˆ‘nâ‰¤106.</p><p>Output For each testcase, output the answer in the fraction form modulo 109+7 in one line. That is, if the answer is PQ, you should output Pâ‹…Qâˆ’1mod(109+7), where Qâˆ’1 denotes the multiplicative inverse of Q modulo 109+7.</p><p>Sample Input 3 3 1 3 2 6 1 1 4 5 1 4 9 7325 516 56940 120670 16272 15007 337527 333184 742294</p><p>Sample Output 83333336 188888893 303405448</p><p><strong>æœ‰næ£µé“¶ææ ‘ï¼Œæ¯æ£µæ ‘éƒ½æœ‰å¯çˆ±ä»·å€¼ï¼Œå½“ä»ç¬¬iæ£µæ ‘èµ°åˆ°ç¬¬jæ£µæ ‘ï¼Œåˆ™ä»–ä»¬çš„å¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{\sum_{k&#x3D;i}^{j}s[k]}{j-i+1}$ï¼Œæœ€åæ±‚è¿™äº›å¯çˆ±ä»·å€¼çš„æ•°å­¦æœŸæœ›ã€‚</strong></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æˆ‘çš„æ€è·¯æ˜¯æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹æ¯ç§æƒ…å†µã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/08/20200806190719617.png"></p><p>å…ˆä»èµ·ç‚¹ä¸º$1$å¼€å§‹ï¼Œé¦–å…ˆæ˜¯$1$åˆ°$1$ï¼Œé‚£å°±æ˜¯è¿™ä¸€ç‚¹çš„å¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{s[1]}{1}$ï¼Œç„¶å$1$èµ°åˆ°$2$çš„å¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{s[1]+s[2]}{2}$ï¼Œç„¶å$1$èµ°åˆ°$3$çš„å¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{s[1]+s[2]+s[3]}{3}$â€¦..æœ€åå°±æ˜¯$1$èµ°åˆ°$n$çš„å¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{s[1]+s[2]+â€¦s[n]}{n}$ã€‚ ç„¶åä»èµ·ç‚¹ä¸º$2$å¼€å§‹ï¼Œé¦–å…ˆæ˜¯$2$åˆ°$2$ï¼Œé‚£å°±æ˜¯è¿™ä¸€ç‚¹çš„å¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{s[2]}{1}$ï¼Œæœ€åå°±æ˜¯$2$èµ°åˆ°$n$çš„å¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{s[2]+â€¦s[n]}{n-1}$ã€‚ ä¸­é—´çœç•¥å¾ˆå¤šèµ·ç‚¹ã€‚ã€‚ã€‚ã€‚ã€‚ æ¥ç€å°±æ˜¯ä»èµ·ç‚¹ä¸º$n-1$å¼€å§‹ï¼Œé‚£è¿™åªæœ‰ä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«ä¸º$\frac{s[n-1]}{1}$å’Œ$\frac{s[n-1]+s[n]}{2}$ã€‚ æœ€åå°±æ˜¯ä»èµ·ç‚¹ä¸º$n$å¼€å§‹ï¼Œå°±æ˜¯$n$åˆ°$n$ï¼Œå¹³å‡å¯çˆ±ä»·å€¼ä¸º$\frac{s[n]}{1}$ã€‚</p><p>æˆ‘ä»¬è¿™é‡Œåªæ˜¯ä»ä¸€ä¸ªèµ·ç‚¹åˆ°å¦å¤–ä¸€ä¸ªç»ˆç‚¹çš„å¹³å‡å¯çˆ±ä»·å€¼æ±‚å‡ºæ¥ï¼Œé¢˜ç›®è¯´å¯ä»¥$i$åˆ°$j$å’Œ$j$åˆ°$i$ä¸¤ç§èµ°æ³•ï¼Œä½†æ˜¯è¿™ä¸¤ç§çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„å¹³å‡å¯çˆ±ä»·å€¼ï¼Œåªéœ€è¦æ±‚ä¸€æ¬¡å°±å¯ã€‚</p><p>é‚£æˆ‘ä»¬æŠŠè¿™äº›æƒ…å†µé‡æ–°æ’åˆ—ä¸€ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>$i&#x3D;1ï¼š\frac{s[1]}{1}+\frac{s[1]+s[2]}{2}+\frac{s[1]+s[2]+s[3]}{3}â€¦â€¦+\frac{s[1]+s[2]+â€¦s[n]}{n}$</p><p>$i&#x3D;2:\frac{s[2]}{1}+\frac{s[2]+s[3]}{2}+\frac{s[2]+s[3]+s[4]}{3}â€¦â€¦+\frac{s[2]+â€¦s[n]}{n-1}$</p><p>$â€¦$ $i&#x3D;n-1:\frac{s[n-1]}{1}+\frac{s[n-1]+s[n]}{2}$</p><p>$i&#x3D;n:\frac{s[n]}{1}$</p><p>è§‚å¯Ÿä¸Šè¿°æ‰€æœ‰æƒ…å†µï¼Œæˆ‘ä»¬æŠŠåˆ†æ¯ç›¸åŒçš„åˆ†å¼ç›¸åŠ å¾—ï¼ˆè®¾åˆ†æ¯ä¸º$k$ï¼‰ï¼š</p><p>$k&#x3D;1:\frac{s[1]+s[2]+â€¦+s[n]}{1}$</p><p>$k&#x3D;2:\frac{s[1]+2*(s[2]+â€¦+s[n-1])+s[n]}{2}$</p><p>è¿™é‡Œè¦å¥½å¥½å“ä¸€ä¸‹ï¼Œ$s[2]åˆ°s[n-1]$éƒ½æ˜¯è¦ä¹˜$2$çš„ã€‚é‚£ä¹ˆä¸‹é¢çš„æƒ…å†µéƒ½æ˜¯è¦ä¹˜ä¸Šä¸€äº›ç³»æ•°ï¼Œè€Œä¸”éƒ½æ˜¯å‘ˆä¸‰è§’å½¢çŠ¶æ€ã€‚ $k&#x3D;3:\frac{s[1]+2*s[2]+3*(s[3]+â€¦s[n-2])+2*s[n-1]+s[n-1]}{3}$</p><p>çœç•¥å¾ˆå¤šåˆ†æ¯ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p><p>$k&#x3D;n-2:\frac{s[1]+2*s[2]+3*(s[3]+â€¦s[n-2])+2*s[n-1]+s[n-1]}{n-2}$</p><p>$k&#x3D;n-1:\frac{s[1]+2*(s[2]+â€¦+s[n-1])+s[n]}{n-1}$</p><p>$k&#x3D;n:\frac{s[1]+s[2]+â€¦+s[n]}{n}$</p><p>è¿™é‡Œæœ‰ä¸ªè§„å¾‹ï¼Œk&#x3D;1å’Œk&#x3D;nçš„åˆ†å­ç›¸åŒ,å¾—å‡ºkå’Œn-k+1çš„åˆ†å­æ˜¯ç›¸åŒçš„ï¼Œè€Œä¸”åˆ†å­éšç€åˆ†æ¯çš„å˜å¤§$ï¼ˆ1 - \frac{n}{2}ï¼‰$å‘ˆç°ä¸€ä¸ªä¸Šè¿°è¯´çš„ä¸‰è§’å½¢çŠ¶æ€ï¼Œä¸­é—´çš„s[i]çš„ç³»æ•°éƒ½æ˜¯é€æ¸é€’å¢ï¼Œç¬”è€…çš„è¯­è¨€ç»„ç»‡å¤ªå·®ï¼Œå°±è‡ªè¡Œç†è§£ä¸€ä¸‹ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬æ±‚å¹³å‡å¯çˆ±ä»·å€¼å°±å¯ä»¥$O(\frac{n}{2})$æ±‚ã€‚</p><p>=&#x3D;æ³¨æ„ï¼Œå½“nä¸ºå¶æ•°çš„æ—¶å€™å¯ä»¥ç›´æ¥ä¸Šé¢æ–¹æ³•æ±‚ï¼Œä½†æ˜¯å½“nä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œæœ€ä¸­é—´çš„æ•°$s[n&#x2F;2+1]$è¦å¦å¤–åŠ ä¸Šï¼Œä¸è¦å¿˜è®°ï¼&#x3D;&#x3D;</p><p>åˆ†æ¯æˆ‘ä»¬å¯ä»¥é¢„å¤„ç†çº¿æ€§é€†å…ƒï¼Œåˆ†å­æˆ‘ä»¬å¯ä»¥å…ˆé¢„å¤„ç†å‰ç¼€å’Œï¼Œç„¶åæ ¹æ®ï¼ˆåˆ†æ¯å¢å¤§ï¼‰ç³»æ•°åŠ ä¸Šç›¸å¯¹åº”çš„å‰ç¼€å’Œã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll invn[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    invn[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; <span class="number">200005</span>; i++)</span><br><span class="line">        invn[i] = mod - (mod / i) * invn[mod % i] % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll a[N];</span><br><span class="line">ll f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        ll n;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]);</span><br><span class="line">            f[i] = (f[i - <span class="number">1</span>] + a[i] % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ll k = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n / <span class="number">2</span>; i++) &#123;</span><br><span class="line">            k = (k + f[n - i + <span class="number">1</span>] - f[i - <span class="number">1</span>] + mod) % mod;</span><br><span class="line">            ans = (ans + k * invn[i] % mod) % mod;</span><br><span class="line">            ans = (ans + k * invn[n - i + <span class="number">1</span>] % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(n % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">            ans = (ans + (k + a[n / <span class="number">2</span> + <span class="number">1</span>]) % mod * invn[n / <span class="number">2</span> + <span class="number">1</span>] % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ans = (ans * <span class="built_in">quick_pow</span>(((n + <span class="number">1</span>) * n / <span class="number">2</span>) % mod, mod - <span class="number">2</span>)) % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç”±äºçº¿æ€§é€†å…ƒçš„æ¿å­æˆ‘æŠŠæ‹¬å·çš„ä½ç½®æ•²é”™åœ°æ–¹ï¼Œå¯¼è‡´ä¸€ç›´éƒ½æ˜¯waçš„çŠ¶æ€ï¼Œæˆ‘æ˜¯å‚»é€¼ï¼Œæˆ‘æ˜¯å‚»é€¼ï¼Œæˆ‘æ˜¯å‚»é€¼ï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼ï¼ï¼</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/06/hdu-6827/">https://blog.jujimeizuo.cn/2020/08/06/hdu-6827/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´æ­ç”µæš‘å‡ç¬¬äº”åœºã€‘6825 Set1</title>
      <link href="/2020/08/05/hdu-6825/"/>
      <url>/2020/08/05/hdu-6825/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6825">http://acm.hdu.edu.cn/showproblem.php?pid=6825</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>You are given a set S&#x3D;{1..n}. It guarantees that n is odd. You have to do the following operations until there is only 1 element in the set:</p><p>Firstly, delete the smallest element of S. Then randomly delete another element from S.</p><p>For each iâˆˆ[1,n], determine the probability of i being left in the S.</p><p>It can be shown that the answers can be represented by PQ, where P and Q are coprime integers, and print the value of PÃ—Qâˆ’1 mod 998244353.</p><p>Input The first line containing the only integer T(Tâˆˆ[1,40]) denoting the number of test cases.</p><p>For each test case:</p><p>The first line contains a integer n .</p><p>It guarantees that: âˆ‘nâˆˆ[1,5Ã—106].</p><p>Output For each test case, you should output n integers, i-th of them means the probability of i being left in the S.</p><p>Sample Input 1 3</p><p>Sample Output 0 499122177 499122177</p><p>ç»™å‡ºä¸€ä¸ª$n$ï¼Œæœ‰$[1,n]$ä¸­$n$ä¸ªæ•°ã€‚ æ¯æ¬¡æœ‰å¦‚ä¸‹æ“ä½œï¼šå…ˆåˆ å»æœ€å°çš„å…ƒç´ ï¼Œå†éšæœºåˆ æ‰ä¸€ä¸ªå…ƒç´ ã€‚ æ±‚æ¯ä¸ªæ•°ç•™ä¸‹æ¥çš„æ¦‚ç‡æœŸæœ›ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h4 id="æ–¹æ³•ä¸€ï¼šç»„åˆæ•°å­¦-æ•°å­¦æ¨å¯¼"><a href="#æ–¹æ³•ä¸€ï¼šç»„åˆæ•°å­¦-æ•°å­¦æ¨å¯¼" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç»„åˆæ•°å­¦+æ•°å­¦æ¨å¯¼"></a>æ–¹æ³•ä¸€ï¼šç»„åˆæ•°å­¦+æ•°å­¦æ¨å¯¼</h4><p>è€ƒè™‘å…ƒç´ $i$ç•™ä¸‹æ¥çš„æ–¹æ¡ˆæ•°ï¼Œé‚£ä¹ˆä»–å‰é¢æœ‰$i-1$ä¸ªæ•°ï¼Œåé¢æœ‰$n-i$ä¸ªæ•°ã€‚ æˆ‘ä»¬æ˜“å¾—å½“$n-i\geq i-1$æ—¶ï¼Œiæ‰ä¼šè¢«ç•™ä¸‹æ¥ï¼Œå³$i\leq\frac{n}{2}$æ—¶éƒ½æ˜¯$0$ï¼Œå¾€åæ‰æœ‰å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥è¾“å‡ºå‰$\frac{n}{2}$ä¸ª$0$ã€‚</p><p>ç„¶ååœ¨å¤„ç†åé¢çš„æ•°å­—ã€‚ æˆ‘ä»¬è®¾æ¯æ¬¡åˆ é™¤æœ€å°å…ƒç´ ä¸ºæ“ä½œä¸€ï¼Œéšæœºåˆ é™¤å…ƒç´ ä¸ºæ“ä½œäºŒã€‚ å³$i$åé¢çš„$n-i$ä¸ªæ•°ä¸€å®šæ˜¯æ“ä½œäºŒåˆ é™¤çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬è®©åé¢$n-i$ä¸ªæ•°ä¸å‰é¢$i-1$ä¸­çš„$n-i$ä¸ªä¸€ä¸€å¯¹åº”åˆ é™¤å°±è¡Œã€‚ï¼ˆåœ¨$i-1$ä¸­é€‰$n-i$ä¸ªæ•°å‡ºæ¥åœ¨ç»™ä»–æ’åºï¼‰ è®¾ç¬¬$i$ä¸ªæ•°è¢«ç•™ä¸‹æ¥çš„æ–¹æ¡ˆæ•°ä¸º$cnt[i]$ï¼Œåˆ™ $$cnt[i] &#x3D; C_{i-1}^{n-i}*A_{n-i}^{n-i} &#x3D; \frac{(i-1)!}{(2i-n-1)!}$$</p><p>ç„¶ååœ¨è€ƒè™‘å‰©ä¸‹çš„$(i-1)-(n-i)&#x3D;(2i-n-1)$ä¸ªæ•°ï¼Œæ ¹æ®å‰é¢ï¼Œåœ¨å…¶ä¸­é€‰æ‹©ä¸¤ä¸¤åˆ é™¤ã€‚ $(2i-n-1)$ä¸¤ä¸¤é€‰æ‹©æœ‰$$C_{2i-n-1}^2*C_{2i-n-3}^2â€¦C_4^2*C_2^2$$ $$\frac{(2i-n-1)!}{2!*(2i-n-3)!}*\frac{(2i-n-3)!}{2!*(2i-n-5)!}*â€¦*\frac{2!}{2!*0!}$$ $$\frac{(2i-n-1)!}{(2!)^{\frac{2i-n-1}{2}}}$$</p><p>åˆ°è¿™é‡Œè¿˜æ²¡æœ‰ç»“æŸï¼Œç„¶åæˆ‘æƒ³äº†å¥½ä¹…ï¼Œæ˜¯æˆ‘å¤ªæäº†ã€‚ æ¯”å¦‚$[1,6]$ï¼Œæˆ‘ä»¬é€‰æ‹©çš„æ—¶å€™ä¼šé‡å¤é€‰æ‹©å¤šæ¬¡ï¼Œæ¯”å¦‚ $(1,2)(3,4)(5,6)$ $(1,2)(5,6)(3,4)$ $(3,4)(1,2)(5,6)$ $(3,4)(5,6)(1,2)$ $(5,6)(1,2)(3,4)$ $(5,6)(3,4)(1,2)$ è¿™äº›éƒ½æ˜¯ä¸Šé¢åŒ…æ‹¬çš„æƒ…å†µï¼Œå› ä¸ºé€‰çš„å…ˆåæ¬¡åºä¸åŒï¼Œæ‰€ä»¥ä¼šå‡ºç°é‡å¤çš„æƒ…å†µï¼Œä¸€å…±å‡ºç°ç›¸åŒçš„ç»„åˆ$(\frac{n}{2})!$ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šå†é™¤ä»¥$(\frac{2i-n-1}{2})!$ é‚£ä¹ˆå‰©ä¸‹æ•°$(2i-n-1)$ä¸­ä¸¤ä¸¤é€‰æ‹©çš„æ–¹æ¡ˆæ•°ä¸º $$\frac{(2i-n-1)!}{(2!)^{\frac{2i-n-1}{2}}*(\frac{2i-n-1}{2})!}$$ æœ€åæ•´åˆä¸Šè¿°æ‰€æœ‰æƒ…å†µï¼Œç¬¬$i$ä¸ªæ•°è¢«ç•™ä¸‹çš„æ€»æ–¹æ¡ˆæ•°ä¸º $$cnt[i] &#x3D; \frac{(i-1)!}{(2i-n-1)!}*\frac{(2i-n-1)!}{(2!)^{\frac{2i-n-1}{2}}*(\frac{2i-n-1}{2})!}$$ åŒ–ç®€å¾— $$cnt[i] &#x3D; \frac{(i-1)!}{(2!)^{\frac{2i-n-1}{2}}*(\frac{2i-n-1}{2})!}$$</p><p>æ€»æ–¹æ¡ˆæ•°ä¸º$sum&#x3D;\sum_{i&#x3D;1}^ncnt[i]$ ç¬¬$i$ä¸ªæ•°è¢«ç•™ä¸‹çš„æ¦‚ç‡æœŸæœ›ä¸º$p[[i]&#x3D;\frac{cnt[i]}{sum}$ æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$</p><p>äº‹å…ˆé¢„å¤„ç†æ‰€æœ‰çš„é˜¶ä¹˜å’Œé˜¶ä¹˜é€†å…ƒã€‚</p><h4 id="æ–¹æ³•äºŒï¼šdp"><a href="#æ–¹æ³•äºŒï¼šdp" class="headerlink" title="æ–¹æ³•äºŒï¼šdp"></a>æ–¹æ³•äºŒï¼šdp</h4><p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/luyouqi233/p/13434815.html">https://www.cnblogs.com/luyouqi233/p/13434815.html</a> dpæ–¹æ³•æˆ‘ä¹Ÿä¸å¤ªä¼šï¼Œå“­äº†ã€‚</p><h2 id="Code-3026MS"><a href="#Code-3026MS" class="headerlink" title="Code(3026MS)"></a>Code(3026MS)</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5e6</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">ll F[N];</span><br><span class="line">ll invn[N];</span><br><span class="line">ll invF[N];</span><br><span class="line">ll cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>) ans = ans * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    F[<span class="number">0</span>] = F[<span class="number">1</span>] = invn[<span class="number">0</span>] = invn[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt; N; i++)&#123;</span><br><span class="line">        F[i] = F[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">        invn[i] = (mod - mod / i) * invn[mod % i] % mod;</span><br><span class="line">        invF[i] = invF[i - <span class="number">1</span>] * invn[i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">    ll inv2 = <span class="number">499122177</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n / <span class="number">2</span>; i++)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot; 0&quot;</span>);</span><br><span class="line"></span><br><span class="line">            ll ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = n / <span class="number">2</span> + <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">                cnt[i] = F[i - <span class="number">1</span>] * invF[(<span class="number">2</span> * i - n - <span class="number">1</span>) / <span class="number">2</span>] % mod * <span class="built_in">quick_pow</span>(inv2, (<span class="number">2</span> * i - n - <span class="number">1</span>) / <span class="number">2</span>) % mod;</span><br><span class="line">                ans = (ans + cnt[i]) % mod;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            ll sum = <span class="built_in">quick_pow</span>(ans, mod - <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = n / <span class="number">2</span> + <span class="number">1</span>;i &lt;= n; i++) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;% lld&quot;</span>,sum * cnt[i] % mod);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/05/hdu-6825/">https://blog.jujimeizuo.cn/2020/08/05/hdu-6825/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´æ­ç”µæš‘å‡ç¬¬äº”åœºã€‘6814 Tetrahedron</title>
      <link href="/2020/08/05/hdu-6814/"/>
      <url>/2020/08/05/hdu-6814/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6814">http://acm.hdu.edu.cn/showproblem.php?pid=6814</a></p><p>Generate three integers a, b, and c in [1,n] with equal probability independently, and use them as the three right-angle side length of a right-angled tetrahedron. Find the expectation of the reciprocal square of the distance from the right-angle apex to the slope (Euclidean distance).</p><p>For each test case, output a line containing the answer mod 998244353.</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2FjbS5oZHUuZWR1LmNuL2RhdGEvaW1hZ2VzL0M4ODMtMTAwMS0xLnBuZw?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>Input In the first line, you should read an integer T denoting the number of test cases.</p><p>In every test case, the only line will include an integer n.</p><p>It is guaranteed that T is no larger than 2Ã—106 and n is no larger than 6Ã—106.</p><p>Output For each test case, output the only line containing just one integer denoting the answer mod 998244353.</p><p>Sample Input 3 1 2 3</p><p>Sample Output 3 124780546 194103070</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™å®šnï¼Œåœ¨[1,n]ä¸­ç­‰æ¦‚ç‡éšæœºé€‰å‡º3ä¸ªæ•°$a,b,c$ï¼Œåšç›´è§’å››é¢ä½“ï¼ˆ$a,b,c$ä¸‰éä¸¤ä¸¤å‚ç›´ï¼‰ï¼Œè®°é¡¶ç‚¹åˆ°åº•é¢çš„è·ç¦»ä¸º$h$,æ±‚æ•°å­¦æœŸæœ›$E(\frac{1}{h^2})$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è®¾$a,b,c$ä¸ºç©ºé—´ç›´è§’åæ ‡ç³»çš„ä¸‰æ¡åæ ‡è½´ï¼Œ ç›´è§’å››é¢ä½“çš„é¡¶ç‚¹ä½œä¸ºåæ ‡ç³»çš„åŸç‚¹ï¼Œç›´è§’å››é¢ä½“çš„åº•åœ¨åæ ‡ç³»çš„å¹³é¢æ–¹ç¨‹ä¸º$\frac{x}{a}+\frac{y}{b}+\frac{z}{c}&#x3D;1$ï¼Œé‚£ä¹ˆ$h$ä¸ºåŸç‚¹åˆ°è¯¥å¹³é¢æ–¹ç¨‹çš„ç›´çº¿è·ç¦»ã€‚</p><p>$$h&#x3D;\frac{1}{\sqrt{\frac{1}{a^2}+\frac{1}{b^2}+\frac{1}{c^2}}}$$ $$\frac{1}{h^2}&#x3D;\frac{1}{a^2}+\frac{1}{b^2}+\frac{1}{c^2}$$</p><p>ç„¶å$a,b,c$åœ¨$[1,n]$é—´ç­‰æ¦‚ç‡é€‰å–æŸä¸ªæ•°ï¼Œæ‰€æœ‰æ•°å­—å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯$n$æ¬¡ï¼Œæ‰€ä»¥$\frac{1}{a^2},\frac{1}{b^2},\frac{1}{c^2}$éƒ½ä¸º[1,n]ç§çš„æŸä¸ª$\frac{1}{i^2}$ã€‚</p><p>æœ€åæ±‚æ•°å­¦æœŸæœ›ï¼Œæ¯ä¸ª$a,b,c$éƒ½æœ‰$n$ç§é€‰æ³•ï¼Œæ‰€ä»¥ä¸€å…±æœ‰$n^3$ç§ï¼Œå¯¹äºæ¯ä¸ªaï¼Œéƒ½æœ‰$n^2$ä¸ªã€‚ $$E(\frac{1}{h^2})&#x3D;\frac{n^2*3*\sum_{i&#x3D;1}^n\frac{1}{i^2}}{n^3}(n\geq3)$$ $$E(\frac{1}{h^2})&#x3D;\frac{3*\sum_{i&#x3D;1}^n\frac{1}{i^2}}{n}(n\geq3)$$</p><p>æ‰€ä»¥åªè¦é¢„å¤„ç†ä¸€ä¸‹ï¼Œç›´æ¥$O(1)$å¾—å‡ºç­”æ¡ˆã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a, b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>, base = a;</span><br><span class="line">    <span class="keyword">while</span>(b != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = ans * base % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        base = base * base % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll inv[<span class="number">6000005</span>];</span><br><span class="line">ll f[<span class="number">6000005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    inv[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= <span class="number">6000002</span>; i++) &#123;</span><br><span class="line">        inv[i] = mod - (mod / i) * inv[mod % i] % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">6000002</span>; i++) &#123;</span><br><span class="line">        f[i] = (f[i - <span class="number">1</span>] + (inv[i] * inv[i]) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--) &#123;</span><br><span class="line">        ll n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        ll k = <span class="number">3</span> * f[n] % mod * inv[n] % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">signed</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">             &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug &amp;&amp; cin.<span class="built_in">putback</span>(acm_local_for_debug));</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>èµ›ååˆäº¤äº†å·²å‘ï¼Œå‘ç°Täº†ï¼Œèµ›ä¸­ACï¼Œèµ›åTäº†ï¼Œå¾ˆè¿·ï¼Œæœ€åæŠŠcinæ”¹æˆscanfè¿˜æ˜¯å¯¹äº†ï¼Œå·®ç‚¹å“æ­»æˆ‘ã€‚</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/05/hdu-6814/">https://blog.jujimeizuo.cn/2020/08/05/hdu-6814/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬å…«åœºã€‘Eé¢˜ Enigmatic Partition</title>
      <link href="/2020/08/05/2020-nowcoder-shujia-8-e/"/>
      <url>/2020/08/05/2020-nowcoder-shujia-8-e/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/5673/E">https://ac.nowcoder.com/acm/contest/5673/E</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2020/08/20200805140715720.png"></p><p>æ•°$n$çš„æ‹†åˆ†ï¼Œè¦æ±‚æœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸å·®ä¸º2ï¼Œä¸”ç›¸é‚»ä¸¤ä¸ªæ•°ä¹‹é—´ç›¸å·®å°äº1ï¼Œ$f[i]$è¡¨ç¤ºæ‹†åˆ†çš„ä¸ªæ•°ã€‚ æœ‰Tç»„æµ‹è¯•ï¼Œæ¯ç»„ç»™å‡ºlå’Œrï¼Œæ±‚å‡º$\sum_{i&#x3D;l}^rf[i]$ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆçŸ¥é“$n$æ˜¯ç”±ä¸‰ä¸ªè¿ç»­è‡ªç„¶æ•°ä¹‹å’Œç›¸åŠ ç»„æˆçš„ï¼Œå½“ç„¶ï¼Œè¿™ä¸‰ä¸ªè‡ªç„¶æ•°çš„ä¸ªæ•°æ˜¯ä¸çŸ¥é“çš„ï¼Œé‚£ä¹ˆå°±æ˜¯æ±‚$$f[i]&#x3D;a*l+b*(l+1)+c*(l+2)ï¼ˆaï¼Œbï¼Œc\ge q1ï¼‰$$</p><h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><p>æ ¹æ®æ ‡ç¨‹ç»™çš„é¢˜è§£ï¼Œå®ƒæ˜¯æšä¸¾$l$ï¼Œæ‰€ä»¥è¿™ä¸‰ä¸ªæ•°ä¸º$l,l+1,l+2$ï¼Œè¡¨ç¤ºä¸º$l,mid,r$ï¼Œæˆ‘ä»¬çŸ¥é“ä¸¤ä¸ª$mid$å¯ä»¥æ‹†æˆ$lå’Œr$ï¼Œæ‰€ä»¥å½“æœ‰$m$ä¸ª$mid$çš„æ—¶å€™ï¼Œå°±æœ‰$(m-1)&#x2F;2$ä¸­æ‹†æ³•ï¼Œä¾‹å¦‚ï¼šï¼ˆä¸‹é¢ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º$lï¼Œmidå’Œrçš„ä¸ªæ•°$ï¼‰ $m&#x3D;5ï¼šæœ‰2ç§æ‹†æ³•$ $1ï¼Œ2ï¼Œ1$ $2ï¼Œ0ï¼Œ2$ $m&#x3D;8ï¼šæœ‰3ç§æ‹†æ³•$ $1ï¼Œ5ï¼Œ1$ $2ï¼Œ3ï¼Œ2$ $3ï¼Œ1ï¼Œ3$</p><p>ä¸ºä»€ä¹ˆ$mid$å¯ä»¥ç­‰äº0ï¼Œå› ä¸ºä¹‹å‰$m-1$,è¿™ä¸ª1å°±æ˜¯$mid$ã€‚ ä¸ºä»€ä¹ˆ$lå’Œr$ä¸å¯ä»¥ç­‰äº0ï¼Œè¿™æ ·çš„è¯å°±ä¸ä¿è¯$a,c\ge q1$ã€‚</p><p>è¿™æ ·æšä¸¾$l$çš„è¿‡ç¨‹ä¸­ï¼Œå†åˆ†åˆ«æšä¸¾$m$çš„ä¸ªæ•°ï¼Œå†æšä¸¾å¾€å·¦åŠ $l$çš„ä¸ªæ•°å’Œå¾€å³åŠ $r$çš„ä¸ªæ•°ï¼Œæœ€åå†åšä¸ªå‰ç¼€å’Œç­”æ¡ˆå°±å‡ºæ¥äº†ï¼Œä¸è¿‡é—®é¢˜å°±æ˜¯$l\leq100$ï¼Œæ ‡ç¨‹è¯´æšä¸¾ä¼šæ¯”è¾ƒæ…¢ï¼ˆæ˜¯éå¸¸æ…¢ï¼‰ï¼Œæ‰€ä»¥è¦ç”¨dpä¼˜åŒ–ï¼Œä¸è¿‡æˆ‘ä¹Ÿä¸ä¼šå°±å’•å’•å’•äº†ï¼Œç„¶åå°±æœ‰äº†ç¬¬äºŒç§æ–¹æ³•ã€‚</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/08/20200805142832935.png"></p><p>! #### æ–¹æ³•äºŒ åº”è¯¥ä¹Ÿç®—æšä¸¾ï¼Œä¸è¿‡æ˜¯å¾ˆå·§å¦™çš„æšä¸¾ã€‚æˆ‘ä¹Ÿæ˜¯çœ‹åˆ«äººçš„åšå®¢æ‰ç¨å¾®æ‡‚ä¸€ç‚¹ç‚¹ç‚¹ç‚¹çš„ã€‚ è¿™é‡Œåº”ç”¨äº†å·®åˆ†çš„æ€æƒ³ã€‚ æœ€åæ˜¯ä¸€é˜¶å·®åˆ†+éš”é¡¹å·®åˆ†ã€‚ å‚è€ƒå¤§ä½¬çš„åšå®¢ï¼š [å¤§ä½¬1](<a href="https://blog.csdn.net/zhangchizc/article/details/107784622?utm%5C_medium=distribute.pc%5C_relevant.none-task-blog-baidulandingword-2&spm=1001.2101.3001.4242">https://blog.csdn.net/zhangchizc/article/details/107784622?utm\_medium=distribute.pc\_relevant.none-task-blog-baidulandingword-2&amp;spm=1001.2101.3001.4242</a>) [å¤§ä½¬2](<a href="https://blog.csdn.net/zhangchizc/article/details/107784622?utm%5C_medium=distribute.pc%5C_relevant.none-task-blog-baidulandingword-2&spm=1001.2101.3001.4242">https://blog.csdn.net/zhangchizc/article/details/107784622?utm\_medium=distribute.pc\_relevant.none-task-blog-baidulandingword-2&amp;spm=1001.2101.3001.4242</a> â€œå¤§ä½¬2â€) [å¤§ä½¬3](<a href="https://www.cnblogs.com/rair/p/13430729.html">https://www.cnblogs.com/rair/p/13430729.html</a>) å…³äºå·®åˆ†ï¼Œå¯ä»¥å‚è€ƒï¼š[<a href="https://blog.csdn.net/qq/_44786250/article/details/100056975/](https://blog.csdn.net/qq/_44786250/article/details/100056975)">https://blog.csdn.net/qq\_44786250/article/details/100056975\](https://blog.csdn.net/qq\_44786250/article/details/100056975)</a> ä¸€é˜¶å·®åˆ†å°±æ˜¯åä¸€é¡¹å‡å»å‰ä¸€é¡¹$d[i] &#x3D; a[i]-a[i-1]$ã€‚ éš”é¡¹å·®åˆ†å°±æ˜¯åä¸€é¡¹çš„åä¸€é¡¹å‡å»å‰ä¸€é¡¹$d[i] &#x3D;a[i]-a[i-2]$ã€‚ ç„¶åå›åˆ°æœ¬é¢˜ã€‚ æˆ‘ä»¬å…ˆæŠŠå¼å­æ”¹å˜ä¸€ä¸‹ã€‚ $m&#x3D;b1+b2+b3$ $n&#x3D;a*b1+(a+1)*b2+(a+2)*b3&#x3D;a*(b1+b2+b3)+b2+2b3&#x3D;am+b2+2b3$ å…·ä½“ç»†èŠ‚è¯·çœ‹ä¸Šé¢ä¸‰ä¸ªå¤§ä½¬çš„åšå®¢ã€‚ æœ€åæˆ‘ä»¬å¾—å‡ºæ¥ï¼š $f[am+3]++ï¼Œf[(a+1)m+1]â€“ï¼Œf[(a+1)m+2]â€“ï¼Œf[(a+2)m]++$ è¿™é‡Œä¸€å®šè¦çœ‹å›¾è§£ï¼Œä¸ç„¶çœŸçš„å¾ˆæ˜ã€‚ åªè¦æˆ‘ä»¬æšä¸¾$aå’Œm$ä¹‹åï¼Œç„¶åå¯¹ä¸Šè¿°ä½ç½®è¿›è¡ŒåŠ å‡æ“ä½œï¼Œæœ€ååœ¨éš”é¡¹å·®åˆ†ã€ä¸€é˜¶å·®åˆ†æ±‚å‡ºåŸæ•°ç»„ï¼Œæœ€ååœ¨å‰ç¼€å’Œå¾—å‡ºç­”æ¡ˆã€‚ ## Code ```c++ ##include &lt;bits&#x2F;stdc++.h&gt; using namespace std; typedef long long ll; typedef long double ld; typedef pair&lt;int, int&gt; pdd; ##define INF 0x7f7f7f ##define mem(a, b) memset(a , b , sizeof(a)) ##define FOR(i, x, n) for(int i &#x3D; x;i &lt;&#x3D; n; i++) &#x2F;&#x2F; const ll mod &#x3D; 1e9 + 7; &#x2F;&#x2F; const int maxn &#x3D; 1e5 + 10; &#x2F;&#x2F; const double eps &#x3D; 1e-6; const int N &#x3D; 1e5 + 10; ll f[N * 2]; ll F[N * 2]; void Init() { for(int m &#x3D; 3;m &lt; N; m++) { for(int a &#x3D; 1;a * m &lt; N; a++) { f[a * m + 3]++; f[(a + 1) * m + 1]â€“; f[(a + 1) * m + 2]â€“; f[(a + 2) * m]++; } } for(int i &#x3D; 3;i &lt; N; i++) f[i] +&#x3D; f[i - 2]; for(int i &#x3D; 2;i &lt; N; i++) f[i] +&#x3D; f[i - 1]; for(int i &#x3D; 1;i &lt; N; i++) F[i] &#x3D; F[i - 1] + f[i]; } void solve() { Init(); int Case &#x3D; 1; int T; cin &gt;&gt; T; while(Tâ€“) { int l, r; cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; â€œCase ##â€ &lt;&lt; Case++ &lt;&lt; â€œ: â€œ &lt;&lt; F[r] - F[l - 1] &lt;&lt; endl; } } signed main() { ios_base::sync_with_stdio(false); cin.tie(nullptr); cout.tie(nullptr); ##ifdef ACM_LOCAL freopen(â€œin.txtâ€, â€œrâ€, stdin); freopen(â€œout.txtâ€, â€œwâ€, stdout); solve(); ##else solve(); ##endif return 0; } ``` ## åæ€ **æ¯”èµ›å†ä¹Ÿä¸åœ¨ä¸€é¢˜ä¸ŠèŠ±5ä¸ªå°æ—¶äº†ï¼Œå‘œå‘œå‘œ~~~**</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/05/2020-nowcoder-shujia-8-e/">https://blog.jujimeizuo.cn/2020/08/05/2020-nowcoder-shujia-8-e/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´æ­ç”µæš‘å‡ç¬¬äº”åœºã€‘6822 Paperfolding</title>
      <link href="/2020/08/04/hdu-6822/"/>
      <url>/2020/08/04/hdu-6822/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6822">http://acm.hdu.edu.cn/showproblem.php?pid=6822</a></p><p>There is a piece of paper in rectangular shape with sufficient length and width (lay flat on the table). Execute an operation instruction according to a string of length n from left to right that only contains 4 different characters of L,R,U,D.</p><ol><li><p>L instruction means to fold it from left to right,</p></li><li><p>R instruction means to fold from right to left,</p></li><li><p>U instruction means to fold from top to bottom,</p></li><li><p>D instruction means to fold in half from bottom to top.</p></li></ol><p>Note that the operation is limited due to the limitation of the desktop. Namely, the fold operation is restricted. For example, if you fold the paper from left to right, you should let the left side overlap on the right side with no rotation.</p><p>Now, cut a knife horizontally (completely cut) at the center of the visible part of the paper, and then cut vertically (completely cut).</p><p>The number of pieces of the whole paper split is num(S).</p><p>See the example and the picture for better understanding.</p><p>Now given a nonnegative integer n, the string S is generated from 4n different possible outcomes in equal probability. Find the expected value of the number of pieces of the paper which is split, that is E(num(S)) mod 998244353.</p><p>It can be shown that the answers can be represented by PQ, where P and Q are coprime integers, and print the value of PÃ—Qâˆ’1 mod 998244353.</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/08/20200804211307771.png"></p><p>Input The first line contains a single integer T (1â‰¤Tâ‰¤105), the number of testcases.</p><p>Each of the next T lines contains a number n ( 0â‰¤nâ‰¤1018 ).</p><p>Output For each testcase, print the answer in one line.</p><p>Sample Input 2 0 1</p><p>Sample Output 4 6</p><p>Source 2020 Multi-University Training Contest 5</p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>åœ¨ä¸€å—æ— é™å¤§çš„çº¸ä¸Šï¼Œæœ‰å››ç§æ“ä½œï¼Œä¸ŠæŠ˜ï¼Œä¸‹æŠ˜ï¼Œå·¦æŠ˜ï¼Œå³æŠ˜ï¼Œé—®kæ¬¡æ“ä½œåï¼ŒæŠ˜å®Œåå–ä¸­ç‚¹ï¼Œæ¨ªç«–åˆ†åˆ«åˆ‡ä¸€åˆ€ï¼ˆåˆ‡åå­—ï¼‰ï¼Œé—®æœ€åçº¸åˆ†æˆå¤šå°‘ç‰‡çš„æ•°å­¦æœŸæœ›ï¼ˆåˆæ˜¯æ•°å­¦æœŸæœ›ï¼Œå“ï¼‰ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å·¦å³æŠ˜æ˜¯ä¸€æ ·çš„ï¼Œä¸Šä¸‹æŠ˜æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åªæœ‰ä¸¤ç§æ“ä½œã€‚</p><p>åº”è¯¥å®éªŒï¼ˆæ‰‹åŠ¨å‰ªçº¸ï¼‰å¯å¾—ï¼Œå¾€ä¸Šä¸‹æ–¹å‘æŠ˜$k$æ¬¡ï¼Œä¼šæœ‰$2^k$æ¡å‰²çº¿ï¼Œé‚£ä¹ˆæ¨ªç€åˆ‡ä¸€åˆ€å±•å¼€åçš„çº¸ç‰‡æ•°æœ‰$2^k+1$å¼ ï¼Œè¿™ä¸ª$+1$å°±æ˜¯æœ€ä¸­é—´æŠ˜ç—•å·¦å³ä¸¤è¾¹çº¸ç‰‡ç®—ä¸€ä¸ªï¼ŒåŒç†å·¦å³æŠ˜ã€‚</p><p>åœ¨æŠ˜$n$æ¬¡çš„æƒ…å†µä¸‹ï¼Œè®¾å·¦å³æŠ˜æ¬¡æ•°ä¸º$k$ï¼Œé‚£ä¹ˆä¸Šä¸‹æŠ˜æ¬¡æ•°ä¸º$n-k$ã€‚</p><p>æ ¹æ®ä¸Šé¢æè¿°ï¼Œå·¦å³æŠ˜$k$æ¬¡ï¼Œåˆ™æ¨ªç€åˆ‡ä¸€åˆ€åæœ‰çº¸ç‰‡æ•°ä¸º$2^k+1$ï¼Œåˆ™ç«–ç€åˆ‡ä¸€åˆ€åæœ‰çº¸ç‰‡æ•°ä¸º$2^{n-k}+1$ï¼Œåˆ™æ¨ªç«–åˆ‡ä¸€åˆ€åæ€»çº¸ç‰‡æ•°ä¸º$(2^k+1)*(2^{n-k}+1)$ã€‚ è¿™$k$ä¸­æ˜¯åœ¨$n$ç§æ“ä½œä¸­é€‰å‡ºæ¥çš„$k$ç§ï¼Œæ‰€ä»¥ç»“æœè¿˜è¦ä¹˜ä¸Š$C_n^k$ã€‚ å› ä¸ºæ±‚çš„æ˜¯æ•°å­¦æœŸæœ›ï¼Œæ¯ç§æ“ä½œå¯ä»¥é€‰å·¦å³æŠ˜æˆ–è€…ä¸Šä¸‹æŠ˜ï¼Œæ‰€ä»¥ç»“æœè¦ä¹˜$\frac{1}{2^n}$ã€‚</p><p>æœ€åç­”æ¡ˆä¸º$$\frac{\sum_{k&#x3D;0}^{n}(2^k+1)*(2^{n-k}+1)C_n^k}{2^n}$$</p><p>ä¸€æ­¥ä¸€æ­¥åŒ–ç®€ï¼š $$\frac{\sum_{k&#x3D;0}^{n}(2^n+2^{n-k}+2^k+1)C_n^k}{2^n}$$</p><p>ç”±äºŒé¡¹å¼å®šç†å¯å¾—$C_n^k&#x3D;(1+1)^n$ï¼Œç»§ç»­åŒ–ç®€ï¼š</p><p>$$2^n + 1+\frac{\sum_{k&#x3D;0}^{n}(2^{n-k}+2^k)C_n^k}{2^n}$$</p><p>$$2^n + 1+\frac{\sum_{k&#x3D;0}^{n}(2^{n-k}C_n^k+2^kC_n^k)}{2^n}$$</p><p>ç”±$C_n^k&#x3D;C_n^{n-k}$ç»§ç»­åŒ–ç®€ï¼š</p><p>$$2^n + 1+\frac{\sum_{k&#x3D;0}^{n}(2^{n-k}C_n^{n-k}+2^kC_n^k)}{2^n}$$</p><p>$$2^n + 1+\frac{2*\sum_{k&#x3D;0}^{n}(2^kC_n^k)}{2^n}$$</p><p>ç”±äºŒé¡¹å¼å®šç†å¯å¾—$\sum_{k&#x3D;0}^{n}2^kC_n^k&#x3D;(2+1)^n$ç»§ç»­åŒ–ç®€ï¼š $$2^n + 1+\frac{2*3^n}{2^n}$$</p><p>æ‰€ä»¥è¿™ä¸€é¢˜å¯ä»¥ç”¨å¿«é€Ÿå¹‚åŠ é€†å…ƒæ±‚è§£ã€‚</p><h2 id="Code-343MS"><a href="#Code-343MS" class="headerlink" title="Code(343MS)"></a>Code(343MS)</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const int maxn = 1e5;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"><span class="type">const</span> ll inv2 = <span class="number">499122177</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>, base = a;</span><br><span class="line">    <span class="keyword">while</span>(b != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = ans * base;</span><br><span class="line">            ans %= mod;</span><br><span class="line">        &#125;</span><br><span class="line">        base = base * base % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        ll N;</span><br><span class="line">        cin &gt;&gt; N;</span><br><span class="line">        <span class="keyword">if</span>(N == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">4</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ll k = (<span class="number">2</span> * <span class="built_in">quick_pow</span>(<span class="number">3</span> * inv2 % mod, N) % mod + <span class="built_in">quick_pow</span>(<span class="number">2</span>, N) + <span class="number">1</span>) % mod;</span><br><span class="line">        cout &lt;&lt; k &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯”èµ›çš„æ—¶å€™åŒ–ç®€çš„è¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜ï¼Œè¿˜æ˜¯æˆ‘å¤ªèœäº†ï¼Œå‘œå‘œå‘œã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/04/hdu-6822/">https://blog.jujimeizuo.cn/2020/08/04/hdu-6822/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬å…­åœºã€‘Ké¢˜ K-Bag</title>
      <link href="/2020/08/01/2020-nowcoder-shujia-6-k/"/>
      <url>/2020/08/01/2020-nowcoder-shujia-6-k/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5671/K">https://ac.nowcoder.com/acm/contest/5671/K</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>Tç»„æµ‹è¯•ï¼Œæ¯ç»„è¾“å…¥$n$å’Œ$k$ï¼Œè¡¨ç¤ºä¸‹ä¸€è¡Œæœ‰nä¸ªåŒ…ï¼Œæœ€å¤šæœ‰1~kç§åŒ…ï¼Œä¸‹ä¸€è¡Œç»™å‡ºnä¸ªåŒ…çš„åºåˆ—ï¼Œé—®ç¬¦ä¸ç¬¦åˆå…¨æ’åˆ—çš„é¡ºåºï¼Œè¾“å‡ºYESæˆ–NOï¼ˆé˜³å¯¿é¢˜ï¼‰ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å› ä¸ºnä¸ä¸€å®šæ•´é™¤kï¼Œæ‰€ä»¥å‰ä¸€æ®µå’Œåä¸€æ®µä¸ä¸€å®šæ˜¯å®Œæ•´çš„k-å…¨æ’åˆ—åºåˆ—ï¼Œå…ˆæ‰¾å‡ºå‰åè¿™ä¸€æ®µï¼Œç„¶åæ£€æŸ¥ä¸­é—´ä¸€éƒ¨åˆ†æ˜¯å¦æ˜¯k-å…¨æ’åˆ—ï¼ˆæ³¨æ„ï¼šk-å…¨æ’åˆ—åºåˆ—å¯é‡å¤ï¼‰ã€‚å½“n&lt;kæ—¶ï¼Œåªéœ€è¦åˆ¤æ–­å‰ä¸€æ®µçš„é•¿åº¦æ˜¯å¦å¤§äºåä¸€æ®µé•¿åº¦ï¼Œå¦‚æœå°äºçš„è¯ï¼Œä¸­é—´ä¸€æ®µä¸€å®šä¸æ»¡è¶³k-å…¨æ’åˆ—åºåˆ—ã€‚</p><p>=&#x3D;é‡ç‚¹&#x3D;&#x3D; æ€ä¹ˆåˆ¤æ–­ä¸­é—´æ˜¯å¦ä¸ºk-å…¨æ’åˆ—åºåˆ—ï¼Œå¦‚æœæ˜¯æš´åŠ›åˆ¤æ–­ï¼Œå¯èƒ½ä¼šTï¼Œè¿™æ—¶å€™å°±éœ€è¦å¼‚æˆ–å’Œå’Œå‰ç¼€å’Œäº†ï¼Œæˆ‘ä»¬åœ¨è¾“å…¥çš„æ—¶å€™åšä¸€ä¸ªå‰ç¼€å’Œã€å¼‚æˆ–å’Œé¢„å¤„ç†ï¼Œå†ä»1~kåšä¸€ä¸ªå¼‚æˆ–å’Œé¢„å¤„ç†ä¸ºxï¼Œå‰ç¼€å’Œé¢„å¤„ç†ä¸ºsï¼Œå› ä¸ºä¸¤ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–ä¸º0ï¼Œæ‰€ä»¥åˆ¤æ–­ä¸€æ®µåºåˆ—ä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒæ•°å­—ï¼Œåªéœ€è¦åˆ¤æ–­é‚£ä¸€æ®µçš„å¼‚æˆ–å’Œæ˜¯å¦ç­‰äºxï¼Œè¿™æ ·è¿˜ä¸å¤Ÿï¼Œè¿˜éœ€è¦åˆ¤æ–­è¿™ä¸€æ®µçš„å‰ç¼€å’Œæ˜¯å¦ç­‰äºsï¼Œåªæœ‰è¿™ä¸¤ä¸ªæ¡ä»¶æ»¡è¶³ï¼Œè¯´æ˜è¿™ä¸€æ®µåºåˆ—æ˜¯æ»¡è¶³k-å…¨æ’åˆ—åºåˆ—ã€‚è¿™æ ·å¤„ç†ä¼šæ¯”æš´åŠ›å¥½å¾ˆå¤šã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"> <span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line">ll n, k;</span><br><span class="line">ll f[MAXN];</span><br><span class="line">ll pre1[MAXN];</span><br><span class="line">ll pre2[MAXN];</span><br><span class="line"><span class="type">bool</span> vis[MAXN];</span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;n, &amp;k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;f[i]);</span><br><span class="line">        pre1[i] = pre1[i - <span class="number">1</span>] + f[i];</span><br><span class="line">        pre2[i] = pre2[i - <span class="number">1</span>] ^ f[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> tot1 = <span class="number">0</span>, tot2 = <span class="number">0</span>;</span><br><span class="line">    mp.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123; <span class="comment">// æ‰¾å‰ä¸€æ®µ</span></span><br><span class="line">        <span class="keyword">if</span> (mp[f[i]] == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        mp[f[i]]++;</span><br><span class="line">        tot1 = i;</span><br><span class="line">    &#125;</span><br><span class="line">    mp.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123; <span class="comment">// æ‰¾åä¸€æ®µ</span></span><br><span class="line">        <span class="keyword">if</span> (mp[f[i]] == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        mp[f[i]]++;</span><br><span class="line">        tot2 = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; k) &#123;</span><br><span class="line">        <span class="keyword">if</span>(tot1 + <span class="number">1</span> &gt;= tot2)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ll s = <span class="number">0</span>; <span class="comment">// æ€»å‰ç¼€å’Œ</span></span><br><span class="line">    ll x = <span class="number">0</span>; <span class="comment">// æ€»å¼‚æˆ–å’Œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= k; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        s += i;</span><br><span class="line">        x ^= i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> len = <span class="number">0</span>; len &lt;= tot1; len++) &#123;</span><br><span class="line">        ll i = len, flag2 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (; i + k &lt;= n; i += k) &#123;</span><br><span class="line">            ll v1 = pre1[i + k] - pre1[i];</span><br><span class="line">            ll v2 = pre2[i + k] ^ pre2[i];</span><br><span class="line">            <span class="keyword">if</span> (s != v1  x != v2) &#123;</span><br><span class="line">                flag2 = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag2 &amp;&amp; i + <span class="number">1</span> &gt;= tot2) &#123;</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> test_index_for_debug = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> acm_local_for_debug;</span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; acm_local_for_debug) &#123;</span><br><span class="line">        <span class="keyword">if</span> (acm_local_for_debug == <span class="string">&#x27;$&#x27;</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        cin.<span class="built_in">putback</span>(acm_local_for_debug);</span><br><span class="line">        <span class="keyword">if</span> (test_index_for_debug &gt; <span class="number">20</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;Check the stdin!!!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">auto</span> start_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">        <span class="keyword">auto</span> end_clock_for_debug = <span class="built_in">clock</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cerr &lt;&lt; <span class="string">&quot;Test &quot;</span> &lt;&lt; test_index_for_debug++ &lt;&lt; <span class="string">&quot; Run Time: &quot;</span></span><br><span class="line">            &lt;&lt; <span class="built_in">double</span>(end_clock_for_debug - start_clock_for_debug) / CLOCKS_PER_SEC &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;--------------------------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/08/01/2020-nowcoder-shujia-6-k/">https://blog.jujimeizuo.cn/2020/08/01/2020-nowcoder-shujia-6-k/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬å››åœºã€‘Hé¢˜ Harder Gcd Problem</title>
      <link href="/2020/07/26/2020-nowcoder-shujia-4-h/"/>
      <url>/2020/07/26/2020-nowcoder-shujia-4-h/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5669/H">https://ac.nowcoder.com/acm/contest/5669/H</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä½ Tç»„æ•°æ®ï¼Œæ¯ç»„ç»™ä¸€ä¸ªnï¼Œæ‰¾åˆ°ä¸¤ä¸ªé›†åˆAï¼ŒBä½¿å¾—ä¸¤ä¸ªé›†åˆçš„å…ƒç´ ä¸ªæ•°ç›¸åŒå¹¶ä¸”æ²¡æœ‰äº¤é›†å¹¶ä¸”å…ƒç´ &lt;&#x3D;nã€‚ç„¶åå°½é‡ä½¿å¾—Aå’ŒBä¸­çš„ç›¸å¯¹åº”çš„å…ƒç´ çš„gcd&gt;1çš„ç»„æ•°è¶Šå¤šè¶Šå¥½ï¼Œå…ˆè¾“å‡ºgcd&gt;1çš„ç»„æ•°ï¼Œåœ¨è¾“å‡ºAå’ŒBä¸­å¯¹åº”çš„ä¸¤ä¸ªæ•°ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¦ä½¿çš„ç»„æ•°æ›´å¤šï¼Œé‚£ä¹ˆå°±å…ˆæŠŠ&lt;&#x3D;nçš„ç´ æ•°ç­›é€‰å‡ºæ¥ï¼ˆåŸƒå¼ç­›æ³•å³å¯ï¼‰ï¼Œç„¶åæˆ‘ä»¬å°†æ¯ä¸ªç´ æ•°å’Œä»–çš„å€æ•°å°†å…¶åŒ¹é…ï¼Œå¦‚è¯¥ç´ æ•°å’Œ&lt;&#x3D;nçš„å€æ•°çš„ä¸ªæ•°ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆå°±å°±å°†å…¶ä¸€ä¸€åŒ¹é…ï¼Œå¦‚æœè¯¥ç´ æ•°å’Œ&lt;&#x3D;nçš„å€æ•°çš„ä¸ªæ•°ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆå°±å°†è¯¥ç´ æ•°çš„ä¸¤å€ç•™ä¸‹ï¼Œç„¶åå‰©ä¸‹çš„ä¸€ä¸€åŒ¹é…ï¼Œåˆ°æœ€åï¼Œå°±å‰©ä¸‹ä¸€å †2*æŸä¸ªç´ æ•°çš„æ•°ï¼Œå› ä¸ºä»–ä»¬æœ‰å…¬å…±çš„å…¬çº¦æ•°2ï¼Œgcd&gt;2ï¼Œæ‰€ä»¥å°†ä»–ä»¬ä¸€ä¸€åŒ¹é…ï¼Œè¿™æ ·å°±å¯ä»¥åšåˆ°ç»„æ•°æœ€å¤§ã€‚</p><p>æ³¨æ„ï¼šåº”è¯¥ä»n&#x2F;2å¾€å‰éå†ï¼Œå› ä¸ºè¶Šå¤§çš„ç´ æ•°ï¼Œä»–çš„å€æ•°çš„ä¸ªæ•°è¶Šå°‘ã€‚ä»»ä½•ä¸€ä¸ªæ•°éƒ½å¯ä»¥ç”±ä¸€ä¸ªç´ æ•°å’Œä»»æ„ä¸€ä¸ªæ•°ç›¸ä¹˜å¾—åˆ°ï¼Œæ‰€ä»¥åªè¦n&#x2F;2å¾€å‰éå†ä¸€éå°±å¯ä»¥å°†2~nçš„æ‰€æœ‰æ•°éå†åˆ°ï¼Œæ²¡æœ‰éå†çš„æ•°å°±æ˜¯ä¸å¯ä»¥ç»„æˆçš„ç»„æ•°ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> <span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"> <span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"> <span class="keyword">typedef</span> pair pdd; </span><br><span class="line"> #<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"> #<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line"> #<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"> <span class="comment">// const ll mod = 1e9 + 7;const int maxn = 2e5 + 10;</span></span><br><span class="line"> <span class="comment">// const double eps = 1e-6; </span></span><br><span class="line"> <span class="type">int</span> n; </span><br><span class="line"> <span class="type">bool</span> is_prime[maxn + <span class="number">1</span>];</span><br><span class="line"> <span class="type">bool</span> vis[maxn + <span class="number">1</span>];  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">mem</span>(is_prime, <span class="literal">true</span>);</span><br><span class="line">    is_prime[<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i * i &lt;= maxn; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (is_prime[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span> * i; j &lt;= maxn; j += i)</span><br><span class="line">                is_prime[j] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    vector v;</span><br><span class="line">    vector tmp;</span><br><span class="line">    <span class="built_in">mem</span>(vis, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n / <span class="number">2</span>; i &gt;= <span class="number">2</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!is_prime[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        tmp.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt;= n; j += i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (vis[j])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            tmp.<span class="built_in">push_back</span>(j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tmp.<span class="built_in">size</span>() &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">swap</span>(tmp[<span class="number">1</span>], tmp[tmp.<span class="built_in">size</span>() - <span class="number">1</span>]); <span class="comment">// äº¤æ¢å³å¯ç•™ä¸‹è¯¥ç´ æ•°çš„ä¸¤å€</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; tmp.<span class="built_in">size</span>() - <span class="number">1</span>; j += <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            v.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(tmp[j], tmp[j + <span class="number">1</span>]));</span><br><span class="line">            vis[tmp[j]] = <span class="number">1</span>;</span><br><span class="line">            vis[tmp[j + <span class="number">1</span>]] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; v[i].first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v[i].second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="comment">// freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</span></span><br><span class="line">    <span class="comment">// freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="built_in">sieve</span>();</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/26/2020-nowcoder-shujia-4-h/">https://blog.jujimeizuo.cn/2020/07/26/2020-nowcoder-shujia-4-h/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´æ­ç”µæš‘å‡ç¬¬ä¸€åœºã€‘6755 Fibonacci Sum</title>
      <link href="/2020/07/23/hdu-6755/"/>
      <url>/2020/07/23/hdu-6755/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6755">http://acm.hdu.edu.cn/showproblem.php?pid=6755</a></p><h2 id="å‰ç½®æŠ€èƒ½"><a href="#å‰ç½®æŠ€èƒ½" class="headerlink" title="å‰ç½®æŠ€èƒ½"></a>å‰ç½®æŠ€èƒ½</h2><p><strong>äºŒé¡¹å¼å®šç†ã€äºŒæ¬¡å‰©ä½™ã€ç­‰æ¯”æ•°åˆ—ã€æ¬§æ‹‰é™å¹‚ã€é˜¶ä¹˜é€†å…ƒ</strong></p><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/oampamp1/article/details/107508328">ç‰Œç‹æ— æ•Œ</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>è®¡ç®—ä¸€ä¸ªå¼å­</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/07/20200723205327414.png"></p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/07/20200723205336799.png"></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ç”±æ–æ³¢é‚£å¥‘é€šé¡¹å…¬å¼å¾— $$F_n&#x3D;\frac{1}{\sqrt 5}((\frac{1+ \sqrt 5}{2})^n-(\frac{1-\sqrt5}{2})^n)$$ å¯ä»¥é€šè¿‡äºŒæ¬¡å‰©ä½™çš„æ–¹æ³•æ±‚å‡º$\sqrt5&#x3D;383008016æˆ–è€…616991993$ï¼Œå› ä¸ºäºŒæ¬¡å‰©ä½™çš„è§£æœ‰ä¸¤ä¸ªã€‚ä¸‹é¢é¡ºä¾¿åœ¨ç»™å‡ºäºŒæ¬¡å‰©ä½™çš„æ¿å­ï¼Œæˆ‘ä¹Ÿæ˜¯èŠ±äº†ä¸€å¤©çš„æ—¶é—´æ‰å¼„æ‡‚è®¡ç®—è¿‡ç¨‹ã€‚ æˆ‘ä»¬è®©$A&#x3D;\frac{1+ \sqrt 5}{2}ã€B&#x3D;\frac{1- \sqrt 5}{2}ã€D&#x3D;\frac{1}{\sqrt5}$ è¿›è€Œåˆ©ç”¨é€†å…ƒè®¡ç®—å‡º $A&#x3D;691504013$ $B&#x3D;308495997$ $D&#x3D;276601605$</p><p>æ‰€ä»¥å¼å­å°±å˜æˆäº†ï¼š $$F_n&#x3D;D(A^n-B^n)(mod 1e9 + 9)$$ å¦‚æœè¿™æ ·æš´åŠ›ç®—çš„è¯ä¸€å®šä¼šTï¼Œå› ä¸ºNå’ŒCéƒ½è¾¾åˆ°äº†1e18ã€‚ æˆ‘ä»¬å…ˆå°è¯•åˆ—å‡ºå‰å‡ é¡¹ï¼š $å½“n&#x3D;1æ—¶ï¼ŒF_c^k&#x3D;D^k(A^c-B^c)^k$ ç”¨äºŒé¡¹å¼å®šç†å±•å¼€åå˜ä¸º $$F_c^k&#x3D;D^k\sum_{i&#x3D;0}^{k}(-1)^iC_k^i(A^c)^{k-i}(B^c)^{i}$$</p><p>$å½“n&#x3D;2æ—¶F_{2c}^k&#x3D;D^k(A^{2c}-B^{2c})^k$ ç”¨äºŒé¡¹å¼å®šç†å±•å¼€åå˜ä¸º $$F_{2c}^k&#x3D;D^k\sum_{i&#x3D;0}^{k}(-1)^iC_k^i(A^{2c})^{k-i}(B^{2c})^{i}$$ $$F_{2c}^k&#x3D;D^k\sum_{i&#x3D;0}^{k}(-1)^iC_k^i(A^{c})^{k-i}(B^{c})^{i}C_k^i(A^{c})^{k-i}(B^{c})^{i}$$ æ‰€ä»¥å½“iç›¸åŒæ—¶ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç­‰æ¯”æ•°åˆ—æ±‚å’Œã€‚</p><p>é¦–é¡¹ï¼š$(-1)^i(A^{k-i}B^{i})^c$ å…¬æ¯”ï¼š$(A^{k-i}B^{i})^c$</p><p>æœ€åæ•´ç†ä¸€ä¸‹æ•´ä¸ªå¼å­å¾— $$\sum_{i&#x3D;0}^{n}F_{ic}^{K}&#x3D;D^k\sum_{i&#x3D;0}^{K}C_k^i\frac{(-1)^i(A^{k-i}B^{i})^c(((A^{k-i}B^{i})^c)^n-1)}{(A^{k-i}B^{i})^c-1}$$</p><p>å½“å…¬æ¯”ä¸º1æ—¶ï¼Œ$(A^{k-i}B^{i})^c&#x3D;1$ï¼Œæ‰€ä»¥åªè¦è®¡ç®—$C_k^i*(-1)^i*(A^{k-i}B^{i})^c*n$</p><p>ä¸ºäº†å¿«é€Ÿå¤„ç†$C_m^n$ï¼Œéœ€è¦é¢„å¤„ç†1e5ä»¥å†…çš„é˜¶ä¹˜å’Œé˜¶ä¹˜é€†å…ƒã€‚ $$C_m^n&#x3D;\frac{m!}{n!*(m-n)!}&#x3D;m!*inv[n!]*inv[(m-n)!]$$</p><p>å…¬æ¯”çš„ä¼˜åŒ–ï¼Œå› ä¸ºéšç€içš„å¢å¤§ï¼Œç¬¬$i$é¡¹å’Œç¬¬$i+1$é¡¹ç›¸å·®$(\frac{B}{A})^c$ï¼Œæ‰€ä»¥æˆ‘ä»¬ç‡å…ˆç®—å‡º$A$çš„é€†å…ƒ$invA$ï¼Œå°±å¯ä»¥$O(1)$é€’æ¨æ±‚å‡ºè¯¥å…¬æ¯”ï¼Œå³ï¼š $$q_{i+1} &#x3D; qi *(\frac{B}{A})^c$$</p><p>å¯¹äºä½¿ç”¨å¿«é€Ÿå¹‚æ±‚$c$æ¬¡æ–¹ï¼Œå¯ä»¥ä½¿ç”¨æ¬§æ‹‰é™å¹‚æ¥ä¼˜åŒ–æ—¶é—´ï¼Œå› ä¸ºé¢˜ç›®ç»™çš„$mod$æ˜¯ä¸ªè´¨æ•°ï¼Œå³ï¼š $$a^b &#x3D; a^{b\%(1e9+9-1)}(mod 1e9+9)$$</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"> <span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">9</span>;</span><br><span class="line"> <span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"> <span class="type">const</span> ll B = <span class="number">308495997</span>;</span><br><span class="line"> <span class="type">const</span> ll invA = <span class="number">691504012</span>;</span><br><span class="line"> <span class="type">const</span> ll A = <span class="number">691504013</span>;</span><br><span class="line"> <span class="type">const</span> ll D = <span class="number">276601605</span>;</span><br><span class="line"></span><br><span class="line"> ll F[maxn + <span class="number">10</span>]; <span class="comment">// é˜¶ä¹˜</span></span><br><span class="line"> ll invF[maxn + <span class="number">10</span>]; <span class="comment">// é˜¶ä¹˜é€†å…ƒ</span></span><br><span class="line"> ll invn[maxn + <span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">inline</span> ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> <span class="comment">// å¿«é€Ÿå¹‚</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     ll ans = <span class="number">1</span>, base = a;</span><br><span class="line">     <span class="keyword">while</span> (b)</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">if</span> (b &amp; <span class="number">1</span>)</span><br><span class="line">         &#123;</span><br><span class="line">             ans = ans * base % mod;</span><br><span class="line">         &#125;</span><br><span class="line">         base = base * base % mod;</span><br><span class="line">         b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> ans % mod;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     F[<span class="number">0</span>] = F[<span class="number">1</span>] = invF[<span class="number">0</span>] = invF[<span class="number">1</span>] = invn[<span class="number">0</span>] = invn[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= maxn; i++)</span><br><span class="line">     &#123;</span><br><span class="line">         F[i] = F[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">         invn[i] = (mod - mod / i) * invn[mod % i] % mod;</span><br><span class="line">         invF[i] = invF[i - <span class="number">1</span>] * invn[i] % mod;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">inline</span> ll <span class="title">getC</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (m &lt; <span class="number">0</span>  n &lt; <span class="number">0</span>  n &gt; m)</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">     ll ans = F[m];</span><br><span class="line">     ans = ans * invF[n] % mod;</span><br><span class="line">     ans = ans * invF[m - n] % mod;</span><br><span class="line">     <span class="keyword">return</span> ans;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">inline</span> ll <span class="title">MOD</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     a += b;</span><br><span class="line">     <span class="keyword">if</span> (a &gt;= mod)</span><br><span class="line">         a -= mod;</span><br><span class="line">     <span class="keyword">return</span> a;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n, c, k;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; c &gt;&gt; k;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    ll a1 = <span class="built_in">quick_pow</span>(<span class="built_in">quick_pow</span>(A, k), c % (mod - <span class="number">1</span>)) % mod; <span class="comment">// é¦–é¡¹(å…¬æ¯”)</span></span><br><span class="line">    ll q = <span class="built_in">quick_pow</span>(invA * B % mod, c % (mod - <span class="number">1</span>)) % mod; <span class="comment">// å…¬æ¯”é€’æ¨</span></span><br><span class="line">    ll n1 = n % mod;</span><br><span class="line">    ll n2 = n % (mod - <span class="number">1</span>); <span class="comment">// æ¬§æ‹‰é™å¹‚ä½¿ç”¨</span></span><br><span class="line">    ll a1power = <span class="built_in">quick_pow</span>(a1, n2) % mod;</span><br><span class="line">    ll qpower = <span class="built_in">quick_pow</span>(q, n2) % mod;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= k; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ll sum = <span class="built_in">getC</span>(k, i) % mod;</span><br><span class="line">        <span class="keyword">if</span> (i &amp; <span class="number">1</span>)</span><br><span class="line">            sum = mod - sum; <span class="comment">// è´Ÿæ•°</span></span><br><span class="line">        <span class="keyword">if</span> (a1 == <span class="number">1</span>) <span class="comment">// å…¬æ¯”ä¸º1</span></span><br><span class="line">        &#123;</span><br><span class="line">            ans = (ans + n1 * sum % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            sum = sum * (a1 * (a1power - <span class="number">1</span> + mod) % mod) % mod;</span><br><span class="line">            sum = sum * <span class="built_in">quick_pow</span>(a1 - <span class="number">1</span>, mod - <span class="number">2</span>) % mod;</span><br><span class="line">            ans = <span class="built_in">MOD</span>(ans, sum);</span><br><span class="line">        &#125;</span><br><span class="line">        a1 = (a1 * q) % mod; <span class="comment">// æ›´æ¢å…¬æ¯”</span></span><br><span class="line">        a1power = a1power * qpower % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="function">ans * <span class="title">quick_pow</span><span class="params">(D, k)</span> % mod &lt;&lt; endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">   <span class="comment">// freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</span></span><br><span class="line">   <span class="comment">// freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="built_in">Init</span>();         </span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒæ¬¡å‰©ä½™æ¿å­"><a href="#äºŒæ¬¡å‰©ä½™æ¿å­" class="headerlink" title="äºŒæ¬¡å‰©ä½™æ¿å­"></a>äºŒæ¬¡å‰©ä½™æ¿å­</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">##include &lt;ctime&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line"></span><br><span class="line">typedef <span class="keyword">struct</span>&#123;</span><br><span class="line">    ll x, y; <span class="comment">// æŠŠæ±‚å‡ºæ¥çš„wä½œä¸ºè™šéƒ¨ï¼Œåˆ™ä¸ºa + bw</span></span><br><span class="line">&#125;num;</span><br><span class="line"></span><br><span class="line"><span class="function">num <span class="title">num_mul</span>(<span class="params">num a, num b, ll w, ll p</span>) <span class="comment">// å¤æ•°ä¹˜æ³•</span></span></span><br><span class="line">&#123;</span><br><span class="line">    num ans = &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    ans.x = (a.x * b.x % p + a.y * b.y % p * w % p + p) % p;</span><br><span class="line">    ans.y = (a.x * b.y % p + a.y * b.x % p + p) % p;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">num_pow</span>(<span class="params">num a, ll b, ll w, ll p</span>) <span class="comment">// å¤æ•°å¿«é€Ÿå¹‚</span></span></span><br><span class="line">&#123;</span><br><span class="line">    num ans = &#123;<span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = num_mul(ans, a, w, p);</span><br><span class="line">        &#125;</span><br><span class="line">        a = num_mul(a, a, w, p);</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans.x % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span>(<span class="params">ll a, ll b, ll p</span>) <span class="comment">// å¿«é€Ÿå¹‚æ±‚è§£</span></span></span><br><span class="line">&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>, <span class="keyword">base</span> = a;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = ans * <span class="keyword">base</span> % p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">base</span> = <span class="keyword">base</span> * <span class="keyword">base</span> % p;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">legendre</span>(<span class="params">ll a, ll p</span>) <span class="comment">// å‹’è®©å¾·ç¬¦å· = &#123;1, -1, 0&#125;</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> quick_pow(a, (p - <span class="number">1</span>) &gt;&gt; <span class="number">1</span>, p);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Cipolla</span>(<span class="params">ll n, ll p</span>) <span class="comment">// è¾“å…¥aå’Œpï¼Œæ˜¯å¦å­˜åœ¨xä½¿å¾—x^2 = a (mod p)ï¼Œå­˜åœ¨äºŒæ¬¡å‰©ä½™è¿”å›xï¼Œå­˜åœ¨äºŒæ¬¡éå‰©ä½™è¿”å›-1     æ³¨æ„ï¼špæ˜¯å¥‡è´¨æ•°</span></span></span><br><span class="line">&#123;</span><br><span class="line">    n %= p;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(legendre(n, p) + <span class="number">1</span> == p) <span class="comment">// äºŒæ¬¡éå‰©ä½™</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    ll a, w; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) <span class="comment">// æ‰¾å‡ºaï¼Œæ±‚å‡ºwï¼ŒéšæœºæˆåŠŸçš„æ¦‚ç‡æ˜¯50%ï¼Œæ‰€ä»¥æ•°å­¦æœŸæœ›æ˜¯2</span></span><br><span class="line">    &#123;</span><br><span class="line">        a = rand() % p;</span><br><span class="line">        w = ((a * a - n) % p + p) % p;</span><br><span class="line">        <span class="keyword">if</span>(legendre(w, p) + <span class="number">1</span> == p) <span class="comment">// æ‰¾åˆ°wï¼ŒéäºŒæ¬¡å‰©ä½™æ¡ä»¶</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    num x = &#123;a, <span class="number">1</span>&#125;;   </span><br><span class="line">    <span class="keyword">return</span> num_pow(x, (p + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>, w, p) % p; <span class="comment">// è®¡ç®—x,ä¸€ä¸ªè§£æ˜¯xï¼Œå¦ä¸€ä¸ªè§£æ˜¯p-xï¼Œè¿™é‡Œçš„wå…¶å®è¦å¼€æ–¹ï¼Œä½†æ˜¯ç”±æ‹‰æ ¼æœ—æ—¥å®šç†å¯çŸ¥è™šéƒ¨ä¸º0ï¼Œæ‰€ä»¥æœ€ç»ˆç­”æ¡ˆå°±æ˜¯å¯¹xçš„å®éƒ¨ç”¨å¿«é€Ÿå¹‚æ±‚è§£</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">main</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    ll n, p;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; p;</span><br><span class="line">    srand((unsigned)time(NULL));</span><br><span class="line">    cout &lt;&lt; Cipolla(n, p) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p><strong>æ„Ÿè°¢ç‰Œç‹çš„äº²æƒ…æŒ‡å¯¼å’Œåšå®¢</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/23/hdu-6755/">https://blog.jujimeizuo.cn/2020/07/23/hdu-6755/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´æ­ç”µæš‘å‡ç¬¬äºŒåœºã€‘6768 The Oculus</title>
      <link href="/2020/07/23/hdu-6768/"/>
      <url>/2020/07/23/hdu-6768/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6768">http://acm.hdu.edu.cn/showproblem.php?pid=6768</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œæ¯ä¸€ä½æ˜¯å¯å–æˆ–ä¸å¯å–ï¼Œè¿™å–å†³äºè¾“å…¥çš„bçš„å¤§å°ï¼Œä¸º0ä¸å¯å–ï¼Œä¸º1å¯å–ï¼Œè¿™å¯ä»¥ç§°ä¸ºå¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚ ç»™Aã€Bã€Cçš„å¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½¿å¾—C &#x3D; ï¼¡ï¼Šï¼¢ï¼Œç„¶åæ”¹å˜ï¼£ä¸­æ•°åˆ—ä¸­çš„ä¸€ä¸ªbiä½¿å…¶ä»1å˜ä¸º0ï¼Œå¹¶æŠŠè¿™ä¸‰ä¸ªæ•°åˆ—ç»™ä½ ï¼Œé—®Cä¸­æ˜¯ç¬¬å‡ biæ”¹å˜äº†ï¼Œè¾“å‡ºå®ƒã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆé¢„å¤„ç†2e6ä»¥å†…çš„æ–æ³¢é‚£å¥‘æ•°å­—ï¼Œè®°å¾—è¦modï¼Œä½†æ˜¯æ ‡å‡†ç­”æ¡ˆæ²¡æœ‰modï¼Œå¯¼è‡´longlongå¼€çš„æ•°å­—æº¢å‡ºå˜ä¸ºè´Ÿæ•°ï¼Œä½†ä¹Ÿèƒ½è¿‡ï¼Œå¯èƒ½æ˜¯æ•°æ®å¤ªå¼±äº†ã€‚</p><p>ç„¶åè¾“å…¥Aå’ŒBå’ŒCï¼ŒæŠŠb&#x3D;1çš„ä½ç½®ç´¯åŠ å¹¶ä¸”modï¼Œæœ¬æ¥C &#x3D; A * Bï¼Œç„¶åæ”¹äº†ä¸€ä¸ªä½ç½®ï¼Œæ‰€ä»¥å°±å˜æˆC+bi&#x3D;A*Bï¼Œæ‰€ä»¥åªè¦æ‰¾åˆ°è¿™ä¸ªbiåè¾“å‡ºä»–åœ¨Cä¸­çš„ä½ç½®å³å¯ã€‚</p><p>ä½†æ˜¯è¶Šå¾€åçš„æ–æ³¢é‚£å¥‘æ•°å­—ï¼Œmodä¸€ä¸ªæ•°åå¯èƒ½ç›¸åŒï¼Œå°±ä¸å¥½åˆ¤æ–­äº†åˆ°åº•è¯¥å–å“ªä¸€ä¸ªä½ç½®ï¼Œè¿™æ—¶å€™å°±è¦åˆ©ç”¨æ–æ³¢é‚£å¥‘ç¼–ç çš„æ€§è´¨ï¼š<a href="https://oi-wiki.org/math/fibonacci/##_2">æ–æ³¢é‚£å¥‘ç¼–ç </a>ã€‚</p><p>æ–æ³¢é‚£å¥‘ç¼–ç æ€§è´¨ï¼Œé™¤äº†æœ€åä¸¤ä½éƒ½æ˜¯1ä»¥å¤–ï¼Œä»»æ„ç›¸é‚»ä½ç½®çš„ç¼–ç ä¹˜ç§¯éƒ½ä¸º0ï¼Œå°±æ˜¯ä¸å¯èƒ½åœ¨ç”±11è¿™ä¸€å¯¹ï¼Œæ‰€ä»¥åœ¨åˆ¤æ–­biæ—¶å€™è¦åˆ¤æ–­ä¸€ä¸‹ä»–æ›´æ”¹çš„ä½ç½®æ˜¯å¦åˆæ³•ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="comment">// const int maxn = 1e5;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line">ll vis[<span class="number">2000010</span>];</span><br><span class="line"><span class="type">bool</span> f[<span class="number">2000010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vis[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    vis[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt;= <span class="number">2000001</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        vis[i] = (vis[i - <span class="number">1</span>] + vis[i - <span class="number">2</span>]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a, bb, c;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    ll A = <span class="number">0</span>, B = <span class="number">0</span>, C = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b);</span><br><span class="line">        <span class="keyword">if</span> (b)</span><br><span class="line">            A = (A + vis[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;bb);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= bb; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b);</span><br><span class="line">        <span class="keyword">if</span> (b)</span><br><span class="line">            B = (B + vis[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    A = A * B % mod;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;c);</span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    f[c + <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= c; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;f[i]);</span><br><span class="line">        <span class="keyword">if</span> (f[i])</span><br><span class="line">            C = (C + vis[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= c; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (f[i] == <span class="number">0</span> &amp;&amp; f[i + <span class="number">1</span>] == <span class="number">0</span> &amp;&amp; f[i - <span class="number">1</span>] == <span class="number">0</span>) <span class="comment">// åˆ¤æ–­ä½ç½®æ˜¯å¦åˆæ³•</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((vis[i] + C) % mod == A) <span class="comment">// åˆ¤æ–­bi</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">   <span class="comment">// freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</span></span><br><span class="line">   <span class="comment">// freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>èµ›åæ„Ÿè°¢ç‰Œç‹çš„äº²åˆ‡æŒ‡å¯¼</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/23/hdu-6768/">https://blog.jujimeizuo.cn/2020/07/23/hdu-6768/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬ä¸‰åœºã€‘Dé¢˜Points Construction Problem</title>
      <link href="/2020/07/21/2020-nowcoder-shujia-3-d/"/>
      <url>/2020/07/21/2020-nowcoder-shujia-3-d/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5668/D">https://ac.nowcoder.com/acm/contest/5668/D</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜ç›®æè¿° Imagine you have an infinite 2D plane with Cartesian coordinate system. Initially, all the integral points are painted as white. You are given two integers n, and m. Please paint exactly n integral points to black such that there are exactly m pairs of points which satisfy the following conditions:</p><ol><li>The two points are colored by different colors.</li><li>the two points are adjacent. We call two integral points$(x1,y1)and(x2,y2)$being adjacent if and only if$x1-x2+y1-y2&#x3D;1$(v means the absolute value of v.)</li><li>The x and y coordinates of all black points are in the range$[-10^9,10^9]$</li></ol><p>è¾“å…¥æè¿°</p><p>The first line contains one integer t $(1\leq t\leq 10^3)$â€” the number of test cases. The only line of each test case contains two integers n and m $(1\leq n \leq 50, 1\leq m \leq 200)$</p><p>è¾“å‡ºæè¿°</p><p>For each test, if there exists at least one configuration to choose n points to satisfy the conditions given by statement, you should print n+1 line for this test. The first line contains one string â€œYesâ€. And the following n lines contain the coordinator of these n points which is colored as black. If there are no solution, please print one line containing only one string â€œNoâ€.</p><p>è¾“å…¥ $6$ $5$ $20$ $1$ $2$ $1$ $3$ $1$ $4$ $1$ $5$ $3$ $8$</p><p>è¾“å‡º $Yes$ $1$ $1$ $2$ $2$ $3$ $3$ $4$ $4$ $5$ $5$ $No$ $No$ $Yes$ $1$ $1$ $No$ $Yes$ $1$ $1$ $1$ $2$ $2$ $1$</p><h2 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä½ nä¸ªé»‘ç‚¹ï¼Œmä¸ªç‚¹å¯¹ï¼Œé—®æ˜¯å¦å­˜åœ¨ä¸€ç§æƒ…å†µä½¿å…¶æ»¡è¶³ï¼Œè‹¥æ»¡è¶³åˆ™è¾“å‡ºYeså¹¶è¾“å‡ºæ¯ä¸ªé»‘ç‚¹çš„åæ ‡ï¼Œå¦åˆ™è¾“å‡ºNoã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä¸€ä¸ªé»‘ç‚¹æœ€å¤šä¸4ä¸ªç™½ç‚¹ç»„æˆç‚¹å¯¹ï¼Œ2ä¸ªç›¸é‚»çš„é»‘ç‚¹ç»„æˆ6å’Œé»‘ç‚¹ï¼Œ4ä¸ªé»‘ç‚¹ç»„æˆ8ä¸ªé»‘ç‚¹ï¼Œæ‰€ä»¥é»‘ç‚¹è¶Šé›†ä¸­ï¼ˆæ–¹å½¢ï¼‰ç‚¹å¯¹è¶Šå°‘ï¼Œæœ€å°‘æœ‰2(a+b)ï¼Œaå’Œbåˆ†åˆ«æ˜¯é•¿æ–¹å½¢çš„é•¿å’Œå®½ï¼Œé»‘ç‚¹è¶Šåˆ†æ•£ï¼Œç‚¹å¯¹è¶Šå¤šï¼Œæœ€å¤šæœ‰4nä¸ªç‚¹å¯¹ã€‚å¹¶ä¸”åŠ é»‘ç‚¹ä¹‹åæ€»ç‚¹å¯¹ä¼š$0ã€+2ã€-2ã€+4ã€-4$äº”ç§æ“ä½œï¼Œæ‰€ä»¥mä¸å¯èƒ½ä¸ºå¥‡æ•°ã€‚</p><p>ç„¶åæˆ‘ä»¬éœ€è¦å…ˆæ‰¾å‡ºnä¸ªé»‘ç‚¹ç»„æˆç‚¹å¯¹çš„ä¸Šä¸‹ç•Œã€‚ ä¸Šç•Œï¼š$4_n$ ä¸‹ç•Œï¼š$2_(a+b)$</p><p>ç”±ä¸‹ç•Œå¯çŸ¥ï¼Œä»¤$x&#x3D;(2*(a+b))&#x2F;2-1$ï¼Œæ‰€ä»¥è¿™$x$ä¸ªé»‘ç‚¹ç»„æˆâ€œ$L$â€çš„å½¢çŠ¶ï¼Œè¿™ä¸ªâ€œLâ€çš„å½¢çŠ¶é•¿ä¸º$a$ï¼Œå®½ä¸º$b$ï¼Œè¿™å°±çŸ¥é“ä¸ºä»€ä¹ˆè¦å‡ä¸€äº†ï¼Œå› ä¸ºâ€œ$L$â€çš„æŠ˜ç‚¹ä¼šè¢«ç®—ä¸Šä¸¤æ¬¡ã€‚æ‰€ä»¥mä¸ªç‚¹å¯¹æœ€å°‘ç”±$x$ä¸ªé»‘ç‚¹ç»„æˆï¼Œæœ€å¤šç”±$a*b$ä¸ªé»‘ç‚¹ç»„æˆã€‚åˆ™å½“$x&gt;m$æ—¶ï¼Œåˆ™å°†$L$ä¸­çš„$x-m$ä¸ªé»‘ç‚¹ç§»èµ°å¹¶ä½¿å¾—æ¯ä¸ªé»‘ç‚¹ç»„æˆ4ä¸ªç‚¹å¯¹ï¼Œé‚£ä¹ˆæ€»ç‚¹æ•°$x +&#x3D; 2$ï¼Œç›´åˆ°æ€»ç‚¹å¯¹ç­‰äº$m$ï¼Œ$x&lt;m$æ—¶ï¼Œç„¶åå°†é»‘ç‚¹ä¾æ¬¡åŠ å…¥åˆ°â€œ$L$â€ä¸­ï¼ˆæœ€å¤šå°±æ˜¯ä¸€ä¸ªæ–¹å½¢ï¼Œæ‰€ä»¥è¿˜è¦åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœ$a*b&lt;n$,é‚£ä¹ˆå°±ä¸ç¬¦åˆï¼Œè¾“å‡º$No$ï¼‰ï¼Œé‚£ä¹ˆæ¯åŠ ä¸€ä¸ªé»‘ç‚¹æ€»ç‚¹æ•°$mm -&#x3D; 2$ï¼Œç›´åˆ°$x&#x3D;n$</p><p>æ‰€æœ‰æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><ul><li>$m&lt; 4 mä¸ºå¥‡æ•° m&gt;4*næ—¶ï¼Œæ— è§£$</li><li>$m &#x3D; 4*næ­£å¥½åŒ¹é…ï¼Œæœ‰è§£$</li><li>$è‹¥n&gt;a*bï¼Œæ— è§£$</li><li>$åˆ¤æ–­xå’Œmçš„å¤§å°å…³ç³»ã€‚x&gt;mæ—¶ï¼ŒåŠ å­¤ç«‹é»‘ç‚¹ï¼ˆæœ‰å››ä¸ªç‚¹å¯¹ï¼‰ï¼Œx&lt;mæ—¶ï¼Œå¾€â€œLâ€é‡ŒåŠ é»‘ç‚¹ï¼Œå¹¶ä¸”åŠ åœ¨å’Œä¸¤ä¸ªé»‘ç‚¹ç›¸é‚»çš„ä½ç½®ï¼Œæœ‰è§£$</li></ul><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">5e4</span> + <span class="number">10</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">&#125;p[<span class="number">505</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, tot, t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tot = <span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">if</span> (m &amp; <span class="number">1</span>  m &gt; <span class="number">4</span> * n  m &lt; <span class="number">4</span>) <span class="comment">// æ— è§£</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;1 1&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span> ; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (m == n * <span class="number">4</span>) <span class="comment">// æ­£å¥½åŒ¹é…</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; i * <span class="number">3</span> + <span class="number">1234</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; i * <span class="number">3</span> + <span class="number">1234</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>, z = <span class="number">0</span>;</span><br><span class="line">    x = m / <span class="number">2</span> - <span class="number">1</span>; </span><br><span class="line">    <span class="keyword">if</span> (x &gt; n) <span class="comment">// éœ€è¦ä»nä¸­æ‹¿å‡ºx-nä¸ªä½¿ä»–ä»¬æ¯ä¸ªç‚¹å¯¹éƒ½æ˜¯4ï¼Œè¿™æ ·æ¯æ‹¿èµ°ä¸€ä¸ªæ€»ç‚¹å¯¹å°±ä¼š+2</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= x - n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            p[i].x = i * <span class="number">3</span> + <span class="number">1234</span>; </span><br><span class="line">            p[i].y = i * <span class="number">3</span> + <span class="number">1234</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tot = x - n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = tot + <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            p[i].x = <span class="number">1</span>;</span><br><span class="line">            p[i].y = i;</span><br><span class="line">        &#125;</span><br><span class="line">        tot = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="comment">// è¯´æ˜éœ€è¦å¾€â€œLâ€é˜µåŠ ç‚¹ï¼Œæ¯åŠ ä¸€ä¸ªç‚¹å°±ä¼šä½¿æ€»ç‚¹å¯¹-2</span></span><br><span class="line">    &#123;</span><br><span class="line">        z = x;</span><br><span class="line">        x = (z + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        y = (z + <span class="number">1</span>) - x;</span><br><span class="line">        <span class="keyword">if</span> (x * y &lt; n) <span class="comment">// x*yçš„å…¨éƒ¨ç‚¹æ•°å°äºnï¼Œé‚£ä¹ˆå°±æ˜¯No</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= x; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            tot++;</span><br><span class="line">            p[tot].x = i;</span><br><span class="line">            p[tot].y = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= y; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            tot++;</span><br><span class="line">            p[tot].x = <span class="number">1</span>;</span><br><span class="line">            p[tot].y = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x; i++) <span class="comment">// å¾€â€œLâ€é‡ŒåŠ ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt;= y; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (tot == n)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                tot++;</span><br><span class="line">                p[tot].x = i;</span><br><span class="line">                p[tot].y = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; p[i].x &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p[i].y &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">   <span class="comment">// freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</span></span><br><span class="line">   <span class="comment">// freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/21/2020-nowcoder-shujia-3-d/">https://blog.jujimeizuo.cn/2020/07/21/2020-nowcoder-shujia-3-d/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬ä¸‰åœºã€‘Fé¢˜ Fraction Construction Problem</title>
      <link href="/2020/07/18/2020-nowcoder-shujia-3-f/"/>
      <url>/2020/07/18/2020-nowcoder-shujia-3-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5668/F">https://ac.nowcoder.com/acm/contest/5668/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜ç›®æè¿° There are t queries. In each query, you are given two positive integers$a$ and $b$$(a, b\leq2Ã—10^6)$ Please print a line consists of four positive integers $c,d,e,f$satisfying the following constraints:</p><ul><li>$\frac{c}{d}-\frac{e}{f}&#x3D;\frac{a}{b}$</li><li>$d &lt; b$ and $f &lt; b$</li><li>$1\leq c, e \leq4Ã—10^{12}$</li></ul><p>If there are multiple solutions, you can print anyone.</p><p>If there are no solution, please print â€œ-1 -1 -1 -1â€ in this line.</p><p>è¾“å…¥æè¿° The first line contains one integer $t$ $(1\leq t\leq 10^5)$ â€” the number of test cases.</p><p>The only line of each test case contains two integers $a$ and $b$$(a, b\leq2Ã—10^6)$</p><p>è¾“å‡ºæè¿°</p><p>For each test case print four integers â€” $c,d,e,f$. If there are no solution, $c,d,e,f$ should all be $-1$.</p><p>è¾“å…¥ $3$ $4$ $1$ $1$ $6$ $37$ $111$</p><p>è¾“å‡º $-1$ $-1$ $-1$ $-1$ $1$ $2$ $1$ $2$ $145$ $87$ $104$ $78$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>æƒ…å†µä¸€ï¼š$b &#x3D;&#x3D; 1$å’Œ$b$æ˜¯è´¨æ•° æ— è§£</li><li>æƒ…å†µäºŒï¼š$gcd(a,b)!&#x3D;1$ å‡è®¾$k&#x3D;gcd(a,b)$åˆ™å­˜åœ¨ä¸€ç»„è§£$(a&#x2F;k + 1, b&#x2F;k, 1, b&#x2F;k)$</li><li>æƒ…å†µä¸‰ï¼šbä¸æ˜¯è´¨æ•° å³bå¯ä»¥åˆ†æˆä¸¤ä¸ªç›¸å¼‚è´¨å› æ•°ç›¸ä¹˜ï¼Œæ‰€ä»¥å…ˆæ‰¾åˆ°$dã€f$ä½¿å¾—$dÃ—f&#x3D;b$ä¸”$dã€f$äº’è´¨ æ‰¾dï¼Œfçš„æ–¹æ³•ï¼šå…ˆæ‰“è¡¨3e6ä»¥å†…çš„ç´ æ•°ï¼Œç„¶åå…ˆæ‰¾å‡ºç¬¬ä¸€ä¸ªè¢«bæ•´é™¤çš„ç´ æ•°ï¼Œè¿™ä¸ªæ•°å°±æ˜¯dï¼Œç„¶åfå°±æ˜¯b&#x2F;dï¼ˆç±»ä¼¼ç®—æ•°åŸºæœ¬å®šç†ï¼‰</li></ul><p>åœ¨dï¼Œfæ‰¾åˆ°ä¹‹åå°±å¼€å§‹æ‰¾cå’Œeäº†ã€‚</p><p>å·²çŸ¥d*f &#x3D; bï¼Œé€šåˆ†åå¯å¾—$cÃ—f-eÃ—d&#x3D;a$ï¼ˆdã€fã€aéƒ½çŸ¥é“ï¼Œæ±‚cã€eï¼‰,æ±‚è§£cå’Œeï¼Œå³ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ã€‚</p><p>æ³¨æ„ï¼šæ±‚å‡ºcå’Œeä¹‹ååˆ¤æ–­ä¸€ä¸‹è°æ­£è°è´Ÿï¼Œæ¯•ç«Ÿdå’Œfå’Œbçš„ä¸¤ä¸ªç›¸å¼‚è´¨å› æ•°æ˜¯ä¸çŸ¥é“å¯¹åº”è°çš„ï¼Œå¯ä»¥é€šè¿‡cå’Œeçš„æ­£è´Ÿæ€§åˆ¤æ–­ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"> <span class="type">const</span> <span class="type">int</span> maxn = <span class="number">5e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> prime[<span class="number">1005</span>]; <span class="comment">// ç´ æ•°æ•°ç»„</span></span><br><span class="line"><span class="type">bool</span> is_prime[maxn]; <span class="comment">// is_prime[i]è¡¨ç¤ºiä¸ºç´ æ•°</span></span><br><span class="line"><span class="type">int</span> p;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sieve</span><span class="params">()</span> <span class="comment">// è¿”å›nä»¥å†…çš„ç´ æ•°ä¸ªæ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n = maxn;</span><br><span class="line">    <span class="built_in">mem</span>(is_prime, <span class="literal">true</span>);</span><br><span class="line">    is_prime[<span class="number">0</span>] = is_prime[<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">    is_prime[<span class="number">2</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i * i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(is_prime[i])</span><br><span class="line">        &#123;</span><br><span class="line">            prime[++p] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">2</span> * i;j &lt;= n; j += i)</span><br><span class="line">            &#123;</span><br><span class="line">                is_prime[j] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b == <span class="number">0</span> ? a : <span class="built_in">gcd</span>(b, a % b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">ex_gcd</span><span class="params">(ll a, ll b, ll &amp;x, ll &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res, t;</span><br><span class="line">    <span class="keyword">if</span>(!b)</span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    res = <span class="built_in">ex_gcd</span>(b, a % b, x, y);</span><br><span class="line">    t = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = t - (a / b) * y;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">solve_ex_gcd</span><span class="params">(ll a, ll b, ll c, ll &amp;x, ll &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll inv = <span class="built_in">ex_gcd</span>(a, b, x, y);</span><br><span class="line">    <span class="keyword">if</span>(c % inv)</span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">-1</span>;</span><br><span class="line">        y = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    x *= (c / inv);</span><br><span class="line">    y *= (c / inv);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a, b;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    ll k = <span class="built_in">gcd</span>(a, b);</span><br><span class="line">    <span class="keyword">if</span>(k != <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        a /= k;</span><br><span class="line">        b /= k;</span><br><span class="line">        cout &lt;&lt; a + <span class="number">1</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">1</span>  is_prime[b])</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;-1 -1 -1 -1&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        ll tmp = <span class="number">0</span>, time = <span class="number">0</span>;</span><br><span class="line">        ll bb = b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= p &amp;&amp; bb != <span class="number">1</span>; i++) <span class="comment">// æ‰¾ä¸¤ä¸ªç´ å› æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(bb % prime[i] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                tmp = prime[i];</span><br><span class="line">                <span class="keyword">while</span>(bb % prime[i] == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    time++;</span><br><span class="line">                    bb /= prime[i];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(bb == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;-1 -1 -1 -1&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        ll d = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= time; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            d *= tmp; <span class="comment">// bçš„ä¸€ä¸ªå› æ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">        ll f = bb; <span class="comment">// bçš„å¦ä¸€ä¸ªå› æ•°</span></span><br><span class="line">        ll c = <span class="number">0</span>, e = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">solve_ex_gcd</span>(f, d, a, c, e);</span><br><span class="line">        <span class="keyword">if</span>(c &lt; <span class="number">0</span> &amp;&amp; e &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; f &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; -c &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; d &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cout &lt;&lt; c &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; d &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; -e &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; f &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">sieve</span>();</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/18/2020-nowcoder-shujia-3-f/">https://blog.jujimeizuo.cn/2020/07/18/2020-nowcoder-shujia-3-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬äºŒåœºã€‘Fé¢˜Fake Maxpooling</title>
      <link href="/2020/07/14/2020-nowcoder-shujia-2-f/"/>
      <url>/2020/07/14/2020-nowcoder-shujia-2-f/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5667/F">https://ac.nowcoder.com/acm/contest/5667/F</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜ç›®æè¿° Given a matrix of size$nÃ—m$and an integer$k$,where$A_{i\times j} &#x3D; lcm(i,j)$the least common multiple of $i$ and $j$. You should determine the sum of the maximums among all $kÃ—k$ submatrices.</p><p>è¾“å…¥æè¿° Only one line containing three integers$n,m,k(1\leq n,m\leq 5000,1\leq k \leq min \{i,j\}$</p><p>è¾“å‡ºæè¿° Only one line containing one integer, denoting the answer.</p><p>è¾“å…¥ $3$ $4$ $2$</p><p>è¾“å‡º $38$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é˜Ÿå‹ç”¨çš„æ˜¯äºŒç»´STè¡¨ACçš„ï¼Œè¿™é‡Œæ˜¯å•è°ƒé˜Ÿåˆ—ã€‚</p><p>çŸ©é˜µçš„æ‰€æœ‰lcmå¯ä»¥åœ¨å•è°ƒè¿‡ç¨‹ä¸­è®°å¿†åŒ–ï¼Œå¤æ‚åº¦ä¼šå‡å°‘ï¼Œå¦‚æœå…ˆåšé¢„å¤„ç†ï¼ˆå•è°ƒå‰å…¨éƒ¨è®¡ç®—å‡ºä¼šåŠ å¤§å¤æ‚åº¦ï¼‰ã€‚</p><p>åªéœ€è¦çºµå‘åšä¸€éå•è°ƒé˜Ÿåˆ—ï¼Œç„¶åæŠŠçºµå‘æ‰€æœ‰çš„å•è°ƒé˜Ÿåˆ—å­˜åœ¨MaxäºŒç»´æ•°ç»„é‡Œï¼Œ ä¹‹ååœ¨æ¨ªå‘åšä¸€éå•è°ƒé˜Ÿåˆ—ï¼Œè¿™æ ·k*kçš„æ–¹æ ¼å°±èƒ½æ‰¾åˆ°æœ€å¤§å€¼äº†ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b == <span class="number">0</span> ? a : <span class="built_in">gcd</span>(b, a % b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Monotone_queue</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> maxn = <span class="number">5001</span>;</span><br><span class="line">    <span class="type">int</span> n, m, k; <span class="comment">// ä¸ªæ•°ã€çª—å£å¤§å°</span></span><br><span class="line">    <span class="type">int</span> q[maxn], p[maxn], head, tail; <span class="comment">// qæ˜¯å•è°ƒé˜Ÿåˆ—ï¼Œpæ˜¯å¯¹åº”yåºå·ï¼Œå¤´èŠ‚ç‚¹ã€å°¾èŠ‚ç‚¹</span></span><br><span class="line">    <span class="type">int</span> Max[maxn][maxn];</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Monotone</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            head = <span class="number">1</span>; tail = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= m; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> val = i * j / <span class="built_in">gcd</span>(i, j);</span><br><span class="line">                <span class="keyword">while</span>(head &lt;= tail &amp;&amp; q[tail] &lt;= val)</span><br><span class="line">                    tail--;</span><br><span class="line">                q[++tail] = val;</span><br><span class="line">                p[tail] = j;</span><br><span class="line">                <span class="keyword">while</span>(head &lt;= tail &amp;&amp; p[head] &lt;= j - k)</span><br><span class="line">                    head++;</span><br><span class="line">                <span class="keyword">if</span>(j &gt;= k)</span><br><span class="line">                    Max[i][j - k + <span class="number">1</span>] = q[head];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">value</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j&lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            head = <span class="number">1</span>; tail = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> val = Max[i][j];</span><br><span class="line">                <span class="keyword">while</span>(head &lt;= tail &amp;&amp; q[tail] &lt;= val)</span><br><span class="line">                    tail--;</span><br><span class="line">                q[++tail] = val;</span><br><span class="line">                p[tail] = i;</span><br><span class="line">                <span class="keyword">while</span>(head &lt;= tail &amp;&amp; p[head] &lt;= i - k)</span><br><span class="line">                    head++;</span><br><span class="line">                <span class="keyword">if</span>(i &gt;= k)</span><br><span class="line">                    ans += q[head];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;Worker;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Worker.<span class="built_in">read</span>();</span><br><span class="line">    Worker.<span class="built_in">Monotone</span>();</span><br><span class="line">    Worker.<span class="built_in">value</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; T;</span></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="dequeæ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—"><a href="#dequeæ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—" class="headerlink" title="dequeæ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—"></a>dequeæ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒå‘é˜Ÿåˆ—æ¨¡æ‹Ÿ</span></span><br><span class="line"></span><br><span class="line">struct num&#123;</span><br><span class="line">    <span class="type">int</span> index, x;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">deque&lt;num&gt; q; <span class="comment">// max</span></span><br><span class="line">deque&lt;num&gt; p; <span class="comment">// min</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> s[<span class="number">2</span>][<span class="number">10000005</span>];</span><br><span class="line"><span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n, k, x;</span><br><span class="line">    num t;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        t.index = i; t.x = x;</span><br><span class="line">        <span class="keyword">while</span>(!q.empty() &amp;&amp; x &gt;= q.back().x)</span><br><span class="line">        &#123;</span><br><span class="line">            q.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!p.empty() &amp;&amp; x &lt;= p.back().x)</span><br><span class="line">        &#123;</span><br><span class="line">            p.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        q.push_back(t);</span><br><span class="line">        p.push_back(t);</span><br><span class="line">        <span class="keyword">while</span>(i - k &gt;= q.front().index)</span><br><span class="line">        &#123;</span><br><span class="line">            q.pop_front();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(i - k &gt;= p.front().index)</span><br><span class="line">        &#123;</span><br><span class="line">            p.pop_front();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= k)</span><br><span class="line">        &#123;</span><br><span class="line">            s[<span class="number">0</span>][cnt] = q.front().x;</span><br><span class="line">            s[<span class="number">1</span>][cnt] = p.front().x;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; cnt; i++)</span><br><span class="line">        cout &lt;&lt; s[<span class="number">1</span>][i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; cnt; i++)</span><br><span class="line">        cout &lt;&lt; s[<span class="number">0</span>][i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„æ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—"><a href="#æ•°ç»„æ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—" class="headerlink" title="æ•°ç»„æ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—"></a>æ•°ç»„æ¨¡æ‹Ÿå•è°ƒé˜Ÿåˆ—</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„æ¨¡æ‹Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Monotone_queue</span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> maxn = <span class="number">10000005</span>;</span><br><span class="line">    <span class="type">int</span> n, k, a[maxn]; <span class="comment">// ä¸ªæ•°ã€çª—å£å¤§å°ã€å€¼</span></span><br><span class="line">    <span class="type">int</span> q[maxn], p[maxn], head, tail; <span class="comment">// qæ˜¯å•è°ƒé˜Ÿåˆ—ï¼Œpæ˜¯å¯¹åº”yåºå·ï¼Œå¤´èŠ‚ç‚¹ã€å°¾èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">            cin &gt;&gt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Monotone_min</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        head = <span class="number">1</span>; tail = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(head &lt;= tail &amp;&amp; q[tail] &gt;= a[i])</span><br><span class="line">            &#123;</span><br><span class="line">                tail--;</span><br><span class="line">            &#125;</span><br><span class="line">            q[++tail] = a[i];</span><br><span class="line">            p[tail] = i;</span><br><span class="line">            <span class="keyword">while</span>(p[head] &lt;= i - k)</span><br><span class="line">                head++;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= k)</span><br><span class="line">                cout &lt;&lt; q[head] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Monotone_max</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        head = <span class="number">1</span>; tail = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(head &lt;= tail &amp;&amp; q[tail] &lt;= a[i])</span><br><span class="line">            &#123;</span><br><span class="line">                tail--;</span><br><span class="line">            &#125;</span><br><span class="line">            q[++tail] = a[i];</span><br><span class="line">            p[tail] = i;</span><br><span class="line">            <span class="keyword">while</span>(p[head] &lt;= i - k)</span><br><span class="line">                head++;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= k)</span><br><span class="line">                cout &lt;&lt; q[head] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;Worker;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/14/2020-nowcoder-shujia-2-f/">https://blog.jujimeizuo.cn/2020/07/14/2020-nowcoder-shujia-2-f/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬äºŒåœºã€‘Bé¢˜ Boundary</title>
      <link href="/2020/07/13/2020-nowcoder-shujia-2-b/"/>
      <url>/2020/07/13/2020-nowcoder-shujia-2-b/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5667/B">https://ac.nowcoder.com/acm/contest/5667/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜ç›®æè¿° Given $n$ points in 2D plane. Considering all circles that the origin point$(0,0)$is on their boundries, find the one with the maximum given points on its boundry. Print the maximum number of points.</p><p>è¾“å…¥æè¿°ï¼š The first line contains one integer $n(1\leq n \leq 2000)$, denoting the number of given points. Following $n$ lines each contains two integers$x,y(x,y\leq10000)$,denoting a given point$(x,y)$. Itâ€™s guaranteed that the points are pairwise different and no given point is the origin point.</p><p>è¾“å‡ºæè¿°ï¼š Only one line containing one integer, denoting the answer.</p><p>è¾“å…¥ $4$ $1$ $1$ $0$ $2$ $2$ $2$ $2$ $2$</p><p>è¾“å‡º $3$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¯çŸ¥ä¸‰ç‚¹å¯å¾—ä¸€ä¸ªåœ†ï¼Œæ‰€ä»¥åˆ©ç”¨ä¸‰ç‚¹æ±‚å‡ºè¯¥åœ†çš„åœ†å¿ƒã€‚ å‚è€ƒï¼š<a href="http://www.skcircle.com/?id=642">http://www.skcircle.com/?id=642</a></p><p>å› ä¸ºåŸç‚¹æ˜¯ä¸€å®šåœ¨åœ†ä¸Šçš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ç¡®å®šä¸€ä¸ªåœ†å¿ƒæ—¶ï¼Œå°†è¯¥åœ†å¿ƒç”¨mapä¿å­˜ä¸‹æ¥ï¼Œå½“å¦ä¸€ç»„ä¸¤ä¸ªç‚¹åŠ ä¸€ä¸ªåŸç‚¹æ±‚å‡ºæ¥çš„åœ†å¿ƒè¿˜æ˜¯è¯¥å€¼ï¼Œå°±å¯ä»¥çŸ¥é“è¿™äº›æ±‚å‡ºæ¥åœ†å¿ƒç›¸åŒçš„ç‚¹éƒ½åœ¨åŒä¸€ä¸ªåœ†ä¸Šï¼Œæ‰€ä»¥æ±‚å‡ºæ¥ä¹‹å$mmp[pdd(x0,y0)]++$ ,åœ¨å’Œå·²ç»çŸ¥é“çš„åœ†ä¸Šæœ€å¤§ç‚¹æ•°$cnt$æ¯”è¾ƒï¼Œå–è¾ƒå¤§è€…ï¼Œæœ€åè¾“å‡ºæ—¶è¿˜è¦$cnt+1$ï¼Œå› ä¸ºä¸¤ä¸ªç‚¹ç¡®å®šä¸€ä¸ªåœ†å¿ƒï¼ˆåŸç‚¹æ²¡ç®—äº†ï¼‰ã€‚</p><p>æˆ‘çš„é”™è¯¯ï¼š åœ¨WAå’ŒTçš„é“è·¯ä¸Šæ°¸å‚ä¸æœ½ï¼Œæ±‚ä¸ªæ•°çš„æ—¶å€™å¤ªå¤æ‚äº†ï¼Œå¯¼è‡´å¿ƒæ€ç‚¸è£‚.å†·é™ä¸‹æ¥è¿˜æ˜¯å¯ä»¥æƒ³åˆ°çš„</p><h2 id="é”™è¯¯Code"><a href="#é”™è¯¯Code" class="headerlink" title="é”™è¯¯Code"></a>é”™è¯¯Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">//const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Mariex</span>&#123;</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">    map&lt;<span class="type">double</span>, map&lt;<span class="type">double</span>, <span class="type">double</span>&gt;&gt; tmp;</span><br><span class="line">&#125;a[<span class="number">2005</span>];</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">double</span>, map&lt;<span class="type">double</span>, <span class="type">double</span>&gt;&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cnt = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf&quot;</span>,&amp;a[i].x,&amp;a[i].y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>;j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">double</span> a1 = <span class="number">-0.5</span> * (a[i].x * a[i].x + a[i].y * a[i].y);</span><br><span class="line">            <span class="type">double</span> a2 = <span class="number">-0.5</span> * (a[j].x * a[j].x + a[j].y * a[j].y);</span><br><span class="line">            <span class="type">double</span> det = a[i].y * a[j].x - a[i].x * a[j].y;</span><br><span class="line">            <span class="keyword">if</span>(det == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="type">double</span> x0 = <span class="number">1.0</span> * (a[j].y * a1 - a[i].y * a2) / det;</span><br><span class="line">            <span class="type">double</span> y0 = <span class="number">1.0</span> * (a[i].x * a2 - a[j].x * a1) / det;</span><br><span class="line">            <span class="keyword">if</span>(!a[i].tmp[x0][y0])</span><br><span class="line">            &#123;</span><br><span class="line">                a[i].tmp[x0][y0] = <span class="number">1</span>;</span><br><span class="line">                mp[x0][y0]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!a[j].tmp[x0][y0])</span><br><span class="line">            &#123;</span><br><span class="line">                a[j].tmp[x0][y0] = <span class="number">1</span>;</span><br><span class="line">                mp[x0][y0]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cnt &lt; mp[x0][y0])</span><br><span class="line">                cnt = mp[x0][y0];</span><br><span class="line">            <span class="keyword">if</span>(cnt &gt; n / <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,cnt);</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,cnt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(false);</span></span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="comment">//ios::sync_with_stdio(false);</span></span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; T;</span></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>=&#x3D;<strong>ä¸»è¦æ˜¯åœ†å¿ƒç®—å‡ºæ¥ä¹‹åé‚£ä¸€å—æ—¶é—´Täº†ï¼Œæˆ‘å“­äº†ã€‚</strong>=&#x3D;</p><h2 id="æ­£ç¡®Code"><a href="#æ­£ç¡®Code" class="headerlink" title="æ­£ç¡®Code"></a>æ­£ç¡®Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; pdd;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">// const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"><span class="comment">// const double eps = 1e-6;</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Mariex</span>&#123;</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">&#125;a[<span class="number">2005</span>];</span><br><span class="line"></span><br><span class="line">map&lt;pdd, <span class="type">int</span>&gt; mmp;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf&quot;</span>,&amp;a[i].x,&amp;a[i].y); <span class="comment">// è¾“å…¥æ¯ç‚¹åæ ‡</span></span><br><span class="line">    &#125;</span><br><span class="line">    ll x1, x2, x3, y1, y2, y3; <span class="comment">// ä¸‰ç‚¹åæ ‡</span></span><br><span class="line">    ll A1, B1, C1, A2, B2, C2;</span><br><span class="line">    <span class="type">double</span> x0, y0;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        mmp.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>;j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            x1 = y1 = <span class="number">0</span>;</span><br><span class="line">            x2 = a[i].x; y2 = a[i].y;</span><br><span class="line">            x3 = a[j].x; y3 = a[j].y;</span><br><span class="line">            A1 = <span class="number">2ll</span> * (x2 - x1);</span><br><span class="line">            B1 = <span class="number">2ll</span> * (y2 - y1);</span><br><span class="line">            C1 = x2 * x2 + y2 * y2 - x1 * x1 - y1 * y1;</span><br><span class="line">            A2 = <span class="number">2ll</span> * (x3 - x2);</span><br><span class="line">            B2 = <span class="number">2ll</span> * (y3 - y2);</span><br><span class="line">            C2 = x3 * x3 + y3 * y3 - x2 * x2 - y2 * y2;</span><br><span class="line">            ll det = B2 * A1 - B1 * A2;</span><br><span class="line">            <span class="keyword">if</span>(det == <span class="number">0</span>) <span class="comment">// ä¸‰ç‚¹å…±çº¿</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            x0 = <span class="number">1.0</span> * (B2 * C1 - C2 * B1) / det;</span><br><span class="line">            y0 = <span class="number">1.0</span> * (A1 * C2 - A2 * C1) / det;</span><br><span class="line">            cnt = <span class="built_in">max</span>(cnt, ++mmp[<span class="built_in">pdd</span>(x0, y0)]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,cnt + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(false);</span></span><br><span class="line">    <span class="comment">//cin.tie(nullptr);</span></span><br><span class="line">    <span class="comment">//cout.tie(nullptr);</span></span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="comment">//ios::sync_with_stdio(false);</span></span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; T;</span></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/13/2020-nowcoder-shujia-2-b/">https://blog.jujimeizuo.cn/2020/07/13/2020-nowcoder-shujia-2-b/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€2020å¹´ç‰›å®¢æš‘å‡ç¬¬ä¸€åœºã€‘Jé¢˜ Easy integration</title>
      <link href="/2020/07/12/2020-nowcoder-shujia-1-j/"/>
      <url>/2020/07/12/2020-nowcoder-shujia-1-j/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5666/J">https://ac.nowcoder.com/acm/contest/5666/J</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜ç›®æè¿° Given n, find the value of$\int_{0}^{1}(x-x^2)^ndx$ It can be proved that the value is a rational number$\frac{p}{q}$ Print the result as$(pâ‹…q^{-1})mod$ $998244353$.</p><p>è¾“å…¥æè¿° The input consists of several test cases and is terminated by end-of-file.</p><p>Each test case contains an integer n.</p><p>$1\leq n \leq10^6$. The number of test cases does not exceed $10^5$.</p><p>è¾“å‡ºæè¿° For each test case, print an integer which denotes the result.</p><p>è¾“å…¥ $1$ $2$ $3$</p><p>è¾“å‡º $166374059$ $432572553$ $591816295$</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ ¹æ®$\int_{0}^{1}(x-x^2)^ndx$å¯å¾—$\int_{0}^{1}x^{n}(1-x)^ndx$ã€‚ åˆ©ç”¨næ¬¡åˆ†éƒ¨ç§¯åˆ†æ³•å¯å¾—è®¡ç®—å¼$$\frac{1*2*â€¦*(n-1)*n}{(n + 1)*(n+2)*â€¦.*(2n)*(2n+1)}$$ ä¸Šä¸‹åŒä¹˜$n!$å¾— $$\frac{(n!)^2}{(2n+1)!}$$</p><p>å…ˆå¯¹é˜¶ä¹˜åšä¸€ä¸ªé¢„å¤„ç†ï¼Œç„¶åå°±æˆåˆ†å­é™¤ä»¥åˆ†æ¯ï¼Œå¯ä»¥ç”¨é€†å…ƒï¼ˆè´¹é©¬å°å®šç†ï¼‰æ±‚ã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">//const ll mod = 1e9 + 7;</span></span><br><span class="line"><span class="comment">// const int maxn = 1e5 + 10;</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">ll f[<span class="number">2000005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">FPM</span><span class="params">(ll x,ll power)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(power)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(power &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = (ans * x) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        x = (x * x) % mod;</span><br><span class="line">        power &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">F</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">2000001</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        f[i] = f[i - <span class="number">1</span>] * i % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">F</span>();</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        ll ans = f[n] * f[n] % mod;</span><br><span class="line">        ans = (ans * <span class="built_in">FPM</span>(f[<span class="number">2</span> * n + <span class="number">1</span>], mod - <span class="number">2</span>)) % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans % mod);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(false);</span></span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="comment">//ios::sync_with_stdio(false);</span></span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; T;</span></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/07/12/2020-nowcoder-shujia-1-j/">https://blog.jujimeizuo.cn/2020/07/12/2020-nowcoder-shujia-1-j/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é»æ›¼çŒœæƒ³ï¼ˆä¸‰ï¼‰é»æ›¼çŒœæƒ³</title>
      <link href="/2020/06/06/riemann-hypothesis-3/"/>
      <url>/2020/06/06/riemann-hypothesis-3/</url>
      
        <content type="html"><![CDATA[<h2 id="é»æ›¼å‡½æ•°çš„ç”±æ¥"><a href="#é»æ›¼å‡½æ•°çš„ç”±æ¥" class="headerlink" title="é»æ›¼å‡½æ•°çš„ç”±æ¥"></a>é»æ›¼å‡½æ•°çš„ç”±æ¥</h2><p>åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºäº†$\varepsilon(s)$å’Œç´ æ•°å­˜åœ¨äº†åƒä¸ä¸‡ç¼•çš„å…³ç³»ï¼Œäºæ˜¯äººä»¬è®¤ä¸º$\varepsilon(s)$å¯èƒ½æ˜¯ç ´è§£ç´ æ•°è§„å¾‹çš„è‡³å¼ºæ³•å®ï¼Œåœ¨äº†è§£é»æ›¼å‡½æ•°ä¸ç´ æ•°çš„å…³ç³»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç´ æ•°çš„åˆ†å¸ƒè§„å¾‹ã€‚</p><h4 id="ç´ æ•°å®šç†"><a href="#ç´ æ•°å®šç†" class="headerlink" title="ç´ æ•°å®šç†"></a>ç´ æ•°å®šç†</h4><p>äº†è§£ç´ æ•°å®šç†ä¹‹å‰ï¼Œå…ˆäº†è§£ç´ æ•°çš„åˆ†å¸ƒè§„å¾‹ï¼Œç»Ÿè®¡ä¸€ä¸‹ä¸€æ®µé‡Œç´ æ•°çš„ä¸ªæ•°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>$$ \left[ \begin{array}{ccc} 1-10&amp;&amp;4 \ 1-100&amp;&amp;25 \ 1-1000&amp;&amp;168 \ â€¦.&amp;&amp;â€¦. \end{array} \right] $$</p><p>åæ¥æœ‰äººæƒ³ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªå¼å­ï¼Œé€šè¿‡ç»™å®šçš„xèƒ½æ±‚å‡ºå°äºxçš„ç´ æ•°çš„ä¸ªæ•°ï¼Œæœ€æ—©ç»™å‡ºè¿™ä¸ªç­”æ¡ˆå°±æ˜¯é«˜æ–¯å¤§ç¥ï¼</p><p>æ®è¯´é«˜æ–¯15å²çš„æ—¶å€™ç»™å‡ºäº†è¿™ä¹ˆä¸€ä¸ªçŒœæƒ³ï¼šå¯¹äºç»™å®šçš„è‡ªç„¶æ•°xï¼Œå°äºxçš„ç´ æ•°çš„ä¸ªæ•°çº¦ç­‰äº$\frac{x}{\ln{x}}$ä¸ªï¼Œä½†æ˜¯é«˜æ–¯æ²¡æœ‰é«˜è°ƒåœ°å‘è¡¨å‡ºæ¥ã€‚</p><p>åæ¥æ˜¯åŒæ—¶æœŸçš„æ•°å­¦å®¶å‹’è®©å¾·å…¬å¸ƒå‡ºäº†è¿™ä¸ªç»“æœï¼Œæ˜¯å½“æ—¶3Lå¤§æ•°å­¦å®¶â€”â€”æ‹‰æ ¼æœ—æ—¥ã€å‹’è®©å¾·ã€æ‹‰æ™®æ‹‰æ–¯ä¹‹ä¸€ã€‚</p><p>ä½†æ˜¯äººä»¬ä¸€å¬è¯´é«˜æ–¯æ—©å°±å‘ç°äº†è¿™ä¸ªå…¬å¼ï¼Œé‚£è¿™ä¸ªåŠŸåŠ³å°±æ£åœ¨é«˜æ–¯çš„å£è¢‹é‡Œäº†ï¼Œå“ˆå“ˆå“ˆã€‚</p><p>ç´ æ•°å®šç†ï¼š è®¾xâ‰¥1ï¼Œä»¥Ï€(x)è¡¨ç¤ºä¸è¶…è¿‡xçš„ç´ æ•°çš„ä¸ªæ•°ï¼Œå½“xâ†’âˆæ—¶ï¼Œ$\pi(x)$ï½$Li(x)$ï¼ˆå¯¹æ•°ç§¯åˆ†å‡½æ•°ï¼‰æˆ–$\pi(x)$ï½$\frac{x}{ln(x)}$ï¼ˆç´ æ•°è®¡æ•°å‡½æ•°ï¼‰ã€‚</p><p>å³ï¼š $$\pi(x) ï½ \frac{x}{\ln{x}} æˆ– Li(x) &#x3D; \int_{2} ^{x}{\frac{dt}{\ln{t}}}$$ <strong>xè¶Šå¤§ï¼Œè¯¯å·®è¶Šå°ï¼Œä½†è¿˜æ˜¯å­˜åœ¨è¯¯å·®é¡¹</strong></p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/06/20200603173716335.png"></p><p>ä¸­é—´æ˜¯æœ€å‡†ç¡®çš„ç´ æ•°è®¡æ•°å‡½æ•°ï¼Œä½†æ˜¯çœ‹èµ·æ¥$Li(x)$æ¯”$\pi(x)$æ›´å‡†ç¡®ä¸€ç‚¹ï¼Œä½†ä¸¤ä¸ªå‡½æ•°éƒ½ä¸èƒ½å‡†ç¡®åœ°æè¿°ç´ æ•°åˆ†å¸ƒçš„è§„å¾‹ï¼Œè¿™æ—¶ï¼Œé«˜æ–¯çš„å­¦ç”Ÿé»æ›¼å‡ºç°äº†ï¼ï¼ï¼</p><p>é»æ›¼åœ¨æ¬§æ‹‰çš„åŸºç¡€ä¸ŠæŠŠ$\varepsilon$å‡½æ•°è¿›è¡Œäº†è§£æå»¶æ‹“å°±ç§°ä¸ºé»æ›¼$\zeta$å‡½æ•°ï¼Œä¹‹å‰æåˆ°è¿‡sæ˜¯å¿…é¡»è¦å¤§äº1çš„ï¼Œæ‰æ˜¯æ”¶æ•›ï¼Œæ‰æ˜¯æœ‰æ„ä¹‰çš„ï¼Œså°äº1æ˜¯å‘æ•£çš„ï¼Œæ˜¯æ— æ„ä¹‰çš„ã€‚ é‚£é»æ›¼å°±æƒ³ï¼Œèƒ½ä¸èƒ½é€šè¿‡åŠæ³•ï¼Œè®©såœ¨æ‰€æœ‰çš„å¤æ•°åŸŸéƒ½å…·æœ‰æ„ä¹‰ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯è§£æå»¶æ‹“ã€‚æœ€åé»æ›¼å¾—å‡ºæ¥ï¼Œåœ¨æ‰€æœ‰çš„å¤å¹³é¢å†…ï¼Œåªæœ‰1ä¸€ä¸ªå¥‡ç‚¹æ²¡æœ‰æ„ä¹‰ï¼Œå…¶ä»–ç‚¹éƒ½å…·æœ‰æ„ä¹‰ï¼Œä¹Ÿå°±æ˜¯éƒ½æ˜¯æ”¶æ•›çš„ã€‚æ‰€ä»¥è¿™ä¸ªæ‹“å±•äº†å®šä¹‰åŸŸä¹‹åï¼Œè¿™ä¸ªå‡½æ•°å°±å«é»æ›¼$\zeta$å‡½æ•°ã€‚å¹¶ä¸”é»æ›¼é€šè¿‡è¿™ä¸ªå‡½æ•°æå‡ºäº†è‘—åçš„é»æ›¼çŒœæƒ³ã€‚ ï¼ˆå…³äºè§£æå»¶æ‹“å¯çœ‹ä¸Šç¯‡åšå®¢ï¼‰</p><p>æœ€ç»ˆï¼Œåœ¨é»æ›¼å½“ä¸Šäº†æŸæ—çš„ç§‘å­¦é™¢é€šè®¯é™¢å£«ï¼Œä¸ºäº†å›åº”è¿™ä¸ªè£èª‰ï¼Œé»æ›¼å‘è¡¨äº†ä¸€ç¯‡8é¡µçš„è®ºæ–‡ã€Šè®ºå°äºæŸç»™å®šæ•°å€¼çš„ç´ æ•°ä¸ªæ•°ã€‹ã€‚ä»æ­¤é»æ›¼å‡½æ•°æ¨ªç©ºå‡ºä¸–ã€‚</p><h4 id="é»æ›¼å‡½æ•°"><a href="#é»æ›¼å‡½æ•°" class="headerlink" title="é»æ›¼å‡½æ•°"></a>é»æ›¼å‡½æ•°</h4><p>é»æ›¼$\zeta$å‡½æ•°ä¸»è¦æ˜¯ç ”ç©¶ç´ æ•°åˆ†å¸ƒçš„æƒ…å†µæ‰å‡ºç°çš„ã€‚ å…ˆæ¥çœ‹ä¸€ä¸‹$\zeta(x)$çš„å‡½æ•°å¼ï¼š $$\zeta(s) &#x3D; 1 + \frac{1}{2^{s}} + \frac{1}{3^{s}} + \frac{1}{4^{s}}+â€¦$$ åœ¨æ¥çœ‹ä¸€ä¸‹é»æ›¼$\zeta$å‡½æ•°ç»è¿‡è§£æå»¶æ‹“åçš„ç§¯åˆ†å½¢å¼ï¼š $$\zeta(x) &#x3D; \frac{\Gamma (1-s)}{2\pi i}\oint_r\frac{z^{s-1}e^{-z}}{1-e^{z}} dz$$ è¿™ä¸ªå‡½æ•°åˆè¢«ç§°ä¸ºäºšçº¯å‡½æ•°ã€‚</p><p>å…¶ä¸­$\Gamma (s)$ï¼ˆä¼½é©¬å‡½æ•°ï¼‰å°±æ˜¯è¡¨ç¤º$(s-1)ï¼$ï¼ˆé˜¶ä¹˜ï¼‰ã€‚ ï¼ˆè¿™ä¸ªå¼å­åªèƒ½çœ‹çœ‹å°±å¥½ï¼Œå¸¸äººæ— æ³•ç†è§£ï¼Œå‘å¾®çš„æˆ‘æ›´æ— æ³•ç†è§£ï¼‰</p><p>è¿™æ ·ï¼Œé»æ›¼å°±æŠŠæ¬§æ‹‰çº§æ•°çš„å®šä¹‰åŸŸä»s&gt;1é€šè¿‡è§£æå»¶æ‹“å°†å…¶æ‰©å¤§ï¼Œæ‰©å¤§åˆ°é™¤äº†1è¿™ä¸€ä¸ªå¥‡ç‚¹å¤–çš„æ‰€æœ‰å¤å¹³é¢å†…ã€‚ï¼ˆå¤æ•°éƒ½çŸ¥é“å§ï¼Œä¸å•æ˜¯å®æ•°ï¼Œè™šæ•°ä¹Ÿå¯ä»¥ï¼‰</p><p>å…ˆå°è¯•å¸¦å‡ ä¸ªæ•°è¿›å»çœ‹çœ‹ã€‚ $$\zeta(-1)&#x3D;-\frac{1}{12}\ \zeta(-2) &#x3D; 0\ \zeta(-3) &#x3D; \frac{1}{120} $$</p><p>é»æ›¼é€šè¿‡è§£æå»¶æ‹“å‡ºæ¥çš„ç»“æœå’Œæ¬§æ‹‰å½“æ—¶ç®—å‡ºæ¥çš„ç»“æœæ˜¯ç›¸åŒçš„ã€‚é‚£ä¹ˆé»æ›¼çŒœæƒ³æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ</p><p>ç„¶åå°±åˆ°äº†ä»Šå¤©çš„ä¸»é¢˜â€”â€”é»æ›¼çŒœæƒ³ã€‚</p><h2 id="é»æ›¼çŒœæƒ³"><a href="#é»æ›¼çŒœæƒ³" class="headerlink" title="é»æ›¼çŒœæƒ³"></a>é»æ›¼çŒœæƒ³</h2><p>é»æ›¼é€šè¿‡æŠŠé»æ›¼$\zeta$å‡½æ•°æ¨å¯¼åï¼Œå¾—å‡ºä¸‹é¢çš„å¼å­ï¼š $$\zeta(s) &#x3D; 2\Gamma (1-s)(2\pi)^{s-1}\sin(\frac{\pi s}{2})\zeta(1-s)$$</p><p>è‚‰çœ¼å¯è§ï¼Œä¸Šé¢å¼å­ä¸­ä»¤$\sin(\frac{\pi s}{2})&#x3D;0$å°±å¾—åˆ°äº†ä¸€äº›å‡½æ•°é›¶ç‚¹ï¼Œæ¯”å¦‚-2ï¼Œ-4ï¼Œ-6â€¦è¿™äº›ä¸ªé›¶ç‚¹è¢«ç§°ä¸ºå¹³å‡¡é›¶ç‚¹ã€‚</p><p>ç„¶åæˆ‘ä»¬è®©ä¸Šé¢å¼å­å¼ºè¡Œç­‰äº0ï¼Œå°±æ˜¯æ±‚$\zeta(s)$é™¤äº†å¹³å‡¡é›¶ç‚¹å¤–çš„éå¹³å‡¡é›¶ç‚¹ï¼Œé‚£ä¹ˆé»æ›¼çŒœæƒ³å°±æ¥äº†ã€‚</p><p>é»æ›¼çŒœæµ‹ï¼Œæ‰€æœ‰çš„éå¹³å‡¡é›¶ç‚¹çš„å®éƒ¨éƒ½åœ¨$x &#x3D; 0$å’Œ$x &#x3D; 1$è¿™ä¸¤æ¡ä¸´ç•Œçº¿ä¹‹å†…ï¼Œè¿™ä¸€å—åŒºåŸŸå«åšä¸´ç•ŒåŒºåŸŸæˆ–è€…å…³é”®åŒºåŸŸã€‚æœ‰å¯èƒ½é›¶ç‚¹çš„å®éƒ¨éƒ½åœ¨$x &#x3D; \frac{1}{2}$è¿™æ¡ä¸´ç•Œçº¿ä¸Šã€‚ä½†æ˜¯é»æ›¼æ— æ³•è¯æ˜ã€‚</p><p>å…·ä½“å›¾åƒå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/06/20200605165107475.jpg"></p><p>è€Œé»æ›¼$\zeta$å‡½æ•°çš„é›¶ç‚¹åˆä¸ç´ æ•°çš„åˆ†å¸ƒæƒ…å†µç´§å¯†ç›¸è¿ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæœ‰äººèƒ½è¯å®é»æ›¼çŒœæƒ³ï¼Œè¿™å°†æ˜¯è½°åŠ¨å…¨çƒçš„å¤§äº‹ä»¶ã€‚</p><h4 id="é»æ›¼çŒœæƒ³çš„åç»§æ•…äº‹"><a href="#é»æ›¼çŒœæƒ³çš„åç»§æ•…äº‹" class="headerlink" title="é»æ›¼çŒœæƒ³çš„åç»§æ•…äº‹"></a>é»æ›¼çŒœæƒ³çš„åç»§æ•…äº‹</h4><p>åœ¨1900å¹´å›½é™…æ•°å­¦å¤§ä¼šä¸Šï¼Œå¸Œå°”ä¼¯ç‰¹åœ¨æ¼”è®²ä¸­æå‡ºäº†23ä¸ªæ•°å­¦é—®é¢˜ï¼Œå…¶ä¸­ç¬¬å…«ä¸ªå°±æ˜¯é»æ›¼çŒœæƒ³ï¼Œä¸ä»–å¹¶åˆ—ç¬¬å…«çš„å°±æ˜¯å“¥å¾·å·´èµ«çŒœæƒ³ã€‚</p><p>åœ¨2000å¹´çš„åƒç¦§å¹´ï¼Œç¾å›½çš„å…‹é›·æ•°å­¦ç ”ç©¶æ‰€æå‡ºäº†7ä¸ª åƒç¦§éš¾é¢˜ï¼Œå…¨æ˜¯æ•°å­¦çŒœæƒ³ï¼Œå…¶ä¸­é»æ›¼çŒœæƒ³å°±åœ¨å…¶ä¸­ï¼Œåªè¦èƒ½è¯æ˜å…¶ä¸­ä¸€ä¸ªå°±èƒ½æ‹¿åˆ°100ä¸‡ç¾å…ƒï¼Œå…¶ä¸­çš„åºåŠ è±çŒœæƒ³å·²ç»è¢«è¯æ˜äº†ã€‚è¿™ä¸ªäººä¼šæ˜¯ä½ å—ï¼Ÿ</p><h4 id="è¿›å±•"><a href="#è¿›å±•" class="headerlink" title="è¿›å±•"></a>è¿›å±•</h4><p>1896å¹´æ³•å›½çš„ä¸¤ä¸ªå­¦è€…é˜¿è¾¾ç›å’Œæ™®æ£®ä¸¤ä¸ªäººè¯æ˜äº†æ‰€æœ‰çš„éå¹³å‡¡é›¶ç‚¹çš„å®éƒ¨éƒ½åœ¨$x &#x3D; 0$å’Œ$x &#x3D; 1$è¿™ä¸¤æ¡ä¸´ç•Œçº¿é‡Œï¼›</p><p>1932å¹´ï¼Œé»æ›¼-è¥¿æ ¼å°”å…¬å¼å‡ºä¸–ï¼Œä»¥åè®¡ç®—é›¶ç‚¹çš„æ–¹æ³•è¦æ–¹ä¾¿å¾—å¤šã€‚</p><p>åæ¥é€šè¿‡è®¡ç®—æœºï¼Œå¾·å›½çš„IBMå®éªŒå®¤ï¼ˆé¡¹ç›®ç°åœ¨å·²ç»å–æ¶ˆäº†ï¼‰ï¼Œå·²ç»è®¡ç®—å‡ºäº†æœ‰äº†1ä¸‡äº¿ä¸ªéå¹³å‡¡é›¶ç‚¹ï¼Œè€Œè¿™äº›éå¹³å‡¡é›¶ç‚¹éƒ½åœ¨$x &#x3D; \frac{1}{2}$è¿™æ¡çº¿ä¸Šã€‚</p><h2 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h2><p>æœ€åï¼ŒèŠ±äº†ä¸€å‘¨çš„æ—¶é—´æ¥å†™è¿™å‡ ç¯‡åšå®¢ï¼Œä»¥å‰å°±æƒ³å†™è¿™æ–¹é¢çš„åšå®¢ï¼Œè¿™æ¬¡ç»ˆäºå®Œç»“äº†ï¼Œå…¶å®å†™è¿™äº›ä¸œè¥¿å¯¹æˆ‘æ¥è¯´æ²¡æœ‰å¤ªå¤šçš„å¸®åŠ©ï¼Œè¿™åªæ˜¯å‡ºäºå¯¹æ•°å­¦çš„å…´è¶£ï¼ˆå…¶å®æˆ‘æ•°å­¦å¾ˆåƒåœ¾ï¼‰ï¼Œçˆ±å¥½ä½¿ç„¶å§ï¼ ä¸å¾—ä¸è¯´è¿™äº›äººçš„æ™ºæ…§æ˜¯éæ¯”å¯»å¸¸çš„ã€‚é‚£å°±æ¥çœ‹çœ‹é»æ›¼çš„äººç”Ÿäº‹è¿¹ï¼š <a href="https://www.bilibili.com/video/BV1xE411u7Zp">https://www.bilibili.com/video/BV1xE411u7Zp</a></p><p>å‚è€ƒï¼š <a href="https://www.bilibili.com/video/BV1oW411U7Bk?t=589">https://www.bilibili.com/video/BV1oW411U7Bk?t=589</a> <a href="https://www.bilibili.com/video/BV1rW411m7GL">https://www.bilibili.com/video/BV1rW411m7GL</a> <a href="https://www.bilibili.com/video/BV12x41187QH?from=search&seid=17055570753699382374">https://www.bilibili.com/video/BV12x41187QH?from=search&seid=17055570753699382374</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/06/06/riemann-hypothesis-3/">https://blog.jujimeizuo.cn/2020/06/06/riemann-hypothesis-3/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> interesting </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é»æ›¼çŒœæƒ³ï¼ˆäºŒï¼‰å…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº-1/12å’Œè§£æå»¶æ‹“</title>
      <link href="/2020/06/06/riemann-hypothesis-2/"/>
      <url>/2020/06/06/riemann-hypothesis-2/</url>
      
        <content type="html"><![CDATA[<h2 id="å…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº-frac-1-12"><a href="#å…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº-frac-1-12" class="headerlink" title="å…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº$-\frac{1}{12}$"></a>å…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº$-\frac{1}{12}$</h2><p>æœ‰äººä¸€å®šå¬è¯´è¿‡å…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº$-\frac{1}{12}$ï¼Œé‚£æˆ‘ä»¬è¿™æœŸå°±æ¥èŠèŠè¿™ç©¶ç«Ÿæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¸ªç»“æœåˆå’Œä»€ä¹ˆæœ‰å…³ç³»å‘¢ï¼Ÿ</p><p>ä¹‹å‰æˆ‘ä»¬è¯´è¿‡è¿™æ ·çš„ä¸€ä¸ªå¼å­ï¼š $$\varepsilon (s) &#x3D; 1 + \frac{1}{2^{s}} + \frac{1}{3^{s}} + \frac{1}{4^{s}} +\frac{1}{5^{s}} + \frac{1}{6^{s}}+â€¦ $$</p><p>å½“s &#x3D; 1æ—¶ï¼› $$\varepsilon (1) &#x3D; 1 + \frac{1}{2} + \frac{1}{3} + \frac{1}{4} +\frac{1}{5} + \frac{1}{6}+â€¦ $$</p><p>è¿™æ˜¯è°ƒå’Œçº§æ•°ï¼Œæ˜¯å‘æ•£çš„ã€‚</p><p>å½“s &#x3D; 2æ—¶ï¼› $$\varepsilon (2) &#x3D; 1 + \frac{1}{2^{2}} + \frac{1}{3^{2}} + \frac{1}{4^{2}} +\frac{1}{5^{2}} + \frac{1}{6^{2}}+â€¦ $$</p><p>è¿™å°±æ˜¯å·´å¡å°”é—®é¢˜ï¼Œç­”æ¡ˆæ˜¯$\frac{\pi^{2}}{6}$ã€‚</p><p>ä½†æ˜¯å½“s &lt; 1æ—¶ï¼Œç­”æ¡ˆåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æ¬§æ‹‰ç»™å‡ºäº†è¿™ä¹ˆå‡ ä¸ªç­”æ¡ˆï¼š</p><p>$$\varepsilon (-1) &#x3D; 1 + 2 + 3 + 4 + 5â€¦ &#x3D; -\frac{1}{12} \ \varepsilon (-2) &#x3D; 0 \ \varepsilon (-3) &#x3D; -\frac{1}{120}$$</p><p>æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Œé‚£è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ¬§æ‹‰çš„è¯æ˜æ–¹æ³•ã€‚</p><p>æ¬§æ‹‰æŠŠè¿™ä¸ªå‡½æ•°$\frac{x}{(1-x)^{2}}$å¹‚çº§æ•°å±•å¼€å¾—ï¼š $$\frac{x}{(1-x)^{2}} &#x3D; x + 2x^{2} + 3x^{3} + 4x^{4} + â€¦.$$</p><p>ä»¤x &#x3D; -1å¾—ï¼š $$-\frac{1}{4} &#x3D; -1 + 2 - 3 + 4 - â€¦..$$ $$ -\frac{1}{4}&#x3D; -(1 + 3 + 5 + â€¦) + (2 + 4 + 6 + â€¦)$$ $$-\frac{1}{4} &#x3D; -(1 + 2 + 3 + 4 + ..) + (2 *2 +4*2 + 6*2+â€¦)$$ $$-\frac{1}{4}&#x3D;3 * (1 + 2 + 3 + 4 + â€¦.)$$ $$1 + 2 + 3 + 4 + â€¦ &#x3D; -\frac{1}{12}$$</p><p>è¿™åªæ˜¯æ¬§æ‹‰çš„è¯æ˜æ–¹æ³•ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–ç‰ˆæœ¬çš„è¯æ˜æ–¹æ³•åç»­å†è¡¥å……ã€‚</p><p>ï¼ˆå…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œåœ¨æ•°å­¦å®¶çš„çœ¼é‡Œæ˜¯é”™è¯¯çš„ï¼Œä½†æ˜¯åœ¨ç‰©ç†å­¦å®¶çš„çœ¼é‡Œé‚£å°±ä¸ä¸€å®šé”™è¯¯äº†ã€‚ï¼‰</p><p>åˆ°äº†è¿™é‡Œï¼Œä¸ºä»€ä¹ˆå…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº$-\frac{1}{12}$ï¼Œåœ¨ä¸Šä¸€æœŸè¯´è¿‡ï¼Œsåœ¨è¿™ä¸ªæ¬§æ‹‰çº§æ•°é‡Œå¿…é¡»æ˜¯å¤§äº1æ‰æœ‰æ„ä¹‰ï¼Œå½“s &#x3D; -1çš„æ—¶å€™æ˜¯æ— æ„ä¹‰çš„ï¼Œé‚£ä¹ˆæ€ä¹ˆä¼šå‡ºç°è¿™ä¸ªè¿™ä¸ªç»“æœï¼Œç­”æ¡ˆå°±æ˜¯è§£æå»¶æ‹“ã€‚</p><h2 id="è§£æå»¶æ‹“"><a href="#è§£æå»¶æ‹“" class="headerlink" title="è§£æå»¶æ‹“"></a>è§£æå»¶æ‹“</h2><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>è§£æï¼šå¦‚æœä¸€ä¸ªå‡½æ•°$f(x)$åœ¨æŸä¸€ç‚¹aå¤„å¯å¯¼ï¼Œå¹¶ä¸”åœ¨açš„é¢†åŸŸä¹Ÿå¤„å¤„å¯å¯¼ï¼Œå³è¿™ä¸ªå‡½æ•°$f(x)$åœ¨aç‚¹æ˜¯è§£æçš„ï¼Œå¦‚æœ$f(x)$åœ¨åŒºåŸŸDå†…çš„ä»»æ„ä¸€ç‚¹éƒ½æ˜¯è§£æçš„ï¼Œé‚£ä¹ˆ$f(x)$åœ¨åŒºåŸŸDå†…æ˜¯è§£æçš„ã€‚</p><p>é€šä¿—çš„æ¥è¯´ï¼Œè§£æå»¶æ‹“å°±æ˜¯å°†ä¸€ä¸ªå‡½æ•°$f(x)$çš„å®šä¹‰åŸŸâ€œæ‰©å¤§â€ï¼Œä½†è¿™ä¸ªâ€œæ‰©å¤§â€ä¸æ˜¯éšæ„æ‰©å¤§ï¼Œè§£æå»¶æ‹“æ˜¯å”¯ä¸€çš„ï¼Œæ¡ä»¶å°±æ˜¯$f(x)$æ˜¯åœ¨ä¸€ä¸ªåŒºåŸŸå†…æ˜¯å¤„å¤„å¯å¯¼çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†è¿™ä¸ªåŒºåŸŸæ‰©å¤§åˆ°å…¨å±€ï¼Œä¹Ÿå°±æ˜¯å±€éƒ¨å‡½æ•°-&gt;å…¨å±€å‡½æ•°ï¼Œè€Œä¸”ä¹Ÿæ˜¯å¤„å¤„å¯å¯¼çš„ã€‚å¤„å¤„å¯å¯¼æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯å¤„å¤„æ˜¯å…‰æ»‘ã€‚</p><p>é‚£æˆ‘ä»¬æ¥ä¸¾ä¸ªæ —å­ã€‚</p><h4 id="æ —å­"><a href="#æ —å­" class="headerlink" title="æ —å­"></a>æ —å­</h4><p>æˆ‘ä»¬ä¸€å®šçœ‹è¿‡è¿™æ ·çš„ä¸€ä¸ªæ•°åˆ—ï¼š $$1 + x + x^{2} + x^{3} + â€¦.$$</p><p>ç”¨ç­‰æ¯”æ•°åˆ—æ±‚å’Œå¯å¾—(-1 &lt; x &lt; 1)ï¼š</p><p>$$1 + x + x^{2} + x^{3} + â€¦. &#x3D; \frac{1}{1 - x}$$</p><p>é‚£æˆ‘ä»¬å…ˆæŠŠè¿™ä¸ªå‡½æ•°ç”¨å›¾åƒç”»å‡ºæ¥ï¼Œå½“-1 &lt; x &lt; 1æ—¶ï¼Œå·¦è¾¹æ˜¯ä¸¥æ ¼ç­‰äºå³è¾¹çš„ï¼Œæ‰€ä»¥å›¾åƒæ˜¯ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/06/20200604170224297.png"></p><p>å·¦è¾¹çš„æ•°åˆ—åªæœ‰åœ¨-1&lt;x&lt;1æ—¶æ‰ä¼šæ˜¯ä¸Šå›¾æ‰€å‘ˆç°çš„ï¼Œä½†æ˜¯å¯¹äºå³è¾¹ï¼Œè²Œä¼¼æˆ‘ä»¬è¿˜å¯ä»¥ç”»å‡ºxçš„å®šä¹‰åŸŸå†…çš„å›¾åƒï¼Œå›¾åƒå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/06/20200604170503197.png"></p><p>è¿™æ ·æˆ‘ä»¬å°±æŠŠå·¦è¾¹çš„æ•°åˆ—è¿›è¡Œäº†è§£æå»¶æ‹“ï¼Œæ‰©å¤§äº†å®šä¹‰åŸŸï¼Œä½†æ˜¯ä¸Šå›¾é™¤äº†-1&lt;x&lt;1ï¼Œä¹‹å¤–çš„èŒƒå›´éƒ½ä¸å­˜åœ¨ï¼Œè®©æˆ‘ä»¬æ¥å¸¦å‡ ä¸ªå€¼è¿›å»ã€‚ å½“$x &#x3D; \frac{1}{2}$æ—¶ï¼š $$1 + \frac{1}{2} + (\frac{1}{2})^{2} + (\frac{1}{2})^{3} + â€¦. &#x3D; 2$$ è¿™æ˜¯å®Œå…¨æ­£ç¡®çš„ã€‚ å½“$x &#x3D; -1$æ—¶ï¼š $$1 + -1 + 1 - 1 + â€¦. &#x3D; \frac{1}{2}$$</p><p>è¿™ä¸ªå¼å­å¯¹ä¸å¯¹è‡ªå·±ç»†å“ã€‚ã€‚ã€‚ å¯¹äºå·¦è¾¹x &#x3D; -1æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œä½†æ˜¯å¯¹äºè§£æå»¶æ‹“å‡ºæ¥çš„å³è¾¹å‡½æ•°æ˜¯å…·æœ‰æ„ä¹‰çš„ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œå…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç­‰äº$-\frac{1}{12}$æ˜¯è§£æå»¶æ‹“å‡ºæ¥çš„ç»“æœï¼Œæ˜¯é”™è¯¯çš„ã€‚</p><p>é‚£ä¹ˆæ¬§æ‹‰çº§æ•°è§£æå»¶æ‹“å‡ºæ¥çš„å‡½æ•°æ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿè®©æˆ‘ä»¬ä¸‹æœŸå†æ¥è®²è®²é»æ›¼å‡½æ•°ã€‚</p><p>å‚è€ƒï¼š <a href="https://www.bilibili.com/video/BV1MW411S7Tg">https://www.bilibili.com/video/BV1MW411S7Tg</a> <a href="https://www.bilibili.com/video/BV1oW411U7Bk">https://www.bilibili.com/video/BV1oW411U7Bk</a> <a href="https://blog.csdn.net/qq_40155097/article/details/86670230">https://blog.csdn.net/qq_40155097&#x2F;article&#x2F;details&#x2F;86670230</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/06/06/riemann-hypothesis-2/">https://blog.jujimeizuo.cn/2020/06/06/riemann-hypothesis-2/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> interesting </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é»æ›¼çŒœæƒ³ï¼ˆä¸€ï¼‰ æ¬§æ‹‰ä¹˜ç§¯å¼</title>
      <link href="/2020/06/06/riemann-hypothesis-1/"/>
      <url>/2020/06/06/riemann-hypothesis-1/</url>
      
        <content type="html"><![CDATA[<h2 id="ç´ æ•°æ— é™çš„å‡ ä¸ªè¯æ˜"><a href="#ç´ æ•°æ— é™çš„å‡ ä¸ªè¯æ˜" class="headerlink" title="ç´ æ•°æ— é™çš„å‡ ä¸ªè¯æ˜"></a>ç´ æ•°æ— é™çš„å‡ ä¸ªè¯æ˜</h2><h4 id="æ¯•è¾¾å“¥æ‹‰æ–¯å­¦æ´¾è¯æ˜"><a href="#æ¯•è¾¾å“¥æ‹‰æ–¯å­¦æ´¾è¯æ˜" class="headerlink" title="æ¯•è¾¾å“¥æ‹‰æ–¯å­¦æ´¾è¯æ˜"></a>æ¯•è¾¾å“¥æ‹‰æ–¯å­¦æ´¾è¯æ˜</h4><p>å…¬å…ƒå‰600ï½å…¬å…ƒå‰500å¹´å¤å¸Œè…Šæ—¶æœŸï¼Œä¸ºäº†è¯æ˜ç´ æ•°æœ‰æ— é™ä¸ªè¿™ä¸ªé—®é¢˜ï¼Œæ¯•è¾¾å“¥æ‹‰æ–¯å­¦æ´¾ç»™å‡ºäº†ä¸€ä¸ªè¯æ˜ï¼š</p><p>ç´ æ•°æ˜¯ä»2å’Œ3å¼€å§‹çš„ï¼Œæ‰€ä»¥ç”¨2 * 3+1 &#x3D; 7ï¼› 7æ˜¯ç´ æ•°ï¼Œæ‰€ä»¥ç”¨2 * 3 * 7+1 &#x3D; 43ï¼› 43æ˜¯ç´ æ•°ï¼Œæ‰€ä»¥ç”¨2 * 3 * 7 * 43+1 &#x3D; 1807ï¼› 1807ä¸æ˜¯ç´ æ•°ï¼Œä½†æ˜¯1807 &#x3D; 13 * 139ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½æ˜¯ç´ æ•°ï¼Œå‘ç°äº†ä¸¤ä¸ªæ–°ç´ æ•°ï¼Œæˆ‘ä»¬ç”¨å°çš„ç´ æ•°ä¸é‚£ä¸€å †ç›¸ä¹˜ï¼Œæ‰€ä»¥ç”¨2 * 3 * 7 * 43 * 13 + 1 &#x3D; 23479ï¼› 23479ä¸æ˜¯ç´ æ•°ï¼Œä½†æ˜¯23479 &#x3D; 53 * 443ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯ç´ æ•°ï¼Œåˆå‘ç°äº†ä¸¤ä¸ªæ–°ç´ æ•°ï¼› ç»§ç»­å¾€ä¸‹ï¼Œä¼šä¸€ç›´å‘ç°æ–°çš„ç´ æ•°ï¼Œå³è¯æ˜ç´ æ•°æœ‰æ— é™ä¸ªã€‚ æ¯•è¾¾å“¥æ‹‰æ–¯å­¦æ´¾åœ¨å½“æ—¶èƒ½è¯æ˜å‡ºæ¥æ˜¯éå¸¸äº†å¾—ï¼Œå200å¹´åˆå‡ºç°äº†è¿™ä¹ˆä¸€ä½ç¥äººâ€”â€”æ¬§å‡ é‡Œå¾—ï¼</p><h4 id="æ¬§å‡ é‡Œå¾—è¯æ˜"><a href="#æ¬§å‡ é‡Œå¾—è¯æ˜" class="headerlink" title="æ¬§å‡ é‡Œå¾—è¯æ˜"></a>æ¬§å‡ é‡Œå¾—è¯æ˜</h4><p>æ¬§å‡ é‡Œå¾—ç”¨çš„æ˜¯åè¯æ³•ï¼Œè¯æ˜å¦‚ä¸‹ï¼š</p><p>å…ˆå‡è®¾ç´ æ•°æ˜¯æœ‰é™ä¸ªï¼Œå³P1, P2, P3,â€¦â€¦Pkï¼›å…¶ä¸­Pkæ˜¯æœ€å¤§çš„ç´ æ•°ï¼› æˆ‘ä»¬ç”¨A &#x3D; P1 * P2 * P3 * P4 * â€¦â€¦..* Pk + 1ï¼›å³å°†æ‰€æœ‰ç´ æ•°ç›¸ä¹˜ååŠ 1ï¼› ä¸€ä¸ªè‡ªç„¶æ•°è¦ä¹ˆæ˜¯ç´ æ•°è¦ä¹ˆæ˜¯åˆæ•°ï¼ˆé™¤äº†1ï¼‰ï¼› 1ã€Aæ˜¯ç´ æ•°ï¼Œç”±äºPkæ˜¯ç´ æ•°ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ¯”Pkè¿˜å¤§çš„ç´ æ•°Aï¼Œå³Aä¸å¯èƒ½æ˜¯ç´ æ•°ï¼› 2ã€Aæ˜¯åˆæ•°ï¼Œç”±äºæ‰€æœ‰çš„åˆæ•°éƒ½å¯ä»¥ç”±ç´ æ•°ç›¸ä¹˜å¾—åˆ°ï¼Œå³A % Pi &#x3D; 0ï¼Œæ‰€æœ‰çš„ç´ æ•°éƒ½æ˜¯Açš„å› å­ï¼Œè€ŒA &#x3D; æ‰€æœ‰ç´ æ•°ç›¸ä¹˜ + 1ï¼Œå³Aä¸å¯èƒ½æ˜¯åˆæ•°ï¼›</p><p>é‚£ä¹ˆAåˆä¸æ˜¯ç´ æ•°ä¹Ÿä¸æ˜¯åˆæ•°ï¼Œå¾—å‡ºåŸå‘½é¢˜ç´ æ•°æœ‰é™ä¸ªæ˜¯é”™è¯¯çš„ï¼Œå³è¯æ˜äº†ç´ æ•°æ— é™ä¸ªã€‚</p><h4 id="æ¬§æ‹‰è¯æ˜"><a href="#æ¬§æ‹‰è¯æ˜" class="headerlink" title="æ¬§æ‹‰è¯æ˜"></a>æ¬§æ‹‰è¯æ˜</h4><p><img src="https://cdn.jujimeizuo.cn/blog/2020/06/20200604161236533.jpeg"></p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°±è¦ä»‹ç»æ¬§æ‹‰ä¹˜ç§¯å¼äº†ï¼Œå› ä¸ºè¿™ä¹Ÿæ˜¯è¯æ˜ç´ æ•°æ— é™ä¸ªçš„ä¸€ä¸ªè¯æ˜æ–¹æ³•ã€‚</p><p>1735å¹´ï¼Œæ¬§æ‹‰å¤§ç¥å‘è¡¨äº†ä¸€ä¸ªæå…¶é‡è¦çš„å…¬å¼ï¼Œå³æ¬§æ‹‰ä¹˜ç§¯å¼ï¼š $$\sum_{n &#x3D;1 }^{\infty }n^{-s} &#x3D; \prod_{p}(1 - \frac{1}{p^{s}})^{-1}$$</p><p>è¯æ˜ä¹‹å‰æˆ‘ä»¬å…ˆéœ€è¦çŸ¥é“ä»¥ä¸‹åŸºæœ¬çŸ¥è¯†ã€‚</p><p>æˆ‘ä»¬çŸ¥é“è°ƒå’Œçº§æ•°æ˜¯å‘æ•£çš„ï¼Œå³ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/06/20200603160719623.png"></p><p>é—¨æˆˆåˆ©å½“æ—¶æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œå…¨ä½“è‡ªç„¶æ•°çš„å¹³æ–¹å€’æ•°ä¹‹å’Œæ˜¯å¤šå°‘å‘¢ï¼Ÿå½“æ—¶ä¹Ÿæ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåæ¥è¢«çº¦ç¿°ä¼¯åŠªåˆ©çš„å­¦ç”Ÿæ¬§æ‹‰è§£å†³å‡ºæ¥äº†ï¼Œå³ä¸Šä¸ŠæœŸåšå®¢çš„å·´å¡å°”é—®é¢˜ï¼Œå¯ä»¥è‡ªè¡Œè§‚çœ‹ï¼Œç­”æ¡ˆæ˜¯ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/06/20200603161012666.png"></p><p>åæ¥æ¬§æ‹‰åˆæŠŠè¿™æ ·çš„å¼å­è¿›è¡Œäº†æ‹“å±•ï¼Œå³å°†è‡ªç„¶æ•°ä¸Šçš„å¹‚å˜æˆsï¼Œå³å¾—åˆ°è¿™æ ·çš„ä¸€ä¸ªå¼å­ï¼š $$\varepsilon (s) &#x3D; 1 + \frac{1}{2^{s}} + \frac{1}{3^{s}} + \frac{1}{4^{s}} +\frac{1}{5^{s}} + \frac{1}{6^{s}}+â€¦ \qquad ï¼ˆ1ï¼‰$$</p><p>æˆ‘ä»¬å¯¹å·¦å³ä¸¤è¾¹åŒæ—¶ä¹˜ä»¥$\frac{1}{2^{s}}$ï¼Œå³å¾—åˆ°ï¼š $$ \frac{1}{2^{s}}\varepsilon (s) &#x3D; \frac{1}{2^{s}} + \frac{1}{4^{s}} + \frac{1}{6^{s}} + \frac{1}{8^{s}} + â€¦. \qquadï¼ˆ2ï¼‰$$</p><p>å¼(1) - å¼(2) å¾—ï¼š</p><p>$$(1 - \frac{1}{2^{s}})\varepsilon (s) &#x3D; 1 + \frac{1}{3^{s}} + \frac{1}{5^{s}} + \frac{1}{7^{s}} +\frac{1}{9^{s}} +â€¦ \qquad ï¼ˆ3)$$</p><p>è¿™æ ·ï¼Œæ‰€æœ‰çš„2çš„å€æ•°çš„è‡ªç„¶æ•°éƒ½æ¶ˆå»äº†ã€‚</p><p>æˆ‘ä»¬åœ¨å¯¹å·¦å³ä¸¤è¾¹åŒæ—¶ä¹˜ä»¥$\frac{1}{3^{s}}$ï¼Œå³å¾—åˆ°ï¼š</p><p>$$ \frac{1}{3^{s} }(1 - \frac{1}{2^{s}})\varepsilon (s) &#x3D; \frac{1}{9^{s}} + \frac{1}{15^{s}} + \frac{1}{21^{s}} +\frac{1}{27^{s}} +â€¦ \qquad ï¼ˆ4)$$</p><p>å¼(3) - å¼(4)å¾—ï¼š $$(1-\frac{1}{3^{s} })(1 - \frac{1}{2^{s}})\varepsilon (s) &#x3D; 1 + \frac{1}{3^{s}} + \frac{1}{5^{s}} + \frac{1}{7^{s}} + \frac{1}{11^{s}} + â€¦ \qquad (5)$$</p><p>æœ‰æ²¡æœ‰å‘ç°è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€æ¬¡ç›¸å‡ï¼ŒæŠŠæ‰€æœ‰çš„è‡ªç„¶æ•°çš„2å€éƒ½æ¶ˆå»äº†ï¼Œç¬¬äºŒæ¬¡ç›¸å‡ï¼ŒæŠŠæ‰€æœ‰çš„è‡ªç„¶æ•°çš„3å€éƒ½æ¶ˆå»äº†ï¼Œemmmmï¼ŒåŸƒæ‹‰æ‰˜è‰²å°¼ç­›æ³•ï¼ï¼ï¼</p><p>æ²¡é”™ï¼Œç†è§£åˆ°äº†è¿™ä¸€æ­¥å°±å·²ç»å¾ˆå¿«äº†ï¼Œç±»ä¼¼çš„è¿ç®—ç»§ç»­ä¸‹å»ï¼Œæˆ‘ä»¬æ¯ä¸€æ­¥éƒ½å‡å»$\frac{1}{5^{s}}$å€ã€$\frac{1}{7^{s}}$å€â€¦ä¹Ÿå°±æŠŠç´ æ•°çš„å€æ•°éƒ½æ¶ˆå»ã€‚</p><p>æœ€ç»ˆå¾—åˆ°è¿™æ ·ä¸€ä¸ªå…¬å¼ï¼š</p><p>$$â€¦(1 - \frac{1}{13^{s}})(1 - \frac{1}{11^{s}})(1 - \frac{1}{7^{s}})(1 - \frac{1}{5^{s}})(1-\frac{1}{3^{s} })(1 - \frac{1}{2^{s}})\varepsilon (s) &#x3D; 1 \qquad (6)$$</p><p>å†å°†å·¦è¾¹å˜è¿‡å»ï¼Œä¿ç•™$\varepsilon (s)$ï¼Œå³ï¼š $$\varepsilon (s) &#x3D; \frac{1}{(1 - \frac{1}{2^{s}})(1 - \frac{1}{3^{s}})(1 - \frac{1}{5^{s}})(1 - \frac{1}{7^{s}})(1-\frac{1}{11^{s} })(1 - \frac{1}{13^{s}})â€¦} \qquad (7)$$</p><p>è®©æˆ‘ä»¬ç”¨è¿ä¹˜ç¬¦å·$\prod$ç®€æ´ä¸€ä¸‹å¾—ï¼š $$\sum_{n &#x3D;1 }^{\infty }n^{-s} &#x3D; \prod_{p}(1 - \frac{1}{p^{s}})^{-1} \qquad (8)$$</p><p><strong>å½“n &#x3D; 1æ—¶ï¼Œå·¦è¾¹å°±æ˜¯è°ƒå’Œçº§æ•°ï¼Œæ˜¯å‘æ•£çš„ï¼Œè€Œå³è¾¹çš„pæ˜¯æ‰€æœ‰ç´ æ•°ï¼Œè‹¥ç´ æ•°æ˜¯æœ‰é™ä¸ªï¼Œå³è°ƒå’Œçº§æ•°ä¸å‘æ•£ï¼Œé‚£æ€ä¹ˆå¯èƒ½å‘¢ï¼Ÿï¼Ÿï¼Ÿæ‰€ä»¥å¾—è¯ç´ æ•°æ˜¯æ— é™ä¸ªã€‚</strong></p><p>æ¬§æ‹‰å¤§ç¥NBï¼</p><p>æ³¨æ„ï¼š sä¸€å®šæ˜¯å¤§äº1çš„ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸€äº›å¥½ç©çš„ä¸œè¥¿ï¼Œæ¯”å¦‚å…¨ä½“è‡ªç„¶æ•°ä¹‹å’Œç«Ÿç„¶æ˜¯$-\frac{1}{12}!!!$æˆ‘ä»¬ä¸‹æœŸå†èŠã€‚</p><p>å‚è€ƒ: <a href="https://www.bilibili.com/video/BV1dt4y1179j">https://www.bilibili.com/video/BV1dt4y1179j</a> <a href="https://www.bilibili.com/video/BV1eW411r7cp">https://www.bilibili.com/video/BV1eW411r7cp</a> <a href="https://www.bilibili.com/video/BV13W41167Bb">https://www.bilibili.com/video/BV13W41167Bb</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/06/06/riemann-hypothesis-1/">https://blog.jujimeizuo.cn/2020/06/06/riemann-hypothesis-1/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> interesting </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å’ŒJavaä¸­STLåº“å…¥é—¨</title>
      <link href="/2020/05/28/beginner-stl/"/>
      <url>/2020/05/28/beginner-stl/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒä¼šé•¿å¤§ä½¬<a href="https://me.csdn.net/m0_43448982">https://me.csdn.net/m0_43448982</a></p><h4 id="STLç®€ä»‹"><a href="#STLç®€ä»‹" class="headerlink" title="STLç®€ä»‹"></a>STLç®€ä»‹</h4><p>STLç®€ç§°æ ‡å‡†æ¨¡ç‰ˆåº“ï¼Œè¢«å®¹çº³åœ¨C++æ ‡å‡†ç¨‹åºåº“ï¼ŒåŒ…å«äº†è®¸å¤šåŸºæœ¬æ•°æ®ç»“æ„å’ŒåŸºæœ¬ç®—æ³•ï¼Œä½¿ç¨‹åºå‘˜å†™èµ·æ¥å¾—å¿ƒåº”æ‰‹ã€‚</p><h4 id="ä¸ºä»€ä¹ˆä½¿ç”¨STL"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨STL" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨STL"></a>ä¸ºä»€ä¹ˆä½¿ç”¨STL</h4><p>åœ¨å­¦ä¹ æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œåœ¨ç¨‹åºä¸­ä¼šä½¿ç”¨åˆ°å †ã€æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨ç­‰ä¸€äº›åŸºæœ¬çš„ç®—æ³•ï¼Œè€Œå­¦ä¹ æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œè¿™äº›åŸºæœ¬ç®—æ³•å†™èµ·æ¥ååˆ†ç¹çï¼Œå¦‚æœä¸æƒ³å†™è¿™äº›ï¼Œé‚£ä¹ˆå°±å¯ä»¥è€ƒè™‘ä¸€ä¸‹STLäº†ã€‚ ä½†æ˜¯ä¸è¦å¤ªè¿‡äºä¾èµ–STLï¼</p><h4 id="STLåŸºæœ¬æ¦‚å¿µ"><a href="#STLåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="STLåŸºæœ¬æ¦‚å¿µ"></a>STLåŸºæœ¬æ¦‚å¿µ</h4><p>è¦ä½¿ç”¨STLï¼Œéœ€è¦ç†è§£ä»¥ä¸‹å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼š <strong>å®¹å™¨</strong>ï¼šæ˜¯å­˜æ”¾æ•°æ®çš„åœ°æ–¹ï¼Œå¸¸è§çš„å®¹å™¨æœ‰ï¼šé“¾è¡¨(list) æ ˆ(stack) åŠ¨æ€æ•°ç»„ (vector) åŒç«¯é˜Ÿåˆ—(deque) é˜Ÿåˆ—(queue) æ˜ å°„(map) **è¿­ä»£å™¨(iterator)**ï¼šå¯ä»¥ç†è§£ä¸ºCè¯­è¨€é‡Œçš„åœ°å€ï¼Œè€Œè¿­ä»£å™¨å°±æ˜¯å®¹å™¨çš„ä¸€ä¸ªæŒ‡é’ˆï¼Œååˆ†é‡è¦ï¼ï¼ï¼ <strong>ç®—æ³•</strong>ï¼šå¯ä»¥å¯¹å®¹å™¨é‡Œçš„æ•°æ®åšä¸€äº›åŸºæœ¬æ“ä½œï¼Œæ¯”å¦‚æ’åºï¼Œæ‰¾æœ€å¤§å…ƒç´ ç­‰ç­‰ã€‚</p><h4 id="STLä½¿ç”¨å‰çš„åˆå§‹åŒ–"><a href="#STLä½¿ç”¨å‰çš„åˆå§‹åŒ–" class="headerlink" title="STLä½¿ç”¨å‰çš„åˆå§‹åŒ–"></a>STLä½¿ç”¨å‰çš„åˆå§‹åŒ–</h4><p>=&#x3D;C++&#x3D;&#x3D;ï¼š 1.éœ€è¦å¯¹åº”çš„å¤´æ–‡ä»¶ï¼Œæ¯”å¦‚listå°±éœ€è¦##include&lt;list&gt;ï¼Œä¸”æ²¡æœ‰.hï¼Œæˆ–è€…æ¶å¿ƒçš„ä¸‡èƒ½å¤´##include&lt;bits&#x2F;stdc++.h&gt;ã€‚ 2.æ·»åŠ stdå‘½åç©ºé—´ï¼ˆusing namespace std;ï¼‰ä¸åŠ çš„è¯åé¢å¯ä»¥è‡ªå·±å†™ä¸€å †ã€‚ã€‚ã€‚</p><p>=&#x3D;java&#x3D;&#x3D;: 1.éœ€è¦importç±»ï¼Œå¯ä»¥ç»Ÿä¸€å†™æˆimport java.util.*;</p><h4 id="C-é‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£"><a href="#C-é‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£" class="headerlink" title="C++é‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£"></a>C++é‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£</h4><p>=&#x3D;cmpç±»&#x3D;&#x3D;ï¼š <strong>é€šè¿‡è‡ªå®šä¹‰cmpç±»æ¥å®ŒæˆSTLçš„æ›´åŠ è‡ªç”±çš„è®¾ç½®</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> cmp &#123;</span><br><span class="line">    <span class="function"><span class="built_in">bool</span> <span class="title">operator</span>()(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a &gt; b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>=&#x3D;sort&#x3D;&#x3D;: 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;algorithm&gt;ï¼› 2.å¤æ‚åº¦ä¸ºO(nlogn)ï¼Œæ¯”è¾ƒæ’åºçš„æé™äº†ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">bool</span> <span class="title">cmp</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">int</span> a[] = &#123;<span class="number">1</span>, <span class="number">2</span> ,<span class="number">3</span> , <span class="number">4</span>&#125;;</span><br><span class="line">sort(a, a + <span class="number">4</span>, cmp);</span><br></pre></td></tr></table></figure><p>sorté‡Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„éœ€è¦æ’åºçš„ç¬¬ä¸€ä¸ªåœ°å€ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„éœ€è¦æ’åºçš„ç¬¬äºŒä¸ªåœ°å€ï¼Œéƒ½ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°ï¼Œå¯¹æ•°ç»„æ’åºçš„å‡½æ•°ï¼Œä¸Šé¢çš„cmpå‡½æ•°æ˜¯ä½¿æ•°ç»„å…ƒç´ ä»å¤§åˆ°å°æ’åºã€‚</p><p>sortæ˜¯ä¸ç¨³å®šæ’åºï¼Œå³å¯¹äºç›¸åŒçš„å€¼ï¼Œæ— æ³•ä¿è¯å…¶å‰åé¡ºåº è§£å†³åŠæ³•ï¼š 1ã€å¢åŠ ä¸€ä¸ª index å˜é‡ï¼Œåœ¨å€¼ç›¸åŒçš„ä½¿ç”¨æ¯”è¾ƒ index å€¼çš„å¤§å° 2ã€ä½¿ç”¨ stable_sort</p><p>=&#x3D;vector&#x3D;&#x3D;ï¼š 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;vector&gt; 2.ä¸å®šæ•°ç»„</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="built_in">int</span>&gt; a, b;</span><br><span class="line">a.push_back(<span class="number">1</span>); <span class="comment">// æ¨å…¥ä¸€ä¸ªæ–°çš„å€¼åˆ°æ•°ç»„æœ€å</span></span><br><span class="line">a.pop_back();       <span class="comment">// åˆ é™¤æ•°ç»„æœ€åçš„é‚£ä¸ªå€¼</span></span><br><span class="line">a.front();          <span class="comment">// æ•°ç»„å¼€å¤´çš„å€¼</span></span><br><span class="line">a.back();           <span class="comment">// æ•°ç»„ç»“å°¾çš„å€¼</span></span><br><span class="line">a = b;              <span class="comment">// æ•°ç»„æ‹·è´</span></span><br><span class="line">a == b;             <span class="comment">// æ•°ç»„æ˜¯å¦ç›¸åŒ</span></span><br><span class="line">a[<span class="number">1</span>];               <span class="comment">// æ•°ç»„ä¸­ç¬¬äºŒä¸ªå€¼</span></span><br><span class="line"></span><br><span class="line">vector&lt;<span class="built_in">int</span>&gt; a;</span><br><span class="line">a.size();               <span class="comment">// å®¹å™¨å†…çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">a.empty();              <span class="comment">// å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment">// é™¤äº†queueå’Œstackå¤–é€šç”¨çš„æ–¹æ³•</span></span><br><span class="line">a.clear();              <span class="comment">// æ¸…ç©ºå®¹å™¨å†…çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">a.begin();              <span class="comment">// å®¹å™¨çš„ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line">a.end();                <span class="comment">// å®¹å™¨å°¾åè¿­ä»£å™¨</span></span><br><span class="line"></span><br><span class="line">vector&lt;<span class="built_in">int</span>&gt; v;</span><br><span class="line">vector&lt;<span class="built_in">int</span>&gt;::iterator iter    <span class="comment">// å®šä¹‰è¿­ä»£å™¨</span></span><br><span class="line">iter = v.begin();               <span class="comment">// æ•°ç»„å¤´â€œæŒ‡é’ˆâ€</span></span><br><span class="line">iter = v.end();             <span class="comment">// æ•°ç»„å°¾â€œæŒ‡é’ˆâ€</span></span><br></pre></td></tr></table></figure><p>=&#x3D;list&#x3D;&#x3D;: 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;int&gt; l; 2.åŒå‘é“¾è¡¨</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list&lt;<span class="built_in">int</span>&gt; l;</span><br><span class="line">l.push_front(<span class="number">1</span>);            <span class="comment">// æ’å…¥å…ƒç´ åˆ°å¼€å¤´</span></span><br><span class="line">l.pop_front();          <span class="comment">// ä»å¼€å¤´åˆ æ‰å…ƒç´ </span></span><br><span class="line">l.erase(l.begin());     <span class="comment">// åˆ é™¤æŒ‡å®šè¿­ä»£å™¨å¤„çš„å…ƒç´ </span></span><br><span class="line">l.insert(l.begin(), <span class="number">1</span>); <span class="comment">// åœ¨æŒ‡å®šè¿­ä»£å™¨å‰æ’å…¥å…ƒç´ </span></span><br><span class="line">l.reverse();                <span class="comment">// åè½¬æ•´ä¸ªé“¾è¡¨</span></span><br></pre></td></tr></table></figure><p>=&#x3D;string&#x3D;&#x3D;: 1.ä¼ªå­—ç¬¦ä¸²ï¼› 2.å®šä¹‰ï¼šstring s; 3.åªèƒ½æµè¾“å…¥å’Œæµè¾“å‡ºï¼›</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> a, b;</span><br><span class="line">a[<span class="number">1</span>] == <span class="string">&#x27;a&#x27;</span>;              <span class="comment">// å¾—åˆ°æŸä¸ªå­—ç¬¦</span></span><br><span class="line">a = b;                      <span class="comment">// å­—ç¬¦ä¸²æ‹·è´</span></span><br><span class="line">a &gt;= b;                      <span class="comment">// å­—å…¸åºæ¯”è¾ƒ</span></span><br><span class="line">a[<span class="number">1</span>] = b[<span class="number">1</span>];                <span class="comment">// ä¿®æ”¹æŸä¸ªå­—ç¬¦</span></span><br><span class="line">a += b;                     <span class="comment">// å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line">a = a + b;                  <span class="comment">// å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line">a += <span class="string">&quot;123&quot;</span>;               <span class="comment">// å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line">a = b + <span class="string">&quot;123&quot;</span>;                <span class="comment">// å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line"><span class="built_in">int</span> len = a.lenth();        <span class="comment">// å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br></pre></td></tr></table></figure><p>=&#x3D;queue&#x3D;&#x3D;ï¼š 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;queue&gt;ï¼› 2.å…ˆè¿›å…ˆå‡ºï¼ˆå†…éƒ¨ä¸ºé“¾è¡¨å®ç°ï¼‰</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">queue&lt;<span class="built_in">int</span>&gt; q;</span><br><span class="line">q.push(<span class="number">1</span>);              <span class="comment">// å°†1æ¨å…¥é˜Ÿåˆ—</span></span><br><span class="line">q.pop();                <span class="comment">// æ¨å‡ºé˜Ÿåˆ—å¼€å¤´çš„å…ƒç´ </span></span><br><span class="line">q.front();              <span class="comment">// é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br></pre></td></tr></table></figure><p>=&#x3D;stack&#x3D;&#x3D;: 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;stack&gt;; 2.åè¿›å…ˆå‡ºï¼ˆå†…éƒ¨ä¸ºæ•°ç»„å®ç°ï¼‰</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">stack&lt;<span class="built_in">int</span>&gt; q;</span><br><span class="line">q.push(<span class="number">1</span>);              <span class="comment">// å°†1æ¨å…¥å †æ ˆ</span></span><br><span class="line">q.pop();                <span class="comment">// æ¨å‡ºå †æ ˆæœ€åçš„å…ƒç´ </span></span><br><span class="line">q.top();                <span class="comment">// å †æ ˆçš„æœ€åçš„å…ƒç´ </span></span><br></pre></td></tr></table></figure><p>=&#x3D;pair&#x3D;&#x3D;: 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;map&gt; 2.è¡¨ç¤ºä¸€ç»„é”®å¯¹ï¼ˆæœ‰ä¸¤ä¸ªå˜é‡çš„ç»“æ„ä½“ï¼‰</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; p;</span><br><span class="line">p.first = <span class="number">1</span>;</span><br><span class="line">p.second = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">p = make_pair(<span class="number">1</span>, <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">p = &#123;<span class="number">1</span>, <span class="string">&quot;abc&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; p[<span class="number">100</span>];</span><br><span class="line">sort(p, p + <span class="number">100</span>);</span><br><span class="line"><span class="comment">// é»˜è®¤ä¼˜å…ˆfirstä»å°åˆ°å¤§</span></span><br><span class="line"><span class="comment">// å¦‚æœfirstç›¸åŒåˆ™secondä»å°åˆ°å¤§</span></span><br></pre></td></tr></table></figure><p>pairä¸å…¶ä»–ç»“æ„åµŒå¥—</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;pair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; &gt; vp;</span><br><span class="line">queue&lt;pair&lt;<span class="built_in">float</span>, <span class="built_in">int</span>&gt; &gt; qp;</span><br><span class="line">queue&lt;pair&lt;pair&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt;, <span class="built_in">int</span>&gt; &gt; qpp;</span><br></pre></td></tr></table></figure><p>=&#x3D;set&#x3D;&#x3D;: 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;set&gt;ï¼› 2.setä¿å­˜äº†ä¸å¯é‡å¤çš„å…ƒç´ â€“<strong>äºŒå‰æœç´¢æ ‘-çº¢é»‘æ ‘</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>&lt;<span class="built_in">int</span>&gt; s;</span><br><span class="line">s.insert(<span class="number">1</span>);                <span class="comment">// æ’å…¥åˆ°é›†åˆä¸­</span></span><br><span class="line">s.erase(<span class="number">1</span>);             <span class="comment">// ä»é›†åˆä¸­åˆ é™¤</span></span><br><span class="line">s.erase(s.begin());     <span class="comment">// ä»é›†åˆä¸­åˆ é™¤</span></span><br><span class="line">s.count(<span class="number">1</span>);             <span class="comment">// é›†åˆä¸­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">s.find(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// è¿”å›å¯¹åº”å€¼çš„è¿­ä»£å™¨ï¼ˆè‹¥æ— åˆ™è¿”å›å°¾åè¿­ä»£å™¨ï¼‰</span></span><br></pre></td></tr></table></figure><p>Â·ç”±äºsetæ˜¯çº¢é»‘æ ‘ï¼Œæ‰€ä»¥æ»¡è¶³ä»¥ä¸‹å†…å®¹ 1ã€å†…éƒ¨æœ‰åº(é»˜è®¤ä»å°åˆ°å¤§) 2ã€æ²¡æœ‰é‡å¤å€¼ï¼Œå¦‚æœå‡ºç°é‡å¤å€¼ä¼šä¸æ–­è¢«è¦†ç›– 3ã€å‡ ä¹æ‰€æœ‰æ“ä½œå¤æ‚åº¦å‡ä¸º O(logN) 4ã€ä¸å¯ä»¥ä¿®æ”¹èŠ‚ç‚¹ä¸Šçš„å€¼ 5ã€ä¿®æ”¹æ“ä½œåªèƒ½è¿›è¡Œæ’å…¥å’Œåˆ é™¤ä¸¤ä¸ªæ“ä½œ</p><p><strong>seté€šå¸¸ä½œç”¨ï¼šä¿è¯å”¯ä¸€æ€§ï¼Œä¿è¯æ•°åˆ—æœ‰åº</strong></p><p>=&#x3D;map&#x3D;&#x3D;ï¼š 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;map&gt;ï¼› 2.mapå­—å…¸ï¼ˆé”®å¯¹é›†åˆï¼‰<strong>â€”â€”äºŒå‰æœç´¢æ ‘â€”â€”çº¢é»‘æ ‘</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="built_in">char</span>, <span class="built_in">int</span>&gt; m;</span><br><span class="line">m.insert(make_pair(<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>));  <span class="comment">// åŠ å…¥å­—å…¸</span></span><br><span class="line">m.insert(&#123;<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>&#125;);           <span class="comment">// åŠ å…¥å­—å…¸</span></span><br><span class="line">m.erase(<span class="string">&#x27;a&#x27;</span>);                 <span class="comment">// ä»å­—å…¸ä¸­åˆ é™¤</span></span><br><span class="line">m.count(<span class="string">&#x27;a&#x27;</span>);                 <span class="comment">// å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">m.find(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="comment">// è¿”å›å¯¹åº”å€¼çš„è¿­ä»£å™¨ï¼ˆè‹¥æ— åˆ™è¿”å›å°¾åè¿­ä»£å™¨ï¼‰</span></span><br></pre></td></tr></table></figure><p>é€šå¸¸ç§°mapçš„firstå…ƒç´ ä¸ºkeyï¼Œsecondå…ƒç´ ä¸ºvalue Â·ç”±äºmapæ˜¯é”®å¯¹çº¢é»‘æ ‘ï¼Œæ‰€ä»¥æ»¡è¶³ä»¥ä¸‹å†…å®¹ 1ã€setçš„å¤§éƒ¨åˆ†æ€§è´¨ï¼› 2ã€keyä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œåªèƒ½åˆ é™¤å’Œæ·»åŠ ï¼› 3ã€å…è®¸valueé‡å¤ï¼Œå¯ä»¥å¯¹valueè¿›è¡Œä¿®æ”¹ï¼› 4ã€mapæ˜¯æŒ‰ç…§keyè¿›è¡Œæ’åºçš„ï¼› 5ã€keyå’Œvalueä¸€å®šæ˜¯æˆå¯¹å‡ºç°çš„ï¼› 6ã€mapçš„è¿­ä»£å™¨æŒ‡å‘çš„å†…å®¹æ˜¯ä¸€ä¸ªpairï¼›</p><p>=&#x3D;priority_queue&#x3D;&#x3D;: 1.éœ€è¦å¤´æ–‡ä»¶##include&lt;queue&gt; 2.ä¼˜å…ˆé˜Ÿåˆ—â€“å †</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">priority_queue&lt;<span class="built_in">int</span>&gt; prq;</span><br><span class="line">prq.top();              <span class="comment">// å †é¡¶ä¸Šçš„å…ƒç´ </span></span><br><span class="line">prq.pop();              <span class="comment">// å¼¹å‡ºå †é¡¶ä¸Šçš„å…ƒç´ </span></span><br><span class="line">prq.push(<span class="number">1</span>);            <span class="comment">// æ¨å…¥å †</span></span><br></pre></td></tr></table></figure><p>Â·priority_queueé»˜è®¤ä¸ºæœ€å¤§å †ï¼Œå³å †é¡¶çš„å…ƒç´ æœ€å¤§ Â·å’Œqueueä¸€æ ·ï¼Œpriority_queueä¸å…è®¸è®¿é—®é™¤äº†å †é¡¶å…ƒç´ ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ã€‚ Â·priority_queueçš„æ’å…¥å’Œå¼¹å‡ºæ“ä½œçš„å¤æ‚åº¦å‡ä¸ºO(logN)</p><p><strong>priority_queueåŠŸèƒ½ä¸setæ¥è¿‘ï¼Œè€Œä¸”setçš„åŠŸèƒ½æ›´å¼ºå¤§ï¼Œå¹¶ä¸”ç†è®ºå¤æ‚åº¦ç›¸åŒï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶å€™åè€Œå°±æ˜¯ç”¨priority_queueï¼Ÿ Â·priority_queueçš„å¤æ‚åº¦ä¸ºæœ€å·®æƒ…å†µä¸‹çš„å¤æ‚åº¦ï¼Œè€Œsetå’Œmapçš„å¤æ‚åº¦å‡ä¸ºç¨³å®šå¤æ‚åº¦çš„æé™å€¼</strong></p><h4 id="Javaé‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£"><a href="#Javaé‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£" class="headerlink" title="Javaé‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£"></a>Javaé‡ŒSTLåŸºæœ¬å®¹å™¨è¯¦è§£</h4><p>å‚è€ƒ<a href="https://blog.csdn.net/qq_38173003/article/details/79733423">https://blog.csdn.net/qq_38173003&#x2F;article&#x2F;details&#x2F;79733423</a> <a href="https://www.cnblogs.com/solvit/p/9600591.html">https://www.cnblogs.com/solvit/p/9600591.html</a> &#x3D;&#x3D;æ‰€æœ‰çš„å®¹å™¨éƒ½è¦æœ‰importç±»**import java.util.***&#x3D;&#x3D;</p><p>=&#x3D;vector&#x3D;&#x3D;: å’Œc++çš„vectorä½¿ç”¨æ–¹æ³•ç±»ä¼¼ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>)</span> &#123;</span><br><span class="line">        Vector&lt;Integer&gt; vec=<span class="keyword">new</span> Vector&lt;&gt; ();</span><br><span class="line">        vec.<span class="keyword">add</span>(<span class="number">1</span>);<span class="comment">//æ·»åŠ å…ƒç´ </span></span><br><span class="line">        vec.<span class="keyword">add</span>(<span class="number">4</span>,<span class="number">6</span>);<span class="comment">//åœ¨ä¸‹è¡¨ä¸º4å‰æ·»åŠ 6å…ƒç´ </span></span><br><span class="line">        vec.<span class="keyword">set</span>(<span class="number">3</span>, <span class="number">7</span>);<span class="comment">//æ›¿æ¢ä¸‹è¡¨ä¸º3å…ƒç´ å€¼ä¸º7</span></span><br><span class="line">        vec.<span class="keyword">remove</span>(<span class="number">0</span>);<span class="comment">//åˆ é™¤ä¸‹è¡¨ä¸º1çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>;i&lt;vec.size();i++)&#123;  <span class="comment">//sizeè·å–é•¿åº¦</span></span><br><span class="line">            System.<span class="keyword">out</span>.println(vec.<span class="keyword">get</span>(i)); <span class="comment">//getè·å–ä¸‹è¡¨ä¸ºiçš„å€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">        vec.clear();<span class="comment">//æ¸…ç©º</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>=&#x3D;ArrayList&#x3D;&#x3D;: Java.util.ArrayListç±»æ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒArrayListå¯¹è±¡æ—¢æœ‰æ•°ç»„çš„ç‰¹å¾ï¼Œä¹Ÿæœ‰é“¾è¡¨çš„ç‰¹å¾ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>)</span> &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; arr=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        arr.<span class="keyword">add</span>(<span class="number">1</span>);<span class="comment">//æ·»åŠ </span></span><br><span class="line">        arr.<span class="keyword">add</span>(<span class="number">2</span>,<span class="number">6</span>);</span><br><span class="line">        arr.size();<span class="comment">//è·å–é•¿åº¦</span></span><br><span class="line">        arr.<span class="keyword">set</span>(<span class="number">1</span>, <span class="number">4</span>);<span class="comment">//ä¿®æ”¹</span></span><br><span class="line">        <span class="built_in">int</span> st=arr.<span class="keyword">remove</span>(<span class="number">0</span>);<span class="comment">//åˆ é™¤</span></span><br><span class="line">        <span class="comment">//arr.clear();//æ¸…ç©º</span></span><br><span class="line">        <span class="comment">//arr.get(1);//è·å–</span></span><br><span class="line">        <span class="built_in">int</span> v=arr.indexOf(<span class="number">3</span>);<span class="comment">//è·å–ç´¢å¼•</span></span><br><span class="line">        System.<span class="keyword">out</span>.println(v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>=&#x3D;LinkedList&#x3D;&#x3D;ï¼š LinkedList å®ç° Deque æ¥å£ï¼Œå³èƒ½å°†LinkedListå½“ä½œåŒç«¯é˜Ÿåˆ—ä½¿ç”¨ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>)</span> &#123;</span><br><span class="line">        LinkedList&lt;Integer&gt; lin=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        lin.addFirst(st);<span class="comment">//åœ¨é¦–éƒ¨åŠ </span></span><br><span class="line">        lin.addLast(st);<span class="comment">//åœ¨å°¾</span></span><br><span class="line">        lin.removeFirst();<span class="comment">//ç§»é™¤é¦–å…ƒç´ </span></span><br><span class="line">        lin.removeLast();<span class="comment">//å°¾</span></span><br><span class="line">        lin.push(st);<span class="comment">//å‹å…¥æ ˆ</span></span><br><span class="line">        lin.pop();<span class="comment">//å¼¹å‡ºæ ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>=&#x3D;HashSet&#x3D;&#x3D;: æ— é‡å¤å…ƒç´ </p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>)</span> &#123;</span><br><span class="line">        HashSet&lt;Integer&gt; hashset=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        hashset.<span class="keyword">add</span>(<span class="number">4</span>);<span class="comment">//æ·»åŠ </span></span><br><span class="line">        hashset.<span class="keyword">remove</span>(<span class="number">2</span>); <span class="comment">//æ‰¾åˆ°å€¼2åˆ é™¤</span></span><br><span class="line">        System.<span class="keyword">out</span>.println(hashset);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>=&#x3D;HashMap&#x3D;&#x3D;:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>)</span> &#123;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">//æ·»åŠ å…ƒç´ </span></span><br><span class="line">        map.put(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">//æ›¿æ¢</span></span><br><span class="line">        map.<span class="keyword">remove</span>(<span class="number">4</span>);</span><br><span class="line">        System.<span class="keyword">out</span>.println(map.<span class="keyword">get</span>(<span class="number">1</span>));</span><br><span class="line">        System.<span class="keyword">out</span>.println(map.size());</span><br><span class="line">        System.<span class="keyword">out</span>.println(map);</span><br><span class="line">        map.clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åªåšå…¥é—¨å‚è€ƒã€‚</strong></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/05/28/beginner-stl/">https://blog.jujimeizuo.cn/2020/05/28/beginner-stl/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‘—åçš„å·´å¡å°”é—®é¢˜</title>
      <link href="/2020/05/21/basel-problem/"/>
      <url>/2020/05/21/basel-problem/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©é«˜æ•°è€å¸ˆä¸Šäº†æ— ç©·çº§æ•°çš„pçº§æ•°ï¼Œä¸è¿‡æ²¡æœ‰è®²åˆ°è‘—åçš„å·´å¡å°”é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘æ¥æè¿°ä¸€ä¸‹ã€‚</p><p>å·´å¡å°”é—®é¢˜æ˜¯åœ¨1644å¹´è¢«æå‡ºï¼Œåæ¥åœ¨1735å¹´è¢«<a href="https://baike.baidu.com/item/%E8%8E%B1%E6%98%82%E5%93%88%E5%BE%B7%C2%B7%E6%AC%A7%E6%8B%89/2148998">æ¬§æ‹‰å¤§ç¥</a>ç»™è§£å†³äº†ã€‚</p><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>è®¡ç®—æ‰€æœ‰å¹³æ–¹æ•°çš„å€’æ•°ä¹‹å’Œï¼Œä¹Ÿå°±æ˜¯2-çº§æ•°ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200521145734921.png"></p><p>æˆ‘ä»¬çŸ¥é“è°ƒå’Œçº§æ•°æ˜¯å‘æ•£çš„ï¼Œä½†æ˜¯è¿™ä¸ªçº§æ•°æ˜¯ä¸æ˜¯å‘æ•£çš„å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æ”¶æ•›çš„ï¼Œå¤§å°å¤§æ¦‚æ˜¯1.644934ï¼Œæ˜¯ä¸æ˜¯å’Œæå‡ºé—®é¢˜çš„æ—¶é—´æœ‰ç‚¹ç›¸ä¼¼ï¼Ÿ</p><h2 id="æ¬§æ‹‰å¤§ç¥çš„æƒ³æ³•"><a href="#æ¬§æ‹‰å¤§ç¥çš„æƒ³æ³•" class="headerlink" title="æ¬§æ‹‰å¤§ç¥çš„æƒ³æ³•"></a>æ¬§æ‹‰å¤§ç¥çš„æƒ³æ³•</h2><p>é‚£ä¸ªæ—¶å€™æ¬§æ‹‰çš„æ‰‹é‡Œæœ‰ä¸¤ä¸ªæ­£å¼¦å‡½æ•°ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200521150632848.png"></p><p>è¿™å…¶å®å°±æ˜¯æ³°å‹’å±•å¼€ï¼</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200521150742419.png"></p><p>å°†ç¬¬ä¸€ä¸ªç­‰å¼å·¦å³åŒé™¤xå¾—ç¬¬ä¸‰ä¸ªç­‰å¼ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200521150813493.png"></p><p>é‚£ç¬¬äºŒä¸ªç­‰å¼æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ æˆ‘ä»¬çŸ¥é“sinx &#x2F; x &#x3D; 0çš„æ ¹å‡ºç°åœ¨x &#x3D; nÏ€ï¼Œn &#x3D; Â±1ã€Â±2ã€Â±3â€¦æ‰€ä»¥sinx &#x2F; xå¯ä»¥åƒå› å¼åˆ†è§£ä¸€æ ·è½¬åŒ–æˆä¸Šå›¾ã€‚</p><p>å¦‚æœæˆ‘ä»¬æŠŠç¬¬äºŒä¸ªç­‰å¼å³è¾¹æ‰€æœ‰çš„x^2^çš„ç³»æ•°åŠ èµ·æ¥å¾—ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200521151519338.png"></p><p>åœ¨å’Œç¬¬ä¸‰ä¸ªç­‰å¼ä¸­x^2^çš„ç³»æ•°ç›¸ç­‰å¾—ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200521175135342.png"></p><p>ç­‰å¼ä¸¤è¾¹ä¹˜-Ï€^2^ï¼Œå¾—ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/2020052115161933.png"></p><p>æ‰€ä»¥æ¬§æ‹‰å¤§ç¥è§£å†³äº†è‘—åçš„å·´å¡å°”é—®é¢˜åœ¨å½“æ—¶æ˜¯ååˆ†è½°åŠ¨çš„ï¼Œä¸å¾—ä¸ä½©æœè¿™äº›ä¼Ÿäººçš„æ™ºæ…§ã€‚</p><p>è¿™å¾ˆå¥½åœ°å°†æ— ç©·çº§æ•°å’ŒÏ€ç»“åˆèµ·æ¥ï¼Œå…¶å®Ï€æ˜¯éå¸¸ç¥å¥‡çš„æ•°å­—ï¼ŒåŒ…æ‹¬è‡ªç„¶åº•æ•°eä¹Ÿæ˜¯ï¼Œè¿™äº›æ•°å­—çš„ç”±æ¥éƒ½éå¸¸æœ‰è¶£ï¼Œåªè¦æ˜¯æ•°å­¦ä¸Šçš„éƒ½æœ‰è¶£ï¼ï¼ï¼</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/05/21/basel-problem/">https://blog.jujimeizuo.cn/2020/05/21/basel-problem/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> interesting </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢å°ç™½æœˆèµ›25-Jå¼‚æˆ–å’Œä¹‹å’Œâ€”â€”ä½è¿ç®—ä¸ç»„åˆè®¡æ•°</title>
      <link href="/2020/05/20/nowcoder-newbie25-j/"/>
      <url>/2020/05/20/nowcoder-newbie25-j/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5600/J">https://ac.nowcoder.com/acm/contest/5600/J</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200520201444634.png"></p><p>åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ä»»å–ä¸‰ä¸ªæ•°çš„å¼‚æˆ–å’Œä¹‹å’Œã€‚</p><p>å¼‚æˆ–ï¼šäºŒè¿›åˆ¶ä¸‹ç›¸åŒä¸º0ï¼Œä¸åŒä¸º1ã€‚å¦‚ï¼š 0 ^ 1 &#x3D; 1, 0 ^ 1 &#x3D; 1, 1 ^ 1 &#x3D; 0, 0 ^ 0 &#x3D; 0ã€‚</p><p>åœ¨ä»»å–ä¸‰ä¸ªæ•°ä¸­ï¼Œåªæœ‰ä¸¤ç§æƒ…å†µçš„å¼‚æˆ–ä¸º1ï¼š1 1 1 å’Œ 0 0 1 æ‰€ä»¥ä¸€å¼€å§‹å°±è¦ç”¨ä¸€ä¸ªå¼‚æˆ–æ•°ç»„æ¥è®°å½•æ¯ä¸ªæ•°äºŒè¿›åˆ¶ä¸‹çš„1çš„ä¸ªæ•°ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ll x;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        ll k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(x) <span class="comment">// äºŒè¿›åˆ¶ä¸‹çš„æ¯ä¸€ä½çš„1å‚¨å­˜ä¸‹æ¥,N-t[i]å°±æ˜¯0çš„ä¸ªæ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(x&amp;<span class="number">1</span>)</span><br><span class="line">                XOR[k]++;</span><br><span class="line">            k++;</span><br><span class="line">            x &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å½“åœ¨æ‰€æœ‰1 1 1çš„æƒ…å†µä¸‹æœ‰C(XOR[i], 3)ç§ï¼Œæ‰€æœ‰çš„1é‡Œä»»å–3ä¸ªï¼›åœ¨æ‰€æœ‰0 0 1çš„æƒ…å†µä¸‹æœ‰C(n - XOR[i], 2) * XOR[i])ç§ï¼Œæ‰€æœ‰çš„0é‡Œäººä»»å–2ä¸ªåœ¨å’Œä»»æ„ä¸€ä¸ª1ç»„åˆã€‚</p><p>ç”±äºå¤„ç†ç»„åˆæ•°æ—¶ï¼Œåˆ†å­åˆ†æ¯å¾ˆå¤§ï¼Œéœ€è¦ç”¨åˆ°<strong>è´¹é©¬å°å®šç†</strong></p><h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">##include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">long</span> ll;</span><br><span class="line">typedef <span class="built_in">long</span> <span class="built_in">double</span> ld;</span><br><span class="line"></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="meta">##<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const int maxn = 100005;</span></span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">FPM</span>(<span class="params">ll a, ll b</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = ans * a % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span>(<span class="params">ll n, ll m</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">1</span>;i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ans = (ans % mod * (n - i + <span class="number">1</span>) % mod * FPM(i, mod - <span class="number">2</span>) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll XOR[<span class="number">64</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    ll n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ll x;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        ll k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(x) <span class="comment">// äºŒè¿›åˆ¶ä¸‹çš„æ¯ä¸€ä½çš„1å‚¨å­˜ä¸‹æ¥,N-t[i]å°±æ˜¯0çš„ä¸ªæ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(x&amp;<span class="number">1</span>)</span><br><span class="line">                XOR[k]++;</span><br><span class="line">            k++;</span><br><span class="line">            x &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll sum = <span class="number">0</span>;</span><br><span class="line">    ll k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">0</span>;i &lt; <span class="number">64</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum = (sum % mod + k * (C(XOR[i], <span class="number">3</span>) % mod + XOR[i] % mod * C(n - XOR[i], <span class="number">2</span>) % mod) % mod) % mod;</span><br><span class="line">        sum %= mod;</span><br><span class="line">        k = (k &lt;&lt; <span class="number">1</span>) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; sum % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">signed <span class="title">main</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    cin.tie(nullptr);</span><br><span class="line">    cout.tie(nullptr);</span><br><span class="line"><span class="meta">##ifdef FZT_ACM_LOCAL</span></span><br><span class="line">    freopen(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    freopen(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line"><span class="meta">##<span class="keyword">else</span></span></span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; T;</span></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">        solve();</span><br><span class="line"><span class="meta">##<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/05/20/nowcoder-newbie25-j/">https://blog.jujimeizuo.cn/2020/05/20/nowcoder-newbie25-j/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰›å®¢å°ç™½æœˆèµ›B-k-sizeå­—ç¬¦ä¸²â€”â€”é€†å…ƒæ±‚ç»„åˆæ•°</title>
      <link href="/2020/05/20/nowcoder-newbie-k/"/>
      <url>/2020/05/20/nowcoder-newbie-k/</url>
      
        <content type="html"><![CDATA[<p>ä¼ é€é—¨ï¼š<a href="https://ac.nowcoder.com/acm/contest/5600/B">https://ac.nowcoder.com/acm/contest/5600/B</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200520125015523.png"></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä¸è¦çœ‹å®ƒæ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼å‘ˆç°ï¼Œå…¶å®æœ¬è´¨ä¸Šæ˜¯ç»„åˆæ•°å­¦ï¼ˆè‡ªå·±ç»†å“ï¼‰ï¼Œè¿™å°±æ˜¯æˆ‘ä¸ºä»€ä¹ˆä¸å–œæ¬¢å­—ç¬¦ä¸²çš„åŸå› äº†ï¼Œå¤ªèƒ½èŠ±å“¨äº†â€¦</p><p>æ€è·¯ï¼šå› ä¸ºè¿ç»­æ®µæ˜¯å’Œkæœ‰å…³çš„ï¼Œæ‰€ä»¥kæ˜¯è¦åˆ†&#x3D;&#x3D;å¥‡å¶&#x3D;&#x3D;çš„ã€‚é¦–å…ˆå…ˆæŠŠæœ€å°‘çš„aå’Œbæ ¹æ®kä¸ªæ’åˆ—å¥½ï¼Œåœ¨æŠŠå‰©ä¸‹çš„aå’Œbå¡è¿›å»ï¼Œå¯ç”¨é«˜ä¸­çŸ¥è¯†çš„éš”æ¿æ³•ï¼Œå¯ç”¨å¤§ç¥æ‹‰é©¬åŠªé‡‘çš„æ•´æ•°æ‹†åˆ†ï¼ˆè¿™å¯æ˜¯ä¸ªç¥äººå•Šï¼ï¼‰ï¼Œå…³äºæ•´æ•°æ‹†åˆ†ï¼Œå¯ä»¥çœ‹æˆ‘ä¸Šç¯‡åšå®¢ï¼Œè¿™æ¬¡å°±ç”¨æ’åˆ—ç»„åˆå°±å¥½äº†ã€‚</p><p>=&#x3D;kä¸ºå¶&#x3D;&#x3D;ï¼šé‚£ä¹ˆæœ€åŸºæœ¬çš„å½¢å¼å°±æ˜¯<strong>ababâ€¦abå’Œbabaâ€¦.ba</strong>ï¼Œè¿™é‡Œç”¨äº†k&#x2F;2ä¸ªçš„aå’Œbï¼Œæ‰€ä»¥ä¹‹å‰è¦åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœn-k&#x2F;2æˆ–è€…m-k&#x2F;2ä¸­æœ‰ä¸€ä¸ªå°äº0ï¼Œé‚£ç­”æ¡ˆä¸å°±æ˜¯0äº†å—ï¼Ÿå¥½ï¼Œå¦‚æœéƒ½å¤§äºç­‰äº0çš„è¯ï¼Œç»§ç»­å¾€ä¸‹æ“ä½œï¼Œaå‰©ä¸‹n-k&#x2F;2ä¸ªï¼Œbå‰©ä¸‹m-k&#x2F;2ä¸ªï¼Œè¿™é‡Œå°±ç”¨ç®€å•çš„æ€è·¯ï¼š</p><p>â— â–³ â— â–³ â— â–³ â— â–³ â— â–³ â— â–³ â— â–³ (è¿™é‡Œå°åœ†åœˆä»£è¡¨aï¼Œå°ä¸‰è§’å½¢ä»£è¡¨b)</p><p>æœ‰k&#x2F;2ä¸ªaå’Œk&#x2F;2ä¸ªbï¼Œæ‰€ä»¥åªè¦æŠŠå‰©ä¸‹çš„aå’Œå‰©ä¸‹çš„bæ’è¿›å»ï¼Œå¦‚ä¸Šå›¾æœ‰k&#x2F;2-1ä¸ªæ’å…¥ä½ç½®ï¼Œå‰©ä¸‹çš„aæœ‰å‡ ç§æ’æ³•å‘¢ï¼Ÿ<strong>æˆ‘ä»¬ç»™å‰©ä¸‹çš„a+k&#x2F;2ï¼Œè¿™æ ·éƒ½è®©æ¯ä¸ªä½ç½®éƒ½èƒ½æ’ä¸€ä¸ªï¼Œé¿å…äº†æœ‰ä¸€ä¸ªä½ç½®æ²¡æœ‰æ’è¿›å»çš„aï¼Œæ‰€ä»¥æœ‰$C_(n - 1, k &#x2F; 2 - 1)$ä¸­æ’æ³•</strong>ï¼Œè¯·ä»”ç»†æ€è€ƒä¸€ä¸‹ã€‚é‚£ä¹ˆbçš„æ’æ³•ä¸ä¹Ÿæ˜¯å’Œaä¸€æ ·çš„å—ï¼Ÿæ‰€ä»¥å½“kä¸ºå¶æ—¶ï¼Œç»„åˆæ•°&#x3D;$2*C_(n-1, k &#x2F; 2 - 1)*C_(m - 1, k &#x2F; 2 -1)$ã€‚ä¸ºä»€ä¹ˆè¦ä¹˜2å‘¢ï¼Ÿæœ‰æ²¡æœ‰å¿˜è®°ä¸Šé¢çš„ababå’Œbabaä¸¤ç§å½¢å¼ï¼Ÿ</p><p>=&#x3D;kä¸ºå¥‡&#x3D;&#x3D;ï¼šæ ¹æ®ä¸Šé¢çš„æ€è·¯ï¼Œæœ€åŸºæœ¬çš„å½¢å¼å°±æ˜¯<strong>ababâ€¦babaå’Œbabaâ€¦bab</strong>ï¼Œè¿™é‡Œå°±åˆè¦åˆ¤æ–­ä¸€ä¸‹ï¼Œç”¨äº†å¤šå°‘ä¸ªaå’Œbï¼Œè¿™é‡Œå°±äº¤ç»™ä½ ä»¬è‡ªå·±æ¨å¯¼ä¸€ä¸‹äº†ï¼Œæœ€åçš„ç»„åˆæ•°ä¸º$C_(n-1, k &#x2F; 2) * C_(m - 1,k &#x2F; 2 -1) + C_(n - 1,k &#x2F; 2 - 1)*C_(m - 1, k &#x2F; 2)$ã€‚</p><p>æœ€åè¿™ä¸ªç»„åˆæ•°æ€ä¹ˆæ±‚å‘¢ï¼Ÿå› ä¸ºåˆ†å­åˆ†æ¯å¤ªå¤§å¯èƒ½ä¼šçˆ†longlongï¼Œæ¯”å¦‚C(10000,5000)ï¼Œé‚£ä¹ˆè¯¥æ€ä¹ˆæ±‚å‘¢ï¼Ÿæœ‰æ²¡æœ‰æƒ³èµ·é€†å…ƒçš„å®šä¹‰ï¼Œå¦‚æœæƒ³ä¸èµ·æ¥äº†å¯ä»¥çœ‹æˆ‘ä»¥å‰çš„åšå®¢<a href="http://www.jujimeizuo.cn/blog/index.php/2020/05/15/mulinv">ä¹˜æ³•é€†å…ƒ</a>ã€‚</p><p><strong>å› ä¸ºç»„åˆä¹Ÿæ˜¯åˆ†å­&#x2F;åˆ†æ¯çš„å½¢å¼ï¼Œæ‰€ä»¥å¯ä»¥ç”¨é€†å…ƒæŠŠé™¤æ³•è½¬æ¢æˆä¹˜æ³•ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨modäº†</strong>ã€‚ç„¶åpæ˜¯ä»€ä¹ˆå‘¢ï¼Œ1e9+7ï¼Œè¿™æ˜¯ä¸€ä¸ªç´ æ•°å•Šï¼Œå°±å¯ä»¥çŸ¥é“ç”¨<strong>è´¹é©¬å°å®šç†æ±‚è§£é€†å…ƒ</strong>äº†ï¼Œè´¹é©¬å°å®šç†å¯ä»¥ç”¨<strong>å¿«é€Ÿå¹‚</strong>çš„æ–¹æ³•ã€‚</p><p>æ€è·¯å¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> ld;</span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> INF 0x7f7f7f</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> mem(a,b) memset(a , b , sizeof(a))</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> FOR(i, x, n) for(int i = x;i &lt;= n; i++)</span></span><br><span class="line"><span class="type">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">// const int maxn = 100005;</span></span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">FPM</span><span class="params">(ll x,ll power)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(power)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(power &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = (ans % mod * x % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        x = (x % mod * x % mod) % mod;</span><br><span class="line">        power &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll m, ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n * <span class="number">2</span> &gt; m)</span><br><span class="line">        n = m - n;</span><br><span class="line">    ll t = n;</span><br><span class="line">    ll a = m, b = <span class="number">1</span>;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ans = (ans % mod * (<span class="built_in">FPM</span>(b, mod - <span class="number">2</span>) % mod * a % mod) % mod) % mod;</span><br><span class="line">        a--;</span><br><span class="line">        b++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n, m, k;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="keyword">if</span>(k == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((n - k / <span class="number">2</span>) &lt; <span class="number">0</span>  (m - k / <span class="number">2</span>) &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ((<span class="number">2</span> * <span class="built_in">C</span>(n - <span class="number">1</span>, k / <span class="number">2</span> - <span class="number">1</span>) % mod) % mod * <span class="built_in">C</span>(m - <span class="number">1</span>, k / <span class="number">2</span> - <span class="number">1</span>) % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        ll a = <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>((n - (k + <span class="number">1</span>) / <span class="number">2</span>) &gt;= <span class="number">0</span> &amp;&amp; (m - k / <span class="number">2</span>) &gt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            a = (<span class="built_in">C</span>(n - <span class="number">1</span>, (k + <span class="number">1</span>) / <span class="number">2</span> - <span class="number">1</span>) % mod * <span class="built_in">C</span>(m - <span class="number">1</span>, k / <span class="number">2</span> - <span class="number">1</span>) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((n - k / <span class="number">2</span>) &gt;= <span class="number">0</span> &amp;&amp; (m - (k + <span class="number">1</span>) / <span class="number">2</span>) &gt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            b = (<span class="built_in">C</span>(n - <span class="number">1</span>, k / <span class="number">2</span> - <span class="number">1</span>) % mod * <span class="built_in">C</span>(m - <span class="number">1</span>, (k + <span class="number">1</span>) / <span class="number">2</span> - <span class="number">1</span>) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; (a % mod + b % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">#<span class="meta">#<span class="keyword">ifdef</span> FZT_ACM_LOCAL</span></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;in.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">#<span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; T;</span></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">#<span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸å¾—ä¸è¯´ï¼Œæˆ‘è¿˜æ˜¯å¤ªèœäº†ï¼Œè¿™åº”è¯¥æ˜¯æˆ‘çš„éƒ¨åˆ†ï¼Œæ¯”èµ›çš„æ—¶å€™çœ‹åˆ°å­—ç¬¦ä¸²å°±æ‰”äº†ï¼Œå®åœ¨ä¸åº”è¯¥ï¼Œå¯¹ä¸èµ·æˆ‘çš„é˜Ÿå‹ã€‚</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/05/20/nowcoder-newbie-k/">https://blog.jujimeizuo.cn/2020/05/20/nowcoder-newbie-k/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•´æ•°æ‹†åˆ†çš„ä¸¤ç§æ–¹æ³•â€”â€”é€’å½’å’Œdp</title>
      <link href="/2020/05/20/integer-splitting/"/>
      <url>/2020/05/20/integer-splitting/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆæ¥äº†è§£æ•´æ•°æ‹†åˆ†çš„åˆ›å§‹äººâ€”â€”<a href="https://baike.baidu.com/item/%E6%96%AF%E9%87%8C%E5%B0%BC%E7%93%A6%E7%91%9F%C2%B7%E6%8B%89%E9%A9%AC%E5%8A%AA%E9%87%91/15617950?fromtitle=%E6%8B%89%E9%A9%AC%E5%8A%AA%E9%87%91&fromid=2641844&fr=aladdin">æ‹‰é©¬åŠªé‡‘</a>ã€‚</p><p>è¿™ä½æ˜¯æˆ‘æ•°å­¦ä¸Šæœ€ä½©æœçš„å‡ ä¸ªå¤§ç¥ä¹‹ä¸€ï¼Œå½“ç„¶æœ€ä½©æœçš„è¿˜æ˜¯æ¬§æ‹‰ï¼Œæ¬§äº†ï½</p><p>å¦‚æœæå‰äº†è§£äº†ç¦»æ•£æ•°å­¦é‡Œçš„é›†åˆåˆ’åˆ†çŸ¥è¯†ï¼Œé‚£ä¸‹é¢å†…å®¹ä¼šæ›´åŠ æ˜“æ‡‚ã€‚</p><p>é—®é¢˜æè¿°ï¼š æœ‰ä¸€ä¸ªæ­£æ•´æ•°nï¼Œå¯ä»¥æ‹†åˆ†æˆæœ€å¤§æ•°ä¸ºmçš„çš„æ‹†åˆ†æ–¹æ¡ˆï¼Œè¦æ±‚æ‰€æœ‰çš„æ–¹æ¡ˆéƒ½ä¸é‡å¤ã€‚ ä¾‹å¦‚n &#x3D; 4ï¼Œ m &#x3D; 4ï¼Œæ‹†åˆ†æ–¹æ¡ˆå¦‚ä¸‹ï¼š 4 &#x3D; 4ï¼› 4 &#x3D; 1 + 3ï¼› 4 &#x3D; 2 + 2ï¼› 4 &#x3D; 1 + 2 + 1ï¼› 4 &#x3D; 1 + 1 + 1 + 1ï¼›</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆå‡è®¾nå’Œmçš„å¤§å°ã€‚</p><ol><li>n &#x3D; 1ï¼Œm&gt;0ï¼›åˆ™f(n,m) &#x3D; 1ï¼Œå³{1};</li><li>n &gt; 0ï¼Œm &#x3D; 1ï¼›åˆ™f(n,m) &#x3D; 1ï¼Œå³{1, 1, 1, 1, â€¦};</li><li>n &lt; mï¼›f(n, m) &#x3D; f(n, n);</li><li>n &#x3D; mï¼› (1)nçš„åˆ’åˆ†åŒ…å«mæ—¶ï¼Œåˆ™f(n,m) &#x3D; 1ï¼Œå³{m}; (2)nçš„åˆ’åˆ†ä¸åŒ…å«mæ—¶ï¼Œåˆ™f(n,m) &#x3D; f(n, m -1)ï¼Œå³{n1, n2, n3â€¦..}; å³n &#x3D; mæ—¶ï¼Œf(n, m) &#x3D; f(n, m - 1) + 1ï¼›</li><li>n &gt; mï¼› (1)nçš„åˆ’åˆ†åŒ…å«mæ—¶ï¼Œåˆ™f(n,m) &#x3D; f(n - m, m), å³{m, n1, n2,â€¦.}ï¼Œå…¶ä¸­n1 + n2 + â€¦. &#x3D; n - mï¼Œå…¶ä¸­å¯èƒ½è¿˜ä¼šå‡ºç°mï¼› (2)nçš„åˆ’åˆ†ä¸åŒ…å«mæ—¶ï¼Œåˆ™f(n, m) &#x3D; f(n, m - 1); å³n &gt; mæ—¶ï¼Œf(n, m) &#x3D; f(n, m - 1) + f(n - m, m)ï¼›</li></ol><p>æµç¨‹å›¾ä¸ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200521150046435.jpg"></p><h2 id="é€’å½’æ³•"><a href="#é€’å½’æ³•" class="headerlink" title="é€’å½’æ³•"></a>é€’å½’æ³•</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">PartitionCount</span><span class="params">(ll n, ll m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>  m == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n &lt; m)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">PartitionCount</span>(n , n);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n == m)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">PartitionCount</span>(n , n - <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">PartitionCount</span>(n - m , m) + <span class="built_in">PartitionCount</span>(n , m - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºé€’å½’æ³•å¯èƒ½ä¼šé‡å¤è®¡ç®—ï¼Œè€—æ—¶æ–¹é¢ä¼šå·¨å¤§ï¼Œæ‰€ä»¥å°±æœ‰ä¸‹é¢çš„åŠ¨æ€è§„åˆ’ã€‚</p><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ll dp[<span class="number">10005</span>][<span class="number">10005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Partition_DP</span><span class="params">(ll n, ll m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">1</span>;i &lt;= n + <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(ll j = <span class="number">1</span>;j &lt;= m + <span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">1</span>  j == <span class="number">1</span>)</span><br><span class="line">                dp[i][j] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i == j)</span><br><span class="line">                dp[i][j] = <span class="number">1</span> + dp[i][j - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &lt; j)</span><br><span class="line">                dp[i][j] = dp[i][i];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[i][j] = dp[i - j][j] + dp[i][j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•´æ•°æ‹†åˆ†å’Œæ’åˆ—ç»„åˆæ¯æ¯ç›¸å…³ï¼Œæ’åˆ—ç»„åˆé‡Œçš„éš”æ¿æ³•å°±å’Œè¿™ä¸ªéå¸¸åƒï¼Œä½†æ˜¯åˆ°è¯¥ç”¨çš„æ—¶å€™å°±ä¸ä¼šç”¨äº†â€¦</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/05/20/integer-splitting/">https://blog.jujimeizuo.cn/2020/05/20/integer-splitting/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€æ ·åšæŒ‡é’ˆçš„ä¸»äºº</title>
      <link href="/2020/05/17/pointer/"/>
      <url>/2020/05/17/pointer/</url>
      
        <content type="html"><![CDATA[<p>åº”å­¦é™¢è¦æ±‚ï¼Œå†™äº†ä¸€ç¯‡æŒ‡é’ˆçš„å­¦ä¹ å¿ƒå¾—,é¡ºä¾¿ä¹Ÿå†™æˆåšå®¢å‘äº†å§â€¦ ä»¥ä¸‹å†…å®¹å¯èƒ½æ¯”è¾ƒæ°´ï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œè¯·ä¸æˆ‘è”ç³»ï¼Œå¹¶å¯¹æ­¤ä¿®æ”¹ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯æŒ‡é’ˆ"><a href="#ä»€ä¹ˆæ˜¯æŒ‡é’ˆ" class="headerlink" title="ä»€ä¹ˆæ˜¯æŒ‡é’ˆ"></a>ä»€ä¹ˆæ˜¯æŒ‡é’ˆ</h2><p>=&#x3D;å…ˆæ¥è¯´è¯´æˆ‘çš„ç†è§£ï¼Œæˆ‘æŠŠæ•´ä¸ªç¨‹åºæƒ³è±¡æˆä¸€ä¸ªè±ªå®…ï¼Œæ¯ä¸ªå˜é‡æ˜¯è¿™åº§è±ªå®…çš„æ¯ä¸ªæˆ¿é—´ï¼Œè€ŒæŒ‡é’ˆå°±æ˜¯è¿™ä¹ˆå¤šæˆ¿é—´ä¸­å…¶ä¸­ä¸€ä¸ªæˆ¿é—´çš„é—¨ç‰Œå·ã€‚æ¥ä¸‹æ¥æ˜¯å®˜æ–¹çš„å®šä¹‰&#x3D;&#x3D;ã€‚ Cè¯­è¨€é‡Œï¼Œå˜é‡å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè€Œå†…å­˜å…¶å®å°±æ˜¯ä¸€ç»„æœ‰åºå­—èŠ‚ç»„æˆçš„æ•°ç»„ï¼Œæ¯ä¸ªå­—èŠ‚æœ‰å”¯ä¸€çš„å†…å­˜åœ°å€ã€‚CPU é€šè¿‡å†…å­˜å¯»å€å¯¹å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æŸä¸ªæŒ‡å®šæ•°æ®å¯¹è±¡çš„åœ°å€è¿›è¡Œå®šä½ã€‚è¿™é‡Œï¼Œæ•°æ®å¯¹è±¡æ˜¯æŒ‡å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä¸€ä¸ªæŒ‡å®šæ•°æ®ç±»å‹çš„æ•°å€¼æˆ–å­—ç¬¦ä¸²ï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„åœ°å€ï¼Œè€ŒæŒ‡é’ˆä¾¿æ˜¯ä¿å­˜è¿™ä¸ªåœ°å€çš„å˜é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šæŒ‡é’ˆæ˜¯ä¸€ç§ä¿å­˜å˜é‡åœ°å€çš„å˜é‡ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200517133054938.png"></p><p>å·¦ä¾§è¿ç»­çš„åå…­è¿›åˆ¶ç¼–å·å°±æ˜¯å†…å­˜åœ°å€ï¼Œæ¯ä¸ªå†…å­˜åœ°å€å¯¹åº”ä¸€ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ã€‚è€ŒæŒ‡é’ˆå˜é‡ä¿å­˜çš„å°±æ˜¯è¿™ä¸ªç¼–å·ï¼Œä¹Ÿå³å†…å­˜åœ°å€ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦å­¦ä¹ æŒ‡é’ˆ"><a href="#ä¸ºä»€ä¹ˆè¦å­¦ä¹ æŒ‡é’ˆ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦ä¹ æŒ‡é’ˆ"></a>ä¸ºä»€ä¹ˆè¦å­¦ä¹ æŒ‡é’ˆ</h2><p>åœ¨Cè¯­è¨€ä¸­ï¼ŒæŒ‡é’ˆçš„ä½¿ç”¨éå¸¸å¹¿æ³›ï¼Œå› ä¸ºä½¿ç”¨æŒ‡é’ˆå¾€å¾€å¯ä»¥ç”Ÿæˆæ›´é«˜æ•ˆã€æ›´ç´§å‡‘çš„ä»£ç ã€‚æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨æŒ‡é’ˆæœ‰å¦‚ä¸‹å¥½å¤„ï¼š 1ï¼‰æŒ‡é’ˆçš„ä½¿ç”¨ä½¿å¾—ä¸åŒåŒºåŸŸçš„ä»£ç å¯ä»¥è½»æ˜“çš„å…±äº«å†…å­˜æ•°æ®ï¼Œè¿™æ ·å¯ä»¥ä½¿ç¨‹åºæ›´ä¸ºå¿«é€Ÿé«˜æ•ˆï¼› 2ï¼‰Cè¯­è¨€ä¸­ä¸€äº›å¤æ‚çš„æ•°æ®ç»“æ„å¾€å¾€éœ€è¦ä½¿ç”¨æŒ‡é’ˆæ¥æ„å»ºï¼Œå¦‚é“¾è¡¨ã€äºŒå‰æ ‘ç­‰ï¼› 3ï¼‰Cè¯­è¨€æ˜¯ä¼ å€¼è°ƒç”¨ï¼Œè€Œæœ‰äº›æ“ä½œä¼ å€¼è°ƒç”¨æ˜¯æ— æ³•å®Œæˆçš„ï¼Œå¦‚é€šè¿‡è¢«è°ƒå‡½æ•°ä¿®æ”¹è°ƒç”¨å‡½æ•°çš„å¯¹è±¡ï¼Œä½†æ˜¯è¿™ç§æ“ä½œå¯ä»¥ç”±æŒ‡é’ˆæ¥å®Œæˆï¼Œè€Œä¸”å¹¶ä¸è¿èƒŒä¼ å€¼è°ƒç”¨ã€‚</p><h2 id="å¦‚ä½•å£°æ˜ä¸€ä¸ªæŒ‡é’ˆ"><a href="#å¦‚ä½•å£°æ˜ä¸€ä¸ªæŒ‡é’ˆ" class="headerlink" title="å¦‚ä½•å£°æ˜ä¸€ä¸ªæŒ‡é’ˆ"></a>å¦‚ä½•å£°æ˜ä¸€ä¸ªæŒ‡é’ˆ</h2><p>æŒ‡é’ˆçš„å£°æ˜æ¯”æ™®é€šå˜é‡çš„å£°æ˜å¤šäº†ä¸€ä¸ªä¸€å…ƒè¿ç®—ç¬¦â€œ*â€ï¼Œè€Œâ€œ*â€æ˜¯é—´æ¥å¯»å€æˆ–è€…é—´æ¥å¼•ç”¨è¿ç®—ç¬¦ã€‚å¦‚ä¸‹å›¾ï¼Œpæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¿å­˜ç€ä¸€ä¸ªåœ°å€ï¼Œè¯¥åœ°å€æŒ‡å‘å†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡ï¼Œ*påˆ™ä¼šè®¿é—®è¿™ä¸ªåœ°å€æ‰€æŒ‡å‘çš„å˜é‡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p;        <span class="comment">// å£°æ˜ä¸€ä¸ª int ç±»å‹çš„æŒ‡é’ˆ p</span></span><br><span class="line"><span class="type">char</span> *p        <span class="comment">// å£°æ˜ä¸€ä¸ª char ç±»å‹çš„æŒ‡é’ˆ p</span></span><br><span class="line"><span class="type">int</span> *arr[<span class="number">10</span>]   <span class="comment">// å£°æ˜ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œè¯¥æ•°ç»„æœ‰10ä¸ªå…ƒç´ ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘ int ç±»å‹å¯¹è±¡çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="built_in">int</span> (*arr)[<span class="number">10</span>] <span class="comment">// å£°æ˜ä¸€ä¸ªæ•°ç»„æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ª int ç±»å‹çš„ä¸€ç»´æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> **p;       <span class="comment">// å£°æ˜ä¸€ä¸ªæŒ‡é’ˆ p ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ª int ç±»å‹çš„æŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure><p>=&#x3D;æ³¨æ„æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«&#x3D;&#x3D;</p><h2 id="åˆå§‹åŒ–æŒ‡é’ˆ"><a href="#åˆå§‹åŒ–æŒ‡é’ˆ" class="headerlink" title="åˆå§‹åŒ–æŒ‡é’ˆ"></a>åˆå§‹åŒ–æŒ‡é’ˆ</h2><p>å£°æ˜ä¸€ä¸ªæŒ‡é’ˆå˜é‡å¹¶ä¸ä¼šè‡ªåŠ¨åˆ†é…ä»»ä½•å†…å­˜ï¼Œåœ¨å¯¹æŒ‡é’ˆé—´æ¥è®¿é—®ä¹‹å‰ï¼ŒæŒ‡é’ˆå¿…é¡»è¦åˆå§‹åŒ–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ–¹æ³•1ï¼šä½¿æŒ‡é’ˆæŒ‡å‘ç°æœ‰çš„å†…å­˜ */</span></span><br><span class="line"><span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> *p = &amp;x;ã€€ã€€<span class="comment">// æŒ‡é’ˆ p è¢«åˆå§‹åŒ–ï¼ŒæŒ‡å‘å˜é‡ x ï¼Œå…¶ä¸­å–åœ°å€ç¬¦ &amp; ç”¨äºäº§ç”Ÿæ“ä½œæ•°å†…å­˜åœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–¹æ³•2ï¼šåŠ¨æ€åˆ†é…å†…å­˜ç»™æŒ‡é’ˆ */</span></span><br><span class="line"><span class="type">int</span> *p;</span><br><span class="line">p = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="type">int</span>) * <span class="number">10</span>);ã€€ã€€ã€€ã€€<span class="comment">// malloc å‡½æ•°ç”¨äºåŠ¨æ€åˆ†é…å†…å­˜</span></span><br><span class="line"><span class="built_in">free</span>(p);ã€€ã€€ã€€ã€€<span class="comment">// free å‡½æ•°ç”¨äºé‡Šæ”¾ä¸€å—å·²ç»åˆ†é…çš„å†…å­˜ï¼Œå¸¸ä¸ malloc å‡½æ•°ä¸€èµ·ä½¿ç”¨ï¼Œè¦ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°éœ€è¦å¤´æ–‡ä»¶ stdlib.h</span></span><br></pre></td></tr></table></figure><p>æœªåˆå§‹åŒ–æŒ‡é’ˆçš„åæœï¼šå¦‚æœä¸€ä¸ªæŒ‡é’ˆæ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œé‚£ä¹ˆç¨‹åºä¸çŸ¥é“å®ƒä¼šæŒ‡å‘å“ªé‡Œï¼Œå¯èƒ½æŒ‡å‘ä¸€ä¸ªéæ³•åœ°å€ï¼Œè¿™æ ·ä¼šæŠ¥é”™ï¼Œâ€œè¿æ°”å¥½çš„è¯â€ï¼Œä¼šæŒ‡å‘ä¸€ä¸ªåˆæ³•åœ°å€ï¼Œæˆ–è®¸ç¨‹åºä¼šæ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯è¿™ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„åœ°å€çš„å˜é‡çš„å€¼ä¼šè¢«æ¶æ„ä¿®æ”¹ï¼Œåˆ°æ—¶å€™ç”µè„‘å¯èƒ½å°±â€¦â€¦</p><h2 id="NULLæŒ‡é’ˆ"><a href="#NULLæŒ‡é’ˆ" class="headerlink" title="NULLæŒ‡é’ˆ"></a>NULLæŒ‡é’ˆ</h2><p>NULL æŒ‡é’ˆæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆå˜é‡ï¼Œæœ¬èº«æ˜¯å®å®šä¹‰çš„ï¼Œå…¶æœ¬è´¨ä¸Šå°±æ˜¯0ï¼Œè¡¨ç¤ºä¸æŒ‡å‘ä»»ä½•å†…å­˜çš„ç©ºæŒ‡é’ˆã€‚ä½†æ˜¯NULLåœ¨Cå’ŒC++é‡Œçš„ç”¨æ³•åˆæ˜¯ä¸ä¸€æ ·çš„ï¼Œå°±ä¸å¤šç»†è¯´äº†ã€‚å¯å‚è€ƒè¿™ç¯‡<a href="https://blog.csdn.net/qq_42957923/article/details/87867773?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase">C&#x2F;C++ä¸­å¯¹NULLçš„ç†è§£ä¸æ€»ç»“</a>ã€‚</p><h4 id="æŒ‡é’ˆçš„ç”¨æ³•"><a href="#æŒ‡é’ˆçš„ç”¨æ³•" class="headerlink" title="æŒ‡é’ˆçš„ç”¨æ³•"></a>æŒ‡é’ˆçš„ç”¨æ³•</h4><p>åœ¨è¿™é‡Œå°±ç®€ç•¥æè¿°ä¸€ä¸‹ï¼šæŒ‡é’ˆçš„è¿ç®—ã€æŒ‡é’ˆä¸æ•°ç»„ã€æŒ‡é’ˆä¸ç»“æ„ã€æŒ‡é’ˆä¸å‡½æ•°ç­‰â€¦å¯å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_36243846/article/details/74929207?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase">cè¯­è¨€å¸¸è§çš„å‡ ç§æŒ‡é’ˆç”¨æ³•</a>ã€‚</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>æŒ‡é’ˆåœ¨è®¡ç®—æœºé‡Œå……å½“ç€ä¸€ä¸ªå¾ˆé‡è¦çš„è§’è‰²ï¼Œæˆ‘ä»¬è¦äº†è§£å®ƒï¼Œè¦å¼„æ‡‚å®ƒï¼Œæˆ‘ä»¬è¦åšè±ªå®…çš„ä¸»äººï¼Œä¸è¦åšè±ªå®…çš„å®¢äººï¼</p><p>å‚è€ƒï¼š <a href="https://blog.csdn.net/soonfly/article/details/51131141">https://blog.csdn.net/soonfly/article/details/51131141</a> <a href="https://www.cnblogs.com/lulipro/p/7460206.html">https://www.cnblogs.com/lulipro/p/7460206.html</a> <a href="https://www.cnblogs.com/tongye/p/9650573.html">https://www.cnblogs.com/tongye/p/9650573.html</a></p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/05/17/pointer/">https://blog.jujimeizuo.cn/2020/05/17/pointer/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¹˜æ³•é€†å…ƒçš„å­¦ä¹ æ€»ç»“</title>
      <link href="/2020/05/15/mulinv/"/>
      <url>/2020/05/15/mulinv/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹å†…å®¹å‡ä¸º<a href="https://blog.csdn.net/oampamp1">ç‰Œç‹</a>(å¯ç‚¹å¼€é“¾æ¥å“¦)æ‰€æ•™ï¼Œæ­¤äººæ— æ•Œï¼ï¼ï¼æ„Ÿè°¢ç‰Œç‹çš„ç»†å¿ƒæ•™å¯¼ï¼Œå˜¿å˜¿å˜¿</p><h2 id="é€†å…ƒçš„å®šä¹‰"><a href="#é€†å…ƒçš„å®šä¹‰" class="headerlink" title="é€†å…ƒçš„å®šä¹‰"></a>é€†å…ƒçš„å®šä¹‰</h2><p>é€†å…ƒå¯ä»¥è¯´æ˜¯å€’æ•°æ¦‚å¿µçš„æ¨å¹¿ï¼Œå¯¹äºæ­£æ•´æ•°a,pï¼Œè‹¥æœ‰axâ‰¡1ï¼ˆmod pï¼‰ï¼Œåˆ™ç§°xæ˜¯aå…³äºæ¨¡pçš„é€†å…ƒã€‚ä¾‹å¦‚ï¼š</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/2020051521045445.png"></p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆè¦æœ‰é€†å…ƒå‘¢ï¼Ÿé€†å…ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ åŠ å‡ä¹˜ä¸æ¨¡è¿ç®—çš„é¡ºåºäº¤æ¢ä¸ä¼šå½±å“ç»“æœï¼Œå³å¯ç”¨åˆ†é…å¾‹ï¼Œä½†æ˜¯é™¤æ³•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸è¡Œçš„ï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥å®Œæˆé™¤æ³•ä¸æ¨¡è¿ç®—ä¹‹é—´çš„è¿ç®—å‘¢ï¼Œè¿™æ—¶å€™å°±æ˜¯ä¸»è§’é€†å…ƒç™»åœºäº†ã€‚ ä¾‹å¦‚æ±‚è§£$(a &#x2F; b) mod p$ å…ˆæ±‚å‡ºbå…³äºpçš„é€†å…ƒxï¼Œå³$b*xâ‰¡1 \; (mod\; p)$ï¼Œå°†å…¶å¸¦å…¥ä¸Šå¼å¾— $(\frac{a}{b} * b * x)â‰¡ 1 (mod p) -&gt; (a * x)â‰¡1(mod\; p)$ å³å¯å°†é™¤æ³•è½¬åŒ–æˆä¹˜æ³•ï¼Œæ˜¯ä¸æ˜¯å¾ˆæœ‰è¶£ï¼Ÿ é€†å…ƒå­˜åœ¨çš„æ¡ä»¶ï¼š<strong>aä¸päº’è´¨ï¼Œå³gcd(a,p)&#x3D;1</strong>ã€‚</p><h2 id="æ±‚è§£é€†å…ƒçš„ä¸‰ç§æ–¹æ³•"><a href="#æ±‚è§£é€†å…ƒçš„ä¸‰ç§æ–¹æ³•" class="headerlink" title="æ±‚è§£é€†å…ƒçš„ä¸‰ç§æ–¹æ³•"></a>æ±‚è§£é€†å…ƒçš„ä¸‰ç§æ–¹æ³•</h2><ol><li><p>=&#x3D;è´¹é©¬å°å®šç†&#x3D;&#x3D; å½“pä¸ºç´ æ•°æ—¶ï¼Œåˆ™æœ‰</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200515210155713.png"></p></li></ol><p>å°†å…¶å˜å½¢ä¸º</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/20200515210313703.png"></p><p>ç”±é€†å…ƒå®šä¹‰å¯çŸ¥ï¼Œ$a^{p-2}$å°±æ˜¯é€†å…ƒ</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">FPM</span><span class="params">(ll x,ll power,ll mod)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(power)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(power &amp; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = (ans * x) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        x = (x * x) % mod;</span><br><span class="line">        power &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>=&#x3D;æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•&#x3D;&#x3D;</li></ol><p>axâ‰¡1(mod p)-&gt;ax &#x3D; pk + 1 å½“aï¼Œpäº’è´¨æ—¶ï¼Œgcd(a,b)&#x3D;1ï¼Œå³å°†ä¸Šå¼è½¬åŒ–ä¸º</p><p><img src="https://cdn.jujimeizuo.cn/blog/2020/05/2020051521071465.png"></p><p>å½“æ±‚è§£gcd(a,b)æ—¶ï¼Œé€’å½’ç»“æŸçš„æ¡ä»¶ä¸ºb&#x3D;0ï¼Œå¾—å‡ºa&#x3D;gcd(a,b)ï¼Œè¿›ä¸€æ­¥å¾—å‡ºx&#x3D;1,æ‰€ä»¥å¯¹ä¸Šå¼ä½¿ç”¨é€’å½’æ—¶ï¼Œç»“æŸæ¡ä»¶ä¸ºb &#x3D; 0ï¼Œå¹¶ä½¿x&#x3D;1ï¼Œy&#x3D;0ã€‚ å³</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!b)</span><br><span class="line">&#123;</span><br><span class="line">    x = <span class="number">1</span>;</span><br><span class="line">    y = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç´§æ¥ç€ä¸€ç›´å›æœ”ï¼Œæœ€åå¾—å‡ºxçš„å€¼ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æ±‚å‡ºaå’Œbçš„æœ€å¤§å…¬çº¦æ•°ï¼Œæ˜¯ä¸æ˜¯ä¸€ä¸¾ä¸¤å¾—ï¼Ÿ</p><p>å›æœ”è¿‡ç¨‹çš„è§£æï¼š $a*x1+b*y1&#x3D;gcd(a,b)$ $a*x2+b*y2&#x3D;gcd(a,b)$ å°†ç¬¬äºŒä¸ªå¼å­å˜åŒ–ä¸€ä¸‹ä¸º $bx2+(a-a&#x2F;b*b)*y2&#x3D;gcd(a,b)-&gt;ay2+b(x2-a&#x2F;b*y2)&#x3D;gcd(a,b)$ åˆ™$x1&#x3D;y2, y1&#x3D;x2-a&#x2F;b*y2$ é‚£ä¹ˆä¸æ–­å›æœ”å›å»ï¼Œå³å¯å¾—åˆ°xã€‚</p><p>å¾—å‡º$x$åï¼Œå¦‚æœä¸ºè´Ÿæ•°ï¼Œåˆ™éœ€è¦$(x\% mod + mod) \% mod$ä½¿å…¶å˜ä¸ºæ­£</p><p>å½“ç„¶ï¼Œå¯ä»¥å°†å…¶æ¨å¹¿åˆ™å¯æ±‚å‡ºä»»æ„äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹çš„æœ€å°è§£ï¼Œä¸è¿‡ä¹Ÿæ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¾‹å¦‚ æ±‚ax+by&#x3D;cçš„è§£ï¼Œå½“ä¸”ä»…å½“$cæ˜¯gcd(aï¼Œb)$çš„å€æ•°æ—¶ï¼Œ$x$æœ‰æœ€å°è§£ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a,ll b,ll &amp;x,ll &amp;y)</span> <span class="comment">//æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ret = <span class="built_in">exgcd</span>(b, a % b, x, y);</span><br><span class="line">    ll t = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = t - a / b * x;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">inv</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> mod)</span>  <span class="comment">//æ±‚aåœ¨modä¸‹çš„é€†å…ƒï¼Œå¦‚æœä¸å­˜åœ¨è¿”å›-1</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll x, y;</span><br><span class="line">    ll d = <span class="built_in">exgcd</span>(a, mod, x, y);</span><br><span class="line">    <span class="keyword">return</span> d ? (x % mod + mod) % mod : <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>=&#x3D;çº¿æ€§é€’æ¨&#x3D;&#x3D;</p><p>è¿‡ç¨‹å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20200515212401342.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Z6dHNpbGx5,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> è¿™é‡Œå°±ä¸å†è¯¦ç»†æè¿°äº†â€¦â€¦ç›´æ¥ä¸Šä»£ç ï¼ï¼ï¼(æ‰“å­—å¤ªç´¯äº†)</p></li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ll inv[<span class="number">3000005</span>] = &#123;<span class="number">0</span> , <span class="number">1</span>&#125;; <span class="comment">//nç­‰äº1æ—¶ï¼Œå…³äºmodçš„é€†å…ƒå°±ä¸º1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n, mod;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;n,&amp;mod);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>;i &lt;= n; i++) <span class="comment">// ä»äºŒå¼€å§‹ï¼Œé˜²æ­¢æ”¹å˜inv[1]çš„å€¼</span></span><br><span class="line">    &#123;</span><br><span class="line">        inv[i] = mod - (mod / i) * inv[mod % i] % mod;<span class="comment">// è¿™ä¸€æ­¥important // åŠ ä¸ªmodæ˜¯ä¸ºäº†é˜²æ­¢é€†å…ƒä¸ºè´Ÿ</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,inv[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç‹™å‡»ç¾ä½ç¬¬ä¸€ç¯‡åšå®¢çš„æ„Ÿæƒ³"><a href="#ç‹™å‡»ç¾ä½ç¬¬ä¸€ç¯‡åšå®¢çš„æ„Ÿæƒ³" class="headerlink" title="ç‹™å‡»ç¾ä½ç¬¬ä¸€ç¯‡åšå®¢çš„æ„Ÿæƒ³"></a>ç‹™å‡»ç¾ä½ç¬¬ä¸€ç¯‡åšå®¢çš„æ„Ÿæƒ³</h2><p>å¾ˆæ—©å°±æƒ³è‡ªå·±å†™ç‚¹ä¸œè¥¿è®°å½•è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå¯ä»¥å¤ªæ‡’äº†ï¼Œè€Œä¸”è¯­è¨€ç»„ç»‡ä¹Ÿä¸å¥½ï¼Œä¸è¿‡ï¼Œåœ¨æ•°è®ºæ–¹é¢ï¼Œæ¯æ¬¡æˆ‘é‡åˆ°é—®é¢˜ï¼Œç‰Œç‹éƒ½ä¼šå¸®æˆ‘è§£ç­”ï¼Œéå¸¸æ„Ÿè°¢ç‰Œç‹ï¼ï¼ï¼é‚£ä¹ˆè¿™æ¬¡æˆ‘å°±å°†è¿™ç¯‡åšå®¢å†™å¥½ï¼Œâ€œé€â€ç»™ä½ æ¥è¡¨è¾¾æˆ‘å¯¹ä½ çš„çˆ±ï¼Ÿ</p><p><b>æœ¬æ–‡ä½œè€…ï¼šjujimeizuo</b><br /><b>æœ¬æ–‡åœ°å€<b/>ï¼š <a href="https://blog.jujimeizuo.cn/2020/05/15/mulinv/">https://blog.jujimeizuo.cn/2020/05/15/mulinv/</a> <br /><b>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-SA 3.0 åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</b></p>]]></content>
      
      
      
        <tags>
            
            <tag> ACM </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
